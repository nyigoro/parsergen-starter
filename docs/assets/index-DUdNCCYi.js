(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function s(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();function getDefaultExportFromCjs(l){return l&&l.__esModule&&Object.prototype.hasOwnProperty.call(l,"default")?l.default:l}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(s,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var d in o)d!=="key"&&(f[d]=o[d])}else f=o;return o=f.ref,{$$typeof:l,type:s,key:h,ref:o!==void 0?o:null,props:f}}return reactJsxRuntime_production.Fragment=r,reactJsxRuntime_production.jsx=a,reactJsxRuntime_production.jsxs=a,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var l=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),v=Symbol.for("react.activity"),x=Symbol.iterator;function k(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function L(N,G,re){this.props=N,this.context=G,this.refs=M,this.updater=re||Q}L.prototype.isReactComponent={},L.prototype.setState=function(N,G){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,G,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function B(){}B.prototype=L.prototype;function X(N,G,re){this.props=N,this.context=G,this.refs=M,this.updater=re||Q}var V=X.prototype=new B;V.constructor=X,A(V,L.prototype),V.isPureReactComponent=!0;var z=Array.isArray;function I(){}var P={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function ee(N,G,re){var pe=re.ref;return{$$typeof:l,type:N,key:G,ref:pe!==void 0?pe:null,props:re}}function fe(N,G){return ee(N.type,G,N.props)}function j(N){return typeof N=="object"&&N!==null&&N.$$typeof===l}function J(N){var G={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(re){return G[re]})}var le=/\/+/g;function Se(N,G){return typeof N=="object"&&N!==null&&N.key!=null?J(""+N.key):G.toString(36)}function we(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(I,I):(N.status="pending",N.then(function(G){N.status==="pending"&&(N.status="fulfilled",N.value=G)},function(G){N.status==="pending"&&(N.status="rejected",N.reason=G)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function W(N,G,re,pe,Te){var $e=typeof N;($e==="undefined"||$e==="boolean")&&(N=null);var Oe=!1;if(N===null)Oe=!0;else switch($e){case"bigint":case"string":case"number":Oe=!0;break;case"object":switch(N.$$typeof){case l:case r:Oe=!0;break;case y:return Oe=N._init,W(Oe(N._payload),G,re,pe,Te)}}if(Oe)return Te=Te(N),Oe=pe===""?"."+Se(N,0):pe,z(Te)?(re="",Oe!=null&&(re=Oe.replace(le,"$&/")+"/"),W(Te,G,re,"",function(rt){return rt})):Te!=null&&(j(Te)&&(Te=fe(Te,re+(Te.key==null||N&&N.key===Te.key?"":(""+Te.key).replace(le,"$&/")+"/")+Oe)),G.push(Te)),1;Oe=0;var Me=pe===""?".":pe+":";if(z(N))for(var Pe=0;Pe<N.length;Pe++)pe=N[Pe],$e=Me+Se(pe,Pe),Oe+=W(pe,G,re,$e,Te);else if(Pe=k(N),typeof Pe=="function")for(N=Pe.call(N),Pe=0;!(pe=N.next()).done;)pe=pe.value,$e=Me+Se(pe,Pe++),Oe+=W(pe,G,re,$e,Te);else if($e==="object"){if(typeof N.then=="function")return W(we(N),G,re,pe,Te);throw G=String(N),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return Oe}function ue(N,G,re){if(N==null)return N;var pe=[],Te=0;return W(N,pe,"","",function($e){return G.call(re,$e,Te++)}),pe}function ke(N){if(N._status===-1){var G=N._result;G=G(),G.then(function(re){(N._status===0||N._status===-1)&&(N._status=1,N._result=re)},function(re){(N._status===0||N._status===-1)&&(N._status=2,N._result=re)}),N._status===-1&&(N._status=0,N._result=G)}if(N._status===1)return N._result.default;throw N._result}var ge=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},Z={map:ue,forEach:function(N,G,re){ue(N,function(){G.apply(this,arguments)},re)},count:function(N){var G=0;return ue(N,function(){G++}),G},toArray:function(N){return ue(N,function(G){return G})||[]},only:function(N){if(!j(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return react_production.Activity=v,react_production.Children=Z,react_production.Component=L,react_production.Fragment=a,react_production.Profiler=o,react_production.PureComponent=X,react_production.StrictMode=s,react_production.Suspense=g,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(N){return P.H.useMemoCache(N)}},react_production.cache=function(N){return function(){return N.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(N,G,re){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var pe=A({},N.props),Te=N.key;if(G!=null)for($e in G.key!==void 0&&(Te=""+G.key),G)!F.call(G,$e)||$e==="key"||$e==="__self"||$e==="__source"||$e==="ref"&&G.ref===void 0||(pe[$e]=G[$e]);var $e=arguments.length-2;if($e===1)pe.children=re;else if(1<$e){for(var Oe=Array($e),Me=0;Me<$e;Me++)Oe[Me]=arguments[Me+2];pe.children=Oe}return ee(N.type,Te,pe)},react_production.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},react_production.createElement=function(N,G,re){var pe,Te={},$e=null;if(G!=null)for(pe in G.key!==void 0&&($e=""+G.key),G)F.call(G,pe)&&pe!=="key"&&pe!=="__self"&&pe!=="__source"&&(Te[pe]=G[pe]);var Oe=arguments.length-2;if(Oe===1)Te.children=re;else if(1<Oe){for(var Me=Array(Oe),Pe=0;Pe<Oe;Pe++)Me[Pe]=arguments[Pe+2];Te.children=Me}if(N&&N.defaultProps)for(pe in Oe=N.defaultProps,Oe)Te[pe]===void 0&&(Te[pe]=Oe[pe]);return ee(N,$e,Te)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(N){return{$$typeof:d,render:N}},react_production.isValidElement=j,react_production.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:ke}},react_production.memo=function(N,G){return{$$typeof:m,type:N,compare:G===void 0?null:G}},react_production.startTransition=function(N){var G=P.T,re={};P.T=re;try{var pe=N(),Te=P.S;Te!==null&&Te(re,pe),typeof pe=="object"&&pe!==null&&typeof pe.then=="function"&&pe.then(I,ge)}catch($e){ge($e)}finally{G!==null&&re.types!==null&&(G.types=re.types),P.T=G}},react_production.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},react_production.use=function(N){return P.H.use(N)},react_production.useActionState=function(N,G,re){return P.H.useActionState(N,G,re)},react_production.useCallback=function(N,G){return P.H.useCallback(N,G)},react_production.useContext=function(N){return P.H.useContext(N)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(N,G){return P.H.useDeferredValue(N,G)},react_production.useEffect=function(N,G){return P.H.useEffect(N,G)},react_production.useEffectEvent=function(N){return P.H.useEffectEvent(N)},react_production.useId=function(){return P.H.useId()},react_production.useImperativeHandle=function(N,G,re){return P.H.useImperativeHandle(N,G,re)},react_production.useInsertionEffect=function(N,G){return P.H.useInsertionEffect(N,G)},react_production.useLayoutEffect=function(N,G){return P.H.useLayoutEffect(N,G)},react_production.useMemo=function(N,G){return P.H.useMemo(N,G)},react_production.useOptimistic=function(N,G){return P.H.useOptimistic(N,G)},react_production.useReducer=function(N,G,re){return P.H.useReducer(N,G,re)},react_production.useRef=function(N){return P.H.useRef(N)},react_production.useState=function(N){return P.H.useState(N)},react_production.useSyncExternalStore=function(N,G,re){return P.H.useSyncExternalStore(N,G,re)},react_production.useTransition=function(){return P.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(l){function r(W,ue){var ke=W.length;W.push(ue);e:for(;0<ke;){var ge=ke-1>>>1,Z=W[ge];if(0<o(Z,ue))W[ge]=ue,W[ke]=Z,ke=ge;else break e}}function a(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var ue=W[0],ke=W.pop();if(ke!==ue){W[0]=ke;e:for(var ge=0,Z=W.length,N=Z>>>1;ge<N;){var G=2*(ge+1)-1,re=W[G],pe=G+1,Te=W[pe];if(0>o(re,ke))pe<Z&&0>o(Te,re)?(W[ge]=Te,W[pe]=ke,ge=pe):(W[ge]=re,W[G]=ke,ge=G);else if(pe<Z&&0>o(Te,ke))W[ge]=Te,W[pe]=ke,ge=pe;else break e}}return ue}function o(W,ue){var ke=W.sortIndex-ue.sortIndex;return ke!==0?ke:W.id-ue.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;l.unstable_now=function(){return f.now()}}else{var h=Date,d=h.now();l.unstable_now=function(){return h.now()-d}}var g=[],m=[],y=1,v=null,x=3,k=!1,Q=!1,A=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function V(W){for(var ue=a(m);ue!==null;){if(ue.callback===null)s(m);else if(ue.startTime<=W)s(m),ue.sortIndex=ue.expirationTime,r(g,ue);else break;ue=a(m)}}function z(W){if(A=!1,V(W),!Q)if(a(g)!==null)Q=!0,I||(I=!0,J());else{var ue=a(m);ue!==null&&we(z,ue.startTime-W)}}var I=!1,P=-1,F=5,ee=-1;function fe(){return M?!0:!(l.unstable_now()-ee<F)}function j(){if(M=!1,I){var W=l.unstable_now();ee=W;var ue=!0;try{e:{Q=!1,A&&(A=!1,B(P),P=-1),k=!0;var ke=x;try{t:{for(V(W),v=a(g);v!==null&&!(v.expirationTime>W&&fe());){var ge=v.callback;if(typeof ge=="function"){v.callback=null,x=v.priorityLevel;var Z=ge(v.expirationTime<=W);if(W=l.unstable_now(),typeof Z=="function"){v.callback=Z,V(W),ue=!0;break t}v===a(g)&&s(g),V(W)}else s(g);v=a(g)}if(v!==null)ue=!0;else{var N=a(m);N!==null&&we(z,N.startTime-W),ue=!1}}break e}finally{v=null,x=ke,k=!1}ue=void 0}}finally{ue?J():I=!1}}}var J;if(typeof X=="function")J=function(){X(j)};else if(typeof MessageChannel<"u"){var le=new MessageChannel,Se=le.port2;le.port1.onmessage=j,J=function(){Se.postMessage(null)}}else J=function(){L(j,0)};function we(W,ue){P=L(function(){W(l.unstable_now())},ue)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(W){W.callback=null},l.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<W?Math.floor(1e3/W):5},l.unstable_getCurrentPriorityLevel=function(){return x},l.unstable_next=function(W){switch(x){case 1:case 2:case 3:var ue=3;break;default:ue=x}var ke=x;x=ue;try{return W()}finally{x=ke}},l.unstable_requestPaint=function(){M=!0},l.unstable_runWithPriority=function(W,ue){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ke=x;x=W;try{return ue()}finally{x=ke}},l.unstable_scheduleCallback=function(W,ue,ke){var ge=l.unstable_now();switch(typeof ke=="object"&&ke!==null?(ke=ke.delay,ke=typeof ke=="number"&&0<ke?ge+ke:ge):ke=ge,W){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ke+Z,W={id:y++,callback:ue,priorityLevel:W,startTime:ke,expirationTime:Z,sortIndex:-1},ke>ge?(W.sortIndex=ke,r(m,W),a(g)===null&&W===a(m)&&(A?(B(P),P=-1):A=!0,we(z,ke-ge))):(W.sortIndex=Z,r(g,W),Q||k||(Q=!0,I||(I=!0,J()))),W},l.unstable_shouldYield=fe,l.unstable_wrapCallback=function(W){var ue=x;return function(){var ke=x;x=ue;try{return W.apply(this,arguments)}finally{x=ke}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var l=requireReact();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var s={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,m,y){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:v==null?null:""+v,children:g,containerInfo:m,implementation:y}}var h=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,reactDom_production.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,y)},reactDom_production.flushSync=function(g){var m=h.T,y=s.p;try{if(h.T=null,s.p=2,g)return g()}finally{h.T=m,s.p=y,s.d.f()}},reactDom_production.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,s.d.C(g,m))},reactDom_production.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},reactDom_production.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,k=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?s.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:v,integrity:x,fetchPriority:k}):y==="script"&&s.d.X(g,{crossOrigin:v,integrity:x,fetchPriority:k,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},reactDom_production.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);s.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&s.d.M(g)},reactDom_production.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,v=d(y,m.crossOrigin);s.d.L(g,y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},reactDom_production.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=d(m.as,m.crossOrigin);s.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else s.d.m(g)},reactDom_production.requestFormReset=function(g){s.d.r(g)},reactDom_production.unstable_batchedUpdates=function(g,m){return g(m)},reactDom_production.useFormState=function(g,m,y){return h.H.useFormState(g,m,y)},reactDom_production.useFormStatus=function(){return h.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var l=requireScheduler(),r=requireReact(),a=requireReactDom();function s(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function f(c){var u=c,p=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(p=u.return),c=u.return;while(c)}return u.tag===3?p:null}function h(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function d(c){if(c.tag===31){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function g(c){if(f(c)!==c)throw Error(s(188))}function m(c){var u=c.alternate;if(!u){if(u=f(c),u===null)throw Error(s(188));return u!==c?null:c}for(var p=c,O=u;;){var S=p.return;if(S===null)break;var w=S.alternate;if(w===null){if(O=S.return,O!==null){p=O;continue}break}if(S.child===w.child){for(w=S.child;w;){if(w===p)return g(S),c;if(w===O)return g(S),u;w=w.sibling}throw Error(s(188))}if(p.return!==O.return)p=S,O=w;else{for(var _=!1,D=S.child;D;){if(D===p){_=!0,p=S,O=w;break}if(D===O){_=!0,O=S,p=w;break}D=D.sibling}if(!_){for(D=w.child;D;){if(D===p){_=!0,p=w,O=S;break}if(D===O){_=!0,O=w,p=S;break}D=D.sibling}if(!_)throw Error(s(189))}}if(p.alternate!==O)throw Error(s(190))}if(p.tag!==3)throw Error(s(188));return p.stateNode.current===p?c:u}function y(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=y(c),u!==null)return u;c=c.sibling}return null}var v=Object.assign,x=Symbol.for("react.element"),k=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),B=Symbol.for("react.consumer"),X=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),z=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),ee=Symbol.for("react.activity"),fe=Symbol.for("react.memo_cache_sentinel"),j=Symbol.iterator;function J(c){return c===null||typeof c!="object"?null:(c=j&&c[j]||c["@@iterator"],typeof c=="function"?c:null)}var le=Symbol.for("react.client.reference");function Se(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===le?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case z:return"Suspense";case I:return"SuspenseList";case ee:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case Q:return"Portal";case X:return c.displayName||"Context";case B:return(c._context.displayName||"Context")+".Consumer";case V:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case P:return u=c.displayName||null,u!==null?u:Se(c.type)||"Memo";case F:u=c._payload,c=c._init;try{return Se(c(u))}catch{}}return null}var we=Array.isArray,W=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ue=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ke={pending:!1,data:null,method:null,action:null},ge=[],Z=-1;function N(c){return{current:c}}function G(c){0>Z||(c.current=ge[Z],ge[Z]=null,Z--)}function re(c,u){Z++,ge[Z]=c.current,c.current=u}var pe=N(null),Te=N(null),$e=N(null),Oe=N(null);function Me(c,u){switch(re($e,u),re(Te,c),re(pe,null),u.nodeType){case 9:case 11:c=(c=u.documentElement)&&(c=c.namespaceURI)?Md(c):0;break;default:if(c=u.tagName,u=u.namespaceURI)u=Md(u),c=Dd(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}G(pe),re(pe,c)}function Pe(){G(pe),G(Te),G($e)}function rt(c){c.memoizedState!==null&&re(Oe,c);var u=pe.current,p=Dd(u,c.type);u!==p&&(re(Te,c),re(pe,p))}function _e(c){Te.current===c&&(G(pe),G(Te)),Oe.current===c&&(G(Oe),hl._currentValue=ke)}var je,Ce;function Ee(c){if(je===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);je=u&&u[1]||"",Ce=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+c+Ce}var Be=!1;function Ae(c,u){if(!c||Be)return"";Be=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(u){var be=function(){throw Error()};if(Object.defineProperty(be.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(be,[])}catch(de){var ce=de}Reflect.construct(c,[],be)}else{try{be.call()}catch(de){ce=de}c.call(be.prototype)}}else{try{throw Error()}catch(de){ce=de}(be=c())&&typeof be.catch=="function"&&be.catch(function(){})}}catch(de){if(de&&ce&&typeof de.stack=="string")return[de.stack,ce.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var S=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");S&&S.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var w=O.DetermineComponentFrameRoot(),_=w[0],D=w[1];if(_&&D){var Y=_.split(`
`),se=D.split(`
`);for(S=O=0;O<Y.length&&!Y[O].includes("DetermineComponentFrameRoot");)O++;for(;S<se.length&&!se[S].includes("DetermineComponentFrameRoot");)S++;if(O===Y.length||S===se.length)for(O=Y.length-1,S=se.length-1;1<=O&&0<=S&&Y[O]!==se[S];)S--;for(;1<=O&&0<=S;O--,S--)if(Y[O]!==se[S]){if(O!==1||S!==1)do if(O--,S--,0>S||Y[O]!==se[S]){var me=`
`+Y[O].replace(" at new "," at ");return c.displayName&&me.includes("<anonymous>")&&(me=me.replace("<anonymous>",c.displayName)),me}while(1<=O&&0<=S);break}}}finally{Be=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ee(p):""}function st(c,u){switch(c.tag){case 26:case 27:case 5:return Ee(c.type);case 16:return Ee("Lazy");case 13:return c.child!==u&&u!==null?Ee("Suspense Fallback"):Ee("Suspense");case 19:return Ee("SuspenseList");case 0:case 15:return Ae(c.type,!1);case 11:return Ae(c.type.render,!1);case 1:return Ae(c.type,!0);case 31:return Ee("Activity");default:return""}}function xe(c){try{var u="",p=null;do u+=st(c,p),p=c,c=c.return;while(c);return u}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var Ft=Object.prototype.hasOwnProperty,Xe=l.unstable_scheduleCallback,kt=l.unstable_cancelCallback,en=l.unstable_shouldYield,gi=l.unstable_requestPaint,Ct=l.unstable_now,Un=l.unstable_getCurrentPriorityLevel,Zi=l.unstable_ImmediatePriority,zi=l.unstable_UserBlockingPriority,Ot=l.unstable_NormalPriority,Et=l.unstable_LowPriority,At=l.unstable_IdlePriority,Ut=l.log,Vt=l.unstable_setDisableYieldValue,Dt=null,bt=null;function Je(c){if(typeof Ut=="function"&&Vt(c),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Dt,c)}catch{}}var Tt=Math.clz32?Math.clz32:is,qt=Math.log,ri=Math.LN2;function is(c){return c>>>=0,c===0?32:31-(qt(c)/ri|0)|0}var Pr=256,Oi=262144,yi=4194304;function vi(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Mr(c,u,p){var O=c.pendingLanes;if(O===0)return 0;var S=0,w=c.suspendedLanes,_=c.pingedLanes;c=c.warmLanes;var D=O&134217727;return D!==0?(O=D&~w,O!==0?S=vi(O):(_&=D,_!==0?S=vi(_):p||(p=D&~c,p!==0&&(S=vi(p))))):(D=O&~w,D!==0?S=vi(D):_!==0?S=vi(_):p||(p=O&~c,p!==0&&(S=vi(p)))),S===0?0:u!==0&&u!==S&&(u&w)===0&&(w=S&-S,p=u&-u,w>=p||w===32&&(p&4194048)!==0)?u:S}function dn(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function ai(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gl(){var c=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),c}function Dr(c){for(var u=[],p=0;31>p;p++)u.push(c);return u}function ji(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ic(c,u,p,O,S,w){var _=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var D=c.entanglements,Y=c.expirationTimes,se=c.hiddenUpdates;for(p=_&~p;0<p;){var me=31-Tt(p),be=1<<me;D[me]=0,Y[me]=-1;var ce=se[me];if(ce!==null)for(se[me]=null,me=0;me<ce.length;me++){var de=ce[me];de!==null&&(de.lane&=-536870913)}p&=~be}O!==0&&Ol(c,O,0),w!==0&&S===0&&c.tag!==0&&(c.suspendedLanes|=w&~(_&~u))}function Ol(c,u,p){c.pendingLanes|=u,c.suspendedLanes&=~u;var O=31-Tt(u);c.entangledLanes|=u,c.entanglements[O]=c.entanglements[O]|1073741824|p&261930}function yl(c,u){var p=c.entangledLanes|=u;for(c=c.entanglements;p;){var O=31-Tt(p),S=1<<O;S&u|c[O]&u&&(c[O]|=u),p&=~S}}function vl(c,u){var p=u&-u;return p=(p&42)!==0?1:ya(p),(p&(c.suspendedLanes|u))!==0?0:p}function ya(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function rs(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function Sl(){var c=ue.p;return c!==0?c:(c=window.event,c===void 0?32:rp(c.type))}function bl(c,u){var p=ue.p;try{return ue.p=c,u()}finally{ue.p=p}}var Vn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Vn,nn="__reactProps$"+Vn,Xi="__reactContainer$"+Vn,as="__reactEvents$"+Vn,rc="__reactListeners$"+Vn,ac="__reactHandles$"+Vn,xl="__reactResources$"+Vn,Lr="__reactMarker$"+Vn;function ss(c){delete c[zt],delete c[nn],delete c[as],delete c[rc],delete c[ac]}function Ui(c){var u=c[zt];if(u)return u;for(var p=c.parentNode;p;){if(u=p[Xi]||p[zt]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(c=Xd(c);c!==null;){if(p=c[zt])return p;c=Xd(c)}return u}c=p,p=c.parentNode}return null}function Vi(c){if(c=c[zt]||c[Xi]){var u=c.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return c}return null}function zr(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c.stateNode;throw Error(s(33))}function qi(c){var u=c[xl];return u||(u=c[xl]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function $t(c){c[Lr]=!0}var Si=new Set,wl={};function bi(c,u){Yi(c,u),Yi(c+"Capture",u)}function Yi(c,u){for(wl[c]=u,c=0;c<u.length;c++)Si.add(u[c])}var Gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),kl={},Tl={};function Cl(c){return Ft.call(Tl,c)?!0:Ft.call(kl,c)?!1:Gi.test(c)?Tl[c]=!0:(kl[c]=!0,!1)}function va(c,u,p){if(Cl(u))if(p===null)c.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(u);return;case"boolean":var O=u.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){c.removeAttribute(u);return}}c.setAttribute(u,""+p)}}function Xr(c,u,p){if(p===null)c.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(u);return}c.setAttribute(u,""+p)}}function Mn(c,u,p,O){if(O===null)c.removeAttribute(p);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(u,p,""+O)}}function pn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function El(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function sc(c,u,p){var O=Object.getOwnPropertyDescriptor(c.constructor.prototype,u);if(!c.hasOwnProperty(u)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var S=O.get,w=O.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return S.call(this)},set:function(_){p=""+_,w.call(this,_)}}),Object.defineProperty(c,u,{enumerable:O.enumerable}),{getValue:function(){return p},setValue:function(_){p=""+_},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function ls(c){if(!c._valueTracker){var u=El(c)?"checked":"value";c._valueTracker=sc(c,u,""+c[u])}}function _l(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var p=u.getValue(),O="";return c&&(O=El(c)?c.checked?"true":"false":c.value),c=O,c!==p?(u.setValue(c),!0):!1}function Sa(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var lc=/[\n"\\]/g;function mn(c){return c.replace(lc,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function os(c,u,p,O,S,w,_,D){c.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?c.type=_:c.removeAttribute("type"),u!=null?_==="number"?(u===0&&c.value===""||c.value!=u)&&(c.value=""+pn(u)):c.value!==""+pn(u)&&(c.value=""+pn(u)):_!=="submit"&&_!=="reset"||c.removeAttribute("value"),u!=null?cs(c,_,pn(u)):p!=null?cs(c,_,pn(p)):O!=null&&c.removeAttribute("value"),S==null&&w!=null&&(c.defaultChecked=!!w),S!=null&&(c.checked=S&&typeof S!="function"&&typeof S!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?c.name=""+pn(D):c.removeAttribute("name")}function ba(c,u,p,O,S,w,_,D){if(w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(c.type=w),u!=null||p!=null){if(!(w!=="submit"&&w!=="reset"||u!=null)){ls(c);return}p=p!=null?""+pn(p):"",u=u!=null?""+pn(u):p,D||u===c.value||(c.value=u),c.defaultValue=u}O=O??S,O=typeof O!="function"&&typeof O!="symbol"&&!!O,c.checked=D?c.checked:!!O,c.defaultChecked=!!O,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(c.name=_),ls(c)}function cs(c,u,p){u==="number"&&Sa(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Ii(c,u,p,O){if(c=c.options,u){u={};for(var S=0;S<p.length;S++)u["$"+p[S]]=!0;for(p=0;p<c.length;p++)S=u.hasOwnProperty("$"+c[p].value),c[p].selected!==S&&(c[p].selected=S),S&&O&&(c[p].defaultSelected=!0)}else{for(p=""+pn(p),u=null,S=0;S<c.length;S++){if(c[S].value===p){c[S].selected=!0,O&&(c[S].defaultSelected=!0);return}u!==null||c[S].disabled||(u=c[S])}u!==null&&(u.selected=!0)}}function Al(c,u,p){if(u!=null&&(u=""+pn(u),u!==c.value&&(c.value=u),p==null)){c.defaultValue!==u&&(c.defaultValue=u);return}c.defaultValue=p!=null?""+pn(p):""}function $l(c,u,p,O){if(u==null){if(O!=null){if(p!=null)throw Error(s(92));if(we(O)){if(1<O.length)throw Error(s(93));O=O[0]}p=O}p==null&&(p=""),u=p}p=pn(u),c.defaultValue=p,O=c.textContent,O===p&&O!==""&&O!==null&&(c.value=O),ls(c)}function Hi(c,u){if(u){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=u;return}}c.textContent=u}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(c,u,p){var O=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?O?c.setProperty(u,""):u==="float"?c.cssFloat="":c[u]="":O?c.setProperty(u,p):typeof p!="number"||p===0||oc.has(u)?u==="float"?c.cssFloat=p:c[u]=(""+p).trim():c[u]=p+"px"}function Pl(c,u,p){if(u!=null&&typeof u!="object")throw Error(s(62));if(c=c.style,p!=null){for(var O in p)!p.hasOwnProperty(O)||u!=null&&u.hasOwnProperty(O)||(O.indexOf("--")===0?c.setProperty(O,""):O==="float"?c.cssFloat="":c[O]="");for(var S in u)O=u[S],u.hasOwnProperty(S)&&p[S]!==O&&Rl(c,S,O)}else for(var w in u)u.hasOwnProperty(w)&&Rl(c,w,u[w])}function us(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(c){return uc.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function qn(){}var fs=null;function hs(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Yn=null,Wi=null;function Ml(c){var u=Vi(c);if(u&&(c=u.stateNode)){var p=c[nn]||null;e:switch(c=u.stateNode,u.type){case"input":if(os(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+mn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var O=p[u];if(O!==c&&O.form===c.form){var S=O[nn]||null;if(!S)throw Error(s(90));os(O,S.value,S.defaultValue,S.defaultValue,S.checked,S.defaultChecked,S.type,S.name)}}for(u=0;u<p.length;u++)O=p[u],O.form===c.form&&_l(O)}break e;case"textarea":Al(c,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Ii(c,!!p.multiple,u,!1)}}}var ds=!1;function Dl(c,u,p){if(ds)return c(u,p);ds=!0;try{var O=c(u);return O}finally{if(ds=!1,(Yn!==null||Wi!==null)&&(Do(),Yn&&(u=Yn,c=Wi,Wi=Yn=null,Ml(u),c)))for(u=0;u<c.length;u++)Ml(c[u])}}function Ur(c,u){var p=c.stateNode;if(p===null)return null;var O=p[nn]||null;if(O===null)return null;p=O[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(c=c.type,O=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!O;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(s(231,u,typeof p));return p}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ps=!1;if(Gn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){ps=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{ps=!1}var si=null,ms=null,wa=null;function Nl(){if(wa)return wa;var c,u=ms,p=u.length,O,S="value"in si?si.value:si.textContent,w=S.length;for(c=0;c<p&&u[c]===S[c];c++);var _=p-c;for(O=1;O<=_&&u[p-O]===S[w-O];O++);return wa=S.slice(c,1<O?1-O:void 0)}function ka(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Ta(){return!0}function Ll(){return!1}function sn(c){function u(p,O,S,w,_){this._reactName=p,this._targetInst=S,this.type=O,this.nativeEvent=w,this.target=_,this.currentTarget=null;for(var D in c)c.hasOwnProperty(D)&&(p=c[D],this[D]=p?p(w):w[D]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Ta:Ll,this.isPropagationStopped=Ll,this}return v(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),u}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=sn(xi),qr=v({},xi,{view:0,detail:0}),fc=sn(qr),gs,Os,Ir,Ea=v({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vs,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ir&&(Ir&&c.type==="mousemove"?(gs=c.screenX-Ir.screenX,Os=c.screenY-Ir.screenY):Os=gs=0,Ir=c),gs)},movementY:function(c){return"movementY"in c?c.movementY:Os}}),Bl=sn(Ea),hc=v({},Ea,{dataTransfer:0}),dc=sn(hc),pc=v({},qr,{relatedTarget:0}),ys=sn(pc),mc=v({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),gc=sn(mc),Oc=v({},xi,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),yc=sn(Oc),vc=v({},xi,{data:0}),zl=sn(vc),Sc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function wc(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=xc[c])?!!u[c]:!1}function vs(){return wc}var kc=v({},qr,{key:function(c){if(c.key){var u=Sc[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=ka(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?bc[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vs,charCode:function(c){return c.type==="keypress"?ka(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?ka(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Tc=sn(kc),Cc=v({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),jl=sn(Cc),Ec=v({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vs}),Qc=sn(Ec),_c=v({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=sn(_c),$c=v({},Ea,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Rc=sn($c),Pc=v({},xi,{newState:0,oldState:0}),Mc=sn(Pc),Dc=[9,13,27,32],Ss=Gn&&"CompositionEvent"in window,Hr=null;Gn&&"documentMode"in document&&(Hr=document.documentMode);var Nc=Gn&&"TextEvent"in window&&!Hr,Ul=Gn&&(!Ss||Hr&&8<Hr&&11>=Hr),Vl=" ",ql=!1;function Yl(c,u){switch(c){case"keyup":return Dc.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gl(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Fi=!1;function T(c,u){switch(c){case"compositionend":return Gl(u);case"keypress":return u.which!==32?null:(ql=!0,Vl);case"textInput":return c=u.data,c===Vl&&ql?null:c;default:return null}}function Re(c,u){if(Fi)return c==="compositionend"||!Ss&&Yl(c,u)?(c=Nl(),wa=ms=si=null,Fi=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Ul&&u.locale!=="ko"?null:u.data;default:return null}}var Ki={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Ki[c.type]:u==="textarea"}function Wr(c,u,p,O){Yn?Wi?Wi.push(O):Wi=[O]:Yn=O,u=Xo(u,"onChange"),0<u.length&&(p=new Ca("onChange","change",null,p,O),c.push({event:p,listeners:u}))}var ne=null,In=null;function Lc(c){Qd(c,0)}function Ie(c){var u=zr(c);if(_l(u))return c}function li(c,u){if(c==="change")return u}var Fr=!1;if(Gn){var qe;if(Gn){var vt="oninput"in document;if(!vt){var Il=document.createElement("div");Il.setAttribute("oninput","return;"),vt=typeof Il.oninput=="function"}qe=vt}else qe=!1;Fr=qe&&(!document.documentMode||9<document.documentMode)}function Hl(){ne&&(ne.detachEvent("onpropertychange",Hn),In=ne=null)}function Hn(c){if(c.propertyName==="value"&&Ie(In)){var u=[];Wr(u,In,c,hs(c)),Dl(Lc,u)}}function Wl(c,u,p){c==="focusin"?(Hl(),ne=u,In=p,ne.attachEvent("onpropertychange",Hn)):c==="focusout"&&Hl()}function Qa(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return Ie(In)}function ye(c,u){if(c==="click")return Ie(u)}function Bc(c,u){if(c==="input"||c==="change")return Ie(u)}function Zc(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var ln=typeof Object.is=="function"?Object.is:Zc;function Kr(c,u){if(ln(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var p=Object.keys(c),O=Object.keys(u);if(p.length!==O.length)return!1;for(O=0;O<p.length;O++){var S=p[O];if(!Ft.call(u,S)||!ln(c[S],u[S]))return!1}return!0}function Fl(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function eo(c,u){var p=Fl(c);c=0;for(var O;p;){if(p.nodeType===3){if(O=c+p.textContent.length,c<=u&&O>=u)return{node:p,offset:u-c};c=O}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Fl(p)}}function bs(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?bs(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function xs(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var u=Sa(c.document);u instanceof c.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)c=u.contentWindow;else break;u=Sa(c.document)}return u}function ws(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}var zc=Gn&&"documentMode"in document&&11>=document.documentMode,wi=null,Aa=null,na=null,ks=!1;function Ts(c,u,p){var O=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ks||wi==null||wi!==Sa(O)||(O=wi,"selectionStart"in O&&ws(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),na&&Kr(na,O)||(na=O,O=Xo(Aa,"onSelect"),0<O.length&&(u=new Ca("onSelect","select",null,u,p),c.push({event:u,listeners:O}),u.target=wi)))}function oi(c,u){var p={};return p[c.toLowerCase()]=u.toLowerCase(),p["Webkit"+c]="webkit"+u,p["Moz"+c]="moz"+u,p}var Wn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},Cs={},to={};Gn&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function ki(c){if(Cs[c])return Cs[c];if(!Wn[c])return c;var u=Wn[c],p;for(p in u)if(u.hasOwnProperty(p)&&p in to)return Cs[c]=u[p];return c}var no=ki("animationend"),Es=ki("animationiteration"),$a=ki("animationstart"),Qs=ki("transitionrun"),jc=ki("transitionstart"),_s=ki("transitioncancel"),io=ki("transitionend"),As=new Map,ia="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ia.push("scrollEnd");function En(c,u){As.set(c,u),bi(u,[c])}var ra=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},On=[],Ji=0,$s=0;function er(){for(var c=Ji,u=$s=Ji=0;u<c;){var p=On[u];On[u++]=null;var O=On[u];On[u++]=null;var S=On[u];On[u++]=null;var w=On[u];if(On[u++]=null,O!==null&&S!==null){var _=O.pending;_===null?S.next=S:(S.next=_.next,_.next=S),O.pending=S}w!==0&&ro(p,S,w)}}function nr(c,u,p,O){On[Ji++]=c,On[Ji++]=u,On[Ji++]=p,On[Ji++]=O,$s|=O,c.lanes|=O,c=c.alternate,c!==null&&(c.lanes|=O)}function Rs(c,u,p,O){return nr(c,u,p,O),jt(c)}function Ti(c,u){return nr(c,null,null,u),jt(c)}function ro(c,u,p){c.lanes|=p;var O=c.alternate;O!==null&&(O.lanes|=p);for(var S=!1,w=c.return;w!==null;)w.childLanes|=p,O=w.alternate,O!==null&&(O.childLanes|=p),w.tag===22&&(c=w.stateNode,c===null||c._visibility&1||(S=!0)),c=w,w=w.return;return c.tag===3?(w=c.stateNode,S&&u!==null&&(S=31-Tt(p),c=w.hiddenUpdates,O=c[S],O===null?c[S]=[u]:O.push(u),u.lane=p|536870912),w):null}function jt(c){if(50<al)throw al=0,zu=null,Error(s(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}var rr={};function Xc(c,u,p,O){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(c,u,p,O){return new Xc(c,u,p,O)}function Ci(c){return c=c.prototype,!(!c||!c.isReactComponent)}function yn(c,u){var p=c.alternate;return p===null?(p=Yt(c.tag,u,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=u,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,u=c.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function Ps(c,u){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,u=p.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function Ra(c,u,p,O,S,w){var _=0;if(O=c,typeof c=="function")Ci(c)&&(_=1);else if(typeof c=="string")_=pm(c,p,pe.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case ee:return c=Yt(31,p,u,S),c.elementType=ee,c.lanes=w,c;case A:return ci(p.children,S,w,u);case M:_=8,S|=24;break;case L:return c=Yt(12,p,u,S|2),c.elementType=L,c.lanes=w,c;case z:return c=Yt(13,p,u,S),c.elementType=z,c.lanes=w,c;case I:return c=Yt(19,p,u,S),c.elementType=I,c.lanes=w,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case X:_=10;break e;case B:_=9;break e;case V:_=11;break e;case P:_=14;break e;case F:_=16,O=null;break e}_=29,p=Error(s(130,c===null?"null":typeof c,"")),O=null}return u=Yt(_,p,u,S),u.elementType=c,u.type=O,u.lanes=w,u}function ci(c,u,p,O){return c=Yt(7,c,O,u),c.lanes=p,c}function Pa(c,u,p){return c=Yt(6,c,null,u),c.lanes=p,c}function Fn(c){var u=Yt(18,null,null,0);return u.stateNode=c,u}function Ms(c,u,p){return u=Yt(4,c.children!==null?c.children:[],c.key,u),u.lanes=p,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}var Ds=new WeakMap;function vn(c,u){if(typeof c=="object"&&c!==null){var p=Ds.get(c);return p!==void 0?p:(u={value:c,source:u,stack:xe(u)},Ds.set(c,u),u)}return{value:c,source:u,stack:xe(u)}}var Dn=[],Ei=0,aa=null,sa=0,fn=[],Sn=0,ui=null,Nn=1,Ln="";function Kn(c,u){Dn[Ei++]=sa,Dn[Ei++]=aa,aa=c,sa=u}function la(c,u,p){fn[Sn++]=Nn,fn[Sn++]=Ln,fn[Sn++]=ui,ui=c;var O=Nn;c=Ln;var S=32-Tt(O)-1;O&=~(1<<S),p+=1;var w=32-Tt(u)+S;if(30<w){var _=S-S%5;w=(O&(1<<_)-1).toString(32),O>>=_,S-=_,Nn=1<<32-Tt(u)+S|p<<S|O,Ln=w+c}else Nn=1<<w|p<<S|O,Ln=c}function oa(c){c.return!==null&&(Kn(c,1),la(c,1,0))}function Ns(c){for(;c===aa;)aa=Dn[--Ei],Dn[Ei]=null,sa=Dn[--Ei],Dn[Ei]=null;for(;c===ui;)ui=fn[--Sn],fn[Sn]=null,Ln=fn[--Sn],fn[Sn]=null,Nn=fn[--Sn],fn[Sn]=null}function ao(c,u){fn[Sn++]=Nn,fn[Sn++]=Ln,fn[Sn++]=ui,Nn=u.id,Ln=u.overflow,ui=c}var Nt=null,ut=null,He=!1,Bn=null,on=!1,Ls=Error(s(519));function Jn(c){var u=Error(s(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bn(vn(u,c)),Ls}function so(c){var u=c.stateNode,p=c.type,O=c.memoizedProps;switch(u[zt]=c,u[nn]=O,p){case"dialog":Fe("cancel",u),Fe("close",u);break;case"iframe":case"object":case"embed":Fe("load",u);break;case"video":case"audio":for(p=0;p<ll.length;p++)Fe(ll[p],u);break;case"source":Fe("error",u);break;case"img":case"image":case"link":Fe("error",u),Fe("load",u);break;case"details":Fe("toggle",u);break;case"input":Fe("invalid",u),ba(u,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":Fe("invalid",u);break;case"textarea":Fe("invalid",u),$l(u,O.value,O.defaultValue,O.children)}p=O.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||O.suppressHydrationWarning===!0||Rd(u.textContent,p)?(O.popover!=null&&(Fe("beforetoggle",u),Fe("toggle",u)),O.onScroll!=null&&Fe("scroll",u),O.onScrollEnd!=null&&Fe("scrollend",u),O.onClick!=null&&(u.onclick=qn),u=!0):u=!1,u||Jn(c,!0)}function lo(c){for(Nt=c.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Nt=Nt.return}}function ar(c){if(c!==Nt)return!1;if(!He)return lo(c),He=!0,!1;var u=c.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||tf(c.type,c.memoizedProps)),p=!p),p&&ut&&Jn(c),lo(c),u===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));ut=jd(c)}else if(u===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));ut=jd(c)}else u===27?(u=ut,wr(c.type)?(c=lf,lf=null,ut=c):ut=u):ut=Nt?jn(c.stateNode.nextSibling):null;return!0}function fi(){ut=Nt=null,He=!1}function sr(){var c=Bn;return c!==null&&(Tn===null?Tn=c:Tn.push.apply(Tn,c),Bn=null),c}function bn(c){Bn===null?Bn=[c]:Bn.push(c)}var Bs=N(null),Qn=null,ei=null;function Zn(c,u,p){re(Bs,u._currentValue),u._currentValue=p}function ti(c){c._currentValue=Bs.current,G(Bs)}function Le(c,u,p){for(;c!==null;){var O=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,O!==null&&(O.childLanes|=u)):O!==null&&(O.childLanes&u)!==u&&(O.childLanes|=u),c===p)break;c=c.return}}function Zs(c,u,p,O){var S=c.child;for(S!==null&&(S.return=c);S!==null;){var w=S.dependencies;if(w!==null){var _=S.child;w=w.firstContext;e:for(;w!==null;){var D=w;w=S;for(var Y=0;Y<u.length;Y++)if(D.context===u[Y]){w.lanes|=p,D=w.alternate,D!==null&&(D.lanes|=p),Le(w.return,p,c),O||(_=null);break e}w=D.next}}else if(S.tag===18){if(_=S.return,_===null)throw Error(s(341));_.lanes|=p,w=_.alternate,w!==null&&(w.lanes|=p),Le(_,p,c),_=null}else _=S.child;if(_!==null)_.return=S;else for(_=S;_!==null;){if(_===c){_=null;break}if(S=_.sibling,S!==null){S.return=_.return,_=S;break}_=_.return}S=_}}function hi(c,u,p,O){c=null;for(var S=u,w=!1;S!==null;){if(!w){if((S.flags&524288)!==0)w=!0;else if((S.flags&262144)!==0)break}if(S.tag===10){var _=S.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var D=S.type;ln(S.pendingProps.value,_.value)||(c!==null?c.push(D):c=[D])}}else if(S===Oe.current){if(_=S.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==S.memoizedState.memoizedState&&(c!==null?c.push(hl):c=[hl])}S=S.return}c!==null&&Zs(u,c,p,O),u.flags|=262144}function Ma(c){for(c=c.firstContext;c!==null;){if(!ln(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function di(c){Qn=c,ei=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Rt(c){return b(Qn,c)}function ca(c,u){return Qn===null&&di(c),b(c,u)}function b(c,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ei===null){if(c===null)throw Error(s(308));ei=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else ei=ei.next=u;return p}var E=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(p,O){c.push(O)}};this.abort=function(){u.aborted=!0,c.forEach(function(p){return p()})}},$=l.unstable_scheduleCallback,R=l.unstable_NormalPriority,q={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oe(){return{controller:new E,data:new Map,refCount:0}}function Ue(c){c.refCount--,c.refCount===0&&$(R,function(){c.controller.abort()})}var xt=null,Uc=0,Da=0,Na=null;function hp(c,u){if(xt===null){var p=xt=[];Uc=0,Da=Yu(),Na={status:"pending",value:void 0,then:function(O){p.push(O)}}}return Uc++,u.then(Of,Of),u}function Of(){if(--Uc===0&&xt!==null){Na!==null&&(Na.status="fulfilled");var c=xt;xt=null,Da=0,Na=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function dp(c,u){var p=[],O={status:"pending",value:null,reason:null,then:function(S){p.push(S)}};return c.then(function(){O.status="fulfilled",O.value=u;for(var S=0;S<p.length;S++)(0,p[S])(u)},function(S){for(O.status="rejected",O.reason=S,S=0;S<p.length;S++)(0,p[S])(void 0)}),O}var yf=W.S;W.S=function(c,u){td=Ct(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&hp(c,u),yf!==null&&yf(c,u)};var ua=N(null);function Vc(){var c=ua.current;return c!==null?c:yt.pooledCache}function oo(c,u){u===null?re(ua,ua.current):re(ua,u.pool)}function vf(){var c=Vc();return c===null?null:{parent:q._currentValue,pool:c}}var La=Error(s(460)),qc=Error(s(474)),co=Error(s(542)),uo={then:function(){}};function Sf(c){return c=c.status,c==="fulfilled"||c==="rejected"}function bf(c,u,p){switch(p=c[p],p===void 0?c.push(u):p!==u&&(u.then(qn,qn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,wf(c),c;default:if(typeof u.status=="string")u.then(qn,qn);else{if(c=yt,c!==null&&100<c.shellSuspendCounter)throw Error(s(482));c=u,c.status="pending",c.then(function(O){if(u.status==="pending"){var S=u;S.status="fulfilled",S.value=O}},function(O){if(u.status==="pending"){var S=u;S.status="rejected",S.reason=O}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,wf(c),c}throw ha=u,La}}function fa(c){try{var u=c._init;return u(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(ha=p,La):p}}var ha=null;function xf(){if(ha===null)throw Error(s(459));var c=ha;return ha=null,c}function wf(c){if(c===La||c===co)throw Error(s(483))}var Ba=null,zs=0;function fo(c){var u=zs;return zs+=1,Ba===null&&(Ba=[]),bf(Ba,c,u)}function js(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function ho(c,u){throw u.$$typeof===x?Error(s(525)):(c=Object.prototype.toString.call(u),Error(s(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function kf(c){function u(te,H){if(c){var ae=te.deletions;ae===null?(te.deletions=[H],te.flags|=16):ae.push(H)}}function p(te,H){if(!c)return null;for(;H!==null;)u(te,H),H=H.sibling;return null}function O(te){for(var H=new Map;te!==null;)te.key!==null?H.set(te.key,te):H.set(te.index,te),te=te.sibling;return H}function S(te,H){return te=yn(te,H),te.index=0,te.sibling=null,te}function w(te,H,ae){return te.index=ae,c?(ae=te.alternate,ae!==null?(ae=ae.index,ae<H?(te.flags|=67108866,H):ae):(te.flags|=67108866,H)):(te.flags|=1048576,H)}function _(te){return c&&te.alternate===null&&(te.flags|=67108866),te}function D(te,H,ae,ve){return H===null||H.tag!==6?(H=Pa(ae,te.mode,ve),H.return=te,H):(H=S(H,ae),H.return=te,H)}function Y(te,H,ae,ve){var Ze=ae.type;return Ze===A?me(te,H,ae.props.children,ve,ae.key):H!==null&&(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===F&&fa(Ze)===H.type)?(H=S(H,ae.props),js(H,ae),H.return=te,H):(H=Ra(ae.type,ae.key,ae.props,null,te.mode,ve),js(H,ae),H.return=te,H)}function se(te,H,ae,ve){return H===null||H.tag!==4||H.stateNode.containerInfo!==ae.containerInfo||H.stateNode.implementation!==ae.implementation?(H=Ms(ae,te.mode,ve),H.return=te,H):(H=S(H,ae.children||[]),H.return=te,H)}function me(te,H,ae,ve,Ze){return H===null||H.tag!==7?(H=ci(ae,te.mode,ve,Ze),H.return=te,H):(H=S(H,ae),H.return=te,H)}function be(te,H,ae){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Pa(""+H,te.mode,ae),H.return=te,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case k:return ae=Ra(H.type,H.key,H.props,null,te.mode,ae),js(ae,H),ae.return=te,ae;case Q:return H=Ms(H,te.mode,ae),H.return=te,H;case F:return H=fa(H),be(te,H,ae)}if(we(H)||J(H))return H=ci(H,te.mode,ae,null),H.return=te,H;if(typeof H.then=="function")return be(te,fo(H),ae);if(H.$$typeof===X)return be(te,ca(te,H),ae);ho(te,H)}return null}function ce(te,H,ae,ve){var Ze=H!==null?H.key:null;if(typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint")return Ze!==null?null:D(te,H,""+ae,ve);if(typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case k:return ae.key===Ze?Y(te,H,ae,ve):null;case Q:return ae.key===Ze?se(te,H,ae,ve):null;case F:return ae=fa(ae),ce(te,H,ae,ve)}if(we(ae)||J(ae))return Ze!==null?null:me(te,H,ae,ve,null);if(typeof ae.then=="function")return ce(te,H,fo(ae),ve);if(ae.$$typeof===X)return ce(te,H,ca(te,ae),ve);ho(te,ae)}return null}function de(te,H,ae,ve,Ze){if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return te=te.get(ae)||null,D(H,te,""+ve,Ze);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case k:return te=te.get(ve.key===null?ae:ve.key)||null,Y(H,te,ve,Ze);case Q:return te=te.get(ve.key===null?ae:ve.key)||null,se(H,te,ve,Ze);case F:return ve=fa(ve),de(te,H,ae,ve,Ze)}if(we(ve)||J(ve))return te=te.get(ae)||null,me(H,te,ve,Ze,null);if(typeof ve.then=="function")return de(te,H,ae,fo(ve),Ze);if(ve.$$typeof===X)return de(te,H,ae,ca(H,ve),Ze);ho(H,ve)}return null}function De(te,H,ae,ve){for(var Ze=null,nt=null,Ne=H,Ge=H=0,tt=null;Ne!==null&&Ge<ae.length;Ge++){Ne.index>Ge?(tt=Ne,Ne=null):tt=Ne.sibling;var it=ce(te,Ne,ae[Ge],ve);if(it===null){Ne===null&&(Ne=tt);break}c&&Ne&&it.alternate===null&&u(te,Ne),H=w(it,H,Ge),nt===null?Ze=it:nt.sibling=it,nt=it,Ne=tt}if(Ge===ae.length)return p(te,Ne),He&&Kn(te,Ge),Ze;if(Ne===null){for(;Ge<ae.length;Ge++)Ne=be(te,ae[Ge],ve),Ne!==null&&(H=w(Ne,H,Ge),nt===null?Ze=Ne:nt.sibling=Ne,nt=Ne);return He&&Kn(te,Ge),Ze}for(Ne=O(Ne);Ge<ae.length;Ge++)tt=de(Ne,te,Ge,ae[Ge],ve),tt!==null&&(c&&tt.alternate!==null&&Ne.delete(tt.key===null?Ge:tt.key),H=w(tt,H,Ge),nt===null?Ze=tt:nt.sibling=tt,nt=tt);return c&&Ne.forEach(function($r){return u(te,$r)}),He&&Kn(te,Ge),Ze}function ze(te,H,ae,ve){if(ae==null)throw Error(s(151));for(var Ze=null,nt=null,Ne=H,Ge=H=0,tt=null,it=ae.next();Ne!==null&&!it.done;Ge++,it=ae.next()){Ne.index>Ge?(tt=Ne,Ne=null):tt=Ne.sibling;var $r=ce(te,Ne,it.value,ve);if($r===null){Ne===null&&(Ne=tt);break}c&&Ne&&$r.alternate===null&&u(te,Ne),H=w($r,H,Ge),nt===null?Ze=$r:nt.sibling=$r,nt=$r,Ne=tt}if(it.done)return p(te,Ne),He&&Kn(te,Ge),Ze;if(Ne===null){for(;!it.done;Ge++,it=ae.next())it=be(te,it.value,ve),it!==null&&(H=w(it,H,Ge),nt===null?Ze=it:nt.sibling=it,nt=it);return He&&Kn(te,Ge),Ze}for(Ne=O(Ne);!it.done;Ge++,it=ae.next())it=de(Ne,te,Ge,it.value,ve),it!==null&&(c&&it.alternate!==null&&Ne.delete(it.key===null?Ge:it.key),H=w(it,H,Ge),nt===null?Ze=it:nt.sibling=it,nt=it);return c&&Ne.forEach(function(Tm){return u(te,Tm)}),He&&Kn(te,Ge),Ze}function gt(te,H,ae,ve){if(typeof ae=="object"&&ae!==null&&ae.type===A&&ae.key===null&&(ae=ae.props.children),typeof ae=="object"&&ae!==null){switch(ae.$$typeof){case k:e:{for(var Ze=ae.key;H!==null;){if(H.key===Ze){if(Ze=ae.type,Ze===A){if(H.tag===7){p(te,H.sibling),ve=S(H,ae.props.children),ve.return=te,te=ve;break e}}else if(H.elementType===Ze||typeof Ze=="object"&&Ze!==null&&Ze.$$typeof===F&&fa(Ze)===H.type){p(te,H.sibling),ve=S(H,ae.props),js(ve,ae),ve.return=te,te=ve;break e}p(te,H);break}else u(te,H);H=H.sibling}ae.type===A?(ve=ci(ae.props.children,te.mode,ve,ae.key),ve.return=te,te=ve):(ve=Ra(ae.type,ae.key,ae.props,null,te.mode,ve),js(ve,ae),ve.return=te,te=ve)}return _(te);case Q:e:{for(Ze=ae.key;H!==null;){if(H.key===Ze)if(H.tag===4&&H.stateNode.containerInfo===ae.containerInfo&&H.stateNode.implementation===ae.implementation){p(te,H.sibling),ve=S(H,ae.children||[]),ve.return=te,te=ve;break e}else{p(te,H);break}else u(te,H);H=H.sibling}ve=Ms(ae,te.mode,ve),ve.return=te,te=ve}return _(te);case F:return ae=fa(ae),gt(te,H,ae,ve)}if(we(ae))return De(te,H,ae,ve);if(J(ae)){if(Ze=J(ae),typeof Ze!="function")throw Error(s(150));return ae=Ze.call(ae),ze(te,H,ae,ve)}if(typeof ae.then=="function")return gt(te,H,fo(ae),ve);if(ae.$$typeof===X)return gt(te,H,ca(te,ae),ve);ho(te,ae)}return typeof ae=="string"&&ae!==""||typeof ae=="number"||typeof ae=="bigint"?(ae=""+ae,H!==null&&H.tag===6?(p(te,H.sibling),ve=S(H,ae),ve.return=te,te=ve):(p(te,H),ve=Pa(ae,te.mode,ve),ve.return=te,te=ve),_(te)):p(te,H)}return function(te,H,ae,ve){try{zs=0;var Ze=gt(te,H,ae,ve);return Ba=null,Ze}catch(Ne){if(Ne===La||Ne===co)throw Ne;var nt=Yt(29,Ne,null,te.mode);return nt.lanes=ve,nt.return=te,nt}}}var da=kf(!0),Tf=kf(!1),or=!1;function Yc(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function cr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ur(c,u,p){var O=c.updateQueue;if(O===null)return null;if(O=O.shared,(at&2)!==0){var S=O.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),O.pending=u,u=jt(c),ro(c,null,p),u}return nr(c,O,u,p),jt(c)}function Us(c,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var O=u.lanes;O&=c.pendingLanes,p|=O,u.lanes=p,yl(c,p)}}function Ic(c,u){var p=c.updateQueue,O=c.alternate;if(O!==null&&(O=O.updateQueue,p===O)){var S=null,w=null;if(p=p.firstBaseUpdate,p!==null){do{var _={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};w===null?S=w=_:w=w.next=_,p=p.next}while(p!==null);w===null?S=w=u:w=w.next=u}else S=w=u;p={baseState:O.baseState,firstBaseUpdate:S,lastBaseUpdate:w,shared:O.shared,callbacks:O.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=u}var Hc=!1;function Vs(){if(Hc){var c=Na;if(c!==null)throw c}}function qs(c,u,p,O){Hc=!1;var S=c.updateQueue;or=!1;var w=S.firstBaseUpdate,_=S.lastBaseUpdate,D=S.shared.pending;if(D!==null){S.shared.pending=null;var Y=D,se=Y.next;Y.next=null,_===null?w=se:_.next=se,_=Y;var me=c.alternate;me!==null&&(me=me.updateQueue,D=me.lastBaseUpdate,D!==_&&(D===null?me.firstBaseUpdate=se:D.next=se,me.lastBaseUpdate=Y))}if(w!==null){var be=S.baseState;_=0,me=se=Y=null,D=w;do{var ce=D.lane&-536870913,de=ce!==D.lane;if(de?(et&ce)===ce:(O&ce)===ce){ce!==0&&ce===Da&&(Hc=!0),me!==null&&(me=me.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});e:{var De=c,ze=D;ce=u;var gt=p;switch(ze.tag){case 1:if(De=ze.payload,typeof De=="function"){be=De.call(gt,be,ce);break e}be=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=ze.payload,ce=typeof De=="function"?De.call(gt,be,ce):De,ce==null)break e;be=v({},be,ce);break e;case 2:or=!0}}ce=D.callback,ce!==null&&(c.flags|=64,de&&(c.flags|=8192),de=S.callbacks,de===null?S.callbacks=[ce]:de.push(ce))}else de={lane:ce,tag:D.tag,payload:D.payload,callback:D.callback,next:null},me===null?(se=me=de,Y=be):me=me.next=de,_|=ce;if(D=D.next,D===null){if(D=S.shared.pending,D===null)break;de=D,D=de.next,de.next=null,S.lastBaseUpdate=de,S.shared.pending=null}}while(!0);me===null&&(Y=be),S.baseState=Y,S.firstBaseUpdate=se,S.lastBaseUpdate=me,w===null&&(S.shared.lanes=0),gr|=_,c.lanes=_,c.memoizedState=be}}function Cf(c,u){if(typeof c!="function")throw Error(s(191,c));c.call(u)}function Ef(c,u){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Cf(p[c],u)}var Za=N(null),po=N(0);function Qf(c,u){c=Ni,re(po,c),re(Za,u),Ni=c|u.baseLanes}function Wc(){re(po,Ni),re(Za,Za.current)}function Fc(){Ni=po.current,G(Za),G(po)}var _n=N(null),zn=null;function fr(c){var u=c.alternate;re(Pt,Pt.current&1),re(_n,c),zn===null&&(u===null||Za.current!==null||u.memoizedState!==null)&&(zn=c)}function Kc(c){re(Pt,Pt.current),re(_n,c),zn===null&&(zn=c)}function _f(c){c.tag===22?(re(Pt,Pt.current),re(_n,c),zn===null&&(zn=c)):hr()}function hr(){re(Pt,Pt.current),re(_n,_n.current)}function An(c){G(_n),zn===c&&(zn=null),G(Pt)}var Pt=N(0);function mo(c){for(var u=c;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||af(p)||sf(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qi=0,Ye=null,dt=null,Lt=null,go=!1,za=!1,pa=!1,Oo=0,Ys=0,ja=null,pp=0;function Qt(){throw Error(s(321))}function Jc(c,u){if(u===null)return!1;for(var p=0;p<u.length&&p<c.length;p++)if(!ln(c[p],u[p]))return!1;return!0}function eu(c,u,p,O,S,w){return Qi=w,Ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,W.H=c===null||c.memoizedState===null?hh:mu,pa=!1,w=p(O,S),pa=!1,za&&(w=$f(u,p,O,S)),Af(c),w}function Af(c){W.H=Hs;var u=dt!==null&&dt.next!==null;if(Qi=0,Lt=dt=Ye=null,go=!1,Ys=0,ja=null,u)throw Error(s(300));c===null||Bt||(c=c.dependencies,c!==null&&Ma(c)&&(Bt=!0))}function $f(c,u,p,O){Ye=c;var S=0;do{if(za&&(ja=null),Ys=0,za=!1,25<=S)throw Error(s(301));if(S+=1,Lt=dt=null,c.updateQueue!=null){var w=c.updateQueue;w.lastEffect=null,w.events=null,w.stores=null,w.memoCache!=null&&(w.memoCache.index=0)}W.H=dh,w=u(p,O)}while(za);return w}function mp(){var c=W.H,u=c.useState()[0];return u=typeof u.then=="function"?Gs(u):u,c=c.useState()[0],(dt!==null?dt.memoizedState:null)!==c&&(Ye.flags|=1024),u}function tu(){var c=Oo!==0;return Oo=0,c}function nu(c,u,p){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~p}function iu(c){if(go){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}go=!1}Qi=0,Lt=dt=Ye=null,za=!1,Ys=Oo=0,ja=null}function hn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ye.memoizedState=Lt=c:Lt=Lt.next=c,Lt}function Mt(){if(dt===null){var c=Ye.alternate;c=c!==null?c.memoizedState:null}else c=dt.next;var u=Lt===null?Ye.memoizedState:Lt.next;if(u!==null)Lt=u,dt=c;else{if(c===null)throw Ye.alternate===null?Error(s(467)):Error(s(310));dt=c,c={memoizedState:dt.memoizedState,baseState:dt.baseState,baseQueue:dt.baseQueue,queue:dt.queue,next:null},Lt===null?Ye.memoizedState=Lt=c:Lt=Lt.next=c}return Lt}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gs(c){var u=Ys;return Ys+=1,ja===null&&(ja=[]),c=bf(ja,c,u),u=Ye,(Lt===null?u.memoizedState:Lt.next)===null&&(u=u.alternate,W.H=u===null||u.memoizedState===null?hh:mu),c}function vo(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Gs(c);if(c.$$typeof===X)return Rt(c)}throw Error(s(438,String(c)))}function ru(c){var u=null,p=Ye.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var O=Ye.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(u={data:O.data.map(function(S){return S.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=yo(),Ye.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(c),O=0;O<c;O++)p[O]=fe;return u.index++,p}function _i(c,u){return typeof u=="function"?u(c):u}function So(c){var u=Mt();return au(u,dt,c)}function au(c,u,p){var O=c.queue;if(O===null)throw Error(s(311));O.lastRenderedReducer=p;var S=c.baseQueue,w=O.pending;if(w!==null){if(S!==null){var _=S.next;S.next=w.next,w.next=_}u.baseQueue=S=w,O.pending=null}if(w=c.baseState,S===null)c.memoizedState=w;else{u=S.next;var D=_=null,Y=null,se=u,me=!1;do{var be=se.lane&-536870913;if(be!==se.lane?(et&be)===be:(Qi&be)===be){var ce=se.revertLane;if(ce===0)Y!==null&&(Y=Y.next={lane:0,revertLane:0,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null}),be===Da&&(me=!0);else if((Qi&ce)===ce){se=se.next,ce===Da&&(me=!0);continue}else be={lane:0,revertLane:se.revertLane,gesture:null,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(D=Y=be,_=w):Y=Y.next=be,Ye.lanes|=ce,gr|=ce;be=se.action,pa&&p(w,be),w=se.hasEagerState?se.eagerState:p(w,be)}else ce={lane:be,revertLane:se.revertLane,gesture:se.gesture,action:se.action,hasEagerState:se.hasEagerState,eagerState:se.eagerState,next:null},Y===null?(D=Y=ce,_=w):Y=Y.next=ce,Ye.lanes|=be,gr|=be;se=se.next}while(se!==null&&se!==u);if(Y===null?_=w:Y.next=D,!ln(w,c.memoizedState)&&(Bt=!0,me&&(p=Na,p!==null)))throw p;c.memoizedState=w,c.baseState=_,c.baseQueue=Y,O.lastRenderedState=w}return S===null&&(O.lanes=0),[c.memoizedState,O.dispatch]}function su(c){var u=Mt(),p=u.queue;if(p===null)throw Error(s(311));p.lastRenderedReducer=c;var O=p.dispatch,S=p.pending,w=u.memoizedState;if(S!==null){p.pending=null;var _=S=S.next;do w=c(w,_.action),_=_.next;while(_!==S);ln(w,u.memoizedState)||(Bt=!0),u.memoizedState=w,u.baseQueue===null&&(u.baseState=w),p.lastRenderedState=w}return[w,O]}function Rf(c,u,p){var O=Ye,S=Mt(),w=He;if(w){if(p===void 0)throw Error(s(407));p=p()}else p=u();var _=!ln((dt||S).memoizedState,p);if(_&&(S.memoizedState=p,Bt=!0),S=S.queue,cu(Df.bind(null,O,S,c),[c]),S.getSnapshot!==u||_||Lt!==null&&Lt.memoizedState.tag&1){if(O.flags|=2048,Xa(9,{destroy:void 0},Mf.bind(null,O,S,p,u),null),yt===null)throw Error(s(349));w||(Qi&127)!==0||Pf(O,u,p)}return p}function Pf(c,u,p){c.flags|=16384,c={getSnapshot:u,value:p},u=Ye.updateQueue,u===null?(u=yo(),Ye.updateQueue=u,u.stores=[c]):(p=u.stores,p===null?u.stores=[c]:p.push(c))}function Mf(c,u,p,O){u.value=p,u.getSnapshot=O,Nf(u)&&Lf(c)}function Df(c,u,p){return p(function(){Nf(u)&&Lf(c)})}function Nf(c){var u=c.getSnapshot;c=c.value;try{var p=u();return!ln(c,p)}catch{return!0}}function Lf(c){var u=Ti(c,2);u!==null&&Cn(u,c,2)}function lu(c){var u=hn();if(typeof c=="function"){var p=c;if(c=p(),pa){Je(!0);try{p()}finally{Je(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:c},u}function Bf(c,u,p,O){return c.baseState=p,au(c,dt,typeof O=="function"?O:_i)}function gp(c,u,p,O,S){if(wo(c))throw Error(s(485));if(c=u.action,c!==null){var w={payload:S,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){w.listeners.push(_)}};W.T!==null?p(!0):w.isTransition=!1,O(w),p=u.pending,p===null?(w.next=u.pending=w,Zf(u,w)):(w.next=p.next,u.pending=p.next=w)}}function Zf(c,u){var p=u.action,O=u.payload,S=c.state;if(u.isTransition){var w=W.T,_={};W.T=_;try{var D=p(S,O),Y=W.S;Y!==null&&Y(_,D),zf(c,u,D)}catch(se){ou(c,u,se)}finally{w!==null&&_.types!==null&&(w.types=_.types),W.T=w}}else try{w=p(S,O),zf(c,u,w)}catch(se){ou(c,u,se)}}function zf(c,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(O){jf(c,u,O)},function(O){return ou(c,u,O)}):jf(c,u,p)}function jf(c,u,p){u.status="fulfilled",u.value=p,Xf(u),c.state=p,u=c.pending,u!==null&&(p=u.next,p===u?c.pending=null:(p=p.next,u.next=p,Zf(c,p)))}function ou(c,u,p){var O=c.pending;if(c.pending=null,O!==null){O=O.next;do u.status="rejected",u.reason=p,Xf(u),u=u.next;while(u!==O)}c.action=null}function Xf(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function Uf(c,u){return u}function Vf(c,u){if(He){var p=yt.formState;if(p!==null){e:{var O=Ye;if(He){if(ut){t:{for(var S=ut,w=on;S.nodeType!==8;){if(!w){S=null;break t}if(S=jn(S.nextSibling),S===null){S=null;break t}}w=S.data,S=w==="F!"||w==="F"?S:null}if(S){ut=jn(S.nextSibling),O=S.data==="F!";break e}}Jn(O)}O=!1}O&&(u=p[0])}}return p=hn(),p.memoizedState=p.baseState=u,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:u},p.queue=O,p=ch.bind(null,Ye,O),O.dispatch=p,O=lu(!1),w=pu.bind(null,Ye,!1,O.queue),O=hn(),S={state:u,dispatch:null,action:c,pending:null},O.queue=S,p=gp.bind(null,Ye,S,w,p),S.dispatch=p,O.memoizedState=c,[u,p,!1]}function qf(c){var u=Mt();return Yf(u,dt,c)}function Yf(c,u,p){if(u=au(c,u,Uf)[0],c=So(_i)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var O=Gs(u)}catch(_){throw _===La?co:_}else O=u;u=Mt();var S=u.queue,w=S.dispatch;return p!==u.memoizedState&&(Ye.flags|=2048,Xa(9,{destroy:void 0},Op.bind(null,S,p),null)),[O,w,c]}function Op(c,u){c.action=u}function Gf(c){var u=Mt(),p=dt;if(p!==null)return Yf(u,p,c);Mt(),u=u.memoizedState,p=Mt();var O=p.queue.dispatch;return p.memoizedState=c,[u,O,!1]}function Xa(c,u,p,O){return c={tag:c,create:p,deps:O,inst:u,next:null},u=Ye.updateQueue,u===null&&(u=yo(),Ye.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=c.next=c:(O=p.next,p.next=c,c.next=O,u.lastEffect=c),c}function If(){return Mt().memoizedState}function bo(c,u,p,O){var S=hn();Ye.flags|=c,S.memoizedState=Xa(1|u,{destroy:void 0},p,O===void 0?null:O)}function xo(c,u,p,O){var S=Mt();O=O===void 0?null:O;var w=S.memoizedState.inst;dt!==null&&O!==null&&Jc(O,dt.memoizedState.deps)?S.memoizedState=Xa(u,w,p,O):(Ye.flags|=c,S.memoizedState=Xa(1|u,w,p,O))}function Hf(c,u){bo(8390656,8,c,u)}function cu(c,u){xo(2048,8,c,u)}function yp(c){Ye.flags|=4;var u=Ye.updateQueue;if(u===null)u=yo(),Ye.updateQueue=u,u.events=[c];else{var p=u.events;p===null?u.events=[c]:p.push(c)}}function Wf(c){var u=Mt().memoizedState;return yp({ref:u,nextImpl:c}),function(){if((at&2)!==0)throw Error(s(440));return u.impl.apply(void 0,arguments)}}function Ff(c,u){return xo(4,2,c,u)}function Kf(c,u){return xo(4,4,c,u)}function Jf(c,u){if(typeof u=="function"){c=c();var p=u(c);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function eh(c,u,p){p=p!=null?p.concat([c]):null,xo(4,4,Jf.bind(null,u,c),p)}function uu(){}function th(c,u){var p=Mt();u=u===void 0?null:u;var O=p.memoizedState;return u!==null&&Jc(u,O[1])?O[0]:(p.memoizedState=[c,u],c)}function nh(c,u){var p=Mt();u=u===void 0?null:u;var O=p.memoizedState;if(u!==null&&Jc(u,O[1]))return O[0];if(O=c(),pa){Je(!0);try{c()}finally{Je(!1)}}return p.memoizedState=[O,u],O}function fu(c,u,p){return p===void 0||(Qi&1073741824)!==0&&(et&261930)===0?c.memoizedState=u:(c.memoizedState=p,c=rd(),Ye.lanes|=c,gr|=c,p)}function ih(c,u,p,O){return ln(p,u)?p:Za.current!==null?(c=fu(c,p,O),ln(c,u)||(Bt=!0),c):(Qi&42)===0||(Qi&1073741824)!==0&&(et&261930)===0?(Bt=!0,c.memoizedState=p):(c=rd(),Ye.lanes|=c,gr|=c,u)}function rh(c,u,p,O,S){var w=ue.p;ue.p=w!==0&&8>w?w:8;var _=W.T,D={};W.T=D,pu(c,!1,u,p);try{var Y=S(),se=W.S;if(se!==null&&se(D,Y),Y!==null&&typeof Y=="object"&&typeof Y.then=="function"){var me=dp(Y,O);Is(c,u,me,Pn(c))}else Is(c,u,O,Pn(c))}catch(be){Is(c,u,{then:function(){},status:"rejected",reason:be},Pn())}finally{ue.p=w,_!==null&&D.types!==null&&(_.types=D.types),W.T=_}}function vp(){}function hu(c,u,p,O){if(c.tag!==5)throw Error(s(476));var S=ah(c).queue;rh(c,S,u,ke,p===null?vp:function(){return sh(c),p(O)})}function ah(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:ke,baseState:ke,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:ke},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:p},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function sh(c){var u=ah(c);u.next===null&&(u=c.alternate.memoizedState),Is(c,u.next.queue,{},Pn())}function du(){return Rt(hl)}function lh(){return Mt().memoizedState}function oh(){return Mt().memoizedState}function Sp(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var p=Pn();c=cr(p);var O=ur(u,c,p);O!==null&&(Cn(O,u,p),Us(O,u,p)),u={cache:oe()},c.payload=u;return}u=u.return}}function bp(c,u,p){var O=Pn();p={lane:O,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},wo(c)?uh(u,p):(p=Rs(c,u,p,O),p!==null&&(Cn(p,c,O),fh(p,u,O)))}function ch(c,u,p){var O=Pn();Is(c,u,p,O)}function Is(c,u,p,O){var S={lane:O,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(wo(c))uh(u,S);else{var w=c.alternate;if(c.lanes===0&&(w===null||w.lanes===0)&&(w=u.lastRenderedReducer,w!==null))try{var _=u.lastRenderedState,D=w(_,p);if(S.hasEagerState=!0,S.eagerState=D,ln(D,_))return nr(c,u,S,0),yt===null&&er(),!1}catch{}if(p=Rs(c,u,S,O),p!==null)return Cn(p,c,O),fh(p,u,O),!0}return!1}function pu(c,u,p,O){if(O={lane:2,revertLane:Yu(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},wo(c)){if(u)throw Error(s(479))}else u=Rs(c,p,O,2),u!==null&&Cn(u,c,2)}function wo(c){var u=c.alternate;return c===Ye||u!==null&&u===Ye}function uh(c,u){za=go=!0;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}function fh(c,u,p){if((p&4194048)!==0){var O=u.lanes;O&=c.pendingLanes,p|=O,u.lanes=p,yl(c,p)}}var Hs={readContext:Rt,use:vo,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Hs.useEffectEvent=Qt;var hh={readContext:Rt,use:vo,useCallback:function(c,u){return hn().memoizedState=[c,u===void 0?null:u],c},useContext:Rt,useEffect:Hf,useImperativeHandle:function(c,u,p){p=p!=null?p.concat([c]):null,bo(4194308,4,Jf.bind(null,u,c),p)},useLayoutEffect:function(c,u){return bo(4194308,4,c,u)},useInsertionEffect:function(c,u){bo(4,2,c,u)},useMemo:function(c,u){var p=hn();u=u===void 0?null:u;var O=c();if(pa){Je(!0);try{c()}finally{Je(!1)}}return p.memoizedState=[O,u],O},useReducer:function(c,u,p){var O=hn();if(p!==void 0){var S=p(u);if(pa){Je(!0);try{p(u)}finally{Je(!1)}}}else S=u;return O.memoizedState=O.baseState=S,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:S},O.queue=c,c=c.dispatch=bp.bind(null,Ye,c),[O.memoizedState,c]},useRef:function(c){var u=hn();return c={current:c},u.memoizedState=c},useState:function(c){c=lu(c);var u=c.queue,p=ch.bind(null,Ye,u);return u.dispatch=p,[c.memoizedState,p]},useDebugValue:uu,useDeferredValue:function(c,u){var p=hn();return fu(p,c,u)},useTransition:function(){var c=lu(!1);return c=rh.bind(null,Ye,c.queue,!0,!1),hn().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,p){var O=Ye,S=hn();if(He){if(p===void 0)throw Error(s(407));p=p()}else{if(p=u(),yt===null)throw Error(s(349));(et&127)!==0||Pf(O,u,p)}S.memoizedState=p;var w={value:p,getSnapshot:u};return S.queue=w,Hf(Df.bind(null,O,w,c),[c]),O.flags|=2048,Xa(9,{destroy:void 0},Mf.bind(null,O,w,p,u),null),p},useId:function(){var c=hn(),u=yt.identifierPrefix;if(He){var p=Ln,O=Nn;p=(O&~(1<<32-Tt(O)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Oo++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=pp++,u="_"+u+"r_"+p.toString(32)+"_";return c.memoizedState=u},useHostTransitionStatus:du,useFormState:Vf,useActionState:Vf,useOptimistic:function(c){var u=hn();u.memoizedState=u.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=pu.bind(null,Ye,!0,p),p.dispatch=u,[c,u]},useMemoCache:ru,useCacheRefresh:function(){return hn().memoizedState=Sp.bind(null,Ye)},useEffectEvent:function(c){var u=hn(),p={impl:c};return u.memoizedState=p,function(){if((at&2)!==0)throw Error(s(440));return p.impl.apply(void 0,arguments)}}},mu={readContext:Rt,use:vo,useCallback:th,useContext:Rt,useEffect:cu,useImperativeHandle:eh,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:nh,useReducer:So,useRef:If,useState:function(){return So(_i)},useDebugValue:uu,useDeferredValue:function(c,u){var p=Mt();return ih(p,dt.memoizedState,c,u)},useTransition:function(){var c=So(_i)[0],u=Mt().memoizedState;return[typeof c=="boolean"?c:Gs(c),u]},useSyncExternalStore:Rf,useId:lh,useHostTransitionStatus:du,useFormState:qf,useActionState:qf,useOptimistic:function(c,u){var p=Mt();return Bf(p,dt,c,u)},useMemoCache:ru,useCacheRefresh:oh};mu.useEffectEvent=Wf;var dh={readContext:Rt,use:vo,useCallback:th,useContext:Rt,useEffect:cu,useImperativeHandle:eh,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:nh,useReducer:su,useRef:If,useState:function(){return su(_i)},useDebugValue:uu,useDeferredValue:function(c,u){var p=Mt();return dt===null?fu(p,c,u):ih(p,dt.memoizedState,c,u)},useTransition:function(){var c=su(_i)[0],u=Mt().memoizedState;return[typeof c=="boolean"?c:Gs(c),u]},useSyncExternalStore:Rf,useId:lh,useHostTransitionStatus:du,useFormState:Gf,useActionState:Gf,useOptimistic:function(c,u){var p=Mt();return dt!==null?Bf(p,dt,c,u):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:ru,useCacheRefresh:oh};dh.useEffectEvent=Wf;function gu(c,u,p,O){u=c.memoizedState,p=p(O,u),p=p==null?u:v({},u,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Ou={enqueueSetState:function(c,u,p){c=c._reactInternals;var O=Pn(),S=cr(O);S.payload=u,p!=null&&(S.callback=p),u=ur(c,S,O),u!==null&&(Cn(u,c,O),Us(u,c,O))},enqueueReplaceState:function(c,u,p){c=c._reactInternals;var O=Pn(),S=cr(O);S.tag=1,S.payload=u,p!=null&&(S.callback=p),u=ur(c,S,O),u!==null&&(Cn(u,c,O),Us(u,c,O))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var p=Pn(),O=cr(p);O.tag=2,u!=null&&(O.callback=u),u=ur(c,O,p),u!==null&&(Cn(u,c,p),Us(u,c,p))}};function ph(c,u,p,O,S,w,_){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(O,w,_):u.prototype&&u.prototype.isPureReactComponent?!Kr(p,O)||!Kr(S,w):!0}function mh(c,u,p,O){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,O),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,O),u.state!==c&&Ou.enqueueReplaceState(u,u.state,null)}function ma(c,u){var p=u;if("ref"in u){p={};for(var O in u)O!=="ref"&&(p[O]=u[O])}if(c=c.defaultProps){p===u&&(p=v({},p));for(var S in c)p[S]===void 0&&(p[S]=c[S])}return p}function gh(c){ra(c)}function Oh(c){console.error(c)}function yh(c){ra(c)}function ko(c,u){try{var p=c.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(O){setTimeout(function(){throw O})}}function vh(c,u,p){try{var O=c.onCaughtError;O(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(S){setTimeout(function(){throw S})}}function yu(c,u,p){return p=cr(p),p.tag=3,p.payload={element:null},p.callback=function(){ko(c,u)},p}function Sh(c){return c=cr(c),c.tag=3,c}function bh(c,u,p,O){var S=p.type.getDerivedStateFromError;if(typeof S=="function"){var w=O.value;c.payload=function(){return S(w)},c.callback=function(){vh(u,p,O)}}var _=p.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){vh(u,p,O),typeof S!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var D=O.stack;this.componentDidCatch(O.value,{componentStack:D!==null?D:""})})}function xp(c,u,p,O,S){if(p.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(u=p.alternate,u!==null&&hi(u,p,S,!0),p=_n.current,p!==null){switch(p.tag){case 31:case 13:return zn===null?No():p.alternate===null&&_t===0&&(_t=3),p.flags&=-257,p.flags|=65536,p.lanes=S,O===uo?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([O]):u.add(O),Uu(c,O,S)),!1;case 22:return p.flags|=65536,O===uo?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([O])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([O]):p.add(O)),Uu(c,O,S)),!1}throw Error(s(435,p.tag))}return Uu(c,O,S),No(),!1}if(He)return u=_n.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=S,O!==Ls&&(c=Error(s(422),{cause:O}),bn(vn(c,p)))):(O!==Ls&&(u=Error(s(423),{cause:O}),bn(vn(u,p))),c=c.current.alternate,c.flags|=65536,S&=-S,c.lanes|=S,O=vn(O,p),S=yu(c.stateNode,O,S),Ic(c,S),_t!==4&&(_t=2)),!1;var w=Error(s(520),{cause:O});if(w=vn(w,p),rl===null?rl=[w]:rl.push(w),_t!==4&&(_t=2),u===null)return!0;O=vn(O,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,c=S&-S,p.lanes|=c,c=yu(p.stateNode,O,c),Ic(p,c),!1;case 1:if(u=p.type,w=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Or===null||!Or.has(w))))return p.flags|=65536,S&=-S,p.lanes|=S,S=Sh(S),bh(S,c,p,O),Ic(p,S),!1}p=p.return}while(p!==null);return!1}var vu=Error(s(461)),Bt=!1;function It(c,u,p,O){u.child=c===null?Tf(u,null,p,O):da(u,c.child,p,O)}function xh(c,u,p,O,S){p=p.render;var w=u.ref;if("ref"in O){var _={};for(var D in O)D!=="ref"&&(_[D]=O[D])}else _=O;return di(u),O=eu(c,u,p,_,w,S),D=tu(),c!==null&&!Bt?(nu(c,u,S),Ai(c,u,S)):(He&&D&&oa(u),u.flags|=1,It(c,u,O,S),u.child)}function wh(c,u,p,O,S){if(c===null){var w=p.type;return typeof w=="function"&&!Ci(w)&&w.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=w,kh(c,u,w,O,S)):(c=Ra(p.type,null,O,u,u.mode,S),c.ref=u.ref,c.return=u,u.child=c)}if(w=c.child,!Eu(c,S)){var _=w.memoizedProps;if(p=p.compare,p=p!==null?p:Kr,p(_,O)&&c.ref===u.ref)return Ai(c,u,S)}return u.flags|=1,c=yn(w,O),c.ref=u.ref,c.return=u,u.child=c}function kh(c,u,p,O,S){if(c!==null){var w=c.memoizedProps;if(Kr(w,O)&&c.ref===u.ref)if(Bt=!1,u.pendingProps=O=w,Eu(c,S))(c.flags&131072)!==0&&(Bt=!0);else return u.lanes=c.lanes,Ai(c,u,S)}return Su(c,u,p,O,S)}function Th(c,u,p,O){var S=O.children,w=c!==null?c.memoizedState:null;if(c===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((u.flags&128)!==0){if(w=w!==null?w.baseLanes|p:p,c!==null){for(O=u.child=c.child,S=0;O!==null;)S=S|O.lanes|O.childLanes,O=O.sibling;O=S&~w}else O=0,u.child=null;return Ch(c,u,w,p,O)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&oo(u,w!==null?w.cachePool:null),w!==null?Qf(u,w):Wc(),_f(u);else return O=u.lanes=536870912,Ch(c,u,w!==null?w.baseLanes|p:p,p,O)}else w!==null?(oo(u,w.cachePool),Qf(u,w),hr(),u.memoizedState=null):(c!==null&&oo(u,null),Wc(),hr());return It(c,u,S,p),u.child}function Ws(c,u){return c!==null&&c.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Ch(c,u,p,O,S){var w=Vc();return w=w===null?null:{parent:q._currentValue,pool:w},u.memoizedState={baseLanes:p,cachePool:w},c!==null&&oo(u,null),Wc(),_f(u),c!==null&&hi(c,u,O,!0),u.childLanes=S,null}function To(c,u){return u=Eo({mode:u.mode,children:u.children},c.mode),u.ref=c.ref,c.child=u,u.return=c,u}function Eh(c,u,p){return da(u,c.child,null,p),c=To(u,u.pendingProps),c.flags|=2,An(u),u.memoizedState=null,c}function wp(c,u,p){var O=u.pendingProps,S=(u.flags&128)!==0;if(u.flags&=-129,c===null){if(He){if(O.mode==="hidden")return c=To(u,O),u.lanes=536870912,Ws(null,c);if(Kc(u),(c=ut)?(c=zd(c,on),c=c!==null&&c.data==="&"?c:null,c!==null&&(u.memoizedState={dehydrated:c,treeContext:ui!==null?{id:Nn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},p=Fn(c),p.return=u,u.child=p,Nt=u,ut=null)):c=null,c===null)throw Jn(u);return u.lanes=536870912,null}return To(u,O)}var w=c.memoizedState;if(w!==null){var _=w.dehydrated;if(Kc(u),S)if(u.flags&256)u.flags&=-257,u=Eh(c,u,p);else if(u.memoizedState!==null)u.child=c.child,u.flags|=128,u=null;else throw Error(s(558));else if(Bt||hi(c,u,p,!1),S=(p&c.childLanes)!==0,Bt||S){if(O=yt,O!==null&&(_=vl(O,p),_!==0&&_!==w.retryLane))throw w.retryLane=_,Ti(c,_),Cn(O,c,_),vu;No(),u=Eh(c,u,p)}else c=w.treeContext,ut=jn(_.nextSibling),Nt=u,He=!0,Bn=null,on=!1,c!==null&&ao(u,c),u=To(u,O),u.flags|=4096;return u}return c=yn(c.child,{mode:O.mode,children:O.children}),c.ref=u.ref,u.child=c,c.return=u,c}function Co(c,u){var p=u.ref;if(p===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(s(284));(c===null||c.ref!==p)&&(u.flags|=4194816)}}function Su(c,u,p,O,S){return di(u),p=eu(c,u,p,O,void 0,S),O=tu(),c!==null&&!Bt?(nu(c,u,S),Ai(c,u,S)):(He&&O&&oa(u),u.flags|=1,It(c,u,p,S),u.child)}function Qh(c,u,p,O,S,w){return di(u),u.updateQueue=null,p=$f(u,O,p,S),Af(c),O=tu(),c!==null&&!Bt?(nu(c,u,w),Ai(c,u,w)):(He&&O&&oa(u),u.flags|=1,It(c,u,p,w),u.child)}function _h(c,u,p,O,S){if(di(u),u.stateNode===null){var w=rr,_=p.contextType;typeof _=="object"&&_!==null&&(w=Rt(_)),w=new p(O,w),u.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,w.updater=Ou,u.stateNode=w,w._reactInternals=u,w=u.stateNode,w.props=O,w.state=u.memoizedState,w.refs={},Yc(u),_=p.contextType,w.context=typeof _=="object"&&_!==null?Rt(_):rr,w.state=u.memoizedState,_=p.getDerivedStateFromProps,typeof _=="function"&&(gu(u,p,_,O),w.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(_=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),_!==w.state&&Ou.enqueueReplaceState(w,w.state,null),qs(u,O,w,S),Vs(),w.state=u.memoizedState),typeof w.componentDidMount=="function"&&(u.flags|=4194308),O=!0}else if(c===null){w=u.stateNode;var D=u.memoizedProps,Y=ma(p,D);w.props=Y;var se=w.context,me=p.contextType;_=rr,typeof me=="object"&&me!==null&&(_=Rt(me));var be=p.getDerivedStateFromProps;me=typeof be=="function"||typeof w.getSnapshotBeforeUpdate=="function",D=u.pendingProps!==D,me||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(D||se!==_)&&mh(u,w,O,_),or=!1;var ce=u.memoizedState;w.state=ce,qs(u,O,w,S),Vs(),se=u.memoizedState,D||ce!==se||or?(typeof be=="function"&&(gu(u,p,be,O),se=u.memoizedState),(Y=or||ph(u,p,Y,O,ce,se,_))?(me||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(u.flags|=4194308)):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=O,u.memoizedState=se),w.props=O,w.state=se,w.context=_,O=Y):(typeof w.componentDidMount=="function"&&(u.flags|=4194308),O=!1)}else{w=u.stateNode,Gc(c,u),_=u.memoizedProps,me=ma(p,_),w.props=me,be=u.pendingProps,ce=w.context,se=p.contextType,Y=rr,typeof se=="object"&&se!==null&&(Y=Rt(se)),D=p.getDerivedStateFromProps,(se=typeof D=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(_!==be||ce!==Y)&&mh(u,w,O,Y),or=!1,ce=u.memoizedState,w.state=ce,qs(u,O,w,S),Vs();var de=u.memoizedState;_!==be||ce!==de||or||c!==null&&c.dependencies!==null&&Ma(c.dependencies)?(typeof D=="function"&&(gu(u,p,D,O),de=u.memoizedState),(me=or||ph(u,p,me,O,ce,de,Y)||c!==null&&c.dependencies!==null&&Ma(c.dependencies))?(se||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(O,de,Y),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(O,de,Y)),typeof w.componentDidUpdate=="function"&&(u.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof w.componentDidUpdate!="function"||_===c.memoizedProps&&ce===c.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===c.memoizedProps&&ce===c.memoizedState||(u.flags|=1024),u.memoizedProps=O,u.memoizedState=de),w.props=O,w.state=de,w.context=Y,O=me):(typeof w.componentDidUpdate!="function"||_===c.memoizedProps&&ce===c.memoizedState||(u.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||_===c.memoizedProps&&ce===c.memoizedState||(u.flags|=1024),O=!1)}return w=O,Co(c,u),O=(u.flags&128)!==0,w||O?(w=u.stateNode,p=O&&typeof p.getDerivedStateFromError!="function"?null:w.render(),u.flags|=1,c!==null&&O?(u.child=da(u,c.child,null,S),u.child=da(u,null,p,S)):It(c,u,p,S),u.memoizedState=w.state,c=u.child):c=Ai(c,u,S),c}function Ah(c,u,p,O){return fi(),u.flags|=256,It(c,u,p,O),u.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(c){return{baseLanes:c,cachePool:vf()}}function wu(c,u,p){return c=c!==null?c.childLanes&~p:0,u&&(c|=Rn),c}function $h(c,u,p){var O=u.pendingProps,S=!1,w=(u.flags&128)!==0,_;if((_=w)||(_=c!==null&&c.memoizedState===null?!1:(Pt.current&2)!==0),_&&(S=!0,u.flags&=-129),_=(u.flags&32)!==0,u.flags&=-33,c===null){if(He){if(S?fr(u):hr(),(c=ut)?(c=zd(c,on),c=c!==null&&c.data!=="&"?c:null,c!==null&&(u.memoizedState={dehydrated:c,treeContext:ui!==null?{id:Nn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},p=Fn(c),p.return=u,u.child=p,Nt=u,ut=null)):c=null,c===null)throw Jn(u);return sf(c)?u.lanes=32:u.lanes=536870912,null}var D=O.children;return O=O.fallback,S?(hr(),S=u.mode,D=Eo({mode:"hidden",children:D},S),O=ci(O,S,p,null),D.return=u,O.return=u,D.sibling=O,u.child=D,O=u.child,O.memoizedState=xu(p),O.childLanes=wu(c,_,p),u.memoizedState=bu,Ws(null,O)):(fr(u),ku(u,D))}var Y=c.memoizedState;if(Y!==null&&(D=Y.dehydrated,D!==null)){if(w)u.flags&256?(fr(u),u.flags&=-257,u=Tu(c,u,p)):u.memoizedState!==null?(hr(),u.child=c.child,u.flags|=128,u=null):(hr(),D=O.fallback,S=u.mode,O=Eo({mode:"visible",children:O.children},S),D=ci(D,S,p,null),D.flags|=2,O.return=u,D.return=u,O.sibling=D,u.child=O,da(u,c.child,null,p),O=u.child,O.memoizedState=xu(p),O.childLanes=wu(c,_,p),u.memoizedState=bu,u=Ws(null,O));else if(fr(u),sf(D)){if(_=D.nextSibling&&D.nextSibling.dataset,_)var se=_.dgst;_=se,O=Error(s(419)),O.stack="",O.digest=_,bn({value:O,source:null,stack:null}),u=Tu(c,u,p)}else if(Bt||hi(c,u,p,!1),_=(p&c.childLanes)!==0,Bt||_){if(_=yt,_!==null&&(O=vl(_,p),O!==0&&O!==Y.retryLane))throw Y.retryLane=O,Ti(c,O),Cn(_,c,O),vu;af(D)||No(),u=Tu(c,u,p)}else af(D)?(u.flags|=192,u.child=c.child,u=null):(c=Y.treeContext,ut=jn(D.nextSibling),Nt=u,He=!0,Bn=null,on=!1,c!==null&&ao(u,c),u=ku(u,O.children),u.flags|=4096);return u}return S?(hr(),D=O.fallback,S=u.mode,Y=c.child,se=Y.sibling,O=yn(Y,{mode:"hidden",children:O.children}),O.subtreeFlags=Y.subtreeFlags&65011712,se!==null?D=yn(se,D):(D=ci(D,S,p,null),D.flags|=2),D.return=u,O.return=u,O.sibling=D,u.child=O,Ws(null,O),O=u.child,D=c.child.memoizedState,D===null?D=xu(p):(S=D.cachePool,S!==null?(Y=q._currentValue,S=S.parent!==Y?{parent:Y,pool:Y}:S):S=vf(),D={baseLanes:D.baseLanes|p,cachePool:S}),O.memoizedState=D,O.childLanes=wu(c,_,p),u.memoizedState=bu,Ws(c.child,O)):(fr(u),p=c.child,c=p.sibling,p=yn(p,{mode:"visible",children:O.children}),p.return=u,p.sibling=null,c!==null&&(_=u.deletions,_===null?(u.deletions=[c],u.flags|=16):_.push(c)),u.child=p,u.memoizedState=null,p)}function ku(c,u){return u=Eo({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function Eo(c,u){return c=Yt(22,c,null,u),c.lanes=0,c}function Tu(c,u,p){return da(u,c.child,null,p),c=ku(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Rh(c,u,p){c.lanes|=u;var O=c.alternate;O!==null&&(O.lanes|=u),Le(c.return,u,p)}function Cu(c,u,p,O,S,w){var _=c.memoizedState;_===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:O,tail:p,tailMode:S,treeForkCount:w}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=O,_.tail=p,_.tailMode=S,_.treeForkCount=w)}function Ph(c,u,p){var O=u.pendingProps,S=O.revealOrder,w=O.tail;O=O.children;var _=Pt.current,D=(_&2)!==0;if(D?(_=_&1|2,u.flags|=128):_&=1,re(Pt,_),It(c,u,O,p),O=He?sa:0,!D&&c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Rh(c,p,u);else if(c.tag===19)Rh(c,p,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(S){case"forwards":for(p=u.child,S=null;p!==null;)c=p.alternate,c!==null&&mo(c)===null&&(S=p),p=p.sibling;p=S,p===null?(S=u.child,u.child=null):(S=p.sibling,p.sibling=null),Cu(u,!1,S,p,w,O);break;case"backwards":case"unstable_legacy-backwards":for(p=null,S=u.child,u.child=null;S!==null;){if(c=S.alternate,c!==null&&mo(c)===null){u.child=S;break}c=S.sibling,S.sibling=p,p=S,S=c}Cu(u,!0,p,null,w,O);break;case"together":Cu(u,!1,null,null,void 0,O);break;default:u.memoizedState=null}return u.child}function Ai(c,u,p){if(c!==null&&(u.dependencies=c.dependencies),gr|=u.lanes,(p&u.childLanes)===0)if(c!==null){if(hi(c,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(s(153));if(u.child!==null){for(c=u.child,p=yn(c,c.pendingProps),u.child=p,p.return=u;c.sibling!==null;)c=c.sibling,p=p.sibling=yn(c,c.pendingProps),p.return=u;p.sibling=null}return u.child}function Eu(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&Ma(c)))}function kp(c,u,p){switch(u.tag){case 3:Me(u,u.stateNode.containerInfo),Zn(u,q,c.memoizedState.cache),fi();break;case 27:case 5:rt(u);break;case 4:Me(u,u.stateNode.containerInfo);break;case 10:Zn(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Kc(u),null;break;case 13:var O=u.memoizedState;if(O!==null)return O.dehydrated!==null?(fr(u),u.flags|=128,null):(p&u.child.childLanes)!==0?$h(c,u,p):(fr(u),c=Ai(c,u,p),c!==null?c.sibling:null);fr(u);break;case 19:var S=(c.flags&128)!==0;if(O=(p&u.childLanes)!==0,O||(hi(c,u,p,!1),O=(p&u.childLanes)!==0),S){if(O)return Ph(c,u,p);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),re(Pt,Pt.current),O)break;return null;case 22:return u.lanes=0,Th(c,u,p,u.pendingProps);case 24:Zn(u,q,c.memoizedState.cache)}return Ai(c,u,p)}function Mh(c,u,p){if(c!==null)if(c.memoizedProps!==u.pendingProps)Bt=!0;else{if(!Eu(c,p)&&(u.flags&128)===0)return Bt=!1,kp(c,u,p);Bt=(c.flags&131072)!==0}else Bt=!1,He&&(u.flags&1048576)!==0&&la(u,sa,u.index);switch(u.lanes=0,u.tag){case 16:e:{var O=u.pendingProps;if(c=fa(u.elementType),u.type=c,typeof c=="function")Ci(c)?(O=ma(c,O),u.tag=1,u=_h(null,u,c,O,p)):(u.tag=0,u=Su(null,u,c,O,p));else{if(c!=null){var S=c.$$typeof;if(S===V){u.tag=11,u=xh(null,u,c,O,p);break e}else if(S===P){u.tag=14,u=wh(null,u,c,O,p);break e}}throw u=Se(c)||c,Error(s(306,u,""))}}return u;case 0:return Su(c,u,u.type,u.pendingProps,p);case 1:return O=u.type,S=ma(O,u.pendingProps),_h(c,u,O,S,p);case 3:e:{if(Me(u,u.stateNode.containerInfo),c===null)throw Error(s(387));O=u.pendingProps;var w=u.memoizedState;S=w.element,Gc(c,u),qs(u,O,null,p);var _=u.memoizedState;if(O=_.cache,Zn(u,q,O),O!==w.cache&&Zs(u,[q],p,!0),Vs(),O=_.element,w.isDehydrated)if(w={element:O,isDehydrated:!1,cache:_.cache},u.updateQueue.baseState=w,u.memoizedState=w,u.flags&256){u=Ah(c,u,O,p);break e}else if(O!==S){S=vn(Error(s(424)),u),bn(S),u=Ah(c,u,O,p);break e}else for(c=u.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,ut=jn(c.firstChild),Nt=u,He=!0,Bn=null,on=!0,p=Tf(u,null,O,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(fi(),O===S){u=Ai(c,u,p);break e}It(c,u,O,p)}u=u.child}return u;case 26:return Co(c,u),c===null?(p=Yd(u.type,null,u.pendingProps,null))?u.memoizedState=p:He||(p=u.type,c=u.pendingProps,O=Uo($e.current).createElement(p),O[zt]=u,O[nn]=c,Wt(O,p,c),$t(O),u.stateNode=O):u.memoizedState=Yd(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:return rt(u),c===null&&He&&(O=u.stateNode=Ud(u.type,u.pendingProps,$e.current),Nt=u,on=!0,S=ut,wr(u.type)?(lf=S,ut=jn(O.firstChild)):ut=S),It(c,u,u.pendingProps.children,p),Co(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&He&&((S=O=ut)&&(O=em(O,u.type,u.pendingProps,on),O!==null?(u.stateNode=O,Nt=u,ut=jn(O.firstChild),on=!1,S=!0):S=!1),S||Jn(u)),rt(u),S=u.type,w=u.pendingProps,_=c!==null?c.memoizedProps:null,O=w.children,tf(S,w)?O=null:_!==null&&tf(S,_)&&(u.flags|=32),u.memoizedState!==null&&(S=eu(c,u,mp,null,null,p),hl._currentValue=S),Co(c,u),It(c,u,O,p),u.child;case 6:return c===null&&He&&((c=p=ut)&&(p=tm(p,u.pendingProps,on),p!==null?(u.stateNode=p,Nt=u,ut=null,c=!0):c=!1),c||Jn(u)),null;case 13:return $h(c,u,p);case 4:return Me(u,u.stateNode.containerInfo),O=u.pendingProps,c===null?u.child=da(u,null,O,p):It(c,u,O,p),u.child;case 11:return xh(c,u,u.type,u.pendingProps,p);case 7:return It(c,u,u.pendingProps,p),u.child;case 8:return It(c,u,u.pendingProps.children,p),u.child;case 12:return It(c,u,u.pendingProps.children,p),u.child;case 10:return O=u.pendingProps,Zn(u,u.type,O.value),It(c,u,O.children,p),u.child;case 9:return S=u.type._context,O=u.pendingProps.children,di(u),S=Rt(S),O=O(S),u.flags|=1,It(c,u,O,p),u.child;case 14:return wh(c,u,u.type,u.pendingProps,p);case 15:return kh(c,u,u.type,u.pendingProps,p);case 19:return Ph(c,u,p);case 31:return wp(c,u,p);case 22:return Th(c,u,p,u.pendingProps);case 24:return di(u),O=Rt(q),c===null?(S=Vc(),S===null&&(S=yt,w=oe(),S.pooledCache=w,w.refCount++,w!==null&&(S.pooledCacheLanes|=p),S=w),u.memoizedState={parent:O,cache:S},Yc(u),Zn(u,q,S)):((c.lanes&p)!==0&&(Gc(c,u),qs(u,null,null,p),Vs()),S=c.memoizedState,w=u.memoizedState,S.parent!==O?(S={parent:O,cache:O},u.memoizedState=S,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=S),Zn(u,q,O)):(O=w.cache,Zn(u,q,O),O!==S.cache&&Zs(u,[q],p,!0))),It(c,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(s(156,u.tag))}function $i(c){c.flags|=4}function Qu(c,u,p,O,S){if((u=(c.mode&32)!==0)&&(u=!1),u){if(c.flags|=16777216,(S&335544128)===S)if(c.stateNode.complete)c.flags|=8192;else if(od())c.flags|=8192;else throw ha=uo,qc}else c.flags&=-16777217}function Dh(c,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!Fd(u))if(od())c.flags|=8192;else throw ha=uo,qc}function Qo(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?gl():536870912,c.lanes|=u,Ya|=u)}function Fs(c,u){if(!He)switch(c.tailMode){case"hidden":u=c.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var O=null;p!==null;)p.alternate!==null&&(O=p),p=p.sibling;O===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:O.sibling=null}}function St(c){var u=c.alternate!==null&&c.alternate.child===c.child,p=0,O=0;if(u)for(var S=c.child;S!==null;)p|=S.lanes|S.childLanes,O|=S.subtreeFlags&65011712,O|=S.flags&65011712,S.return=c,S=S.sibling;else for(S=c.child;S!==null;)p|=S.lanes|S.childLanes,O|=S.subtreeFlags,O|=S.flags,S.return=c,S=S.sibling;return c.subtreeFlags|=O,c.childLanes=p,u}function Tp(c,u,p){var O=u.pendingProps;switch(Ns(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(u),null;case 1:return St(u),null;case 3:return p=u.stateNode,O=null,c!==null&&(O=c.memoizedState.cache),u.memoizedState.cache!==O&&(u.flags|=2048),ti(q),Pe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(ar(u)?$i(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,sr())),St(u),null;case 26:var S=u.type,w=u.memoizedState;return c===null?($i(u),w!==null?(St(u),Dh(u,w)):(St(u),Qu(u,S,null,O,p))):w?w!==c.memoizedState?($i(u),St(u),Dh(u,w)):(St(u),u.flags&=-16777217):(c=c.memoizedProps,c!==O&&$i(u),St(u),Qu(u,S,c,O,p)),null;case 27:if(_e(u),p=$e.current,S=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(!O){if(u.stateNode===null)throw Error(s(166));return St(u),null}c=pe.current,ar(u)?so(u):(c=Ud(S,O,p),u.stateNode=c,$i(u))}return St(u),null;case 5:if(_e(u),S=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(!O){if(u.stateNode===null)throw Error(s(166));return St(u),null}if(w=pe.current,ar(u))so(u);else{var _=Uo($e.current);switch(w){case 1:w=_.createElementNS("http://www.w3.org/2000/svg",S);break;case 2:w=_.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;default:switch(S){case"svg":w=_.createElementNS("http://www.w3.org/2000/svg",S);break;case"math":w=_.createElementNS("http://www.w3.org/1998/Math/MathML",S);break;case"script":w=_.createElement("div"),w.innerHTML="<script><\/script>",w=w.removeChild(w.firstChild);break;case"select":w=typeof O.is=="string"?_.createElement("select",{is:O.is}):_.createElement("select"),O.multiple?w.multiple=!0:O.size&&(w.size=O.size);break;default:w=typeof O.is=="string"?_.createElement(S,{is:O.is}):_.createElement(S)}}w[zt]=u,w[nn]=O;e:for(_=u.child;_!==null;){if(_.tag===5||_.tag===6)w.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break e;for(;_.sibling===null;){if(_.return===null||_.return===u)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}u.stateNode=w;e:switch(Wt(w,S,O),S){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&$i(u)}}return St(u),Qu(u,u.type,c===null?null:c.memoizedProps,u.pendingProps,p),null;case 6:if(c&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(typeof O!="string"&&u.stateNode===null)throw Error(s(166));if(c=$e.current,ar(u)){if(c=u.stateNode,p=u.memoizedProps,O=null,S=Nt,S!==null)switch(S.tag){case 27:case 5:O=S.memoizedProps}c[zt]=u,c=!!(c.nodeValue===p||O!==null&&O.suppressHydrationWarning===!0||Rd(c.nodeValue,p)),c||Jn(u,!0)}else c=Uo(c).createTextNode(O),c[zt]=u,u.stateNode=c}return St(u),null;case 31:if(p=u.memoizedState,c===null||c.memoizedState!==null){if(O=ar(u),p!==null){if(c===null){if(!O)throw Error(s(318));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(557));c[zt]=u}else fi(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;St(u),c=!1}else p=sr(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return u.flags&256?(An(u),u):(An(u),null);if((u.flags&128)!==0)throw Error(s(558))}return St(u),null;case 13:if(O=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(S=ar(u),O!==null&&O.dehydrated!==null){if(c===null){if(!S)throw Error(s(318));if(S=u.memoizedState,S=S!==null?S.dehydrated:null,!S)throw Error(s(317));S[zt]=u}else fi(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;St(u),S=!1}else S=sr(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=S),S=!0;if(!S)return u.flags&256?(An(u),u):(An(u),null)}return An(u),(u.flags&128)!==0?(u.lanes=p,u):(p=O!==null,c=c!==null&&c.memoizedState!==null,p&&(O=u.child,S=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(S=O.alternate.memoizedState.cachePool.pool),w=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(w=O.memoizedState.cachePool.pool),w!==S&&(O.flags|=2048)),p!==c&&p&&(u.child.flags|=8192),Qo(u,u.updateQueue),St(u),null);case 4:return Pe(),c===null&&Wu(u.stateNode.containerInfo),St(u),null;case 10:return ti(u.type),St(u),null;case 19:if(G(Pt),O=u.memoizedState,O===null)return St(u),null;if(S=(u.flags&128)!==0,w=O.rendering,w===null)if(S)Fs(O,!1);else{if(_t!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(w=mo(c),w!==null){for(u.flags|=128,Fs(O,!1),c=w.updateQueue,u.updateQueue=c,Qo(u,c),u.subtreeFlags=0,c=p,p=u.child;p!==null;)Ps(p,c),p=p.sibling;return re(Pt,Pt.current&1|2),He&&Kn(u,O.treeForkCount),u.child}c=c.sibling}O.tail!==null&&Ct()>Po&&(u.flags|=128,S=!0,Fs(O,!1),u.lanes=4194304)}else{if(!S)if(c=mo(w),c!==null){if(u.flags|=128,S=!0,c=c.updateQueue,u.updateQueue=c,Qo(u,c),Fs(O,!0),O.tail===null&&O.tailMode==="hidden"&&!w.alternate&&!He)return St(u),null}else 2*Ct()-O.renderingStartTime>Po&&p!==536870912&&(u.flags|=128,S=!0,Fs(O,!1),u.lanes=4194304);O.isBackwards?(w.sibling=u.child,u.child=w):(c=O.last,c!==null?c.sibling=w:u.child=w,O.last=w)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=Ct(),c.sibling=null,p=Pt.current,re(Pt,S?p&1|2:p&1),He&&Kn(u,O.treeForkCount),c):(St(u),null);case 22:case 23:return An(u),Fc(),O=u.memoizedState!==null,c!==null?c.memoizedState!==null!==O&&(u.flags|=8192):O&&(u.flags|=8192),O?(p&536870912)!==0&&(u.flags&128)===0&&(St(u),u.subtreeFlags&6&&(u.flags|=8192)):St(u),p=u.updateQueue,p!==null&&Qo(u,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),O=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(O=u.memoizedState.cachePool.pool),O!==p&&(u.flags|=2048),c!==null&&G(ua),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ti(q),St(u),null;case 25:return null;case 30:return null}throw Error(s(156,u.tag))}function Cp(c,u){switch(Ns(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return ti(q),Pe(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return _e(u),null;case 31:if(u.memoizedState!==null){if(An(u),u.alternate===null)throw Error(s(340));fi()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 13:if(An(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(s(340));fi()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return G(Pt),null;case 4:return Pe(),null;case 10:return ti(u.type),null;case 22:case 23:return An(u),Fc(),c!==null&&G(ua),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return ti(q),null;case 25:return null;default:return null}}function Nh(c,u){switch(Ns(u),u.tag){case 3:ti(q),Pe();break;case 26:case 27:case 5:_e(u);break;case 4:Pe();break;case 31:u.memoizedState!==null&&An(u);break;case 13:An(u);break;case 19:G(Pt);break;case 10:ti(u.type);break;case 22:case 23:An(u),Fc(),c!==null&&G(ua);break;case 24:ti(q)}}function Js(c,u){try{var p=u.updateQueue,O=p!==null?p.lastEffect:null;if(O!==null){var S=O.next;p=S;do{if((p.tag&c)===c){O=void 0;var w=p.create,_=p.inst;O=w(),_.destroy=O}p=p.next}while(p!==S)}}catch(D){ct(u,u.return,D)}}function dr(c,u,p){try{var O=u.updateQueue,S=O!==null?O.lastEffect:null;if(S!==null){var w=S.next;O=w;do{if((O.tag&c)===c){var _=O.inst,D=_.destroy;if(D!==void 0){_.destroy=void 0,S=u;var Y=p,se=D;try{se()}catch(me){ct(S,Y,me)}}}O=O.next}while(O!==w)}}catch(me){ct(u,u.return,me)}}function Lh(c){var u=c.updateQueue;if(u!==null){var p=c.stateNode;try{Ef(u,p)}catch(O){ct(c,c.return,O)}}}function Bh(c,u,p){p.props=ma(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(O){ct(c,u,O)}}function el(c,u){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var O=c.stateNode;break;case 30:O=c.stateNode;break;default:O=c.stateNode}typeof p=="function"?c.refCleanup=p(O):p.current=O}}catch(S){ct(c,u,S)}}function pi(c,u){var p=c.ref,O=c.refCleanup;if(p!==null)if(typeof O=="function")try{O()}catch(S){ct(c,u,S)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(S){ct(c,u,S)}else p.current=null}function Zh(c){var u=c.type,p=c.memoizedProps,O=c.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&O.focus();break e;case"img":p.src?O.src=p.src:p.srcSet&&(O.srcset=p.srcSet)}}catch(S){ct(c,c.return,S)}}function _u(c,u,p){try{var O=c.stateNode;Ip(O,c.type,p,u),O[nn]=u}catch(S){ct(c,c.return,S)}}function zh(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&wr(c.type)||c.tag===4}function Au(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||zh(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&wr(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $u(c,u,p){var O=c.tag;if(O===5||O===6)c=c.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(c),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=qn));else if(O!==4&&(O===27&&wr(c.type)&&(p=c.stateNode,u=null),c=c.child,c!==null))for($u(c,u,p),c=c.sibling;c!==null;)$u(c,u,p),c=c.sibling}function _o(c,u,p){var O=c.tag;if(O===5||O===6)c=c.stateNode,u?p.insertBefore(c,u):p.appendChild(c);else if(O!==4&&(O===27&&wr(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(_o(c,u,p),c=c.sibling;c!==null;)_o(c,u,p),c=c.sibling}function jh(c){var u=c.stateNode,p=c.memoizedProps;try{for(var O=c.type,S=u.attributes;S.length;)u.removeAttributeNode(S[0]);Wt(u,O,p),u[zt]=c,u[nn]=p}catch(w){ct(c,c.return,w)}}var Ri=!1,Zt=!1,Ru=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Ep(c,u){if(c=c.containerInfo,Ju=Wo,c=xs(c),ws(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var O=p.getSelection&&p.getSelection();if(O&&O.rangeCount!==0){p=O.anchorNode;var S=O.anchorOffset,w=O.focusNode;O=O.focusOffset;try{p.nodeType,w.nodeType}catch{p=null;break e}var _=0,D=-1,Y=-1,se=0,me=0,be=c,ce=null;t:for(;;){for(var de;be!==p||S!==0&&be.nodeType!==3||(D=_+S),be!==w||O!==0&&be.nodeType!==3||(Y=_+O),be.nodeType===3&&(_+=be.nodeValue.length),(de=be.firstChild)!==null;)ce=be,be=de;for(;;){if(be===c)break t;if(ce===p&&++se===S&&(D=_),ce===w&&++me===O&&(Y=_),(de=be.nextSibling)!==null)break;be=ce,ce=be.parentNode}be=de}p=D===-1||Y===-1?null:{start:D,end:Y}}else p=null}p=p||{start:0,end:0}}else p=null;for(ef={focusedElem:c,selectionRange:p},Wo=!1,Gt=u;Gt!==null;)if(u=Gt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Gt=c;else for(;Gt!==null;){switch(u=Gt,w=u.alternate,c=u.flags,u.tag){case 0:if((c&4)!==0&&(c=u.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)S=c[p],S.ref.impl=S.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&w!==null){c=void 0,p=u,S=w.memoizedProps,w=w.memoizedState,O=p.stateNode;try{var De=ma(p.type,S);c=O.getSnapshotBeforeUpdate(De,w),O.__reactInternalSnapshotBeforeUpdate=c}catch(ze){ct(p,p.return,ze)}}break;case 3:if((c&1024)!==0){if(c=u.stateNode.containerInfo,p=c.nodeType,p===9)rf(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":rf(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(s(163))}if(c=u.sibling,c!==null){c.return=u.return,Gt=c;break}Gt=u.return}}function Uh(c,u,p){var O=p.flags;switch(p.tag){case 0:case 11:case 15:Mi(c,p),O&4&&Js(5,p);break;case 1:if(Mi(c,p),O&4)if(c=p.stateNode,u===null)try{c.componentDidMount()}catch(_){ct(p,p.return,_)}else{var S=ma(p.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(S,u,c.__reactInternalSnapshotBeforeUpdate)}catch(_){ct(p,p.return,_)}}O&64&&Lh(p),O&512&&el(p,p.return);break;case 3:if(Mi(c,p),O&64&&(c=p.updateQueue,c!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{Ef(c,u)}catch(_){ct(p,p.return,_)}}break;case 27:u===null&&O&4&&jh(p);case 26:case 5:Mi(c,p),u===null&&O&4&&Zh(p),O&512&&el(p,p.return);break;case 12:Mi(c,p);break;case 31:Mi(c,p),O&4&&Yh(c,p);break;case 13:Mi(c,p),O&4&&Gh(c,p),O&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=Np.bind(null,p),nm(c,p))));break;case 22:if(O=p.memoizedState!==null||Ri,!O){u=u!==null&&u.memoizedState!==null||Zt,S=Ri;var w=Zt;Ri=O,(Zt=u)&&!w?Di(c,p,(p.subtreeFlags&8772)!==0):Mi(c,p),Ri=S,Zt=w}break;case 30:break;default:Mi(c,p)}}function Vh(c){var u=c.alternate;u!==null&&(c.alternate=null,Vh(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&ss(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var wt=null,xn=!1;function Pi(c,u,p){for(p=p.child;p!==null;)qh(c,u,p),p=p.sibling}function qh(c,u,p){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Dt,p)}catch{}switch(p.tag){case 26:Zt||pi(p,u),Pi(c,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Zt||pi(p,u);var O=wt,S=xn;wr(p.type)&&(wt=p.stateNode,xn=!1),Pi(c,u,p),cl(p.stateNode),wt=O,xn=S;break;case 5:Zt||pi(p,u);case 6:if(O=wt,S=xn,wt=null,Pi(c,u,p),wt=O,xn=S,wt!==null)if(xn)try{(wt.nodeType===9?wt.body:wt.nodeName==="HTML"?wt.ownerDocument.body:wt).removeChild(p.stateNode)}catch(w){ct(p,u,w)}else try{wt.removeChild(p.stateNode)}catch(w){ct(p,u,w)}break;case 18:wt!==null&&(xn?(c=wt,Bd(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),ns(c)):Bd(wt,p.stateNode));break;case 4:O=wt,S=xn,wt=p.stateNode.containerInfo,xn=!0,Pi(c,u,p),wt=O,xn=S;break;case 0:case 11:case 14:case 15:dr(2,p,u),Zt||dr(4,p,u),Pi(c,u,p);break;case 1:Zt||(pi(p,u),O=p.stateNode,typeof O.componentWillUnmount=="function"&&Bh(p,u,O)),Pi(c,u,p);break;case 21:Pi(c,u,p);break;case 22:Zt=(O=Zt)||p.memoizedState!==null,Pi(c,u,p),Zt=O;break;default:Pi(c,u,p)}}function Yh(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{ns(c)}catch(p){ct(u,u.return,p)}}}function Gh(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{ns(c)}catch(p){ct(u,u.return,p)}}function Qp(c){switch(c.tag){case 31:case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new Xh),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new Xh),u;default:throw Error(s(435,c.tag))}}function Ao(c,u){var p=Qp(c);u.forEach(function(O){if(!p.has(O)){p.add(O);var S=Lp.bind(null,c,O);O.then(S,S)}})}function wn(c,u){var p=u.deletions;if(p!==null)for(var O=0;O<p.length;O++){var S=p[O],w=c,_=u,D=_;e:for(;D!==null;){switch(D.tag){case 27:if(wr(D.type)){wt=D.stateNode,xn=!1;break e}break;case 5:wt=D.stateNode,xn=!1;break e;case 3:case 4:wt=D.stateNode.containerInfo,xn=!0;break e}D=D.return}if(wt===null)throw Error(s(160));qh(w,_,S),wt=null,xn=!1,w=S.alternate,w!==null&&(w.return=null),S.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Ih(u,c),u=u.sibling}var ni=null;function Ih(c,u){var p=c.alternate,O=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:wn(u,c),kn(c),O&4&&(dr(3,c,c.return),Js(3,c),dr(5,c,c.return));break;case 1:wn(u,c),kn(c),O&512&&(Zt||p===null||pi(p,p.return)),O&64&&Ri&&(c=c.updateQueue,c!==null&&(O=c.callbacks,O!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?O:p.concat(O))));break;case 26:var S=ni;if(wn(u,c),kn(c),O&512&&(Zt||p===null||pi(p,p.return)),O&4){var w=p!==null?p.memoizedState:null;if(O=c.memoizedState,p===null)if(O===null)if(c.stateNode===null){e:{O=c.type,p=c.memoizedProps,S=S.ownerDocument||S;t:switch(O){case"title":w=S.getElementsByTagName("title")[0],(!w||w[Lr]||w[zt]||w.namespaceURI==="http://www.w3.org/2000/svg"||w.hasAttribute("itemprop"))&&(w=S.createElement(O),S.head.insertBefore(w,S.querySelector("head > title"))),Wt(w,O,p),w[zt]=c,$t(w),O=w;break e;case"link":var _=Hd("link","href",S).get(O+(p.href||""));if(_){for(var D=0;D<_.length;D++)if(w=_[D],w.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&w.getAttribute("rel")===(p.rel==null?null:p.rel)&&w.getAttribute("title")===(p.title==null?null:p.title)&&w.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){_.splice(D,1);break t}}w=S.createElement(O),Wt(w,O,p),S.head.appendChild(w);break;case"meta":if(_=Hd("meta","content",S).get(O+(p.content||""))){for(D=0;D<_.length;D++)if(w=_[D],w.getAttribute("content")===(p.content==null?null:""+p.content)&&w.getAttribute("name")===(p.name==null?null:p.name)&&w.getAttribute("property")===(p.property==null?null:p.property)&&w.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&w.getAttribute("charset")===(p.charSet==null?null:p.charSet)){_.splice(D,1);break t}}w=S.createElement(O),Wt(w,O,p),S.head.appendChild(w);break;default:throw Error(s(468,O))}w[zt]=c,$t(w),O=w}c.stateNode=O}else Wd(S,c.type,c.stateNode);else c.stateNode=Id(S,O,c.memoizedProps);else w!==O?(w===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):w.count--,O===null?Wd(S,c.type,c.stateNode):Id(S,O,c.memoizedProps)):O===null&&c.stateNode!==null&&_u(c,c.memoizedProps,p.memoizedProps)}break;case 27:wn(u,c),kn(c),O&512&&(Zt||p===null||pi(p,p.return)),p!==null&&O&4&&_u(c,c.memoizedProps,p.memoizedProps);break;case 5:if(wn(u,c),kn(c),O&512&&(Zt||p===null||pi(p,p.return)),c.flags&32){S=c.stateNode;try{Hi(S,"")}catch(De){ct(c,c.return,De)}}O&4&&c.stateNode!=null&&(S=c.memoizedProps,_u(c,S,p!==null?p.memoizedProps:S)),O&1024&&(Ru=!0);break;case 6:if(wn(u,c),kn(c),O&4){if(c.stateNode===null)throw Error(s(162));O=c.memoizedProps,p=c.stateNode;try{p.nodeValue=O}catch(De){ct(c,c.return,De)}}break;case 3:if(Yo=null,S=ni,ni=Vo(u.containerInfo),wn(u,c),ni=S,kn(c),O&4&&p!==null&&p.memoizedState.isDehydrated)try{ns(u.containerInfo)}catch(De){ct(c,c.return,De)}Ru&&(Ru=!1,Hh(c));break;case 4:O=ni,ni=Vo(c.stateNode.containerInfo),wn(u,c),kn(c),ni=O;break;case 12:wn(u,c),kn(c);break;case 31:wn(u,c),kn(c),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 13:wn(u,c),kn(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Ro=Ct()),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 22:S=c.memoizedState!==null;var Y=p!==null&&p.memoizedState!==null,se=Ri,me=Zt;if(Ri=se||S,Zt=me||Y,wn(u,c),Zt=me,Ri=se,kn(c),O&8192)e:for(u=c.stateNode,u._visibility=S?u._visibility&-2:u._visibility|1,S&&(p===null||Y||Ri||Zt||ga(c)),p=null,u=c;;){if(u.tag===5||u.tag===26){if(p===null){Y=p=u;try{if(w=Y.stateNode,S)_=w.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{D=Y.stateNode;var be=Y.memoizedProps.style,ce=be!=null&&be.hasOwnProperty("display")?be.display:null;D.style.display=ce==null||typeof ce=="boolean"?"":(""+ce).trim()}}catch(De){ct(Y,Y.return,De)}}}else if(u.tag===6){if(p===null){Y=u;try{Y.stateNode.nodeValue=S?"":Y.memoizedProps}catch(De){ct(Y,Y.return,De)}}}else if(u.tag===18){if(p===null){Y=u;try{var de=Y.stateNode;S?Zd(de,!0):Zd(Y.stateNode,!1)}catch(De){ct(Y,Y.return,De)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}O&4&&(O=c.updateQueue,O!==null&&(p=O.retryQueue,p!==null&&(O.retryQueue=null,Ao(c,p))));break;case 19:wn(u,c),kn(c),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 30:break;case 21:break;default:wn(u,c),kn(c)}}function kn(c){var u=c.flags;if(u&2){try{for(var p,O=c.return;O!==null;){if(zh(O)){p=O;break}O=O.return}if(p==null)throw Error(s(160));switch(p.tag){case 27:var S=p.stateNode,w=Au(c);_o(c,w,S);break;case 5:var _=p.stateNode;p.flags&32&&(Hi(_,""),p.flags&=-33);var D=Au(c);_o(c,D,_);break;case 3:case 4:var Y=p.stateNode.containerInfo,se=Au(c);$u(c,se,Y);break;default:throw Error(s(161))}}catch(me){ct(c,c.return,me)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function Hh(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;Hh(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),c=c.sibling}}function Mi(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Uh(c,u.alternate,u),u=u.sibling}function ga(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:dr(4,u,u.return),ga(u);break;case 1:pi(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&Bh(u,u.return,p),ga(u);break;case 27:cl(u.stateNode);case 26:case 5:pi(u,u.return),ga(u);break;case 22:u.memoizedState===null&&ga(u);break;case 30:ga(u);break;default:ga(u)}c=c.sibling}}function Di(c,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var O=u.alternate,S=c,w=u,_=w.flags;switch(w.tag){case 0:case 11:case 15:Di(S,w,p),Js(4,w);break;case 1:if(Di(S,w,p),O=w,S=O.stateNode,typeof S.componentDidMount=="function")try{S.componentDidMount()}catch(se){ct(O,O.return,se)}if(O=w,S=O.updateQueue,S!==null){var D=O.stateNode;try{var Y=S.shared.hiddenCallbacks;if(Y!==null)for(S.shared.hiddenCallbacks=null,S=0;S<Y.length;S++)Cf(Y[S],D)}catch(se){ct(O,O.return,se)}}p&&_&64&&Lh(w),el(w,w.return);break;case 27:jh(w);case 26:case 5:Di(S,w,p),p&&O===null&&_&4&&Zh(w),el(w,w.return);break;case 12:Di(S,w,p);break;case 31:Di(S,w,p),p&&_&4&&Yh(S,w);break;case 13:Di(S,w,p),p&&_&4&&Gh(S,w);break;case 22:w.memoizedState===null&&Di(S,w,p),el(w,w.return);break;case 30:break;default:Di(S,w,p)}u=u.sibling}}function Pu(c,u){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Ue(p))}function Mu(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ue(c))}function ii(c,u,p,O){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Wh(c,u,p,O),u=u.sibling}function Wh(c,u,p,O){var S=u.flags;switch(u.tag){case 0:case 11:case 15:ii(c,u,p,O),S&2048&&Js(9,u);break;case 1:ii(c,u,p,O);break;case 3:ii(c,u,p,O),S&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ue(c)));break;case 12:if(S&2048){ii(c,u,p,O),c=u.stateNode;try{var w=u.memoizedProps,_=w.id,D=w.onPostCommit;typeof D=="function"&&D(_,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(Y){ct(u,u.return,Y)}}else ii(c,u,p,O);break;case 31:ii(c,u,p,O);break;case 13:ii(c,u,p,O);break;case 23:break;case 22:w=u.stateNode,_=u.alternate,u.memoizedState!==null?w._visibility&2?ii(c,u,p,O):tl(c,u):w._visibility&2?ii(c,u,p,O):(w._visibility|=2,Ua(c,u,p,O,(u.subtreeFlags&10256)!==0||!1)),S&2048&&Pu(_,u);break;case 24:ii(c,u,p,O),S&2048&&Mu(u.alternate,u);break;default:ii(c,u,p,O)}}function Ua(c,u,p,O,S){for(S=S&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var w=c,_=u,D=p,Y=O,se=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(w,_,D,Y,S),Js(8,_);break;case 23:break;case 22:var me=_.stateNode;_.memoizedState!==null?me._visibility&2?Ua(w,_,D,Y,S):tl(w,_):(me._visibility|=2,Ua(w,_,D,Y,S)),S&&se&2048&&Pu(_.alternate,_);break;case 24:Ua(w,_,D,Y,S),S&&se&2048&&Mu(_.alternate,_);break;default:Ua(w,_,D,Y,S)}u=u.sibling}}function tl(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=c,O=u,S=O.flags;switch(O.tag){case 22:tl(p,O),S&2048&&Pu(O.alternate,O);break;case 24:tl(p,O),S&2048&&Mu(O.alternate,O);break;default:tl(p,O)}u=u.sibling}}var nl=8192;function Va(c,u,p){if(c.subtreeFlags&nl)for(c=c.child;c!==null;)Fh(c,u,p),c=c.sibling}function Fh(c,u,p){switch(c.tag){case 26:Va(c,u,p),c.flags&nl&&c.memoizedState!==null&&mm(p,ni,c.memoizedState,c.memoizedProps);break;case 5:Va(c,u,p);break;case 3:case 4:var O=ni;ni=Vo(c.stateNode.containerInfo),Va(c,u,p),ni=O;break;case 22:c.memoizedState===null&&(O=c.alternate,O!==null&&O.memoizedState!==null?(O=nl,nl=16777216,Va(c,u,p),nl=O):Va(c,u,p));break;default:Va(c,u,p)}}function Kh(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function il(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var O=u[p];Gt=O,ed(O,c)}Kh(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jh(c),c=c.sibling}function Jh(c){switch(c.tag){case 0:case 11:case 15:il(c),c.flags&2048&&dr(9,c,c.return);break;case 3:il(c);break;case 12:il(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,$o(c)):il(c);break;default:il(c)}}function $o(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var O=u[p];Gt=O,ed(O,c)}Kh(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:dr(8,u,u.return),$o(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,$o(u));break;default:$o(u)}c=c.sibling}}function ed(c,u){for(;Gt!==null;){var p=Gt;switch(p.tag){case 0:case 11:case 15:dr(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var O=p.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Ue(p.memoizedState.cache)}if(O=p.child,O!==null)O.return=p,Gt=O;else e:for(p=c;Gt!==null;){O=Gt;var S=O.sibling,w=O.return;if(Vh(O),O===p){Gt=null;break e}if(S!==null){S.return=w,Gt=S;break e}Gt=w}}}var _p={getCacheForType:function(c){var u=Rt(q),p=u.data.get(c);return p===void 0&&(p=c(),u.data.set(c,p)),p},cacheSignal:function(){return Rt(q).controller.signal}},Ap=typeof WeakMap=="function"?WeakMap:Map,at=0,yt=null,We=null,et=0,ot=0,$n=null,mr=!1,qa=!1,Du=!1,Ni=0,_t=0,gr=0,Oa=0,Nu=0,Rn=0,Ya=0,rl=null,Tn=null,Lu=!1,Ro=0,td=0,Po=1/0,Mo=null,Or=null,Xt=0,vr=null,Ga=null,Li=0,Bu=0,Zu=null,nd=null,al=0,zu=null;function Pn(){return(at&2)!==0&&et!==0?et&-et:W.T!==null?Yu():Sl()}function rd(){if(Rn===0)if((et&536870912)===0||He){var c=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),Rn=c}else Rn=536870912;return c=_n.current,c!==null&&(c.flags|=32),Rn}function Cn(c,u,p){(c===yt&&(ot===2||ot===9)||c.cancelPendingCommit!==null)&&(Ia(c,0),Sr(c,et,Rn,!1)),ji(c,p),((at&2)===0||c!==yt)&&(c===yt&&((at&2)===0&&(Oa|=p),_t===4&&Sr(c,et,Rn,!1)),mi(c))}function ad(c,u,p){if((at&6)!==0)throw Error(s(327));var O=!p&&(u&127)===0&&(u&c.expiredLanes)===0||dn(c,u),S=O?Pp(c,u):Xu(c,u,!0),w=O;do{if(S===0){qa&&!O&&Sr(c,u,0,!1);break}else{if(p=c.current.alternate,w&&!$p(p)){S=Xu(c,u,!1),w=!1;continue}if(S===2){if(w=u,c.errorRecoveryDisabledLanes&w)var _=0;else _=c.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){u=_;e:{var D=c;S=rl;var Y=D.current.memoizedState.isDehydrated;if(Y&&(Ia(D,_).flags|=256),_=Xu(D,_,!1),_!==2){if(Du&&!Y){D.errorRecoveryDisabledLanes|=w,Oa|=w,S=4;break e}w=Tn,Tn=S,w!==null&&(Tn===null?Tn=w:Tn.push.apply(Tn,w))}S=_}if(w=!1,S!==2)continue}}if(S===1){Ia(c,0),Sr(c,u,0,!0);break}e:{switch(O=c,w=S,w){case 0:case 1:throw Error(s(345));case 4:if((u&4194048)!==u)break;case 6:Sr(O,u,Rn,!mr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((u&62914560)===u&&(S=Ro+300-Ct(),10<S)){if(Sr(O,u,Rn,!mr),Mr(O,0,!0)!==0)break e;Li=u,O.timeoutHandle=Nd(sd.bind(null,O,p,Tn,Mo,Lu,u,Rn,Oa,Ya,mr,w,"Throttled",-0,0),S);break e}sd(O,p,Tn,Mo,Lu,u,Rn,Oa,Ya,mr,w,null,-0,0)}}break}while(!0);mi(c)}function sd(c,u,p,O,S,w,_,D,Y,se,me,be,ce,de){if(c.timeoutHandle=-1,be=u.subtreeFlags,be&8192||(be&16785408)===16785408){be={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Fh(u,w,be);var De=(w&62914560)===w?Ro-Ct():(w&4194048)===w?td-Ct():0;if(De=gm(be,De),De!==null){Li=w,c.cancelPendingCommit=De(pd.bind(null,c,u,w,p,O,S,_,D,Y,me,be,null,ce,de)),Sr(c,w,_,!se);return}}pd(c,u,w,p,O,S,_,D,Y)}function $p(c){for(var u=c;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var O=0;O<p.length;O++){var S=p[O],w=S.getSnapshot;S=S.value;try{if(!ln(w(),S))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Sr(c,u,p,O){u&=~Nu,u&=~Oa,c.suspendedLanes|=u,c.pingedLanes&=~u,O&&(c.warmLanes|=u),O=c.expirationTimes;for(var S=u;0<S;){var w=31-Tt(S),_=1<<w;O[w]=-1,S&=~_}p!==0&&Ol(c,p,u)}function Do(){return(at&6)===0?(sl(0),!1):!0}function ju(){if(We!==null){if(ot===0)var c=We.return;else c=We,ei=Qn=null,iu(c),Ba=null,zs=0,c=We;for(;c!==null;)Nh(c.alternate,c),c=c.return;We=null}}function Ia(c,u){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,Fp(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Li=0,ju(),yt=c,We=p=yn(c.current,null),et=u,ot=0,$n=null,mr=!1,qa=dn(c,u),Du=!1,Ya=Rn=Nu=Oa=gr=_t=0,Tn=rl=null,Lu=!1,(u&8)!==0&&(u|=u&32);var O=c.entangledLanes;if(O!==0)for(c=c.entanglements,O&=u;0<O;){var S=31-Tt(O),w=1<<S;u|=c[S],O&=~w}return Ni=u,er(),p}function ld(c,u){Ye=null,W.H=Hs,u===La||u===co?(u=xf(),ot=3):u===qc?(u=xf(),ot=4):ot=u===vu?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,$n=u,We===null&&(_t=1,ko(c,vn(u,c.current)))}function od(){var c=_n.current;return c===null?!0:(et&4194048)===et?zn===null:(et&62914560)===et||(et&536870912)!==0?c===zn:!1}function cd(){var c=W.H;return W.H=Hs,c===null?Hs:c}function ud(){var c=W.A;return W.A=_p,c}function No(){_t=4,mr||(et&4194048)!==et&&_n.current!==null||(qa=!0),(gr&134217727)===0&&(Oa&134217727)===0||yt===null||Sr(yt,et,Rn,!1)}function Xu(c,u,p){var O=at;at|=2;var S=cd(),w=ud();(yt!==c||et!==u)&&(Mo=null,Ia(c,u)),u=!1;var _=_t;e:do try{if(ot!==0&&We!==null){var D=We,Y=$n;switch(ot){case 8:ju(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(u=!0);var se=ot;if(ot=0,$n=null,Ha(c,D,Y,se),p&&qa){_=0;break e}break;default:se=ot,ot=0,$n=null,Ha(c,D,Y,se)}}Rp(),_=_t;break}catch(me){ld(c,me)}while(!0);return u&&c.shellSuspendCounter++,ei=Qn=null,at=O,W.H=S,W.A=w,We===null&&(yt=null,et=0,er()),_}function Rp(){for(;We!==null;)fd(We)}function Pp(c,u){var p=at;at|=2;var O=cd(),S=ud();yt!==c||et!==u?(Mo=null,Po=Ct()+500,Ia(c,u)):qa=dn(c,u);e:do try{if(ot!==0&&We!==null){u=We;var w=$n;t:switch(ot){case 1:ot=0,$n=null,Ha(c,u,w,1);break;case 2:case 9:if(Sf(w)){ot=0,$n=null,hd(u);break}u=function(){ot!==2&&ot!==9||yt!==c||(ot=7),mi(c)},w.then(u,u);break e;case 3:ot=7;break e;case 4:ot=5;break e;case 7:Sf(w)?(ot=0,$n=null,hd(u)):(ot=0,$n=null,Ha(c,u,w,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var D=We;if(_?Fd(_):D.stateNode.complete){ot=0,$n=null;var Y=D.sibling;if(Y!==null)We=Y;else{var se=D.return;se!==null?(We=se,Lo(se)):We=null}break t}}ot=0,$n=null,Ha(c,u,w,5);break;case 6:ot=0,$n=null,Ha(c,u,w,6);break;case 8:ju(),_t=6;break e;default:throw Error(s(462))}}Mp();break}catch(me){ld(c,me)}while(!0);return ei=Qn=null,W.H=O,W.A=S,at=p,We!==null?0:(yt=null,et=0,er(),_t)}function Mp(){for(;We!==null&&!en();)fd(We)}function fd(c){var u=Mh(c.alternate,c,Ni);c.memoizedProps=c.pendingProps,u===null?Lo(c):We=u}function hd(c){var u=c,p=u.alternate;switch(u.tag){case 15:case 0:u=Qh(p,u,u.pendingProps,u.type,void 0,et);break;case 11:u=Qh(p,u,u.pendingProps,u.type.render,u.ref,et);break;case 5:iu(u);default:Nh(p,u),u=We=Ps(u,Ni),u=Mh(p,u,Ni)}c.memoizedProps=c.pendingProps,u===null?Lo(c):We=u}function Ha(c,u,p,O){ei=Qn=null,iu(u),Ba=null,zs=0;var S=u.return;try{if(xp(c,S,u,p,et)){_t=1,ko(c,vn(p,c.current)),We=null;return}}catch(w){if(S!==null)throw We=S,w;_t=1,ko(c,vn(p,c.current)),We=null;return}u.flags&32768?(He||O===1?c=!0:qa||(et&536870912)!==0?c=!1:(mr=c=!0,(O===2||O===9||O===3||O===6)&&(O=_n.current,O!==null&&O.tag===13&&(O.flags|=16384))),dd(u,c)):Lo(u)}function Lo(c){var u=c;do{if((u.flags&32768)!==0){dd(u,mr);return}c=u.return;var p=Tp(u.alternate,u,Ni);if(p!==null){We=p;return}if(u=u.sibling,u!==null){We=u;return}We=u=c}while(u!==null);_t===0&&(_t=5)}function dd(c,u){do{var p=Cp(c.alternate,c);if(p!==null){p.flags&=32767,We=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(c=c.sibling,c!==null)){We=c;return}We=c=p}while(c!==null);_t=6,We=null}function pd(c,u,p,O,S,w,_,D,Y){c.cancelPendingCommit=null;do Bo();while(Xt!==0);if((at&6)!==0)throw Error(s(327));if(u!==null){if(u===c.current)throw Error(s(177));if(w=u.lanes|u.childLanes,w|=$s,ic(c,p,w,_,D,Y),c===yt&&(We=yt=null,et=0),Ga=u,vr=c,Li=p,Bu=w,Zu=S,nd=O,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Bp(Ot,function(){return vd(),null})):(c.callbackNode=null,c.callbackPriority=0),O=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||O){O=W.T,W.T=null,S=ue.p,ue.p=2,_=at,at|=4;try{Ep(c,u,p)}finally{at=_,ue.p=S,W.T=O}}Xt=1,md(),gd(),Od()}}function md(){if(Xt===1){Xt=0;var c=vr,u=Ga,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=W.T,W.T=null;var O=ue.p;ue.p=2;var S=at;at|=4;try{Ih(u,c);var w=ef,_=xs(c.containerInfo),D=w.focusedElem,Y=w.selectionRange;if(_!==D&&D&&D.ownerDocument&&bs(D.ownerDocument.documentElement,D)){if(Y!==null&&ws(D)){var se=Y.start,me=Y.end;if(me===void 0&&(me=se),"selectionStart"in D)D.selectionStart=se,D.selectionEnd=Math.min(me,D.value.length);else{var be=D.ownerDocument||document,ce=be&&be.defaultView||window;if(ce.getSelection){var de=ce.getSelection(),De=D.textContent.length,ze=Math.min(Y.start,De),gt=Y.end===void 0?ze:Math.min(Y.end,De);!de.extend&&ze>gt&&(_=gt,gt=ze,ze=_);var te=eo(D,ze),H=eo(D,gt);if(te&&H&&(de.rangeCount!==1||de.anchorNode!==te.node||de.anchorOffset!==te.offset||de.focusNode!==H.node||de.focusOffset!==H.offset)){var ae=be.createRange();ae.setStart(te.node,te.offset),de.removeAllRanges(),ze>gt?(de.addRange(ae),de.extend(H.node,H.offset)):(ae.setEnd(H.node,H.offset),de.addRange(ae))}}}}for(be=[],de=D;de=de.parentNode;)de.nodeType===1&&be.push({element:de,left:de.scrollLeft,top:de.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<be.length;D++){var ve=be[D];ve.element.scrollLeft=ve.left,ve.element.scrollTop=ve.top}}Wo=!!Ju,ef=Ju=null}finally{at=S,ue.p=O,W.T=p}}c.current=u,Xt=2}}function gd(){if(Xt===2){Xt=0;var c=vr,u=Ga,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=W.T,W.T=null;var O=ue.p;ue.p=2;var S=at;at|=4;try{Uh(c,u.alternate,u)}finally{at=S,ue.p=O,W.T=p}}Xt=3}}function Od(){if(Xt===4||Xt===3){Xt=0,gi();var c=vr,u=Ga,p=Li,O=nd;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Xt=5:(Xt=0,Ga=vr=null,yd(c,c.pendingLanes));var S=c.pendingLanes;if(S===0&&(Or=null),rs(p),u=u.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Dt,u,void 0,(u.current.flags&128)===128)}catch{}if(O!==null){u=W.T,S=ue.p,ue.p=2,W.T=null;try{for(var w=c.onRecoverableError,_=0;_<O.length;_++){var D=O[_];w(D.value,{componentStack:D.stack})}}finally{W.T=u,ue.p=S}}(Li&3)!==0&&Bo(),mi(c),S=c.pendingLanes,(p&261930)!==0&&(S&42)!==0?c===zu?al++:(al=0,zu=c):al=0,sl(0)}}function yd(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,Ue(u)))}function Bo(){return md(),gd(),Od(),vd()}function vd(){if(Xt!==5)return!1;var c=vr,u=Bu;Bu=0;var p=rs(Li),O=W.T,S=ue.p;try{ue.p=32>p?32:p,W.T=null,p=Zu,Zu=null;var w=vr,_=Li;if(Xt=0,Ga=vr=null,Li=0,(at&6)!==0)throw Error(s(331));var D=at;if(at|=4,Jh(w.current),Wh(w,w.current,_,p),at=D,sl(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Dt,w)}catch{}return!0}finally{ue.p=S,W.T=O,yd(c,u)}}function Sd(c,u,p){u=vn(p,u),u=yu(c.stateNode,u,2),c=ur(c,u,2),c!==null&&(ji(c,2),mi(c))}function ct(c,u,p){if(c.tag===3)Sd(c,c,p);else for(;u!==null;){if(u.tag===3){Sd(u,c,p);break}else if(u.tag===1){var O=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Or===null||!Or.has(O))){c=vn(p,c),p=Sh(2),O=ur(u,p,2),O!==null&&(bh(p,O,u,c),ji(O,2),mi(O));break}}u=u.return}}function Uu(c,u,p){var O=c.pingCache;if(O===null){O=c.pingCache=new Ap;var S=new Set;O.set(u,S)}else S=O.get(u),S===void 0&&(S=new Set,O.set(u,S));S.has(p)||(Du=!0,S.add(p),c=Dp.bind(null,c,u,p),u.then(c,c))}function Dp(c,u,p){var O=c.pingCache;O!==null&&O.delete(u),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,yt===c&&(et&p)===p&&(_t===4||_t===3&&(et&62914560)===et&&300>Ct()-Ro?(at&2)===0&&Ia(c,0):Nu|=p,Ya===et&&(Ya=0)),mi(c)}function bd(c,u){u===0&&(u=gl()),c=Ti(c,u),c!==null&&(ji(c,u),mi(c))}function Np(c){var u=c.memoizedState,p=0;u!==null&&(p=u.retryLane),bd(c,p)}function Lp(c,u){var p=0;switch(c.tag){case 31:case 13:var O=c.stateNode,S=c.memoizedState;S!==null&&(p=S.retryLane);break;case 19:O=c.stateNode;break;case 22:O=c.stateNode._retryCache;break;default:throw Error(s(314))}O!==null&&O.delete(u),bd(c,p)}function Bp(c,u){return Xe(c,u)}var Zo=null,Wa=null,Vu=!1,zo=!1,qu=!1,br=0;function mi(c){c!==Wa&&c.next===null&&(Wa===null?Zo=Wa=c:Wa=Wa.next=c),zo=!0,Vu||(Vu=!0,zp())}function sl(c,u){if(!qu&&zo){qu=!0;do for(var p=!1,O=Zo;O!==null;){if(c!==0){var S=O.pendingLanes;if(S===0)var w=0;else{var _=O.suspendedLanes,D=O.pingedLanes;w=(1<<31-Tt(42|c)+1)-1,w&=S&~(_&~D),w=w&201326741?w&201326741|1:w?w|2:0}w!==0&&(p=!0,Td(O,w))}else w=et,w=Mr(O,O===yt?w:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(w&3)===0||dn(O,w)||(p=!0,Td(O,w));O=O.next}while(p);qu=!1}}function Zp(){xd()}function xd(){zo=Vu=!1;var c=0;br!==0&&Wp()&&(c=br);for(var u=Ct(),p=null,O=Zo;O!==null;){var S=O.next,w=wd(O,u);w===0?(O.next=null,p===null?Zo=S:p.next=S,S===null&&(Wa=p)):(p=O,(c!==0||(w&3)!==0)&&(zo=!0)),O=S}Xt!==0&&Xt!==5||sl(c),br!==0&&(br=0)}function wd(c,u){for(var p=c.suspendedLanes,O=c.pingedLanes,S=c.expirationTimes,w=c.pendingLanes&-62914561;0<w;){var _=31-Tt(w),D=1<<_,Y=S[_];Y===-1?((D&p)===0||(D&O)!==0)&&(S[_]=ai(D,u)):Y<=u&&(c.expiredLanes|=D),w&=~D}if(u=yt,p=et,p=Mr(c,c===u?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),O=c.callbackNode,p===0||c===u&&(ot===2||ot===9)||c.cancelPendingCommit!==null)return O!==null&&O!==null&&kt(O),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||dn(c,p)){if(u=p&-p,u===c.callbackPriority)return u;switch(O!==null&&kt(O),rs(p)){case 2:case 8:p=zi;break;case 32:p=Ot;break;case 268435456:p=At;break;default:p=Ot}return O=kd.bind(null,c),p=Xe(p,O),c.callbackPriority=u,c.callbackNode=p,u}return O!==null&&O!==null&&kt(O),c.callbackPriority=2,c.callbackNode=null,2}function kd(c,u){if(Xt!==0&&Xt!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Bo()&&c.callbackNode!==p)return null;var O=et;return O=Mr(c,c===yt?O:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),O===0?null:(ad(c,O,u),wd(c,Ct()),c.callbackNode!=null&&c.callbackNode===p?kd.bind(null,c):null)}function Td(c,u){if(Bo())return null;ad(c,u,!0)}function zp(){Kp(function(){(at&6)!==0?Xe(Zi,Zp):xd()})}function Yu(){if(br===0){var c=Da;c===0&&(c=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),br=c}return br}function Cd(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:xa(""+c)}function Ed(c,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,c.id&&p.setAttribute("form",c.id),u.parentNode.insertBefore(p,u),c=new FormData(c),p.parentNode.removeChild(p),c}function jp(c,u,p,O,S){if(u==="submit"&&p&&p.stateNode===S){var w=Cd((S[nn]||null).action),_=O.submitter;_&&(u=(u=_[nn]||null)?Cd(u.formAction):_.getAttribute("formAction"),u!==null&&(w=u,_=null));var D=new Ca("action","action",null,O,S);c.push({event:D,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(br!==0){var Y=_?Ed(S,_):new FormData(S);hu(p,{pending:!0,data:Y,method:S.method,action:w},null,Y)}}else typeof w=="function"&&(D.preventDefault(),Y=_?Ed(S,_):new FormData(S),hu(p,{pending:!0,data:Y,method:S.method,action:w},w,Y))},currentTarget:S}]})}}for(var Gu=0;Gu<ia.length;Gu++){var Iu=ia[Gu],Xp=Iu.toLowerCase(),Up=Iu[0].toUpperCase()+Iu.slice(1);En(Xp,"on"+Up)}En(no,"onAnimationEnd"),En(Es,"onAnimationIteration"),En($a,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Qs,"onTransitionRun"),En(jc,"onTransitionStart"),En(_s,"onTransitionCancel"),En(io,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ll="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(ll));function Qd(c,u){u=(u&4)!==0;for(var p=0;p<c.length;p++){var O=c[p],S=O.event;O=O.listeners;e:{var w=void 0;if(u)for(var _=O.length-1;0<=_;_--){var D=O[_],Y=D.instance,se=D.currentTarget;if(D=D.listener,Y!==w&&S.isPropagationStopped())break e;w=D,S.currentTarget=se;try{w(S)}catch(me){ra(me)}S.currentTarget=null,w=Y}else for(_=0;_<O.length;_++){if(D=O[_],Y=D.instance,se=D.currentTarget,D=D.listener,Y!==w&&S.isPropagationStopped())break e;w=D,S.currentTarget=se;try{w(S)}catch(me){ra(me)}S.currentTarget=null,w=Y}}}}function Fe(c,u){var p=u[as];p===void 0&&(p=u[as]=new Set);var O=c+"__bubble";p.has(O)||(_d(u,c,2,!1),p.add(O))}function Hu(c,u,p){var O=0;u&&(O|=4),_d(p,c,O,u)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Wu(c){if(!c[jo]){c[jo]=!0,Si.forEach(function(p){p!=="selectionchange"&&(Vp.has(p)||Hu(p,!1,c),Hu(p,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[jo]||(u[jo]=!0,Hu("selectionchange",!1,u))}}function _d(c,u,p,O){switch(rp(u)){case 2:var S=vm;break;case 8:S=Sm;break;default:S=hf}p=S.bind(null,u,p,c),S=void 0,!ps||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),O?S!==void 0?c.addEventListener(u,p,{capture:!0,passive:S}):c.addEventListener(u,p,!0):S!==void 0?c.addEventListener(u,p,{passive:S}):c.addEventListener(u,p,!1)}function Fu(c,u,p,O,S){var w=O;if((u&1)===0&&(u&2)===0&&O!==null)e:for(;;){if(O===null)return;var _=O.tag;if(_===3||_===4){var D=O.stateNode.containerInfo;if(D===S)break;if(_===4)for(_=O.return;_!==null;){var Y=_.tag;if((Y===3||Y===4)&&_.stateNode.containerInfo===S)return;_=_.return}for(;D!==null;){if(_=Ui(D),_===null)return;if(Y=_.tag,Y===5||Y===6||Y===26||Y===27){O=w=_;continue e}D=D.parentNode}}O=O.return}Dl(function(){var se=w,me=hs(p),be=[];e:{var ce=As.get(c);if(ce!==void 0){var de=Ca,De=c;switch(c){case"keypress":if(ka(p)===0)break e;case"keydown":case"keyup":de=Tc;break;case"focusin":De="focus",de=ys;break;case"focusout":De="blur",de=ys;break;case"beforeblur":case"afterblur":de=ys;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":de=Bl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":de=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":de=Qc;break;case no:case Es:case $a:de=gc;break;case io:de=Ac;break;case"scroll":case"scrollend":de=fc;break;case"wheel":de=Rc;break;case"copy":case"cut":case"paste":de=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":de=jl;break;case"toggle":case"beforetoggle":de=Mc}var ze=(u&4)!==0,gt=!ze&&(c==="scroll"||c==="scrollend"),te=ze?ce!==null?ce+"Capture":null:ce;ze=[];for(var H=se,ae;H!==null;){var ve=H;if(ae=ve.stateNode,ve=ve.tag,ve!==5&&ve!==26&&ve!==27||ae===null||te===null||(ve=Ur(H,te),ve!=null&&ze.push(ol(H,ve,ae))),gt)break;H=H.return}0<ze.length&&(ce=new de(ce,De,null,p,me),be.push({event:ce,listeners:ze}))}}if((u&7)===0){e:{if(ce=c==="mouseover"||c==="pointerover",de=c==="mouseout"||c==="pointerout",ce&&p!==fs&&(De=p.relatedTarget||p.fromElement)&&(Ui(De)||De[Xi]))break e;if((de||ce)&&(ce=me.window===me?me:(ce=me.ownerDocument)?ce.defaultView||ce.parentWindow:window,de?(De=p.relatedTarget||p.toElement,de=se,De=De?Ui(De):null,De!==null&&(gt=f(De),ze=De.tag,De!==gt||ze!==5&&ze!==27&&ze!==6)&&(De=null)):(de=null,De=se),de!==De)){if(ze=Bl,ve="onMouseLeave",te="onMouseEnter",H="mouse",(c==="pointerout"||c==="pointerover")&&(ze=jl,ve="onPointerLeave",te="onPointerEnter",H="pointer"),gt=de==null?ce:zr(de),ae=De==null?ce:zr(De),ce=new ze(ve,H+"leave",de,p,me),ce.target=gt,ce.relatedTarget=ae,ve=null,Ui(me)===se&&(ze=new ze(te,H+"enter",De,p,me),ze.target=ae,ze.relatedTarget=gt,ve=ze),gt=ve,de&&De)t:{for(ze=qp,te=de,H=De,ae=0,ve=te;ve;ve=ze(ve))ae++;ve=0;for(var Ze=H;Ze;Ze=ze(Ze))ve++;for(;0<ae-ve;)te=ze(te),ae--;for(;0<ve-ae;)H=ze(H),ve--;for(;ae--;){if(te===H||H!==null&&te===H.alternate){ze=te;break t}te=ze(te),H=ze(H)}ze=null}else ze=null;de!==null&&Ad(be,ce,de,ze,!1),De!==null&&gt!==null&&Ad(be,gt,De,ze,!0)}}e:{if(ce=se?zr(se):window,de=ce.nodeName&&ce.nodeName.toLowerCase(),de==="select"||de==="input"&&ce.type==="file")var nt=li;else if(gn(ce))if(Fr)nt=Bc;else{nt=Qa;var Ne=Wl}else de=ce.nodeName,!de||de.toLowerCase()!=="input"||ce.type!=="checkbox"&&ce.type!=="radio"?se&&us(se.elementType)&&(nt=li):nt=ye;if(nt&&(nt=nt(c,se))){Wr(be,nt,p,me);break e}Ne&&Ne(c,ce,se),c==="focusout"&&se&&ce.type==="number"&&se.memoizedProps.value!=null&&cs(ce,"number",ce.value)}switch(Ne=se?zr(se):window,c){case"focusin":(gn(Ne)||Ne.contentEditable==="true")&&(wi=Ne,Aa=se,na=null);break;case"focusout":na=Aa=wi=null;break;case"mousedown":ks=!0;break;case"contextmenu":case"mouseup":case"dragend":ks=!1,Ts(be,p,me);break;case"selectionchange":if(zc)break;case"keydown":case"keyup":Ts(be,p,me)}var Ge;if(Ss)e:{switch(c){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Fi?Yl(c,p)&&(tt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(tt="onCompositionStart");tt&&(Ul&&p.locale!=="ko"&&(Fi||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Fi&&(Ge=Nl()):(si=me,ms="value"in si?si.value:si.textContent,Fi=!0)),Ne=Xo(se,tt),0<Ne.length&&(tt=new zl(tt,c,null,p,me),be.push({event:tt,listeners:Ne}),Ge?tt.data=Ge:(Ge=Gl(p),Ge!==null&&(tt.data=Ge)))),(Ge=Nc?T(c,p):Re(c,p))&&(tt=Xo(se,"onBeforeInput"),0<tt.length&&(Ne=new zl("onBeforeInput","beforeinput",null,p,me),be.push({event:Ne,listeners:tt}),Ne.data=Ge)),jp(be,c,se,p,me)}Qd(be,u)})}function ol(c,u,p){return{instance:c,listener:u,currentTarget:p}}function Xo(c,u){for(var p=u+"Capture",O=[];c!==null;){var S=c,w=S.stateNode;if(S=S.tag,S!==5&&S!==26&&S!==27||w===null||(S=Ur(c,p),S!=null&&O.unshift(ol(c,S,w)),S=Ur(c,u),S!=null&&O.push(ol(c,S,w))),c.tag===3)return O;c=c.return}return[]}function qp(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Ad(c,u,p,O,S){for(var w=u._reactName,_=[];p!==null&&p!==O;){var D=p,Y=D.alternate,se=D.stateNode;if(D=D.tag,Y!==null&&Y===O)break;D!==5&&D!==26&&D!==27||se===null||(Y=se,S?(se=Ur(p,w),se!=null&&_.unshift(ol(p,se,Y))):S||(se=Ur(p,w),se!=null&&_.push(ol(p,se,Y)))),p=p.return}_.length!==0&&c.push({event:u,listeners:_})}var Yp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function $d(c){return(typeof c=="string"?c:""+c).replace(Yp,`
`).replace(Gp,"")}function Rd(c,u){return u=$d(u),$d(c)===u}function pt(c,u,p,O,S,w){switch(p){case"children":typeof O=="string"?u==="body"||u==="textarea"&&O===""||Hi(c,O):(typeof O=="number"||typeof O=="bigint")&&u!=="body"&&Hi(c,""+O);break;case"className":Xr(c,"class",O);break;case"tabIndex":Xr(c,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(c,p,O);break;case"style":Pl(c,O,w);break;case"data":if(u!=="object"){Xr(c,"data",O);break}case"src":case"href":if(O===""&&(u!=="a"||p!=="href")){c.removeAttribute(p);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){c.removeAttribute(p);break}O=xa(""+O),c.setAttribute(p,O);break;case"action":case"formAction":if(typeof O=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof w=="function"&&(p==="formAction"?(u!=="input"&&pt(c,u,"name",S.name,S,null),pt(c,u,"formEncType",S.formEncType,S,null),pt(c,u,"formMethod",S.formMethod,S,null),pt(c,u,"formTarget",S.formTarget,S,null)):(pt(c,u,"encType",S.encType,S,null),pt(c,u,"method",S.method,S,null),pt(c,u,"target",S.target,S,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){c.removeAttribute(p);break}O=xa(""+O),c.setAttribute(p,O);break;case"onClick":O!=null&&(c.onclick=qn);break;case"onScroll":O!=null&&Fe("scroll",c);break;case"onScrollEnd":O!=null&&Fe("scrollend",c);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(p=O.__html,p!=null){if(S.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"multiple":c.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":c.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){c.removeAttribute("xlink:href");break}p=xa(""+O),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,""+O):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":O===!0?c.setAttribute(p,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,O):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?c.setAttribute(p,O):c.removeAttribute(p);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?c.removeAttribute(p):c.setAttribute(p,O);break;case"popover":Fe("beforetoggle",c),Fe("toggle",c),va(c,"popover",O);break;case"xlinkActuate":Mn(c,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":Mn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":Mn(c,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":Mn(c,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":Mn(c,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":Mn(c,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":va(c,"is",O);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=cc.get(p)||p,va(c,p,O))}}function Ku(c,u,p,O,S,w){switch(p){case"style":Pl(c,O,w);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(s(61));if(p=O.__html,p!=null){if(S.children!=null)throw Error(s(60));c.innerHTML=p}}break;case"children":typeof O=="string"?Hi(c,O):(typeof O=="number"||typeof O=="bigint")&&Hi(c,""+O);break;case"onScroll":O!=null&&Fe("scroll",c);break;case"onScrollEnd":O!=null&&Fe("scrollend",c);break;case"onClick":O!=null&&(c.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(S=p.endsWith("Capture"),u=p.slice(2,S?p.length-7:void 0),w=c[nn]||null,w=w!=null?w[p]:null,typeof w=="function"&&c.removeEventListener(u,w,S),typeof O=="function")){typeof w!="function"&&w!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(u,O,S);break e}p in c?c[p]=O:O===!0?c.setAttribute(p,""):va(c,p,O)}}}function Wt(c,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",c),Fe("load",c);var O=!1,S=!1,w;for(w in p)if(p.hasOwnProperty(w)){var _=p[w];if(_!=null)switch(w){case"src":O=!0;break;case"srcSet":S=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:pt(c,u,w,_,p,null)}}S&&pt(c,u,"srcSet",p.srcSet,p,null),O&&pt(c,u,"src",p.src,p,null);return;case"input":Fe("invalid",c);var D=w=_=S=null,Y=null,se=null;for(O in p)if(p.hasOwnProperty(O)){var me=p[O];if(me!=null)switch(O){case"name":S=me;break;case"type":_=me;break;case"checked":Y=me;break;case"defaultChecked":se=me;break;case"value":w=me;break;case"defaultValue":D=me;break;case"children":case"dangerouslySetInnerHTML":if(me!=null)throw Error(s(137,u));break;default:pt(c,u,O,me,p,null)}}ba(c,w,D,Y,se,_,S,!1);return;case"select":Fe("invalid",c),O=_=w=null;for(S in p)if(p.hasOwnProperty(S)&&(D=p[S],D!=null))switch(S){case"value":w=D;break;case"defaultValue":_=D;break;case"multiple":O=D;default:pt(c,u,S,D,p,null)}u=w,p=_,c.multiple=!!O,u!=null?Ii(c,!!O,u,!1):p!=null&&Ii(c,!!O,p,!0);return;case"textarea":Fe("invalid",c),w=S=O=null;for(_ in p)if(p.hasOwnProperty(_)&&(D=p[_],D!=null))switch(_){case"value":O=D;break;case"defaultValue":S=D;break;case"children":w=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(s(91));break;default:pt(c,u,_,D,p,null)}$l(c,O,S,w);return;case"option":for(Y in p)p.hasOwnProperty(Y)&&(O=p[Y],O!=null)&&(Y==="selected"?c.selected=O&&typeof O!="function"&&typeof O!="symbol":pt(c,u,Y,O,p,null));return;case"dialog":Fe("beforetoggle",c),Fe("toggle",c),Fe("cancel",c),Fe("close",c);break;case"iframe":case"object":Fe("load",c);break;case"video":case"audio":for(O=0;O<ll.length;O++)Fe(ll[O],c);break;case"image":Fe("error",c),Fe("load",c);break;case"details":Fe("toggle",c);break;case"embed":case"source":case"link":Fe("error",c),Fe("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(se in p)if(p.hasOwnProperty(se)&&(O=p[se],O!=null))switch(se){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,u));default:pt(c,u,se,O,p,null)}return;default:if(us(u)){for(me in p)p.hasOwnProperty(me)&&(O=p[me],O!==void 0&&Ku(c,u,me,O,p,void 0));return}}for(D in p)p.hasOwnProperty(D)&&(O=p[D],O!=null&&pt(c,u,D,O,p,null))}function Ip(c,u,p,O){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var S=null,w=null,_=null,D=null,Y=null,se=null,me=null;for(de in p){var be=p[de];if(p.hasOwnProperty(de)&&be!=null)switch(de){case"checked":break;case"value":break;case"defaultValue":Y=be;default:O.hasOwnProperty(de)||pt(c,u,de,null,O,be)}}for(var ce in O){var de=O[ce];if(be=p[ce],O.hasOwnProperty(ce)&&(de!=null||be!=null))switch(ce){case"type":w=de;break;case"name":S=de;break;case"checked":se=de;break;case"defaultChecked":me=de;break;case"value":_=de;break;case"defaultValue":D=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(s(137,u));break;default:de!==be&&pt(c,u,ce,de,O,be)}}os(c,_,D,Y,se,me,w,S);return;case"select":de=_=D=ce=null;for(w in p)if(Y=p[w],p.hasOwnProperty(w)&&Y!=null)switch(w){case"value":break;case"multiple":de=Y;default:O.hasOwnProperty(w)||pt(c,u,w,null,O,Y)}for(S in O)if(w=O[S],Y=p[S],O.hasOwnProperty(S)&&(w!=null||Y!=null))switch(S){case"value":ce=w;break;case"defaultValue":D=w;break;case"multiple":_=w;default:w!==Y&&pt(c,u,S,w,O,Y)}u=D,p=_,O=de,ce!=null?Ii(c,!!p,ce,!1):!!O!=!!p&&(u!=null?Ii(c,!!p,u,!0):Ii(c,!!p,p?[]:"",!1));return;case"textarea":de=ce=null;for(D in p)if(S=p[D],p.hasOwnProperty(D)&&S!=null&&!O.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:pt(c,u,D,null,O,S)}for(_ in O)if(S=O[_],w=p[_],O.hasOwnProperty(_)&&(S!=null||w!=null))switch(_){case"value":ce=S;break;case"defaultValue":de=S;break;case"children":break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:S!==w&&pt(c,u,_,S,O,w)}Al(c,ce,de);return;case"option":for(var De in p)ce=p[De],p.hasOwnProperty(De)&&ce!=null&&!O.hasOwnProperty(De)&&(De==="selected"?c.selected=!1:pt(c,u,De,null,O,ce));for(Y in O)ce=O[Y],de=p[Y],O.hasOwnProperty(Y)&&ce!==de&&(ce!=null||de!=null)&&(Y==="selected"?c.selected=ce&&typeof ce!="function"&&typeof ce!="symbol":pt(c,u,Y,ce,O,de));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in p)ce=p[ze],p.hasOwnProperty(ze)&&ce!=null&&!O.hasOwnProperty(ze)&&pt(c,u,ze,null,O,ce);for(se in O)if(ce=O[se],de=p[se],O.hasOwnProperty(se)&&ce!==de&&(ce!=null||de!=null))switch(se){case"children":case"dangerouslySetInnerHTML":if(ce!=null)throw Error(s(137,u));break;default:pt(c,u,se,ce,O,de)}return;default:if(us(u)){for(var gt in p)ce=p[gt],p.hasOwnProperty(gt)&&ce!==void 0&&!O.hasOwnProperty(gt)&&Ku(c,u,gt,void 0,O,ce);for(me in O)ce=O[me],de=p[me],!O.hasOwnProperty(me)||ce===de||ce===void 0&&de===void 0||Ku(c,u,me,ce,O,de);return}}for(var te in p)ce=p[te],p.hasOwnProperty(te)&&ce!=null&&!O.hasOwnProperty(te)&&pt(c,u,te,null,O,ce);for(be in O)ce=O[be],de=p[be],!O.hasOwnProperty(be)||ce===de||ce==null&&de==null||pt(c,u,be,ce,O,de)}function Pd(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hp(){if(typeof performance.getEntriesByType=="function"){for(var c=0,u=0,p=performance.getEntriesByType("resource"),O=0;O<p.length;O++){var S=p[O],w=S.transferSize,_=S.initiatorType,D=S.duration;if(w&&D&&Pd(_)){for(_=0,D=S.responseEnd,O+=1;O<p.length;O++){var Y=p[O],se=Y.startTime;if(se>D)break;var me=Y.transferSize,be=Y.initiatorType;me&&Pd(be)&&(Y=Y.responseEnd,_+=me*(Y<D?1:(D-se)/(Y-se)))}if(--O,u+=8*(w+_)/(S.duration/1e3),c++,10<c)break}}if(0<c)return u/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Ju=null,ef=null;function Uo(c){return c.nodeType===9?c:c.ownerDocument}function Md(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dd(c,u){if(c===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&u==="foreignObject"?0:c}function tf(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var nf=null;function Wp(){var c=window.event;return c&&c.type==="popstate"?c===nf?!1:(nf=c,!0):(nf=null,!1)}var Nd=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(c){return Ld.resolve(null).then(c).catch(Jp)}:Nd;function Jp(c){setTimeout(function(){throw c})}function wr(c){return c==="head"}function Bd(c,u){var p=u,O=0;do{var S=p.nextSibling;if(c.removeChild(p),S&&S.nodeType===8)if(p=S.data,p==="/$"||p==="/&"){if(O===0){c.removeChild(S),ns(u);return}O--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")O++;else if(p==="html")cl(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,cl(p);for(var w=p.firstChild;w;){var _=w.nextSibling,D=w.nodeName;w[Lr]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&w.rel.toLowerCase()==="stylesheet"||p.removeChild(w),w=_}}else p==="body"&&cl(c.ownerDocument.body);p=S}while(p);ns(u)}function Zd(c,u){var p=c;c=0;do{var O=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),O&&O.nodeType===8)if(p=O.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=O}while(p)}function rf(c){var u=c.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":rf(p),ss(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function em(c,u,p,O){for(;c.nodeType===1;){var S=p;if(c.nodeName.toLowerCase()!==u.toLowerCase()){if(!O&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(O){if(!c[Lr])switch(u){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(w=c.getAttribute("rel"),w==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(w!==S.rel||c.getAttribute("href")!==(S.href==null||S.href===""?null:S.href)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin)||c.getAttribute("title")!==(S.title==null?null:S.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(w=c.getAttribute("src"),(w!==(S.src==null?null:S.src)||c.getAttribute("type")!==(S.type==null?null:S.type)||c.getAttribute("crossorigin")!==(S.crossOrigin==null?null:S.crossOrigin))&&w&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(u==="input"&&c.type==="hidden"){var w=S.name==null?null:""+S.name;if(S.type==="hidden"&&c.getAttribute("name")===w)return c}else return c;if(c=jn(c.nextSibling),c===null)break}return null}function tm(c,u,p){if(u==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=jn(c.nextSibling),c===null))return null;return c}function zd(c,u){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!u||(c=jn(c.nextSibling),c===null))return null;return c}function af(c){return c.data==="$?"||c.data==="$~"}function sf(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function nm(c,u){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=u;else if(c.data!=="$?"||p.readyState!=="loading")u();else{var O=function(){u(),p.removeEventListener("DOMContentLoaded",O)};p.addEventListener("DOMContentLoaded",O),c._reactRetry=O}}function jn(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return c}var lf=null;function jd(c){c=c.nextSibling;for(var u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(u===0)return jn(c.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}c=c.nextSibling}return null}function Xd(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return c;u--}else p!=="/$"&&p!=="/&"||u++}c=c.previousSibling}return null}function Ud(c,u,p){switch(u=Uo(p),c){case"html":if(c=u.documentElement,!c)throw Error(s(452));return c;case"head":if(c=u.head,!c)throw Error(s(453));return c;case"body":if(c=u.body,!c)throw Error(s(454));return c;default:throw Error(s(451))}}function cl(c){for(var u=c.attributes;u.length;)c.removeAttributeNode(u[0]);ss(c)}var Xn=new Map,Vd=new Set;function Vo(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Bi=ue.d;ue.d={f:im,r:am,D:sm,C:lm,L:om,m:cm,X:fm,S:um,M:hm};function im(){var c=Bi.f(),u=Do();return c||u}function am(c){var u=Vi(c);u!==null&&u.tag===5&&u.type==="form"?sh(u):Bi.r(c)}var Fa=typeof document>"u"?null:document;function qd(c,u,p){var O=Fa;if(O&&typeof u=="string"&&u){var S=mn(u);S='link[rel="'+c+'"][href="'+S+'"]',typeof p=="string"&&(S+='[crossorigin="'+p+'"]'),Vd.has(S)||(Vd.add(S),c={rel:c,crossOrigin:p,href:u},O.querySelector(S)===null&&(u=O.createElement("link"),Wt(u,"link",c),$t(u),O.head.appendChild(u)))}}function sm(c){Bi.D(c),qd("dns-prefetch",c,null)}function lm(c,u){Bi.C(c,u),qd("preconnect",c,u)}function om(c,u,p){Bi.L(c,u,p);var O=Fa;if(O&&c&&u){var S='link[rel="preload"][as="'+mn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(S+='[imagesrcset="'+mn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(S+='[imagesizes="'+mn(p.imageSizes)+'"]')):S+='[href="'+mn(c)+'"]';var w=S;switch(u){case"style":w=Ka(c);break;case"script":w=Ja(c)}Xn.has(w)||(c=v({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:c,as:u},p),Xn.set(w,c),O.querySelector(S)!==null||u==="style"&&O.querySelector(ul(w))||u==="script"&&O.querySelector(fl(w))||(u=O.createElement("link"),Wt(u,"link",c),$t(u),O.head.appendChild(u)))}}function cm(c,u){Bi.m(c,u);var p=Fa;if(p&&c){var O=u&&typeof u.as=="string"?u.as:"script",S='link[rel="modulepreload"][as="'+mn(O)+'"][href="'+mn(c)+'"]',w=S;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":w=Ja(c)}if(!Xn.has(w)&&(c=v({rel:"modulepreload",href:c},u),Xn.set(w,c),p.querySelector(S)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(fl(w)))return}O=p.createElement("link"),Wt(O,"link",c),$t(O),p.head.appendChild(O)}}}function um(c,u,p){Bi.S(c,u,p);var O=Fa;if(O&&c){var S=qi(O).hoistableStyles,w=Ka(c);u=u||"default";var _=S.get(w);if(!_){var D={loading:0,preload:null};if(_=O.querySelector(ul(w)))D.loading=5;else{c=v({rel:"stylesheet",href:c,"data-precedence":u},p),(p=Xn.get(w))&&of(c,p);var Y=_=O.createElement("link");$t(Y),Wt(Y,"link",c),Y._p=new Promise(function(se,me){Y.onload=se,Y.onerror=me}),Y.addEventListener("load",function(){D.loading|=1}),Y.addEventListener("error",function(){D.loading|=2}),D.loading|=4,qo(_,u,O)}_={type:"stylesheet",instance:_,count:1,state:D},S.set(w,_)}}}function fm(c,u){Bi.X(c,u);var p=Fa;if(p&&c){var O=qi(p).hoistableScripts,S=Ja(c),w=O.get(S);w||(w=p.querySelector(fl(S)),w||(c=v({src:c,async:!0},u),(u=Xn.get(S))&&cf(c,u),w=p.createElement("script"),$t(w),Wt(w,"link",c),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},O.set(S,w))}}function hm(c,u){Bi.M(c,u);var p=Fa;if(p&&c){var O=qi(p).hoistableScripts,S=Ja(c),w=O.get(S);w||(w=p.querySelector(fl(S)),w||(c=v({src:c,async:!0,type:"module"},u),(u=Xn.get(S))&&cf(c,u),w=p.createElement("script"),$t(w),Wt(w,"link",c),p.head.appendChild(w)),w={type:"script",instance:w,count:1,state:null},O.set(S,w))}}function Yd(c,u,p,O){var S=(S=$e.current)?Vo(S):null;if(!S)throw Error(s(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Ka(p.href),p=qi(S).hoistableStyles,O=p.get(u),O||(O={type:"style",instance:null,count:0,state:null},p.set(u,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Ka(p.href);var w=qi(S).hoistableStyles,_=w.get(c);if(_||(S=S.ownerDocument||S,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},w.set(c,_),(w=S.querySelector(ul(c)))&&!w._p&&(_.instance=w,_.state.loading=5),Xn.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Xn.set(c,p),w||dm(S,c,p,_.state))),u&&O===null)throw Error(s(528,""));return _}if(u&&O!==null)throw Error(s(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ja(p),p=qi(S).hoistableScripts,O=p.get(u),O||(O={type:"script",instance:null,count:0,state:null},p.set(u,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,c))}}function Ka(c){return'href="'+mn(c)+'"'}function ul(c){return'link[rel="stylesheet"]['+c+"]"}function Gd(c){return v({},c,{"data-precedence":c.precedence,precedence:null})}function dm(c,u,p,O){c.querySelector('link[rel="preload"][as="style"]['+u+"]")?O.loading=1:(u=c.createElement("link"),O.preload=u,u.addEventListener("load",function(){return O.loading|=1}),u.addEventListener("error",function(){return O.loading|=2}),Wt(u,"link",p),$t(u),c.head.appendChild(u))}function Ja(c){return'[src="'+mn(c)+'"]'}function fl(c){return"script[async]"+c}function Id(c,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var O=c.querySelector('style[data-href~="'+mn(p.href)+'"]');if(O)return u.instance=O,$t(O),O;var S=v({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return O=(c.ownerDocument||c).createElement("style"),$t(O),Wt(O,"style",S),qo(O,p.precedence,c),u.instance=O;case"stylesheet":S=Ka(p.href);var w=c.querySelector(ul(S));if(w)return u.state.loading|=4,u.instance=w,$t(w),w;O=Gd(p),(S=Xn.get(S))&&of(O,S),w=(c.ownerDocument||c).createElement("link"),$t(w);var _=w;return _._p=new Promise(function(D,Y){_.onload=D,_.onerror=Y}),Wt(w,"link",O),u.state.loading|=4,qo(w,p.precedence,c),u.instance=w;case"script":return w=Ja(p.src),(S=c.querySelector(fl(w)))?(u.instance=S,$t(S),S):(O=p,(S=Xn.get(w))&&(O=v({},p),cf(O,S)),c=c.ownerDocument||c,S=c.createElement("script"),$t(S),Wt(S,"link",O),c.head.appendChild(S),u.instance=S);case"void":return null;default:throw Error(s(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(O=u.instance,u.state.loading|=4,qo(O,p.precedence,c));return u.instance}function qo(c,u,p){for(var O=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),S=O.length?O[O.length-1]:null,w=S,_=0;_<O.length;_++){var D=O[_];if(D.dataset.precedence===u)w=D;else if(w!==S)break}w?w.parentNode.insertBefore(c,w.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(c,u.firstChild))}function of(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.title==null&&(c.title=u.title)}function cf(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.integrity==null&&(c.integrity=u.integrity)}var Yo=null;function Hd(c,u,p){if(Yo===null){var O=new Map,S=Yo=new Map;S.set(p,O)}else S=Yo,O=S.get(p),O||(O=new Map,S.set(p,O));if(O.has(c))return O;for(O.set(c,null),p=p.getElementsByTagName(c),S=0;S<p.length;S++){var w=p[S];if(!(w[Lr]||w[zt]||c==="link"&&w.getAttribute("rel")==="stylesheet")&&w.namespaceURI!=="http://www.w3.org/2000/svg"){var _=w.getAttribute(u)||"";_=c+_;var D=O.get(_);D?D.push(w):O.set(_,[w])}}return O}function Wd(c,u,p){c=c.ownerDocument||c,c.head.insertBefore(p,u==="title"?c.querySelector("head > title"):null)}function pm(c,u,p){if(p===1||u.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(c=u.disabled,typeof u.precedence=="string"&&c==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Fd(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function mm(c,u,p,O){if(p.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var S=Ka(O.href),w=u.querySelector(ul(S));if(w){u=w._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(c.count++,c=Go.bind(c),u.then(c,c)),p.state.loading|=4,p.instance=w,$t(w);return}w=u.ownerDocument||u,O=Gd(O),(S=Xn.get(S))&&of(O,S),w=w.createElement("link"),$t(w);var _=w;_._p=new Promise(function(D,Y){_.onload=D,_.onerror=Y}),Wt(w,"link",O),p.instance=w}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Go.bind(c),u.addEventListener("load",p),u.addEventListener("error",p))}}var uf=0;function gm(c,u){return c.stylesheets&&c.count===0&&Ho(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var O=setTimeout(function(){if(c.stylesheets&&Ho(c,c.stylesheets),c.unsuspend){var w=c.unsuspend;c.unsuspend=null,w()}},6e4+u);0<c.imgBytes&&uf===0&&(uf=62500*Hp());var S=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Ho(c,c.stylesheets),c.unsuspend)){var w=c.unsuspend;c.unsuspend=null,w()}},(c.imgBytes>uf?50:800)+u);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(O),clearTimeout(S)}}:null}function Go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ho(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Io=null;function Ho(c,u){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Io=new Map,u.forEach(Om,c),Io=null,Go.call(c))}function Om(c,u){if(!(u.state.loading&4)){var p=Io.get(c);if(p)var O=p.get(null);else{p=new Map,Io.set(c,p);for(var S=c.querySelectorAll("link[data-precedence],style[data-precedence]"),w=0;w<S.length;w++){var _=S[w];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(p.set(_.dataset.precedence,_),O=_)}O&&p.set(null,O)}S=u.instance,_=S.getAttribute("data-precedence"),w=p.get(_)||O,w===O&&p.set(null,S),p.set(_,S),this.count++,O=Go.bind(this),S.addEventListener("load",O),S.addEventListener("error",O),w?w.parentNode.insertBefore(S,w.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(S,c.firstChild)),u.state.loading|=4}}var hl={$$typeof:X,Provider:null,Consumer:null,_currentValue:ke,_currentValue2:ke,_threadCount:0};function ym(c,u,p,O,S,w,_,D,Y){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=O,this.onUncaughtError=S,this.onCaughtError=w,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Y,this.incompleteTransitions=new Map}function Kd(c,u,p,O,S,w,_,D,Y,se,me,be){return c=new ym(c,u,p,_,Y,se,me,be,D),u=1,w===!0&&(u|=24),w=Yt(3,null,null,u),c.current=w,w.stateNode=c,u=oe(),u.refCount++,c.pooledCache=u,u.refCount++,w.memoizedState={element:O,isDehydrated:p,cache:u},Yc(w),c}function Jd(c){return c?(c=rr,c):rr}function ep(c,u,p,O,S,w){S=Jd(S),O.context===null?O.context=S:O.pendingContext=S,O=cr(u),O.payload={element:p},w=w===void 0?null:w,w!==null&&(O.callback=w),p=ur(c,O,u),p!==null&&(Cn(p,c,u),Us(p,c,u))}function tp(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<u?p:u}}function ff(c,u){tp(c,u),(c=c.alternate)&&tp(c,u)}function np(c){if(c.tag===13||c.tag===31){var u=Ti(c,67108864);u!==null&&Cn(u,c,67108864),ff(c,67108864)}}function ip(c){if(c.tag===13||c.tag===31){var u=Pn();u=ya(u);var p=Ti(c,u);p!==null&&Cn(p,c,u),ff(c,u)}}var Wo=!0;function vm(c,u,p,O){var S=W.T;W.T=null;var w=ue.p;try{ue.p=2,hf(c,u,p,O)}finally{ue.p=w,W.T=S}}function Sm(c,u,p,O){var S=W.T;W.T=null;var w=ue.p;try{ue.p=8,hf(c,u,p,O)}finally{ue.p=w,W.T=S}}function hf(c,u,p,O){if(Wo){var S=df(O);if(S===null)Fu(c,u,O,Fo,p),ap(c,O);else if(xm(S,c,u,p,O))O.stopPropagation();else if(ap(c,O),u&4&&-1<bm.indexOf(c)){for(;S!==null;){var w=Vi(S);if(w!==null)switch(w.tag){case 3:if(w=w.stateNode,w.current.memoizedState.isDehydrated){var _=vi(w.pendingLanes);if(_!==0){var D=w;for(D.pendingLanes|=2,D.entangledLanes|=2;_;){var Y=1<<31-Tt(_);D.entanglements[1]|=Y,_&=~Y}mi(w),(at&6)===0&&(Po=Ct()+500,sl(0))}}break;case 31:case 13:D=Ti(w,2),D!==null&&Cn(D,w,2),Do(),ff(w,2)}if(w=df(O),w===null&&Fu(c,u,O,Fo,p),w===S)break;S=w}S!==null&&O.stopPropagation()}else Fu(c,u,O,null,p)}}function df(c){return c=hs(c),pf(c)}var Fo=null;function pf(c){if(Fo=null,c=Ui(c),c!==null){var u=f(c);if(u===null)c=null;else{var p=u.tag;if(p===13){if(c=h(u),c!==null)return c;c=null}else if(p===31){if(c=d(u),c!==null)return c;c=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null)}}return Fo=c,null}function rp(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Zi:return 2;case zi:return 8;case Ot:case Et:return 32;case At:return 268435456;default:return 32}default:return 32}}var mf=!1,Tr=null,Cr=null,Er=null,dl=new Map,pl=new Map,_r=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(c,u){switch(c){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":dl.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":pl.delete(u.pointerId)}}function ml(c,u,p,O,S,w){return c===null||c.nativeEvent!==w?(c={blockedOn:u,domEventName:p,eventSystemFlags:O,nativeEvent:w,targetContainers:[S]},u!==null&&(u=Vi(u),u!==null&&np(u)),c):(c.eventSystemFlags|=O,u=c.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),c)}function xm(c,u,p,O,S){switch(u){case"focusin":return Tr=ml(Tr,c,u,p,O,S),!0;case"dragenter":return Cr=ml(Cr,c,u,p,O,S),!0;case"mouseover":return Er=ml(Er,c,u,p,O,S),!0;case"pointerover":var w=S.pointerId;return dl.set(w,ml(dl.get(w)||null,c,u,p,O,S)),!0;case"gotpointercapture":return w=S.pointerId,pl.set(w,ml(pl.get(w)||null,c,u,p,O,S)),!0}return!1}function sp(c){var u=Ui(c.target);if(u!==null){var p=f(u);if(p!==null){if(u=p.tag,u===13){if(u=h(p),u!==null){c.blockedOn=u,bl(c.priority,function(){ip(p)});return}}else if(u===31){if(u=d(p),u!==null){c.blockedOn=u,bl(c.priority,function(){ip(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ko(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var p=df(c.nativeEvent);if(p===null){p=c.nativeEvent;var O=new p.constructor(p.type,p);fs=O,p.target.dispatchEvent(O),fs=null}else return u=Vi(p),u!==null&&np(u),c.blockedOn=p,!1;u.shift()}return!0}function lp(c,u,p){Ko(c)&&p.delete(u)}function wm(){mf=!1,Tr!==null&&Ko(Tr)&&(Tr=null),Cr!==null&&Ko(Cr)&&(Cr=null),Er!==null&&Ko(Er)&&(Er=null),dl.forEach(lp),pl.forEach(lp)}function Jo(c,u){c.blockedOn===u&&(c.blockedOn=null,mf||(mf=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,wm)))}var ec=null;function op(c){ec!==c&&(ec=c,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ec===c&&(ec=null);for(var u=0;u<c.length;u+=3){var p=c[u],O=c[u+1],S=c[u+2];if(typeof O!="function"){if(pf(O||p)===null)continue;break}var w=Vi(p);w!==null&&(c.splice(u,3),u-=3,hu(w,{pending:!0,data:S,method:p.method,action:O},O,S))}}))}function ns(c){function u(Y){return Jo(Y,c)}Tr!==null&&Jo(Tr,c),Cr!==null&&Jo(Cr,c),Er!==null&&Jo(Er,c),dl.forEach(u),pl.forEach(u);for(var p=0;p<_r.length;p++){var O=_r[p];O.blockedOn===c&&(O.blockedOn=null)}for(;0<_r.length&&(p=_r[0],p.blockedOn===null);)sp(p),p.blockedOn===null&&_r.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(O=0;O<p.length;O+=3){var S=p[O],w=p[O+1],_=S[nn]||null;if(typeof w=="function")_||op(p);else if(_){var D=null;if(w&&w.hasAttribute("formAction")){if(S=w,_=w[nn]||null)D=_.formAction;else if(pf(S)!==null)continue}else D=_.action;typeof D=="function"?p[O+1]=D:(p.splice(O,3),O-=3),op(p)}}}function cp(){function c(w){w.canIntercept&&w.info==="react-transition"&&w.intercept({handler:function(){return new Promise(function(_){return S=_})},focusReset:"manual",scroll:"manual"})}function u(){S!==null&&(S(),S=null),O||setTimeout(p,20)}function p(){if(!O&&!navigation.transition){var w=navigation.currentEntry;w&&w.url!=null&&navigation.navigate(w.url,{state:w.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,S=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){O=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),S!==null&&(S(),S=null)}}}function gf(c){this._internalRoot=c}tc.prototype.render=gf.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(s(409));var p=u.current,O=Pn();ep(p,O,c,u,null,null)},tc.prototype.unmount=gf.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;ep(c.current,2,null,c,null,null),Do(),u[Xi]=null}};function tc(c){this._internalRoot=c}tc.prototype.unstable_scheduleHydration=function(c){if(c){var u=Sl();c={blockedOn:null,target:c,priority:u};for(var p=0;p<_r.length&&u!==0&&u<_r[p].priority;p++);_r.splice(p,0,c),p===0&&sp(c)}};var up=r.version;if(up!=="19.2.4")throw Error(s(527,up,"19.2.4"));ue.findDOMNode=function(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(s(188)):(c=Object.keys(c).join(","),Error(s(268,c)));return c=m(u),c=c!==null?y(c):null,c=c===null?null:c.stateNode,c};var km={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Dt=nc.inject(km),bt=nc}catch{}}return reactDomClient_production.createRoot=function(c,u){if(!o(c))throw Error(s(299));var p=!1,O="",S=gh,w=Oh,_=yh;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(O=u.identifierPrefix),u.onUncaughtError!==void 0&&(S=u.onUncaughtError),u.onCaughtError!==void 0&&(w=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Kd(c,1,!1,null,null,p,O,null,S,w,_,cp),c[Xi]=u.current,Wu(c),new gf(u)},reactDomClient_production.hydrateRoot=function(c,u,p){if(!o(c))throw Error(s(299));var O=!1,S="",w=gh,_=Oh,D=yh,Y=null;return p!=null&&(p.unstable_strictMode===!0&&(O=!0),p.identifierPrefix!==void 0&&(S=p.identifierPrefix),p.onUncaughtError!==void 0&&(w=p.onUncaughtError),p.onCaughtError!==void 0&&(_=p.onCaughtError),p.onRecoverableError!==void 0&&(D=p.onRecoverableError),p.formState!==void 0&&(Y=p.formState)),u=Kd(c,1,!0,u,p??null,O,S,Y,w,_,D,cp),u.context=Jd(null),p=u.current,O=Pn(),O=ya(O),S=cr(O),S.callback=null,ur(p,S,O),p=O,u.current.lanes=p,ji(u,p),mi(u),c[Xi]=u.current,Wu(c),new tc(u)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(r){console.error(r)}}return l(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function _extends(){return _extends=Object.assign?Object.assign.bind():function(l){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var s in a)({}).hasOwnProperty.call(a,s)&&(l[s]=a[s])}return l},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(l,r){if(l==null)return{};var a={};for(var s in l)if({}.hasOwnProperty.call(l,s)){if(r.indexOf(s)!==-1)continue;a[s]=l[s]}return a}let rangeFrom=[],rangeTo=[];(()=>{let l="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=0,a=0;r<l.length;r++)(r%2?rangeTo:rangeFrom).push(a=a+l[r])})();function isExtendingChar(l){if(l<768)return!1;for(let r=0,a=rangeFrom.length;;){let s=r+a>>1;if(l<rangeFrom[s])a=s;else if(l>=rangeTo[s])r=s+1;else return!0;if(r==a)return!1}}function isRegionalIndicator(l){return l>=127462&&l<=127487}const ZWJ=8205;function findClusterBreak$1(l,r,a=!0,s=!0){return(a?nextClusterBreak:prevClusterBreak)(l,r,s)}function nextClusterBreak(l,r,a){if(r==l.length)return r;r&&surrogateLow$1(l.charCodeAt(r))&&surrogateHigh$1(l.charCodeAt(r-1))&&r--;let s=codePointAt$1(l,r);for(r+=codePointSize$1(s);r<l.length;){let o=codePointAt$1(l,r);if(s==ZWJ||o==ZWJ||a&&isExtendingChar(o))r+=codePointSize$1(o),s=o;else if(isRegionalIndicator(o)){let f=0,h=r-2;for(;h>=0&&isRegionalIndicator(codePointAt$1(l,h));)f++,h-=2;if(f%2==0)break;r+=2}else break}return r}function prevClusterBreak(l,r,a){for(;r>0;){let s=nextClusterBreak(l,r-2,a);if(s<r)return s;r--}return 0}function codePointAt$1(l,r){let a=l.charCodeAt(r);if(!surrogateHigh$1(a)||r+1==l.length)return a;let s=l.charCodeAt(r+1);return surrogateLow$1(s)?(a-55296<<10)+(s-56320)+65536:a}function surrogateLow$1(l){return l>=56320&&l<57344}function surrogateHigh$1(l){return l>=55296&&l<56320}function codePointSize$1(l){return l<65536?1:2}class Text{lineAt(r){if(r<0||r>this.length)throw new RangeError(`Invalid position ${r} in document of length ${this.length}`);return this.lineInner(r,!1,1,0)}line(r){if(r<1||r>this.lines)throw new RangeError(`Invalid line number ${r} in ${this.lines}-line document`);return this.lineInner(r,!0,1,0)}replace(r,a,s){[r,a]=clip(this,r,a);let o=[];return this.decompose(0,r,o,2),s.length&&s.decompose(0,s.length,o,3),this.decompose(a,this.length,o,1),TextNode.from(o,this.length-(a-r)+s.length)}append(r){return this.replace(this.length,this.length,r)}slice(r,a=this.length){[r,a]=clip(this,r,a);let s=[];return this.decompose(r,a,s,0),TextNode.from(s,a-r)}eq(r){if(r==this)return!0;if(r.length!=this.length||r.lines!=this.lines)return!1;let a=this.scanIdentical(r,1),s=this.length-this.scanIdentical(r,-1),o=new RawTextCursor(this),f=new RawTextCursor(r);for(let h=a,d=a;;){if(o.next(h),f.next(h),h=0,o.lineBreak!=f.lineBreak||o.done!=f.done||o.value!=f.value)return!1;if(d+=o.value.length,o.done||d>=s)return!0}}iter(r=1){return new RawTextCursor(this,r)}iterRange(r,a=this.length){return new PartialTextCursor(this,r,a)}iterLines(r,a){let s;if(r==null)s=this.iter();else{a==null&&(a=this.lines+1);let o=this.line(r).from;s=this.iterRange(o,Math.max(o,a==this.lines+1?this.length:a<=1?0:this.line(a-1).to))}return new LineCursor(s)}toString(){return this.sliceString(0)}toJSON(){let r=[];return this.flatten(r),r}constructor(){}static of(r){if(r.length==0)throw new RangeError("A document must have at least one line");return r.length==1&&!r[0]?Text.empty:r.length<=32?new TextLeaf(r):TextNode.from(TextLeaf.split(r,[]))}}class TextLeaf extends Text{constructor(r,a=textLength(r)){super(),this.text=r,this.length=a}get lines(){return this.text.length}get children(){return null}lineInner(r,a,s,o){for(let f=0;;f++){let h=this.text[f],d=o+h.length;if((a?s:d)>=r)return new Line(o,d,s,h);o=d+1,s++}}decompose(r,a,s,o){let f=r<=0&&a>=this.length?this:new TextLeaf(sliceText(this.text,r,a),Math.min(a,this.length)-Math.max(0,r));if(o&1){let h=s.pop(),d=appendText(f.text,h.text.slice(),0,f.length);if(d.length<=32)s.push(new TextLeaf(d,h.length+f.length));else{let g=d.length>>1;s.push(new TextLeaf(d.slice(0,g)),new TextLeaf(d.slice(g)))}}else s.push(f)}replace(r,a,s){if(!(s instanceof TextLeaf))return super.replace(r,a,s);[r,a]=clip(this,r,a);let o=appendText(this.text,appendText(s.text,sliceText(this.text,0,r)),a),f=this.length+s.length-(a-r);return o.length<=32?new TextLeaf(o,f):TextNode.from(TextLeaf.split(o,[]),f)}sliceString(r,a=this.length,s=`
`){[r,a]=clip(this,r,a);let o="";for(let f=0,h=0;f<=a&&h<this.text.length;h++){let d=this.text[h],g=f+d.length;f>r&&h&&(o+=s),r<g&&a>f&&(o+=d.slice(Math.max(0,r-f),a-f)),f=g+1}return o}flatten(r){for(let a of this.text)r.push(a)}scanIdentical(){return 0}static split(r,a){let s=[],o=-1;for(let f of r)s.push(f),o+=f.length+1,s.length==32&&(a.push(new TextLeaf(s,o)),s=[],o=-1);return o>-1&&a.push(new TextLeaf(s,o)),a}}class TextNode extends Text{constructor(r,a){super(),this.children=r,this.length=a,this.lines=0;for(let s of r)this.lines+=s.lines}lineInner(r,a,s,o){for(let f=0;;f++){let h=this.children[f],d=o+h.length,g=s+h.lines-1;if((a?g:d)>=r)return h.lineInner(r,a,s,o);o=d+1,s=g+1}}decompose(r,a,s,o){for(let f=0,h=0;h<=a&&f<this.children.length;f++){let d=this.children[f],g=h+d.length;if(r<=g&&a>=h){let m=o&((h<=r?1:0)|(g>=a?2:0));h>=r&&g<=a&&!m?s.push(d):d.decompose(r-h,a-h,s,m)}h=g+1}}replace(r,a,s){if([r,a]=clip(this,r,a),s.lines<this.lines)for(let o=0,f=0;o<this.children.length;o++){let h=this.children[o],d=f+h.length;if(r>=f&&a<=d){let g=h.replace(r-f,a-f,s),m=this.lines-h.lines+g.lines;if(g.lines<m>>4&&g.lines>m>>6){let y=this.children.slice();return y[o]=g,new TextNode(y,this.length-(a-r)+s.length)}return super.replace(f,d,g)}f=d+1}return super.replace(r,a,s)}sliceString(r,a=this.length,s=`
`){[r,a]=clip(this,r,a);let o="";for(let f=0,h=0;f<this.children.length&&h<=a;f++){let d=this.children[f],g=h+d.length;h>r&&f&&(o+=s),r<g&&a>h&&(o+=d.sliceString(r-h,a-h,s)),h=g+1}return o}flatten(r){for(let a of this.children)a.flatten(r)}scanIdentical(r,a){if(!(r instanceof TextNode))return 0;let s=0,[o,f,h,d]=a>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1];for(;;o+=a,f+=a){if(o==h||f==d)return s;let g=this.children[o],m=r.children[f];if(g!=m)return s+g.scanIdentical(m,a);s+=g.length+1}}static from(r,a=r.reduce((s,o)=>s+o.length+1,-1)){let s=0;for(let k of r)s+=k.lines;if(s<32){let k=[];for(let Q of r)Q.flatten(k);return new TextLeaf(k,a)}let o=Math.max(32,s>>5),f=o<<1,h=o>>1,d=[],g=0,m=-1,y=[];function v(k){let Q;if(k.lines>f&&k instanceof TextNode)for(let A of k.children)v(A);else k.lines>h&&(g>h||!g)?(x(),d.push(k)):k instanceof TextLeaf&&g&&(Q=y[y.length-1])instanceof TextLeaf&&k.lines+Q.lines<=32?(g+=k.lines,m+=k.length+1,y[y.length-1]=new TextLeaf(Q.text.concat(k.text),Q.length+1+k.length)):(g+k.lines>o&&x(),g+=k.lines,m+=k.length+1,y.push(k))}function x(){g!=0&&(d.push(y.length==1?y[0]:TextNode.from(y,m)),m=-1,g=y.length=0)}for(let k of r)v(k);return x(),d.length==1?d[0]:new TextNode(d,a)}}Text.empty=new TextLeaf([""],0);function textLength(l){let r=-1;for(let a of l)r+=a.length+1;return r}function appendText(l,r,a=0,s=1e9){for(let o=0,f=0,h=!0;f<l.length&&o<=s;f++){let d=l[f],g=o+d.length;g>=a&&(g>s&&(d=d.slice(0,s-o)),o<a&&(d=d.slice(a-o)),h?(r[r.length-1]+=d,h=!1):r.push(d)),o=g+1}return r}function sliceText(l,r,a){return appendText(l,[""],r,a)}class RawTextCursor{constructor(r,a=1){this.dir=a,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[r],this.offsets=[a>0?1:(r instanceof TextLeaf?r.text.length:r.children.length)<<1]}nextInner(r,a){for(this.done=this.lineBreak=!1;;){let s=this.nodes.length-1,o=this.nodes[s],f=this.offsets[s],h=f>>1,d=o instanceof TextLeaf?o.text.length:o.children.length;if(h==(a>0?d:0)){if(s==0)return this.done=!0,this.value="",this;a>0&&this.offsets[s-1]++,this.nodes.pop(),this.offsets.pop()}else if((f&1)==(a>0?0:1)){if(this.offsets[s]+=a,r==0)return this.lineBreak=!0,this.value=`
`,this;r--}else if(o instanceof TextLeaf){let g=o.text[h+(a<0?-1:0)];if(this.offsets[s]+=a,g.length>Math.max(0,r))return this.value=r==0?g:a>0?g.slice(r):g.slice(0,g.length-r),this;r-=g.length}else{let g=o.children[h+(a<0?-1:0)];r>g.length?(r-=g.length,this.offsets[s]+=a):(a<0&&this.offsets[s]--,this.nodes.push(g),this.offsets.push(a>0?1:(g instanceof TextLeaf?g.text.length:g.children.length)<<1))}}}next(r=0){return r<0&&(this.nextInner(-r,-this.dir),r=this.value.length),this.nextInner(r,this.dir)}}class PartialTextCursor{constructor(r,a,s){this.value="",this.done=!1,this.cursor=new RawTextCursor(r,a>s?-1:1),this.pos=a>s?r.length:0,this.from=Math.min(a,s),this.to=Math.max(a,s)}nextInner(r,a){if(a<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;r+=Math.max(0,a<0?this.pos-this.to:this.from-this.pos);let s=a<0?this.pos-this.from:this.to-this.pos;r>s&&(r=s),s-=r;let{value:o}=this.cursor.next(r);return this.pos+=(o.length+r)*a,this.value=o.length<=s?o:a<0?o.slice(o.length-s):o.slice(0,s),this.done=!this.value,this}next(r=0){return r<0?r=Math.max(r,this.from-this.pos):r>0&&(r=Math.min(r,this.to-this.pos)),this.nextInner(r,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(r){this.inner=r,this.afterBreak=!0,this.value="",this.done=!1}next(r=0){let{done:a,lineBreak:s,value:o}=this.inner.next(r);return a&&this.afterBreak?(this.value="",this.afterBreak=!1):a?(this.done=!0,this.value=""):s?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(r,a,s,o){this.from=r,this.to=a,this.number=s,this.text=o}get length(){return this.to-this.from}}function clip(l,r,a){return r=Math.max(0,Math.min(l.length,r)),[r,Math.max(r,Math.min(l.length,a))]}function findClusterBreak(l,r,a=!0,s=!0){return findClusterBreak$1(l,r,a,s)}function surrogateLow(l){return l>=56320&&l<57344}function surrogateHigh(l){return l>=55296&&l<56320}function codePointAt(l,r){let a=l.charCodeAt(r);if(!surrogateHigh(a)||r+1==l.length)return a;let s=l.charCodeAt(r+1);return surrogateLow(s)?(a-55296<<10)+(s-56320)+65536:a}function fromCodePoint(l){return l<=65535?String.fromCharCode(l):(l-=65536,String.fromCharCode((l>>10)+55296,(l&1023)+56320))}function codePointSize(l){return l<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=(function(l){return l[l.Simple=0]="Simple",l[l.TrackDel=1]="TrackDel",l[l.TrackBefore=2]="TrackBefore",l[l.TrackAfter=3]="TrackAfter",l})(MapMode||(MapMode={}));class ChangeDesc{constructor(r){this.sections=r}get length(){let r=0;for(let a=0;a<this.sections.length;a+=2)r+=this.sections[a];return r}get newLength(){let r=0;for(let a=0;a<this.sections.length;a+=2){let s=this.sections[a+1];r+=s<0?this.sections[a]:s}return r}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(r){for(let a=0,s=0,o=0;a<this.sections.length;){let f=this.sections[a++],h=this.sections[a++];h<0?(r(s,o,f),o+=f):o+=h,s+=f}}iterChangedRanges(r,a=!1){iterChanges(this,r,a)}get invertedDesc(){let r=[];for(let a=0;a<this.sections.length;){let s=this.sections[a++],o=this.sections[a++];o<0?r.push(s,o):r.push(o,s)}return new ChangeDesc(r)}composeDesc(r){return this.empty?r:r.empty?this:composeSets(this,r)}mapDesc(r,a=!1){return r.empty?this:mapSet(this,r,a)}mapPos(r,a=-1,s=MapMode.Simple){let o=0,f=0;for(let h=0;h<this.sections.length;){let d=this.sections[h++],g=this.sections[h++],m=o+d;if(g<0){if(m>r)return f+(r-o);f+=d}else{if(s!=MapMode.Simple&&m>=r&&(s==MapMode.TrackDel&&o<r&&m>r||s==MapMode.TrackBefore&&o<r||s==MapMode.TrackAfter&&m>r))return null;if(m>r||m==r&&a<0&&!d)return r==o||a<0?f:f+g;f+=g}o=m}if(r>o)throw new RangeError(`Position ${r} is out of range for changeset of length ${o}`);return f}touchesRange(r,a=r){for(let s=0,o=0;s<this.sections.length&&o<=a;){let f=this.sections[s++],h=this.sections[s++],d=o+f;if(h>=0&&o<=a&&d>=r)return o<r&&d>a?"cover":!0;o=d}return!1}toString(){let r="";for(let a=0;a<this.sections.length;){let s=this.sections[a++],o=this.sections[a++];r+=(r?" ":"")+s+(o>=0?":"+o:"")}return r}toJSON(){return this.sections}static fromJSON(r){if(!Array.isArray(r)||r.length%2||r.some(a=>typeof a!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(r)}static create(r){return new ChangeDesc(r)}}class ChangeSet extends ChangeDesc{constructor(r,a){super(r),this.inserted=a}apply(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(a,s,o,f,h)=>r=r.replace(o,o+(s-a),h),!1),r}mapDesc(r,a=!1){return mapSet(this,r,a,!0)}invert(r){let a=this.sections.slice(),s=[];for(let o=0,f=0;o<a.length;o+=2){let h=a[o],d=a[o+1];if(d>=0){a[o]=d,a[o+1]=h;let g=o>>1;for(;s.length<g;)s.push(Text.empty);s.push(h?r.slice(f,f+h):Text.empty)}f+=h}return new ChangeSet(a,s)}compose(r){return this.empty?r:r.empty?this:composeSets(this,r,!0)}map(r,a=!1){return r.empty?this:mapSet(this,r,a,!0)}iterChanges(r,a=!1){iterChanges(this,r,a)}get desc(){return ChangeDesc.create(this.sections)}filter(r){let a=[],s=[],o=[],f=new SectionIter(this);e:for(let h=0,d=0;;){let g=h==r.length?1e9:r[h++];for(;d<g||d==g&&f.len==0;){if(f.done)break e;let y=Math.min(f.len,g-d);addSection(o,y,-1);let v=f.ins==-1?-1:f.off==0?f.ins:0;addSection(a,y,v),v>0&&addInsert(s,a,f.text),f.forward(y),d+=y}let m=r[h++];for(;d<m;){if(f.done)break e;let y=Math.min(f.len,m-d);addSection(a,y,-1),addSection(o,y,f.ins==-1?-1:f.off==0?f.ins:0),f.forward(y),d+=y}}return{changes:new ChangeSet(a,s),filtered:ChangeDesc.create(o)}}toJSON(){let r=[];for(let a=0;a<this.sections.length;a+=2){let s=this.sections[a],o=this.sections[a+1];o<0?r.push(s):o==0?r.push([s]):r.push([s].concat(this.inserted[a>>1].toJSON()))}return r}static of(r,a,s){let o=[],f=[],h=0,d=null;function g(y=!1){if(!y&&!o.length)return;h<a&&addSection(o,a-h,-1);let v=new ChangeSet(o,f);d=d?d.compose(v.map(d)):v,o=[],f=[],h=0}function m(y){if(Array.isArray(y))for(let v of y)m(v);else if(y instanceof ChangeSet){if(y.length!=a)throw new RangeError(`Mismatched change set length (got ${y.length}, expected ${a})`);g(),d=d?d.compose(y.map(d)):y}else{let{from:v,to:x=v,insert:k}=y;if(v>x||v<0||x>a)throw new RangeError(`Invalid change range ${v} to ${x} (in doc of length ${a})`);let Q=k?typeof k=="string"?Text.of(k.split(s||DefaultSplit)):k:Text.empty,A=Q.length;if(v==x&&A==0)return;v<h&&g(),v>h&&addSection(o,v-h,-1),addSection(o,x-v,A),addInsert(f,o,Q),h=x}}return m(r),g(!d),d}static empty(r){return new ChangeSet(r?[r,-1]:[],[])}static fromJSON(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");let a=[],s=[];for(let o=0;o<r.length;o++){let f=r[o];if(typeof f=="number")a.push(f,-1);else{if(!Array.isArray(f)||typeof f[0]!="number"||f.some((h,d)=>d&&typeof h!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(f.length==1)a.push(f[0],0);else{for(;s.length<o;)s.push(Text.empty);s[o]=Text.of(f.slice(1)),a.push(f[0],s[o].length)}}}return new ChangeSet(a,s)}static createSet(r,a){return new ChangeSet(r,a)}}function addSection(l,r,a,s=!1){if(r==0&&a<=0)return;let o=l.length-2;o>=0&&a<=0&&a==l[o+1]?l[o]+=r:o>=0&&r==0&&l[o]==0?l[o+1]+=a:s?(l[o]+=r,l[o+1]+=a):l.push(r,a)}function addInsert(l,r,a){if(a.length==0)return;let s=r.length-2>>1;if(s<l.length)l[l.length-1]=l[l.length-1].append(a);else{for(;l.length<s;)l.push(Text.empty);l.push(a)}}function iterChanges(l,r,a){let s=l.inserted;for(let o=0,f=0,h=0;h<l.sections.length;){let d=l.sections[h++],g=l.sections[h++];if(g<0)o+=d,f+=d;else{let m=o,y=f,v=Text.empty;for(;m+=d,y+=g,g&&s&&(v=v.append(s[h-2>>1])),!(a||h==l.sections.length||l.sections[h+1]<0);)d=l.sections[h++],g=l.sections[h++];r(o,m,f,y,v),o=m,f=y}}}function mapSet(l,r,a,s=!1){let o=[],f=s?[]:null,h=new SectionIter(l),d=new SectionIter(r);for(let g=-1;;){if(h.done&&d.len||d.done&&h.len)throw new Error("Mismatched change set lengths");if(h.ins==-1&&d.ins==-1){let m=Math.min(h.len,d.len);addSection(o,m,-1),h.forward(m),d.forward(m)}else if(d.ins>=0&&(h.ins<0||g==h.i||h.off==0&&(d.len<h.len||d.len==h.len&&!a))){let m=d.len;for(addSection(o,d.ins,-1);m;){let y=Math.min(h.len,m);h.ins>=0&&g<h.i&&h.len<=y&&(addSection(o,0,h.ins),f&&addInsert(f,o,h.text),g=h.i),h.forward(y),m-=y}d.next()}else if(h.ins>=0){let m=0,y=h.len;for(;y;)if(d.ins==-1){let v=Math.min(y,d.len);m+=v,y-=v,d.forward(v)}else if(d.ins==0&&d.len<y)y-=d.len,d.next();else break;addSection(o,m,g<h.i?h.ins:0),f&&g<h.i&&addInsert(f,o,h.text),g=h.i,h.forward(h.len-y)}else{if(h.done&&d.done)return f?ChangeSet.createSet(o,f):ChangeDesc.create(o);throw new Error("Mismatched change set lengths")}}}function composeSets(l,r,a=!1){let s=[],o=a?[]:null,f=new SectionIter(l),h=new SectionIter(r);for(let d=!1;;){if(f.done&&h.done)return o?ChangeSet.createSet(s,o):ChangeDesc.create(s);if(f.ins==0)addSection(s,f.len,0,d),f.next();else if(h.len==0&&!h.done)addSection(s,0,h.ins,d),o&&addInsert(o,s,h.text),h.next();else{if(f.done||h.done)throw new Error("Mismatched change set lengths");{let g=Math.min(f.len2,h.len),m=s.length;if(f.ins==-1){let y=h.ins==-1?-1:h.off?0:h.ins;addSection(s,g,y,d),o&&y&&addInsert(o,s,h.text)}else h.ins==-1?(addSection(s,f.off?0:f.len,g,d),o&&addInsert(o,s,f.textBit(g))):(addSection(s,f.off?0:f.len,h.off?0:h.ins,d),o&&!h.off&&addInsert(o,s,h.text));d=(f.ins>g||h.ins>=0&&h.len>g)&&(d||s.length>m),f.forward2(g),h.forward(g)}}}}class SectionIter{constructor(r){this.set=r,this.i=0,this.next()}next(){let{sections:r}=this.set;this.i<r.length?(this.len=r[this.i++],this.ins=r[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length?Text.empty:r[a]}textBit(r){let{inserted:a}=this.set,s=this.i-2>>1;return s>=a.length&&!r?Text.empty:a[s].slice(this.off,r==null?void 0:this.off+r)}forward(r){r==this.len?this.next():(this.len-=r,this.off+=r)}forward2(r){this.ins==-1?this.forward(r):r==this.ins?this.next():(this.ins-=r,this.off+=r)}}class SelectionRange{constructor(r,a,s){this.from=r,this.to=a,this.flags=s}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let r=this.flags&7;return r==7?null:r}get goalColumn(){let r=this.flags>>6;return r==16777215?void 0:r}map(r,a=-1){let s,o;return this.empty?s=o=r.mapPos(this.from,a):(s=r.mapPos(this.from,1),o=r.mapPos(this.to,-1)),s==this.from&&o==this.to?this:new SelectionRange(s,o,this.flags)}extend(r,a=r){if(r<=this.anchor&&a>=this.anchor)return EditorSelection.range(r,a);let s=Math.abs(r-this.anchor)>Math.abs(a-this.anchor)?r:a;return EditorSelection.range(this.anchor,s)}eq(r,a=!1){return this.anchor==r.anchor&&this.head==r.head&&this.goalColumn==r.goalColumn&&(!a||!this.empty||this.assoc==r.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(r){if(!r||typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(r.anchor,r.head)}static create(r,a,s){return new SelectionRange(r,a,s)}}class EditorSelection{constructor(r,a){this.ranges=r,this.mainIndex=a}map(r,a=-1){return r.empty?this:EditorSelection.create(this.ranges.map(s=>s.map(r,a)),this.mainIndex)}eq(r,a=!1){if(this.ranges.length!=r.ranges.length||this.mainIndex!=r.mainIndex)return!1;for(let s=0;s<this.ranges.length;s++)if(!this.ranges[s].eq(r.ranges[s],a))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(r,a=!0){return EditorSelection.create([r].concat(this.ranges),a?0:this.mainIndex+1)}replaceRange(r,a=this.mainIndex){let s=this.ranges.slice();return s[a]=r,EditorSelection.create(s,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(r=>r.toJSON()),main:this.mainIndex}}static fromJSON(r){if(!r||!Array.isArray(r.ranges)||typeof r.main!="number"||r.main>=r.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(r.ranges.map(a=>SelectionRange.fromJSON(a)),r.main)}static single(r,a=r){return new EditorSelection([EditorSelection.range(r,a)],0)}static create(r,a=0){if(r.length==0)throw new RangeError("A selection needs at least one range");for(let s=0,o=0;o<r.length;o++){let f=r[o];if(f.empty?f.from<=s:f.from<s)return EditorSelection.normalized(r.slice(),a);s=f.to}return new EditorSelection(r,a)}static cursor(r,a=0,s,o){return SelectionRange.create(r,r,(a==0?0:a<0?8:16)|(s==null?7:Math.min(6,s))|(o??16777215)<<6)}static range(r,a,s,o){let f=(s??16777215)<<6|(o==null?7:Math.min(6,o));return a<r?SelectionRange.create(a,r,48|f):SelectionRange.create(r,a,(a>r?8:0)|f)}static normalized(r,a=0){let s=r[a];r.sort((o,f)=>o.from-f.from),a=r.indexOf(s);for(let o=1;o<r.length;o++){let f=r[o],h=r[o-1];if(f.empty?f.from<=h.to:f.from<h.to){let d=h.from,g=Math.max(f.to,h.to);o<=a&&a--,r.splice(--o,2,f.anchor>f.head?EditorSelection.range(g,d):EditorSelection.range(d,g))}}return new EditorSelection(r,a)}}function checkSelection(l,r){for(let a of l.ranges)if(a.to>r)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(r,a,s,o,f){this.combine=r,this.compareInput=a,this.compare=s,this.isStatic=o,this.id=nextID++,this.default=r([]),this.extensions=typeof f=="function"?f(this):f}get reader(){return this}static define(r={}){return new Facet(r.combine||(a=>a),r.compareInput||((a,s)=>a===s),r.compare||(r.combine?(a,s)=>a===s:sameArray$1),!!r.static,r.enables)}of(r){return new FacetProvider([],this,0,r)}compute(r,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,1,a)}computeN(r,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,2,a)}from(r,a){return a||(a=s=>s),this.compute([r],s=>a(s.field(r)))}}function sameArray$1(l,r){return l==r||l.length==r.length&&l.every((a,s)=>a===r[s])}class FacetProvider{constructor(r,a,s,o){this.dependencies=r,this.facet=a,this.type=s,this.value=o,this.id=nextID++}dynamicSlot(r){var a;let s=this.value,o=this.facet.compareInput,f=this.id,h=r[f]>>1,d=this.type==2,g=!1,m=!1,y=[];for(let v of this.dependencies)v=="doc"?g=!0:v=="selection"?m=!0:(((a=r[v.id])!==null&&a!==void 0?a:1)&1)==0&&y.push(r[v.id]);return{create(v){return v.values[h]=s(v),1},update(v,x){if(g&&x.docChanged||m&&(x.docChanged||x.selection)||ensureAll(v,y)){let k=s(v);if(d?!compareArray(k,v.values[h],o):!o(k,v.values[h]))return v.values[h]=k,1}return 0},reconfigure:(v,x)=>{let k,Q=x.config.address[f];if(Q!=null){let A=getAddr(x,Q);if(this.dependencies.every(M=>M instanceof Facet?x.facet(M)===v.facet(M):M instanceof StateField?x.field(M,!1)==v.field(M,!1):!0)||(d?compareArray(k=s(v),A,o):o(k=s(v),A)))return v.values[h]=A,0}else k=s(v);return v.values[h]=k,1}}}}function compareArray(l,r,a){if(l.length!=r.length)return!1;for(let s=0;s<l.length;s++)if(!a(l[s],r[s]))return!1;return!0}function ensureAll(l,r){let a=!1;for(let s of r)ensureAddr(l,s)&1&&(a=!0);return a}function dynamicFacetSlot(l,r,a){let s=a.map(g=>l[g.id]),o=a.map(g=>g.type),f=s.filter(g=>!(g&1)),h=l[r.id]>>1;function d(g){let m=[];for(let y=0;y<s.length;y++){let v=getAddr(g,s[y]);if(o[y]==2)for(let x of v)m.push(x);else m.push(v)}return r.combine(m)}return{create(g){for(let m of s)ensureAddr(g,m);return g.values[h]=d(g),1},update(g,m){if(!ensureAll(g,f))return 0;let y=d(g);return r.compare(y,g.values[h])?0:(g.values[h]=y,1)},reconfigure(g,m){let y=ensureAll(g,s),v=m.config.facets[r.id],x=m.facet(r);if(v&&!y&&sameArray$1(a,v))return g.values[h]=x,0;let k=d(g);return r.compare(k,x)?(g.values[h]=x,0):(g.values[h]=k,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(r,a,s,o,f){this.id=r,this.createF=a,this.updateF=s,this.compareF=o,this.spec=f,this.provides=void 0}static define(r){let a=new StateField(nextID++,r.create,r.update,r.compare||((s,o)=>s===o),r);return r.provide&&(a.provides=r.provide(a)),a}create(r){let a=r.facet(initField).find(s=>s.field==this);return(a?.create||this.createF)(r)}slot(r){let a=r[this.id]>>1;return{create:s=>(s.values[a]=this.create(s),1),update:(s,o)=>{let f=s.values[a],h=this.updateF(f,o);return this.compareF(f,h)?0:(s.values[a]=h,1)},reconfigure:(s,o)=>{let f=s.facet(initField),h=o.facet(initField),d;return(d=f.find(g=>g.field==this))&&d!=h.find(g=>g.field==this)?(s.values[a]=d.create(s),1):o.config.address[this.id]!=null?(s.values[a]=o.field(this),0):(s.values[a]=this.create(s),1)}}}init(r){return[this,initField.of({field:this,create:r})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(l){return r=>new PrecExtension(r,l)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(r,a){this.inner=r,this.prec=a}}class Compartment{of(r){return new CompartmentInstance(this,r)}reconfigure(r){return Compartment.reconfigure.of({compartment:this,extension:r})}get(r){return r.config.compartments.get(this)}}class CompartmentInstance{constructor(r,a){this.compartment=r,this.inner=a}}class Configuration{constructor(r,a,s,o,f,h){for(this.base=r,this.compartments=a,this.dynamicSlots=s,this.address=o,this.staticValues=f,this.facets=h,this.statusTemplate=[];this.statusTemplate.length<s.length;)this.statusTemplate.push(0)}staticFacet(r){let a=this.address[r.id];return a==null?r.default:this.staticValues[a>>1]}static resolve(r,a,s){let o=[],f=Object.create(null),h=new Map;for(let x of flatten(r,a,h))x instanceof StateField?o.push(x):(f[x.facet.id]||(f[x.facet.id]=[])).push(x);let d=Object.create(null),g=[],m=[];for(let x of o)d[x.id]=m.length<<1,m.push(k=>x.slot(k));let y=s?.config.facets;for(let x in f){let k=f[x],Q=k[0].facet,A=y&&y[x]||[];if(k.every(M=>M.type==0))if(d[Q.id]=g.length<<1|1,sameArray$1(A,k))g.push(s.facet(Q));else{let M=Q.combine(k.map(L=>L.value));g.push(s&&Q.compare(M,s.facet(Q))?s.facet(Q):M)}else{for(let M of k)M.type==0?(d[M.id]=g.length<<1|1,g.push(M.value)):(d[M.id]=m.length<<1,m.push(L=>M.dynamicSlot(L)));d[Q.id]=m.length<<1,m.push(M=>dynamicFacetSlot(M,Q,k))}}let v=m.map(x=>x(d));return new Configuration(r,h,v,d,g,f)}}function flatten(l,r,a){let s=[[],[],[],[],[]],o=new Map;function f(h,d){let g=o.get(h);if(g!=null){if(g<=d)return;let m=s[g].indexOf(h);m>-1&&s[g].splice(m,1),h instanceof CompartmentInstance&&a.delete(h.compartment)}if(o.set(h,d),Array.isArray(h))for(let m of h)f(m,d);else if(h instanceof CompartmentInstance){if(a.has(h.compartment))throw new RangeError("Duplicate use of compartment in extensions");let m=r.get(h.compartment)||h.inner;a.set(h.compartment,m),f(m,d)}else if(h instanceof PrecExtension)f(h.inner,h.prec);else if(h instanceof StateField)s[d].push(h),h.provides&&f(h.provides,d);else if(h instanceof FacetProvider)s[d].push(h),h.facet.extensions&&f(h.facet.extensions,Prec_.default);else{let m=h.extension;if(!m)throw new Error(`Unrecognized extension value in extension set (${h}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);f(m,d)}}return f(l,Prec_.default),s.reduce((h,d)=>h.concat(d))}function ensureAddr(l,r){if(r&1)return 2;let a=r>>1,s=l.status[a];if(s==4)throw new Error("Cyclic dependency between fields and/or facets");if(s&2)return s;l.status[a]=4;let o=l.computeSlot(l,l.config.dynamicSlots[a]);return l.status[a]=2|o}function getAddr(l,r){return r&1?l.config.staticValues[r>>1]:l.values[r>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:l=>l.some(r=>r),static:!0}),lineSeparator=Facet.define({combine:l=>l.length?l[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:l=>l.length?l[0]:!1});class Annotation{constructor(r,a){this.type=r,this.value=a}static define(){return new AnnotationType}}class AnnotationType{of(r){return new Annotation(this,r)}}class StateEffectType{constructor(r){this.map=r}of(r){return new StateEffect(this,r)}}class StateEffect{constructor(r,a){this.type=r,this.value=a}map(r){let a=this.type.map(this.value,r);return a===void 0?void 0:a==this.value?this:new StateEffect(this.type,a)}is(r){return this.type==r}static define(r={}){return new StateEffectType(r.map||(a=>a))}static mapEffects(r,a){if(!r.length)return r;let s=[];for(let o of r){let f=o.map(a);f&&s.push(f)}return s}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(r,a,s,o,f,h){this.startState=r,this.changes=a,this.selection=s,this.effects=o,this.annotations=f,this.scrollIntoView=h,this._doc=null,this._state=null,s&&checkSelection(s,a.newLength),f.some(d=>d.type==Transaction.time)||(this.annotations=f.concat(Transaction.time.of(Date.now())))}static create(r,a,s,o,f,h){return new Transaction(r,a,s,o,f,h)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(r){for(let a of this.annotations)if(a.type==r)return a.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(r){let a=this.annotation(Transaction.userEvent);return!!(a&&(a==r||a.length>r.length&&a.slice(0,r.length)==r&&a[r.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(l,r){let a=[];for(let s=0,o=0;;){let f,h;if(s<l.length&&(o==r.length||r[o]>=l[s]))f=l[s++],h=l[s++];else if(o<r.length)f=r[o++],h=r[o++];else return a;!a.length||a[a.length-1]<f?a.push(f,h):a[a.length-1]<h&&(a[a.length-1]=h)}}function mergeTransaction(l,r,a){var s;let o,f,h;return a?(o=r.changes,f=ChangeSet.empty(r.changes.length),h=l.changes.compose(r.changes)):(o=r.changes.map(l.changes),f=l.changes.mapDesc(r.changes,!0),h=l.changes.compose(o)),{changes:h,selection:r.selection?r.selection.map(f):(s=l.selection)===null||s===void 0?void 0:s.map(o),effects:StateEffect.mapEffects(l.effects,o).concat(StateEffect.mapEffects(r.effects,f)),annotations:l.annotations.length?l.annotations.concat(r.annotations):r.annotations,scrollIntoView:l.scrollIntoView||r.scrollIntoView}}function resolveTransactionInner(l,r,a){let s=r.selection,o=asArray$1(r.annotations);return r.userEvent&&(o=o.concat(Transaction.userEvent.of(r.userEvent))),{changes:r.changes instanceof ChangeSet?r.changes:ChangeSet.of(r.changes||[],a,l.facet(lineSeparator)),selection:s&&(s instanceof EditorSelection?s:EditorSelection.single(s.anchor,s.head)),effects:asArray$1(r.effects),annotations:o,scrollIntoView:!!r.scrollIntoView}}function resolveTransaction(l,r,a){let s=resolveTransactionInner(l,r.length?r[0]:{},l.doc.length);r.length&&r[0].filter===!1&&(a=!1);for(let f=1;f<r.length;f++){r[f].filter===!1&&(a=!1);let h=!!r[f].sequential;s=mergeTransaction(s,resolveTransactionInner(l,r[f],h?s.changes.newLength:l.doc.length),h)}let o=Transaction.create(l,s.changes,s.selection,s.effects,s.annotations,s.scrollIntoView);return extendTransaction(a?filterTransaction(o):o)}function filterTransaction(l){let r=l.startState,a=!0;for(let o of r.facet(changeFilter)){let f=o(l);if(f===!1){a=!1;break}Array.isArray(f)&&(a=a===!0?f:joinRanges(a,f))}if(a!==!0){let o,f;if(a===!1)f=l.changes.invertedDesc,o=ChangeSet.empty(r.doc.length);else{let h=l.changes.filter(a);o=h.changes,f=h.filtered.mapDesc(h.changes).invertedDesc}l=Transaction.create(r,o,l.selection&&l.selection.map(f),StateEffect.mapEffects(l.effects,f),l.annotations,l.scrollIntoView)}let s=r.facet(transactionFilter);for(let o=s.length-1;o>=0;o--){let f=s[o](l);f instanceof Transaction?l=f:Array.isArray(f)&&f.length==1&&f[0]instanceof Transaction?l=f[0]:l=resolveTransaction(r,asArray$1(f),!1)}return l}function extendTransaction(l){let r=l.startState,a=r.facet(transactionExtender),s=l;for(let o=a.length-1;o>=0;o--){let f=a[o](l);f&&Object.keys(f).length&&(s=mergeTransaction(s,resolveTransactionInner(r,f,l.changes.newLength),!0))}return s==l?l:Transaction.create(r,l.changes,l.selection,s.effects,s.annotations,s.scrollIntoView)}const none$2=[];function asArray$1(l){return l==null?none$2:Array.isArray(l)?l:[l]}var CharCategory=(function(l){return l[l.Word=0]="Word",l[l.Space=1]="Space",l[l.Other=2]="Other",l})(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(l){if(wordChar)return wordChar.test(l);for(let r=0;r<l.length;r++){let a=l[r];if(/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||nonASCIISingleCaseWordChar.test(a)))return!0}return!1}function makeCategorizer(l){return r=>{if(!/\S/.test(r))return CharCategory.Space;if(hasWordChar(r))return CharCategory.Word;for(let a=0;a<l.length;a++)if(r.indexOf(l[a])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(r,a,s,o,f,h){this.config=r,this.doc=a,this.selection=s,this.values=o,this.status=r.statusTemplate.slice(),this.computeSlot=f,h&&(h._state=this);for(let d=0;d<this.config.dynamicSlots.length;d++)ensureAddr(this,d<<1);this.computeSlot=null}field(r,a=!0){let s=this.config.address[r.id];if(s==null){if(a)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,s),getAddr(this,s)}update(...r){return resolveTransaction(this,r,!0)}applyTransaction(r){let a=this.config,{base:s,compartments:o}=a;for(let d of r.effects)d.is(Compartment.reconfigure)?(a&&(o=new Map,a.compartments.forEach((g,m)=>o.set(m,g)),a=null),o.set(d.value.compartment,d.value.extension)):d.is(StateEffect.reconfigure)?(a=null,s=d.value):d.is(StateEffect.appendConfig)&&(a=null,s=asArray$1(s).concat(d.value));let f;a?f=r.startState.values.slice():(a=Configuration.resolve(s,o,this),f=new EditorState(a,this.doc,this.selection,a.dynamicSlots.map(()=>null),(g,m)=>m.reconfigure(g,this),null).values);let h=r.startState.facet(allowMultipleSelections)?r.newSelection:r.newSelection.asSingle();new EditorState(a,r.newDoc,h,f,(d,g)=>g.update(d,r),r)}replaceSelection(r){return typeof r=="string"&&(r=this.toText(r)),this.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:r},range:EditorSelection.cursor(a.from+r.length)}))}changeByRange(r){let a=this.selection,s=r(a.ranges[0]),o=this.changes(s.changes),f=[s.range],h=asArray$1(s.effects);for(let d=1;d<a.ranges.length;d++){let g=r(a.ranges[d]),m=this.changes(g.changes),y=m.map(o);for(let x=0;x<d;x++)f[x]=f[x].map(y);let v=o.mapDesc(m,!0);f.push(g.range.map(v)),o=o.compose(y),h=StateEffect.mapEffects(h,y).concat(StateEffect.mapEffects(asArray$1(g.effects),v))}return{changes:o,selection:EditorSelection.create(f,a.mainIndex),effects:h}}changes(r=[]){return r instanceof ChangeSet?r:ChangeSet.of(r,this.doc.length,this.facet(EditorState.lineSeparator))}toText(r){return Text.of(r.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(r=0,a=this.doc.length){return this.doc.sliceString(r,a,this.lineBreak)}facet(r){let a=this.config.address[r.id];return a==null?r.default:(ensureAddr(this,a),getAddr(this,a))}toJSON(r){let a={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(r)for(let s in r){let o=r[s];o instanceof StateField&&this.config.address[o.id]!=null&&(a[s]=o.spec.toJSON(this.field(r[s]),this))}return a}static fromJSON(r,a={},s){if(!r||typeof r.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(s){for(let f in s)if(Object.prototype.hasOwnProperty.call(r,f)){let h=s[f],d=r[f];o.push(h.init(g=>h.spec.fromJSON(d,g)))}}return EditorState.create({doc:r.doc,selection:EditorSelection.fromJSON(r.selection),extensions:a.extensions?o.concat([a.extensions]):o})}static create(r={}){let a=Configuration.resolve(r.extensions||[],new Map),s=r.doc instanceof Text?r.doc:Text.of((r.doc||"").split(a.staticFacet(EditorState.lineSeparator)||DefaultSplit)),o=r.selection?r.selection instanceof EditorSelection?r.selection:EditorSelection.single(r.selection.anchor,r.selection.head):EditorSelection.single(0);return checkSelection(o,s.length),a.staticFacet(allowMultipleSelections)||(o=o.asSingle()),new EditorState(a,s,o,a.dynamicSlots.map(()=>null),(f,h)=>h.create(f),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(r,...a){for(let s of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(s,r)){r=s[r];break}return a.length&&(r=r.replace(/\$(\$|\d*)/g,(s,o)=>{if(o=="$")return"$";let f=+(o||1);return!f||f>a.length?s:a[f-1]})),r}languageDataAt(r,a,s=-1){let o=[];for(let f of this.facet(languageData))for(let h of f(this,a,s))Object.prototype.hasOwnProperty.call(h,r)&&o.push(h[r]);return o}charCategorizer(r){let a=this.languageDataAt("wordChars",r);return makeCategorizer(a.length?a[0]:"")}wordAt(r){let{text:a,from:s,length:o}=this.doc.lineAt(r),f=this.charCategorizer(r),h=r-s,d=r-s;for(;h>0;){let g=findClusterBreak(a,h,!1);if(f(a.slice(g,h))!=CharCategory.Word)break;h=g}for(;d<o;){let g=findClusterBreak(a,d);if(f(a.slice(d,g))!=CharCategory.Word)break;d=g}return h==d?null:EditorSelection.range(h+s,d+s)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:l=>l.length?l[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(l,r){let a=Object.keys(l),s=Object.keys(r);return a.length==s.length&&a.every(o=>l[o]==r[o])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(l,r,a={}){let s={};for(let o of l)for(let f of Object.keys(o)){let h=o[f],d=s[f];if(d===void 0)s[f]=h;else if(!(d===h||h===void 0))if(Object.hasOwnProperty.call(a,f))s[f]=a[f](d,h);else throw new Error("Config merge conflict for field "+f)}for(let o in r)s[o]===void 0&&(s[o]=r[o]);return s}class RangeValue{eq(r){return this==r}range(r,a=r){return Range$1.create(r,a,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;function cmpVal(l,r){return l==r||l.constructor==r.constructor&&l.eq(r)}let Range$1=class fp{constructor(r,a,s){this.from=r,this.to=a,this.value=s}static create(r,a,s){return new fp(r,a,s)}};function cmpRange(l,r){return l.from-r.from||l.value.startSide-r.value.startSide}class Chunk{constructor(r,a,s,o){this.from=r,this.to=a,this.value=s,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(r,a,s,o=0){let f=s?this.to:this.from;for(let h=o,d=f.length;;){if(h==d)return h;let g=h+d>>1,m=f[g]-r||(s?this.value[g].endSide:this.value[g].startSide)-a;if(g==h)return m>=0?h:d;m>=0?d=g:h=g+1}}between(r,a,s,o){for(let f=this.findIndex(a,-1e9,!0),h=this.findIndex(s,1e9,!1,f);f<h;f++)if(o(this.from[f]+r,this.to[f]+r,this.value[f])===!1)return!1}map(r,a){let s=[],o=[],f=[],h=-1,d=-1;for(let g=0;g<this.value.length;g++){let m=this.value[g],y=this.from[g]+r,v=this.to[g]+r,x,k;if(y==v){let Q=a.mapPos(y,m.startSide,m.mapMode);if(Q==null||(x=k=Q,m.startSide!=m.endSide&&(k=a.mapPos(y,m.endSide),k<x)))continue}else if(x=a.mapPos(y,m.startSide),k=a.mapPos(v,m.endSide),x>k||x==k&&m.startSide>0&&m.endSide<=0)continue;(k-x||m.endSide-m.startSide)<0||(h<0&&(h=x),m.point&&(d=Math.max(d,k-x)),s.push(m),o.push(x-h),f.push(k-h))}return{mapped:s.length?new Chunk(o,f,s,d):null,pos:h}}}class RangeSet{constructor(r,a,s,o){this.chunkPos=r,this.chunk=a,this.nextLayer=s,this.maxPoint=o}static create(r,a,s,o){return new RangeSet(r,a,s,o)}get length(){let r=this.chunk.length-1;return r<0?0:Math.max(this.chunkEnd(r),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let r=this.nextLayer.size;for(let a of this.chunk)r+=a.value.length;return r}chunkEnd(r){return this.chunkPos[r]+this.chunk[r].length}update(r){let{add:a=[],sort:s=!1,filterFrom:o=0,filterTo:f=this.length}=r,h=r.filter;if(a.length==0&&!h)return this;if(s&&(a=a.slice().sort(cmpRange)),this.isEmpty)return a.length?RangeSet.of(a):this;let d=new LayerCursor(this,null,-1).goto(0),g=0,m=[],y=new RangeSetBuilder;for(;d.value||g<a.length;)if(g<a.length&&(d.from-a[g].from||d.startSide-a[g].value.startSide)>=0){let v=a[g++];y.addInner(v.from,v.to,v.value)||m.push(v)}else d.rangeIndex==1&&d.chunkIndex<this.chunk.length&&(g==a.length||this.chunkEnd(d.chunkIndex)<a[g].from)&&(!h||o>this.chunkEnd(d.chunkIndex)||f<this.chunkPos[d.chunkIndex])&&y.addChunk(this.chunkPos[d.chunkIndex],this.chunk[d.chunkIndex])?d.nextChunk():((!h||o>d.to||f<d.from||h(d.from,d.to,d.value))&&(y.addInner(d.from,d.to,d.value)||m.push(Range$1.create(d.from,d.to,d.value))),d.next());return y.finishInner(this.nextLayer.isEmpty&&!m.length?RangeSet.empty:this.nextLayer.update({add:m,filter:h,filterFrom:o,filterTo:f}))}map(r){if(r.empty||this.isEmpty)return this;let a=[],s=[],o=-1;for(let h=0;h<this.chunk.length;h++){let d=this.chunkPos[h],g=this.chunk[h],m=r.touchesRange(d,d+g.length);if(m===!1)o=Math.max(o,g.maxPoint),a.push(g),s.push(r.mapPos(d));else if(m===!0){let{mapped:y,pos:v}=g.map(d,r);y&&(o=Math.max(o,y.maxPoint),a.push(y),s.push(v))}}let f=this.nextLayer.map(r);return a.length==0?f:new RangeSet(s,a,f||RangeSet.empty,o)}between(r,a,s){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let f=this.chunkPos[o],h=this.chunk[o];if(a>=f&&r<=f+h.length&&h.between(f,r-f,a-f,s)===!1)return}this.nextLayer.between(r,a,s)}}iter(r=0){return HeapCursor.from([this]).goto(r)}get isEmpty(){return this.nextLayer==this}static iter(r,a=0){return HeapCursor.from(r).goto(a)}static compare(r,a,s,o,f=-1){let h=r.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=f),d=a.filter(v=>v.maxPoint>0||!v.isEmpty&&v.maxPoint>=f),g=findSharedChunks(h,d,s),m=new SpanCursor(h,g,f),y=new SpanCursor(d,g,f);s.iterGaps((v,x,k)=>compare(m,v,y,x,k,o)),s.empty&&s.length==0&&compare(m,0,y,0,0,o)}static eq(r,a,s=0,o){o==null&&(o=999999999);let f=r.filter(y=>!y.isEmpty&&a.indexOf(y)<0),h=a.filter(y=>!y.isEmpty&&r.indexOf(y)<0);if(f.length!=h.length)return!1;if(!f.length)return!0;let d=findSharedChunks(f,h),g=new SpanCursor(f,d,0).goto(s),m=new SpanCursor(h,d,0).goto(s);for(;;){if(g.to!=m.to||!sameValues(g.active,m.active)||g.point&&(!m.point||!cmpVal(g.point,m.point)))return!1;if(g.to>o)return!0;g.next(),m.next()}}static spans(r,a,s,o,f=-1){let h=new SpanCursor(r,null,f).goto(a),d=a,g=h.openStart;for(;;){let m=Math.min(h.to,s);if(h.point){let y=h.activeForPoint(h.to),v=h.pointFrom<a?y.length+1:h.point.startSide<0?y.length:Math.min(y.length,g);o.point(d,m,h.point,y,v,h.pointRank),g=Math.min(h.openEnd(m),y.length)}else m>d&&(o.span(d,m,h.active,g),g=h.openEnd(m));if(h.to>s)return g+(h.point&&h.to>s?1:0);d=h.to,h.next()}}static of(r,a=!1){let s=new RangeSetBuilder;for(let o of r instanceof Range$1?[r]:a?lazySort(r):r)s.add(o.from,o.to,o.value);return s.finish()}static join(r){if(!r.length)return RangeSet.empty;let a=r[r.length-1];for(let s=r.length-2;s>=0;s--)for(let o=r[s];o!=RangeSet.empty;o=o.nextLayer)a=new RangeSet(o.chunkPos,o.chunk,a,Math.max(o.maxPoint,a.maxPoint));return a}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(l){if(l.length>1)for(let r=l[0],a=1;a<l.length;a++){let s=l[a];if(cmpRange(r,s)>0)return l.slice().sort(cmpRange);r=s}return l}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(r){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,r&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(r,a,s){this.addInner(r,a,s)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(r,a,s)}addInner(r,a,s){let o=r-this.lastTo||s.startSide-this.last.endSide;if(o<=0&&(r-this.lastFrom||s.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=r),this.from.push(r-this.chunkStart),this.to.push(a-this.chunkStart),this.last=s,this.lastFrom=r,this.lastTo=a,this.value.push(s),s.point&&(this.maxPoint=Math.max(this.maxPoint,a-r)),!0)}addChunk(r,a){if((r-this.lastTo||a.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,a.maxPoint),this.chunks.push(a),this.chunkPos.push(r);let s=a.value.length-1;return this.last=a.value[s],this.lastFrom=a.from[s]+r,this.lastTo=a.to[s]+r,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(r){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return r;let a=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(r):r,this.setMaxPoint);return this.from=null,a}}function findSharedChunks(l,r,a){let s=new Map;for(let f of l)for(let h=0;h<f.chunk.length;h++)f.chunk[h].maxPoint<=0&&s.set(f.chunk[h],f.chunkPos[h]);let o=new Set;for(let f of r)for(let h=0;h<f.chunk.length;h++){let d=s.get(f.chunk[h]);d!=null&&(a?a.mapPos(d):d)==f.chunkPos[h]&&!a?.touchesRange(d,d+f.chunk[h].length)&&o.add(f.chunk[h])}return o}class LayerCursor{constructor(r,a,s,o=0){this.layer=r,this.skip=a,this.minPoint=s,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(r,a=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(r,a,!1),this}gotoInner(r,a,s){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<r||o.maxPoint<this.minPoint))break;this.chunkIndex++,s=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(r-this.layer.chunkPos[this.chunkIndex],a,!0);(!s||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(r,a){(this.to-r||this.endSide-a)<0&&this.gotoInner(r,a,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let r=this.layer.chunkPos[this.chunkIndex],a=this.layer.chunk[this.chunkIndex],s=r+a.from[this.rangeIndex];if(this.from=s,this.to=r+a.to[this.rangeIndex],this.value=a.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(r){if(r==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=r}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(r){return this.from-r.from||this.startSide-r.startSide||this.rank-r.rank||this.to-r.to||this.endSide-r.endSide}}class HeapCursor{constructor(r){this.heap=r}static from(r,a=null,s=-1){let o=[];for(let f=0;f<r.length;f++)for(let h=r[f];!h.isEmpty;h=h.nextLayer)h.maxPoint>=s&&o.push(new LayerCursor(h,a,s,f));return o.length==1?o[0]:new HeapCursor(o)}get startSide(){return this.value?this.value.startSide:0}goto(r,a=-1e9){for(let s of this.heap)s.goto(r,a);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);return this.next(),this}forward(r,a){for(let s of this.heap)s.forward(r,a);for(let s=this.heap.length>>1;s>=0;s--)heapBubble(this.heap,s);(this.to-r||this.value.endSide-a)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let r=this.heap[0];this.from=r.from,this.to=r.to,this.value=r.value,this.rank=r.rank,r.value&&r.next(),heapBubble(this.heap,0)}}}function heapBubble(l,r){for(let a=l[r];;){let s=(r<<1)+1;if(s>=l.length)break;let o=l[s];if(s+1<l.length&&o.compare(l[s+1])>=0&&(o=l[s+1],s++),a.compare(o)<0)break;l[s]=a,l[r]=o,r=s}}class SpanCursor{constructor(r,a,s){this.minPoint=s,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(r,a,s)}goto(r,a=-1e9){return this.cursor.goto(r,a),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=r,this.endSide=a,this.openStart=-1,this.next(),this}forward(r,a){for(;this.minActive>-1&&(this.activeTo[this.minActive]-r||this.active[this.minActive].endSide-a)<0;)this.removeActive(this.minActive);this.cursor.forward(r,a)}removeActive(r){remove(this.active,r),remove(this.activeTo,r),remove(this.activeRank,r),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(r){let a=0,{value:s,to:o,rank:f}=this.cursor;for(;a<this.activeRank.length&&(f-this.activeRank[a]||o-this.activeTo[a])>0;)a++;insert(this.active,a,s),insert(this.activeTo,a,o),insert(this.activeRank,a,f),r&&insert(r,a,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let r=this.to,a=this.point;this.point=null;let s=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>r){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),s&&remove(s,o)}else if(this.cursor.value)if(this.cursor.from>r){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let f=this.cursor.value;if(!f.point)this.addActive(s),this.cursor.next();else if(a&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=f,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=f.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(s){this.openStart=0;for(let o=s.length-1;o>=0&&s[o]<r;o--)this.openStart++}}activeForPoint(r){if(!this.active.length)return this.active;let a=[];for(let s=this.active.length-1;s>=0&&!(this.activeRank[s]<this.pointRank);s--)(this.activeTo[s]>r||this.activeTo[s]==r&&this.active[s].endSide>=this.point.endSide)&&a.push(this.active[s]);return a.reverse()}openEnd(r){let a=0;for(let s=this.activeTo.length-1;s>=0&&this.activeTo[s]>r;s--)a++;return a}}function compare(l,r,a,s,o,f){l.goto(r),a.goto(s);let h=s+o,d=s,g=s-r,m=!!f.boundChange;for(let y=!1;;){let v=l.to+g-a.to,x=v||l.endSide-a.endSide,k=x<0?l.to+g:a.to,Q=Math.min(k,h);if(l.point||a.point?(l.point&&a.point&&cmpVal(l.point,a.point)&&sameValues(l.activeForPoint(l.to),a.activeForPoint(a.to))||f.comparePoint(d,Q,l.point,a.point),y=!1):(y&&f.boundChange(d),Q>d&&!sameValues(l.active,a.active)&&f.compareRange(d,Q,l.active,a.active),m&&Q<h&&(v||l.openEnd(k)!=a.openEnd(k))&&(y=!0)),k>h)break;d=k,x<=0&&l.next(),x>=0&&a.next()}}function sameValues(l,r){if(l.length!=r.length)return!1;for(let a=0;a<l.length;a++)if(l[a]!=r[a]&&!cmpVal(l[a],r[a]))return!1;return!0}function remove(l,r){for(let a=r,s=l.length-1;a<s;a++)l[a]=l[a+1];l.pop()}function insert(l,r,a){for(let s=l.length-1;s>=r;s--)l[s+1]=l[s];l[r]=a}function findMinIndex(l,r){let a=-1,s=1e9;for(let o=0;o<r.length;o++)(r[o]-s||l[o].endSide-l[a].endSide)<0&&(a=o,s=r[o]);return a}function countColumn(l,r,a=l.length){let s=0;for(let o=0;o<a&&o<l.length;)l.charCodeAt(o)==9?(s+=r-s%r,o++):(s++,o=findClusterBreak(l,o));return s}function findColumn(l,r,a,s){for(let o=0,f=0;;){if(f>=r)return o;if(o==l.length)break;f+=l.charCodeAt(o)==9?a-f%a:1,o=findClusterBreak(l,o)}return s===!0?-1:l.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(r,a){this.rules=[];let{finish:s}=a||{};function o(h){return/^@/.test(h)?[h]:h.split(/,\s*/)}function f(h,d,g,m){let y=[],v=/^@(\w+)\b/.exec(h[0]),x=v&&v[1]=="keyframes";if(v&&d==null)return g.push(h[0]+";");for(let k in d){let Q=d[k];if(/&/.test(k))f(k.split(/,\s*/).map(A=>h.map(M=>A.replace(/&/,M))).reduce((A,M)=>A.concat(M)),Q,g);else if(Q&&typeof Q=="object"){if(!v)throw new RangeError("The value of a property ("+k+") should be a primitive value.");f(o(k),Q,y,x)}else Q!=null&&y.push(k.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+Q+";")}(y.length||x)&&g.push((s&&!v&&!m?h.map(s):h).join(", ")+" {"+y.join(" ")+"}")}for(let h in r)f(o(h),r[h],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let r=top[COUNT]||1;return top[COUNT]=r+1,C+r.toString(36)}static mount(r,a,s){let o=r[SET],f=s&&s.nonce;o?f&&o.setNonce(f):o=new StyleSet(r,f),o.mount(Array.isArray(a)?a:[a],r)}}let adoptedSet=new Map;class StyleSet{constructor(r,a){let s=r.ownerDocument||r,o=s.defaultView;if(!r.head&&r.adoptedStyleSheets&&o.CSSStyleSheet){let f=adoptedSet.get(s);if(f)return r[SET]=f;this.sheet=new o.CSSStyleSheet,adoptedSet.set(s,this)}else this.styleTag=s.createElement("style"),a&&this.styleTag.setAttribute("nonce",a);this.modules=[],r[SET]=this}mount(r,a){let s=this.sheet,o=0,f=0;for(let h=0;h<r.length;h++){let d=r[h],g=this.modules.indexOf(d);if(g<f&&g>-1&&(this.modules.splice(g,1),f--,g=-1),g==-1){if(this.modules.splice(f++,0,d),s)for(let m=0;m<d.rules.length;m++)s.insertRule(d.rules[m],o++)}else{for(;f<g;)o+=this.modules[f++].rules.length;o+=d.rules.length,f++}}if(s)a.adoptedStyleSheets.indexOf(this.sheet)<0&&(a.adoptedStyleSheets=[this.sheet,...a.adoptedStyleSheets]);else{let h="";for(let g=0;g<this.modules.length;g++)h+=this.modules[g].getRules()+`
`;this.styleTag.textContent=h;let d=a.head||a;this.styleTag.parentNode!=d&&d.insertBefore(this.styleTag,d.firstChild)}}setNonce(r){this.styleTag&&this.styleTag.getAttribute("nonce")!=r&&this.styleTag.setAttribute("nonce",r)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(l){var r=mac&&l.metaKey&&l.shiftKey&&!l.ctrlKey&&!l.altKey||ie$1&&l.shiftKey&&l.key&&l.key.length==1||l.key=="Unidentified",a=!r&&l.key||(l.shiftKey?shift:base)[l.keyCode]||l.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}function crelt(){var l=arguments[0];typeof l=="string"&&(l=document.createElement(l));var r=1,a=arguments[1];if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){for(var s in a)if(Object.prototype.hasOwnProperty.call(a,s)){var o=a[s];typeof o=="string"?l.setAttribute(s,o):o!=null&&(l[s]=o)}r++}for(;r<arguments.length;r++)add(l,arguments[r]);return l}function add(l,r){if(typeof r=="string")l.appendChild(document.createTextNode(r));else if(r!=null)if(r.nodeType!=null)l.appendChild(r);else if(Array.isArray(r))for(var a=0;a<r.length;a++)add(l,r[a]);else throw new RangeError("Unsupported child node: "+r)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,safari,safari_version:safari?+(/\bVersion\/(\d+(\.\d+)?)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function combineAttrs(l,r){for(let a in l)a=="class"&&r.class?r.class+=" "+l.class:a=="style"&&r.style?r.style+=";"+l.style:r[a]=l[a];return r}const noAttrs$1=Object.create(null);function attrsEq(l,r,a){if(l==r)return!0;l||(l=noAttrs$1),r||(r=noAttrs$1);let s=Object.keys(l),o=Object.keys(r);if(s.length-0!=o.length-0)return!1;for(let f of s)if(f!=a&&(o.indexOf(f)==-1||l[f]!==r[f]))return!1;return!0}function setAttrs(l,r){for(let a=l.attributes.length-1;a>=0;a--){let s=l.attributes[a].name;r[s]==null&&l.removeAttribute(s)}for(let a in r){let s=r[a];a=="style"?l.style.cssText=s:l.getAttribute(a)!=s&&l.setAttribute(a,s)}}function updateAttrs(l,r,a){let s=!1;if(r)for(let o in r)a&&o in a||(s=!0,o=="style"?l.style.cssText="":l.removeAttribute(o));if(a)for(let o in a)r&&r[o]==a[o]||(s=!0,o=="style"?l.style.cssText=a[o]:l.setAttribute(o,a[o]));return s}function getAttrs(l){let r=Object.create(null);for(let a=0;a<l.attributes.length;a++){let s=l.attributes[a];r[s.name]=s.value}return r}class WidgetType{eq(r){return!1}updateDOM(r,a){return!1}compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(r){return!0}coordsAt(r,a,s){return null}get isHidden(){return!1}get editable(){return!1}destroy(r){}}var BlockType=(function(l){return l[l.Text=0]="Text",l[l.WidgetBefore=1]="WidgetBefore",l[l.WidgetAfter=2]="WidgetAfter",l[l.WidgetRange=3]="WidgetRange",l})(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(r,a,s,o){super(),this.startSide=r,this.endSide=a,this.widget=s,this.spec=o}get heightRelevant(){return!1}static mark(r){return new MarkDecoration(r)}static widget(r){let a=Math.max(-1e4,Math.min(1e4,r.side||0)),s=!!r.block;return a+=s&&!r.inlineOrder?a>0?3e8:-4e8:a>0?1e8:-1e8,new PointDecoration(r,a,a,s,r.widget||null,!1)}static replace(r){let a=!!r.block,s,o;if(r.isBlockGap)s=-5e8,o=4e8;else{let{start:f,end:h}=getInclusive(r,a);s=(f?a?-3e8:-1:5e8)-1,o=(h?a?2e8:1:-6e8)+1}return new PointDecoration(r,s,o,a,r.widget||null,!0)}static line(r){return new LineDecoration(r)}static set(r,a=!1){return RangeSet.of(r,a)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(r){let{start:a,end:s}=getInclusive(r);super(a?-1:5e8,s?1:-6e8,null,r),this.tagName=r.tagName||"span",this.attrs=r.class&&r.attributes?combineAttrs(r.attributes,{class:r.class}):r.class?{class:r.class}:r.attributes||noAttrs$1}eq(r){return this==r||r instanceof MarkDecoration&&this.tagName==r.tagName&&attrsEq(this.attrs,r.attrs)}range(r,a=r){if(r>=a)throw new RangeError("Mark decorations may not be empty");return super.range(r,a)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(r){super(-2e8,-2e8,null,r)}eq(r){return r instanceof LineDecoration&&this.spec.class==r.spec.class&&attrsEq(this.spec.attributes,r.spec.attributes)}range(r,a=r){if(a!=r)throw new RangeError("Line decoration ranges must be zero-length");return super.range(r,a)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(r,a,s,o,f,h){super(a,s,f,r),this.block=o,this.isReplace=h,this.mapMode=o?a<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(r){return r instanceof PointDecoration&&widgetsEq(this.widget,r.widget)&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide}range(r,a=r){if(this.isReplace&&(r>a||r==a&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&a!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(r,a)}}PointDecoration.prototype.point=!0;function getInclusive(l,r=!1){let{inclusiveStart:a,inclusiveEnd:s}=l;return a==null&&(a=l.inclusive),s==null&&(s=l.inclusive),{start:a??r,end:s??r}}function widgetsEq(l,r){return l==r||!!(l&&r&&l.compare(r))}function addRange(l,r,a,s=0){let o=a.length-1;o>=0&&a[o]+s>=l?a[o]=Math.max(a[o],r):a.push(l,r)}class BlockWrapper extends RangeValue{constructor(r,a){super(),this.tagName=r,this.attributes=a}eq(r){return r==this||r instanceof BlockWrapper&&this.tagName==r.tagName&&attrsEq(this.attributes,r.attributes)}static create(r){return new BlockWrapper(r.tagName,r.attributes||noAttrs$1)}static set(r,a=!1){return RangeSet.of(r,a)}}BlockWrapper.prototype.startSide=BlockWrapper.prototype.endSide=-1;function getSelection(l){let r;return l.nodeType==11?r=l.getSelection?l:l.ownerDocument:r=l,r.getSelection()}function contains(l,r){return r?l==r||l.contains(r.nodeType!=1?r.parentNode:r):!1}function hasSelection(l,r){if(!r.anchorNode)return!1;try{return contains(l,r.anchorNode)}catch{return!1}}function clientRectsFor(l){return l.nodeType==3?textRange(l,0,l.nodeValue.length).getClientRects():l.nodeType==1?l.getClientRects():[]}function isEquivalentPosition(l,r,a,s){return a?scanFor(l,r,a,s,-1)||scanFor(l,r,a,s,1):!1}function domIndex(l){for(var r=0;;r++)if(l=l.previousSibling,!l)return r}function isBlockElement(l){return l.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(l.nodeName)}function scanFor(l,r,a,s,o){for(;;){if(l==a&&r==s)return!0;if(r==(o<0?0:maxOffset(l))){if(l.nodeName=="DIV")return!1;let f=l.parentNode;if(!f||f.nodeType!=1)return!1;r=domIndex(l)+(o<0?0:1),l=f}else if(l.nodeType==1){if(l=l.childNodes[r+(o<0?-1:0)],l.nodeType==1&&l.contentEditable=="false")return!1;r=o<0?maxOffset(l):0}else return!1}}function maxOffset(l){return l.nodeType==3?l.nodeValue.length:l.childNodes.length}function flattenRect(l,r){let a=r?l.left:l.right;return{left:a,right:a,top:l.top,bottom:l.bottom}}function windowRect(l){let r=l.visualViewport;return r?{left:0,right:r.width,top:0,bottom:r.height}:{left:0,right:l.innerWidth,top:0,bottom:l.innerHeight}}function getScale(l,r){let a=r.width/l.offsetWidth,s=r.height/l.offsetHeight;return(a>.995&&a<1.005||!isFinite(a)||Math.abs(r.width-l.offsetWidth)<1)&&(a=1),(s>.995&&s<1.005||!isFinite(s)||Math.abs(r.height-l.offsetHeight)<1)&&(s=1),{scaleX:a,scaleY:s}}function scrollRectIntoView(l,r,a,s,o,f,h,d){let g=l.ownerDocument,m=g.defaultView||window;for(let y=l,v=!1;y&&!v;)if(y.nodeType==1){let x,k=y==g.body,Q=1,A=1;if(k)x=windowRect(m);else{if(/^(fixed|sticky)$/.test(getComputedStyle(y).position)&&(v=!0),y.scrollHeight<=y.clientHeight&&y.scrollWidth<=y.clientWidth){y=y.assignedSlot||y.parentNode;continue}let B=y.getBoundingClientRect();({scaleX:Q,scaleY:A}=getScale(y,B)),x={left:B.left,right:B.left+y.clientWidth*Q,top:B.top,bottom:B.top+y.clientHeight*A}}let M=0,L=0;if(o=="nearest")r.top<x.top?(L=r.top-(x.top+h),a>0&&r.bottom>x.bottom+L&&(L=r.bottom-x.bottom+h)):r.bottom>x.bottom&&(L=r.bottom-x.bottom+h,a<0&&r.top-L<x.top&&(L=r.top-(x.top+h)));else{let B=r.bottom-r.top,X=x.bottom-x.top;L=(o=="center"&&B<=X?r.top+B/2-X/2:o=="start"||o=="center"&&a<0?r.top-h:r.bottom-X+h)-x.top}if(s=="nearest"?r.left<x.left?(M=r.left-(x.left+f),a>0&&r.right>x.right+M&&(M=r.right-x.right+f)):r.right>x.right&&(M=r.right-x.right+f,a<0&&r.left<x.left+M&&(M=r.left-(x.left+f))):M=(s=="center"?r.left+(r.right-r.left)/2-(x.right-x.left)/2:s=="start"==d?r.left-f:r.right-(x.right-x.left)+f)-x.left,M||L)if(k)m.scrollBy(M,L);else{let B=0,X=0;if(L){let V=y.scrollTop;y.scrollTop+=L/A,X=(y.scrollTop-V)*A}if(M){let V=y.scrollLeft;y.scrollLeft+=M/Q,B=(y.scrollLeft-V)*Q}r={left:r.left-B,top:r.top-X,right:r.right-B,bottom:r.bottom-X},B&&Math.abs(B-M)<1&&(s="nearest"),X&&Math.abs(X-L)<1&&(o="nearest")}if(k)break;(r.top<x.top||r.bottom>x.bottom||r.left<x.left||r.right>x.right)&&(r={left:Math.max(r.left,x.left),right:Math.min(r.right,x.right),top:Math.max(r.top,x.top),bottom:Math.min(r.bottom,x.bottom)}),y=y.assignedSlot||y.parentNode}else if(y.nodeType==11)y=y.host;else break}function scrollableParents(l){let r=l.ownerDocument,a,s;for(let o=l.parentNode;o&&!(o==r.body||a&&s);)if(o.nodeType==1)!s&&o.scrollHeight>o.clientHeight&&(s=o),!a&&o.scrollWidth>o.clientWidth&&(a=o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;return{x:a,y:s}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(r){return this.anchorNode==r.anchorNode&&this.anchorOffset==r.anchorOffset&&this.focusNode==r.focusNode&&this.focusOffset==r.focusOffset}setRange(r){let{anchorNode:a,focusNode:s}=r;this.set(a,Math.min(r.anchorOffset,a?maxOffset(a):0),s,Math.min(r.focusOffset,s?maxOffset(s):0))}set(r,a,s,o){this.anchorNode=r,this.anchorOffset=a,this.focusNode=s,this.focusOffset=o}}let preventScrollSupported=null;browser.safari&&browser.safari_version>=26&&(preventScrollSupported=!1);function focusPreventScroll(l){if(l.setActive)return l.setActive();if(preventScrollSupported)return l.focus(preventScrollSupported);let r=[];for(let a=l;a&&(r.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=a.parentNode);if(l.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let a=0;a<r.length;){let s=r[a++],o=r[a++],f=r[a++];s.scrollTop!=o&&(s.scrollTop=o),s.scrollLeft!=f&&(s.scrollLeft=f)}}}let scratchRange;function textRange(l,r,a=r){let s=scratchRange||(scratchRange=document.createRange());return s.setEnd(l,a),s.setStart(l,r),s}function dispatchKey(l,r,a,s){let o={key:r,code:r,keyCode:a,which:a,cancelable:!0};s&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=s);let f=new KeyboardEvent("keydown",o);f.synthetic=!0,l.dispatchEvent(f);let h=new KeyboardEvent("keyup",o);return h.synthetic=!0,l.dispatchEvent(h),f.defaultPrevented||h.defaultPrevented}function getRoot(l){for(;l;){if(l&&(l.nodeType==9||l.nodeType==11&&l.host))return l;l=l.assignedSlot||l.parentNode}return null}function atElementStart(l,r){let a=r.focusNode,s=r.focusOffset;if(!a||r.anchorNode!=a||r.anchorOffset!=s)return!1;for(s=Math.min(s,maxOffset(a));;)if(s){if(a.nodeType!=1)return!1;let o=a.childNodes[s-1];o.contentEditable=="false"?s--:(a=o,s=maxOffset(a))}else{if(a==l)return!0;s=domIndex(a),a=a.parentNode}}function isScrolledToBottom(l){return l.scrollTop>Math.max(1,l.scrollHeight-l.clientHeight-4)}function textNodeBefore(l,r){for(let a=l,s=r;;){if(a.nodeType==3&&s>0)return{node:a,offset:s};if(a.nodeType==1&&s>0){if(a.contentEditable=="false")return null;a=a.childNodes[s-1],s=maxOffset(a)}else if(a.parentNode&&!isBlockElement(a))s=domIndex(a),a=a.parentNode;else return null}}function textNodeAfter(l,r){for(let a=l,s=r;;){if(a.nodeType==3&&s<a.nodeValue.length)return{node:a,offset:s};if(a.nodeType==1&&s<a.childNodes.length){if(a.contentEditable=="false")return null;a=a.childNodes[s],s=0}else if(a.parentNode&&!isBlockElement(a))s=domIndex(a)+1,a=a.parentNode;else return null}}class DOMPos{constructor(r,a,s=!0){this.node=r,this.offset=a,this.precise=s}static before(r,a){return new DOMPos(r.parentNode,domIndex(r),a)}static after(r,a){return new DOMPos(r.parentNode,domIndex(r)+1,a)}}var Direction=(function(l){return l[l.LTR=0]="LTR",l[l.RTL=1]="RTL",l})(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(l){let r=[];for(let a=0;a<l.length;a++)r.push(1<<+l[a]);return r}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let l of["()","[]","{}"]){let r=l.charCodeAt(0),a=l.charCodeAt(1);Brackets[r]=a,Brackets[a]=-r}function charType(l){return l<=247?LowTypes[l]:1424<=l&&l<=1524?2:1536<=l&&l<=1785?ArabicTypes[l-1536]:1774<=l&&l<=2220?4:8192<=l&&l<=8204?256:64336<=l&&l<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(r,a,s){this.from=r,this.to=a,this.level=s}side(r,a){return this.dir==a==r?this.to:this.from}forward(r,a){return r==(this.dir==a)}static find(r,a,s,o){let f=-1;for(let h=0;h<r.length;h++){let d=r[h];if(d.from<=a&&d.to>=a){if(d.level==s)return h;(f<0||(o!=0?o<0?d.from<a:d.to>a:r[f].level>d.level))&&(f=h)}}if(f<0)throw new RangeError("Index out of range");return f}}function isolatesEq(l,r){if(l.length!=r.length)return!1;for(let a=0;a<l.length;a++){let s=l[a],o=r[a];if(s.from!=o.from||s.to!=o.to||s.direction!=o.direction||!isolatesEq(s.inner,o.inner))return!1}return!0}const types=[];function computeCharTypes(l,r,a,s,o){for(let f=0;f<=s.length;f++){let h=f?s[f-1].to:r,d=f<s.length?s[f].from:a,g=f?256:o;for(let m=h,y=g,v=g;m<d;m++){let x=charType(l.charCodeAt(m));x==512?x=y:x==8&&v==4&&(x=16),types[m]=x==4?2:x,x&7&&(v=x),y=x}for(let m=h,y=g,v=g;m<d;m++){let x=types[m];if(x==128)m<d-1&&y==types[m+1]&&y&24?x=types[m]=y:types[m]=256;else if(x==64){let k=m+1;for(;k<d&&types[k]==64;)k++;let Q=m&&y==8||k<a&&types[k]==8?v==1?1:8:256;for(let A=m;A<k;A++)types[A]=Q;m=k-1}else x==8&&v==1&&(types[m]=1);y=x,x&7&&(v=x)}}}function processBracketPairs(l,r,a,s,o){let f=o==1?2:1;for(let h=0,d=0,g=0;h<=s.length;h++){let m=h?s[h-1].to:r,y=h<s.length?s[h].from:a;for(let v=m,x,k,Q;v<y;v++)if(k=Brackets[x=l.charCodeAt(v)])if(k<0){for(let A=d-3;A>=0;A-=3)if(BracketStack[A+1]==-k){let M=BracketStack[A+2],L=M&2?o:M&4?M&1?f:o:0;L&&(types[v]=types[BracketStack[A]]=L),d=A;break}}else{if(BracketStack.length==189)break;BracketStack[d++]=v,BracketStack[d++]=x,BracketStack[d++]=g}else if((Q=types[v])==2||Q==1){let A=Q==o;g=A?0:1;for(let M=d-3;M>=0;M-=3){let L=BracketStack[M+2];if(L&2)break;if(A)BracketStack[M+2]|=2;else{if(L&4)break;BracketStack[M+2]|=4}}}}}function processNeutrals(l,r,a,s){for(let o=0,f=s;o<=a.length;o++){let h=o?a[o-1].to:l,d=o<a.length?a[o].from:r;for(let g=h;g<d;){let m=types[g];if(m==256){let y=g+1;for(;;)if(y==d){if(o==a.length)break;y=a[o++].to,d=o<a.length?a[o].from:r}else if(types[y]==256)y++;else break;let v=f==1,x=(y<r?types[y]:s)==1,k=v==x?v?1:2:s;for(let Q=y,A=o,M=A?a[A-1].to:l;Q>g;)Q==M&&(Q=a[--A].from,M=A?a[A-1].to:l),types[--Q]=k;g=y}else f=m,g++}}}function emitSpans(l,r,a,s,o,f,h){let d=s%2?2:1;if(s%2==o%2)for(let g=r,m=0;g<a;){let y=!0,v=!1;if(m==f.length||g<f[m].from){let A=types[g];A!=d&&(y=!1,v=A==16)}let x=!y&&d==1?[]:null,k=y?s:s+1,Q=g;e:for(;;)if(m<f.length&&Q==f[m].from){if(v)break e;let A=f[m];if(!y)for(let M=A.to,L=m+1;;){if(M==a)break e;if(L<f.length&&f[L].from==M)M=f[L++].to;else{if(types[M]==d)break e;break}}if(m++,x)x.push(A);else{A.from>g&&h.push(new BidiSpan(g,A.from,k));let M=A.direction==LTR!=!(k%2);computeSectionOrder(l,M?s+1:s,o,A.inner,A.from,A.to,h),g=A.to}Q=A.to}else{if(Q==a||(y?types[Q]!=d:types[Q]==d))break;Q++}x?emitSpans(l,g,Q,s+1,o,x,h):g<Q&&h.push(new BidiSpan(g,Q,k)),g=Q}else for(let g=a,m=f.length;g>r;){let y=!0,v=!1;if(!m||g>f[m-1].to){let A=types[g-1];A!=d&&(y=!1,v=A==16)}let x=!y&&d==1?[]:null,k=y?s:s+1,Q=g;e:for(;;)if(m&&Q==f[m-1].to){if(v)break e;let A=f[--m];if(!y)for(let M=A.from,L=m;;){if(M==r)break e;if(L&&f[L-1].to==M)M=f[--L].from;else{if(types[M-1]==d)break e;break}}if(x)x.push(A);else{A.to<g&&h.push(new BidiSpan(A.to,g,k));let M=A.direction==LTR!=!(k%2);computeSectionOrder(l,M?s+1:s,o,A.inner,A.from,A.to,h),g=A.from}Q=A.from}else{if(Q==r||(y?types[Q-1]!=d:types[Q-1]==d))break;Q--}x?emitSpans(l,Q,g,s+1,o,x,h):Q<g&&h.push(new BidiSpan(Q,g,k)),g=Q}}function computeSectionOrder(l,r,a,s,o,f,h){let d=r%2?2:1;computeCharTypes(l,o,f,s,d),processBracketPairs(l,o,f,s,d),processNeutrals(o,f,s,d),emitSpans(l,o,f,r,a,s,h)}function computeOrder(l,r,a){if(!l)return[new BidiSpan(0,0,r==RTL?1:0)];if(r==LTR&&!a.length&&!BidiRE.test(l))return trivialOrder(l.length);if(a.length)for(;l.length>types.length;)types[types.length]=256;let s=[],o=r==LTR?0:1;return computeSectionOrder(l,o,o,a,0,l.length,s),s}function trivialOrder(l){return[new BidiSpan(0,l,0)]}let movedOver="";function moveVisually(l,r,a,s,o){var f;let h=s.head-l.from,d=BidiSpan.find(r,h,(f=s.bidiLevel)!==null&&f!==void 0?f:-1,s.assoc),g=r[d],m=g.side(o,a);if(h==m){let x=d+=o?1:-1;if(x<0||x>=r.length)return null;g=r[d=x],h=g.side(!o,a),m=g.side(o,a)}let y=findClusterBreak(l.text,h,g.forward(o,a));(y<g.from||y>g.to)&&(y=m),movedOver=l.text.slice(Math.min(h,y),Math.max(h,y));let v=d==(o?r.length-1:0)?null:r[d+(o?1:-1)];return v&&y==m&&v.level+(o?0:1)<g.level?EditorSelection.cursor(v.side(!o,a)+l.from,v.forward(o,a)?1:-1,v.level):EditorSelection.cursor(y+l.from,g.forward(o,a)?-1:1,g.level)}function autoDirection(l,r,a){for(let s=r;s<a;s++){let o=charType(l.charCodeAt(s));if(o==1)return LTR;if(o==2||o==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:l=>l.some(r=>r)}),nativeSelectionHidden=Facet.define({combine:l=>l.some(r=>r)}),scrollHandler=Facet.define();class ScrollTarget{constructor(r,a="nearest",s="nearest",o=5,f=5,h=!1){this.range=r,this.y=a,this.x=s,this.yMargin=o,this.xMargin=f,this.isSnapshot=h}map(r){return r.empty?this:new ScrollTarget(this.range.map(r),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(r){return this.range.to<=r.doc.length?this:new ScrollTarget(EditorSelection.cursor(r.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(l,r)=>l.map(r)}),setEditContextFormatting=StateEffect.define();function logException(l,r,a){let s=l.facet(exceptionSink);s.length?s[0](r):window.onerror&&window.onerror(String(r),a,void 0,void 0,r)||(a?console.error(a+":",r):console.error(r))}const editable=Facet.define({combine:l=>l.length?l[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(l){return l.filter((r,a)=>{for(let s=0;s<a;s++)if(l[s].plugin==r.plugin)return!1;return!0})}});class ViewPlugin{constructor(r,a,s,o,f){this.id=r,this.create=a,this.domEventHandlers=s,this.domEventObservers=o,this.baseExtensions=f(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(r){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:r}))}static define(r,a){const{eventHandlers:s,eventObservers:o,provide:f,decorations:h}=a||{};return new ViewPlugin(nextPluginID++,r,s,o,d=>{let g=[];return h&&g.push(decorations.of(m=>{let y=m.plugin(d);return y?h(y):Decoration.none})),f&&g.push(f(d)),g})}static fromClass(r,a){return ViewPlugin.define((s,o)=>new r(s,o),a)}}class PluginInstance{constructor(r){this.spec=r,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(r){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(s){if(logException(a.state,s,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(r,this.spec.arg)}catch(a){logException(r.state,a,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(r){var a;if(!((a=this.value)===null||a===void 0)&&a.destroy)try{this.value.destroy()}catch(s){logException(r.state,s,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),blockWrappers=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(l,r){let a=l.state.facet(bidiIsolatedRanges);if(!a.length)return a;let s=a.map(f=>f instanceof Function?f(l):f),o=[];return RangeSet.spans(s,r.from,r.to,{point(){},span(f,h,d,g){let m=f-r.from,y=h-r.from,v=o;for(let x=d.length-1;x>=0;x--,g--){let k=d[x].spec.bidiIsolate,Q;if(k==null&&(k=autoDirection(r.text,m,y)),g>0&&v.length&&(Q=v[v.length-1]).to==m&&Q.direction==k)Q.to=y,v=Q.inner;else{let A={from:m,to:y,direction:k,inner:[]};v.push(A),v=A.inner}}}}),o}const scrollMargins=Facet.define();function getScrollMargins(l){let r=0,a=0,s=0,o=0;for(let f of l.state.facet(scrollMargins)){let h=f(l);h&&(h.left!=null&&(r=Math.max(r,h.left)),h.right!=null&&(a=Math.max(a,h.right)),h.top!=null&&(s=Math.max(s,h.top)),h.bottom!=null&&(o=Math.max(o,h.bottom)))}return{left:r,right:a,top:s,bottom:o}}const styleModule=Facet.define();class ChangedRange{constructor(r,a,s,o){this.fromA=r,this.toA=a,this.fromB=s,this.toB=o}join(r){return new ChangedRange(Math.min(this.fromA,r.fromA),Math.max(this.toA,r.toA),Math.min(this.fromB,r.fromB),Math.max(this.toB,r.toB))}addToSet(r){let a=r.length,s=this;for(;a>0;a--){let o=r[a-1];if(!(o.fromA>s.toA)){if(o.toA<s.fromA)break;s=s.join(o),r.splice(a-1,1)}}return r.splice(a,0,s),r}static extendWithRanges(r,a){if(a.length==0)return r;let s=[];for(let o=0,f=0,h=0;;){let d=o<r.length?r[o].fromB:1e9,g=f<a.length?a[f]:1e9,m=Math.min(d,g);if(m==1e9)break;let y=m+h,v=m,x=y;for(;;)if(f<a.length&&a[f]<=v){let k=a[f+1];f+=2,v=Math.max(v,k);for(let Q=o;Q<r.length&&r[Q].fromB<=v;Q++)h=r[Q].toA-r[Q].toB;x=Math.max(x,k+h)}else if(o<r.length&&r[o].fromB<=v){let k=r[o++];v=Math.max(v,k.toB),x=Math.max(x,k.toA),h=k.toA-k.toB}else break;s.push(new ChangedRange(y,x,m,v))}return s}}class ViewUpdate{constructor(r,a,s){this.view=r,this.state=a,this.transactions=s,this.flags=0,this.startState=r.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let f of s)this.changes=this.changes.compose(f.changes);let o=[];this.changes.iterChangedRanges((f,h,d,g)=>o.push(new ChangedRange(f,h,d,g))),this.changedRanges=o}static create(r,a,s){return new ViewUpdate(r,a,s)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(r=>r.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const noChildren=[];class Tile{constructor(r,a,s=0){this.dom=r,this.length=a,this.flags=s,this.parent=null,r.cmTile=this}get breakAfter(){return this.flags&1}get children(){return noChildren}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(r){if(this.flags|=2,this.flags&4){this.flags&=-5;let a=this.domAttrs;a&&setAttrs(this.dom,a)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(r){this.dom=r,r.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(r,a=this.posAtStart){let s=a;for(let o of this.children){if(o==r)return s;s+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(r){return this.posBefore(r)+r.length}covers(r){return!0}coordsIn(r,a){return null}domPosFor(r,a){let s=domIndex(this.dom),o=this.length?r>0:a>0;return new DOMPos(this.parent.dom,s+(o?1:0),r==0||r==this.length)}markDirty(r){this.flags&=-3,r&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let r=this;r;r=r.parent)if(r instanceof DocTile)return r;return null}static get(r){return r.cmTile}}class CompositeTile extends Tile{constructor(r){super(r,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(r){this.children.push(r),r.parent=this}sync(r){if(this.flags&2)return;super.sync(r);let a=this.dom,s=null,o,f=r?.node==a?r:null,h=0;for(let d of this.children){if(d.sync(r),h+=d.length+d.breakAfter,o=s?s.nextSibling:a.firstChild,f&&o!=d.dom&&(f.written=!0),d.dom.parentNode==a)for(;o&&o!=d.dom;)o=rm$1(o);else a.insertBefore(d.dom,o);s=d.dom}for(o=s?s.nextSibling:a.firstChild,f&&o&&(f.written=!0);o;)o=rm$1(o);this.length=h}}function rm$1(l){let r=l.nextSibling;return l.parentNode.removeChild(l),r}class DocTile extends CompositeTile{constructor(r,a){super(a),this.view=r}owns(r){for(;r;r=r.parent)if(r==this)return!0;return!1}isBlock(){return!0}nearest(r){for(;;){if(!r)return null;let a=Tile.get(r);if(a&&this.owns(a))return a;r=r.parentNode}}blockTiles(r){for(let a=[],s=this,o=0,f=0;;)if(o==s.children.length){if(!a.length)return;s=s.parent,s.breakAfter&&f++,o=a.pop()}else{let h=s.children[o++];if(h instanceof BlockWrapperTile)a.push(o),s=h,o=0;else{let d=f+h.length,g=r(h,f);if(g!==void 0)return g;f=d+h.breakAfter}}}resolveBlock(r,a){let s,o=-1,f,h=-1;if(this.blockTiles((d,g)=>{let m=g+d.length;if(r>=g&&r<=m){if(d.isWidget()&&a>=-1&&a<=1){if(d.flags&32)return!0;d.flags&16&&(s=void 0)}(g<r||r==m&&(a<-1?d.length:d.covers(1)))&&(!s||!d.isWidget()&&s.isWidget())&&(s=d,o=r-g),(m>r||r==g&&(a>1?d.length:d.covers(-1)))&&(!f||!d.isWidget()&&f.isWidget())&&(f=d,h=r-g)}}),!s&&!f)throw new Error("No tile at position "+r);return s&&a<0||!f?{tile:s,offset:o}:{tile:f,offset:h}}}class BlockWrapperTile extends CompositeTile{constructor(r,a){super(r),this.wrapper=a}isBlock(){return!0}covers(r){return this.children.length?r<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(r,a){let s=new BlockWrapperTile(a||document.createElement(r.tagName),r);return a||(s.flags|=4),s}}class LineTile extends CompositeTile{constructor(r,a){super(r),this.attrs=a}isLine(){return!0}static start(r,a,s){let o=new LineTile(a||document.createElement("div"),r);return(!a||!s)&&(o.flags|=4),o}get domAttrs(){return this.attrs}resolveInline(r,a,s){let o=null,f=-1,h=null,d=-1;function g(y,v){for(let x=0,k=0;x<y.children.length&&k<=v;x++){let Q=y.children[x],A=k+Q.length;A>=v&&(Q.isComposite()?g(Q,v-k):(!h||h.isHidden&&(a>0||s&&onSameLine(h,Q)))&&(A>v||Q.flags&32)?(h=Q,d=v-k):(k<v||Q.flags&16&&!Q.isHidden)&&(o=Q,f=v-k)),k=A}}g(this,r);let m=(a<0?o:h)||o||h;return m?{tile:m,offset:m==o?f:d}:null}coordsIn(r,a){let s=this.resolveInline(r,a,!0);return s?s.tile.coordsIn(Math.max(0,s.offset),a):fallbackRect(this)}domIn(r,a){let s=this.resolveInline(r,a);if(s){let{tile:o,offset:f}=s;if(this.dom.contains(o.dom))return o.isText()?new DOMPos(o.dom,Math.min(o.dom.nodeValue.length,f)):o.domPosFor(f,o.flags&16?1:o.flags&32?-1:a);let h=s.tile.parent,d=!1;for(let g of h.children){if(d)return new DOMPos(g.dom,0);g==s.tile&&(d=!0)}}return new DOMPos(this.dom,0)}}function fallbackRect(l){let r=l.dom.lastChild;if(!r)return l.dom.getBoundingClientRect();let a=clientRectsFor(r);return a[a.length-1]||null}function onSameLine(l,r){let a=l.coordsIn(0,1),s=r.coordsIn(0,1);return a&&s&&s.top<a.bottom}class MarkTile extends CompositeTile{constructor(r,a){super(r),this.mark=a}get domAttrs(){return this.mark.attrs}static of(r,a){let s=new MarkTile(a||document.createElement(r.tagName),r);return a||(s.flags|=4),s}}class TextTile extends Tile{constructor(r,a){super(r,a.length),this.text=a}sync(r){this.flags&2||(super.sync(r),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(r,a){let s=this.dom.nodeValue.length;r>s&&(r=s);let o=r,f=r,h=0;r==0&&a<0||r==s&&a>=0?browser.chrome||browser.gecko||(r?(o--,h=1):f<s&&(f++,h=-1)):a<0?o--:f<s&&f++;let d=textRange(this.dom,o,f).getClientRects();if(!d.length)return null;let g=d[(h?h<0:a>=0)?0:d.length-1];return browser.safari&&!h&&g.width==0&&(g=Array.prototype.find.call(d,m=>m.width)||g),h?flattenRect(g,h<0):g||null}static of(r,a){let s=new TextTile(a||document.createTextNode(r),r);return a||(s.flags|=2),s}}class WidgetTile extends Tile{constructor(r,a,s,o){super(r,a,o),this.widget=s}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(r){return this.flags&48?!1:(this.flags&(r<0?64:128))>0}coordsIn(r,a){return this.coordsInWidget(r,a,!1)}coordsInWidget(r,a,s){let o=this.widget.coordsAt(this.dom,r,a);if(o)return o;if(s)return flattenRect(this.dom.getBoundingClientRect(),this.length?r==0:a<=0);{let f=this.dom.getClientRects(),h=null;if(!f.length)return null;let d=this.flags&16?!0:this.flags&32?!1:r>0;for(let g=d?f.length-1:0;h=f[g],!(r>0?g==0:g==f.length-1||h.top<h.bottom);g+=d?-1:1);return flattenRect(h,!d)}}get overrideDOMText(){if(!this.length)return Text.empty;let{root:r}=this;if(!r)return Text.empty;let a=this.posAtStart;return r.view.state.doc.slice(a,a+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(r,a,s,o,f){return f||(f=r.toDOM(a),r.editable||(f.contentEditable="false")),new WidgetTile(f,s,r,o)}}class WidgetBufferTile extends Tile{constructor(r){let a=document.createElement("img");a.className="cm-widgetBuffer",a.setAttribute("aria-hidden","true"),super(a,0,r)}get isHidden(){return!0}get overrideDOMText(){return Text.empty}coordsIn(r){return this.dom.getBoundingClientRect()}}class TilePointer{constructor(r){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=r}advance(r,a,s){let{tile:o,index:f,beforeBreak:h,parents:d}=this;for(;r||a>0;)if(o.isComposite())if(h){if(!r)break;s&&s.break(),r--,h=!1}else if(f==o.children.length){if(!r&&!d.length)break;s&&s.leave(o),h=!!o.breakAfter,{tile:o,index:f}=d.pop(),f++}else{let g=o.children[f],m=g.breakAfter;(a>0?g.length<=r:g.length<r)&&(!s||s.skip(g,0,g.length)!==!1||!g.isComposite)?(h=!!m,f++,r-=g.length):(d.push({tile:o,index:f}),o=g,f=0,s&&g.isComposite()&&s.enter(g))}else if(f==o.length)h=!!o.breakAfter,{tile:o,index:f}=d.pop(),f++;else if(r){let g=Math.min(r,o.length-f);s&&s.skip(o,f,f+g),r-=g,f+=g}else break;return this.tile=o,this.index=f,this.beforeBreak=h,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class OpenWrapper{constructor(r,a,s,o){this.from=r,this.to=a,this.wrapper=s,this.rank=o}}class TileBuilder{constructor(r,a,s){this.cache=r,this.root=a,this.blockWrappers=s,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(r,a,s,o){var f;this.flushBuffer();let h=this.ensureMarks(a,s),d=h.lastChild;if(d&&d.isText()&&!(d.flags&8)&&d.length+r.length<512){this.cache.reused.set(d,2);let g=h.children[h.children.length-1]=new TextTile(d.dom,d.text+r);g.parent=h}else h.append(o||TextTile.of(r,(f=this.cache.find(TextTile))===null||f===void 0?void 0:f.dom));this.pos+=r.length,this.afterWidget=null}addComposition(r,a){let s=this.curLine;s.dom!=a.line.dom&&(s.setDOM(this.cache.reused.has(a.line)?freeNode(a.line.dom):a.line.dom),this.cache.reused.set(a.line,2));let o=s;for(let d=a.marks.length-1;d>=0;d--){let g=a.marks[d],m=o.lastChild;if(m instanceof MarkTile&&m.mark.eq(g.mark))m.dom!=g.dom&&m.setDOM(freeNode(g.dom)),o=m;else{if(this.cache.reused.get(g)){let v=Tile.get(g.dom);v&&v.setDOM(freeNode(g.dom))}let y=MarkTile.of(g.mark,g.dom);o.append(y),o=y}this.cache.reused.set(g,2)}let f=Tile.get(r.text);f&&this.cache.reused.set(f,2);let h=new TextTile(r.text,r.text.nodeValue);h.flags|=8,o.append(h)}addInlineWidget(r,a,s){let o=this.afterWidget&&r.flags&48&&(this.afterWidget.flags&48)==(r.flags&48);o||this.flushBuffer();let f=this.ensureMarks(a,s);!o&&!(r.flags&16)&&f.append(this.getBuffer(1)),f.append(r),this.pos+=r.length,this.afterWidget=r}addMark(r,a,s){this.flushBuffer(),this.ensureMarks(a,s).append(r),this.pos+=r.length,this.afterWidget=null}addBlockWidget(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}continueWidget(r){let a=this.afterWidget||this.lastBlock;a.length+=r,this.pos+=r}addLineStart(r,a){var s;r||(r=lineBaseAttrs);let o=LineTile.start(r,a||((s=this.cache.find(LineTile))===null||s===void 0?void 0:s.dom),!!a);this.getBlockPos().append(this.lastBlock=this.curLine=o)}addLine(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(r){this.blockPosCovered()||this.addLineStart(r)}ensureLine(r){this.curLine||this.addLineStart(r)}ensureMarks(r,a){var s;let o=this.curLine;for(let f=r.length-1;f>=0;f--){let h=r[f],d;if(a>0&&(d=o.lastChild)&&d instanceof MarkTile&&d.mark.eq(h))o=d,a--;else{let g=MarkTile.of(h,(s=this.cache.find(MarkTile,m=>m.mark.eq(h)))===null||s===void 0?void 0:s.dom);o.append(g),o=g,a=0}}return o}endLine(){if(this.curLine){this.flushBuffer();let r=this.curLine.lastChild;(!r||!hasContent(this.curLine,!1)||r.dom.nodeName!="BR"&&r.isWidget()&&!(browser.ios&&hasContent(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(BreakWidget,0,32)||new WidgetTile(BreakWidget.toDOM(),0,BreakWidget,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let r=this.wrappers.length-1;r>=0;r--)this.wrappers[r].to<this.pos&&this.wrappers.splice(r,1);for(let r=this.blockWrappers;r.value&&r.from<=this.pos;r.next())if(r.to>=this.pos){let a=new OpenWrapper(r.from,r.to,r.value,r.rank),s=this.wrappers.length;for(;s>0&&(this.wrappers[s-1].rank-a.rank||this.wrappers[s-1].to-a.to)<0;)s--;this.wrappers.splice(s,0,a)}this.wrapperPos=this.pos}getBlockPos(){var r;this.updateBlockWrappers();let a=this.root;for(let s of this.wrappers){let o=a.lastChild;if(s.from<this.pos&&o instanceof BlockWrapperTile&&o.wrapper.eq(s.wrapper))a=o;else{let f=BlockWrapperTile.of(s.wrapper,(r=this.cache.find(BlockWrapperTile,h=>h.wrapper.eq(s.wrapper)))===null||r===void 0?void 0:r.dom);a.append(f),a=f}}return a}blockPosCovered(){let r=this.lastBlock;return r!=null&&!r.breakAfter&&(!r.isWidget()||(r.flags&160)>0)}getBuffer(r){let a=2|(r<0?16:32),s=this.cache.find(WidgetBufferTile,void 0,1);return s&&(s.flags=a),s||new WidgetBufferTile(a)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class TextStream{constructor(r){this.skipCount=0,this.text="",this.textOff=0,this.cursor=r.iter()}skip(r){this.textOff+r<=this.text.length?this.textOff+=r:(this.skipCount+=r-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(r){if(this.textOff==this.text.length){let{value:o,lineBreak:f,done:h}=this.cursor.next(this.skipCount);if(this.skipCount=0,h)throw new Error("Ran out of text content when drawing inline views");this.text=o;let d=this.textOff=Math.min(r,o.length);return f?null:o.slice(0,d)}let a=Math.min(this.text.length,this.textOff+r),s=this.text.slice(this.textOff,a);return this.textOff=a,s}}const buckets=[WidgetTile,LineTile,TextTile,MarkTile,WidgetBufferTile,BlockWrapperTile,DocTile];for(let l=0;l<buckets.length;l++)buckets[l].bucket=l;class TileCache{constructor(r){this.view=r,this.buckets=buckets.map(()=>[]),this.index=buckets.map(()=>0),this.reused=new Map}add(r){let a=r.constructor.bucket,s=this.buckets[a];s.length<6?s.push(r):s[this.index[a]=(this.index[a]+1)%6]=r}find(r,a,s=2){let o=r.bucket,f=this.buckets[o],h=this.index[o];for(let d=f.length-1;d>=0;d--){let g=(d+h)%f.length,m=f[g];if((!a||a(m))&&!this.reused.has(m))return f.splice(g,1),g<h&&this.index[o]--,this.reused.set(m,s),m}return null}findWidget(r,a,s){let o=this.buckets[0];if(o.length)for(let f=0,h=0;;f++){if(f==o.length){if(h)return null;h=1,f=0}let d=o[f];if(!this.reused.has(d)&&(h==0?d.widget.compare(r):d.widget.constructor==r.constructor&&r.updateDOM(d.dom,this.view)))return o.splice(f,1),f<this.index[0]&&this.index[0]--,d.widget==r&&d.length==a&&(d.flags&497)==s?(this.reused.set(d,1),d):(this.reused.set(d,2),new WidgetTile(d.dom,a,r,d.flags&-498|s))}}reuse(r){return this.reused.set(r,1),r}maybeReuse(r,a=2){if(!this.reused.has(r))return this.reused.set(r,a),r.dom}clear(){for(let r=0;r<this.buckets.length;r++)this.buckets[r].length=this.index[r]=0}}class TileUpdate{constructor(r,a,s,o,f){this.view=r,this.decorations=o,this.disallowBlockEffectsFor=f,this.openWidget=!1,this.openMarks=0,this.cache=new TileCache(r),this.text=new TextStream(r.state.doc),this.builder=new TileBuilder(this.cache,new DocTile(r,r.contentDOM),RangeSet.iter(s)),this.cache.reused.set(a,2),this.old=new TilePointer(a),this.reuseWalker={skip:(h,d,g)=>{if(this.cache.add(h),h.isComposite())return!1},enter:h=>this.cache.add(h),leave:()=>{},break:()=>{}}}run(r,a){let s=a&&this.getCompositionContext(a.text);for(let o=0,f=0,h=0;;){let d=h<r.length?r[h++]:null,g=d?d.fromA:this.old.root.length;if(g>o){let m=g-o;this.preserve(m,!h,!d),o=g,f+=m}if(!d)break;a&&d.fromA<=a.range.fromA&&d.toA>=a.range.toA?(this.forward(d.fromA,a.range.fromA,a.range.fromA<a.range.toA?1:-1),this.emit(f,a.range.fromB),this.cache.clear(),this.builder.addComposition(a,s),this.text.skip(a.range.toB-a.range.fromB),this.forward(a.range.fromA,d.toA),this.emit(a.range.toB,d.toB)):(this.forward(d.fromA,d.toA),this.emit(f,d.toB)),f=d.toB,o=d.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(r,a,s){let o=getMarks(this.old),f=this.openMarks;this.old.advance(r,s?1:-1,{skip:(h,d,g)=>{if(h.isWidget())if(this.openWidget)this.builder.continueWidget(g-d);else{let m=g>0||d<h.length?WidgetTile.of(h.widget,this.view,g-d,h.flags&496,this.cache.maybeReuse(h)):this.cache.reuse(h);m.flags&256?(m.flags&=-2,this.builder.addBlockWidget(m)):(this.builder.ensureLine(null),this.builder.addInlineWidget(m,o,f),f=o.length)}else if(h.isText())this.builder.ensureLine(null),!d&&g==h.length?this.builder.addText(h.text,o,f,this.cache.reuse(h)):(this.cache.add(h),this.builder.addText(h.text.slice(d,g),o,f)),f=o.length;else if(h.isLine())h.flags&=-2,this.cache.reused.set(h,1),this.builder.addLine(h);else if(h instanceof WidgetBufferTile)this.cache.add(h);else if(h instanceof MarkTile)this.builder.ensureLine(null),this.builder.addMark(h,o,f),this.cache.reused.set(h,1),f=o.length;else return!1;this.openWidget=!1},enter:h=>{h.isLine()?this.builder.addLineStart(h.attrs,this.cache.maybeReuse(h)):(this.cache.add(h),h instanceof MarkTile&&o.unshift(h.mark)),this.openWidget=!1},leave:h=>{h.isLine()?o.length&&(o.length=f=0):h instanceof MarkTile&&(o.shift(),f=Math.min(f,o.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(r)}emit(r,a){let s=null,o=this.builder,f=0,h=RangeSet.spans(this.decorations,r,a,{point:(d,g,m,y,v,x)=>{if(m instanceof PointDecoration){if(this.disallowBlockEffectsFor[x]){if(m.block)throw new RangeError("Block decorations may not be specified via plugins");if(g>this.view.state.doc.lineAt(d).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(f=y.length,v>y.length)o.continueWidget(g-d);else{let k=m.widget||(m.block?NullWidget.block:NullWidget.inline),Q=widgetFlags(m),A=this.cache.findWidget(k,g-d,Q)||WidgetTile.of(k,this.view,g-d,Q);m.block?(m.startSide>0&&o.addLineStartIfNotCovered(s),o.addBlockWidget(A)):(o.ensureLine(s),o.addInlineWidget(A,y,v))}s=null}else s=addLineDeco(s,m);g>d&&this.text.skip(g-d)},span:(d,g,m,y)=>{for(let v=d;v<g;){let x=this.text.next(Math.min(512,g-v));x==null?(o.addLineStartIfNotCovered(s),o.addBreak(),v++):(o.ensureLine(s),o.addText(x,m,v==d?y:m.length),v+=x.length),s=null}}});o.addLineStartIfNotCovered(s),this.openWidget=h>f,this.openMarks=h}forward(r,a,s=1){a-r<=10?this.old.advance(a-r,s,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(a-r-10,-1),this.old.advance(5,s,this.reuseWalker))}getCompositionContext(r){let a=[],s=null;for(let o=r.parentNode;;o=o.parentNode){let f=Tile.get(o);if(o==this.view.contentDOM)break;f instanceof MarkTile?a.push(f):f?.isLine()?s=f:o.nodeName=="DIV"&&!s&&o!=this.view.contentDOM?s=new LineTile(o,lineBaseAttrs):a.push(MarkTile.of(new MarkDecoration({tagName:o.nodeName.toLowerCase(),attributes:getAttrs(o)}),o))}return{line:s,marks:a}}}function hasContent(l,r){let a=s=>{for(let o of s.children)if((r?o.isText():o.length)||a(o))return!0;return!1};return a(l)}function widgetFlags(l){let r=l.isReplace?(l.startSide<0?64:0)|(l.endSide>0?128:0):l.startSide>0?32:16;return l.block&&(r|=256),r}const lineBaseAttrs={class:"cm-line"};function addLineDeco(l,r){let a=r.spec.attributes,s=r.spec.class;return!a&&!s||(l||(l={class:"cm-line"}),a&&combineAttrs(a,l),s&&(l.class+=" "+s)),l}function getMarks(l){let r=[];for(let a=l.parents.length;a>1;a--){let s=a==l.parents.length?l.tile:l.parents[a].tile;s instanceof MarkTile&&r.push(s.mark)}return r}function freeNode(l){let r=Tile.get(l);return r&&r.setDOM(l.cloneNode()),l}class NullWidget extends WidgetType{constructor(r){super(),this.tag=r}eq(r){return r.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(r){return r.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");const BreakWidget=new class extends WidgetType{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class DocView{constructor(r){this.view=r,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new DocTile(r,r.contentDOM),this.updateInner([new ChangedRange(0,0,0,r.state.doc.length)],null)}update(r){var a;let s=r.changedRanges;this.minWidth>0&&s.length&&(s.every(({fromA:y,toA:v})=>v<this.minWidthFrom||y>this.minWidthTo)?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(r);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((a=this.domChanged)===null||a===void 0)&&a.newSel?o=this.domChanged.newSel.head:!touchesComposition(r.changes,this.hasComposition)&&!r.selectionSet&&(o=r.state.selection.main.head));let f=o>-1?findCompositionRange(this.view,r.changes,o):null;if(this.domChanged=null,this.hasComposition){let{from:y,to:v}=this.hasComposition;s=new ChangedRange(y,v,r.changes.mapPos(y,-1),r.changes.mapPos(v,1)).addToSet(s.slice())}this.hasComposition=f?{from:f.range.fromB,to:f.range.toB}:null,(browser.ie||browser.chrome)&&!f&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);let h=this.decorations,d=this.blockWrappers;this.updateDeco();let g=findChangedDeco(h,this.decorations,r.changes);g.length&&(s=ChangedRange.extendWithRanges(s,g));let m=findChangedWrappers(d,this.blockWrappers,r.changes);return m.length&&(s=ChangedRange.extendWithRanges(s,m)),f&&!s.some(y=>y.fromA<=f.range.fromA&&y.toA>=f.range.toA)&&(s=f.range.addToSet(s.slice())),this.tile.flags&2&&s.length==0?!1:(this.updateInner(s,f),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(r,a){this.view.viewState.mustMeasureContent=!0;let{observer:s}=this.view;s.ignore(()=>{if(a||r.length){let h=this.tile,d=new TileUpdate(this.view,h,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=d.run(r,a),destroyDropped(h,d.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=browser.chrome||browser.ios?{node:s.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(f),f&&(f.written||s.selectionRange.focusNode!=f.node||!this.tile.dom.contains(f.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.tile.children)f.isWidget()&&f.widget instanceof BlockGapWidget&&o.push(f.dom);s.updateGaps(o)}updateEditContextFormatting(r){this.editContextFormatting=this.editContextFormatting.map(r.changes);for(let a of r.transactions)for(let s of a.effects)s.is(setEditContextFormatting)&&(this.editContextFormatting=s.value)}updateSelection(r=!1,a=!1){(r||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:s}=this.tile,o=this.view.root.activeElement,f=o==s,h=!f&&!(this.view.state.facet(editable)||s.tabIndex>-1)&&hasSelection(s,this.view.observer.selectionRange)&&!(o&&s.contains(o));if(!(f||a||h))return;let d=this.forceSelection;this.forceSelection=!1;let g=this.view.state.selection.main,m,y;if(g.empty?y=m=this.inlineDOMNearPos(g.anchor,g.assoc||1):(y=this.inlineDOMNearPos(g.head,g.head==g.from?1:-1),m=this.inlineDOMNearPos(g.anchor,g.anchor==g.from?1:-1)),browser.gecko&&g.empty&&!this.hasComposition&&betweenUneditable(m)){let x=document.createTextNode("");this.view.observer.ignore(()=>m.node.insertBefore(x,m.node.childNodes[m.offset]||null)),m=y=new DOMPos(x,0),d=!0}let v=this.view.observer.selectionRange;(d||!v.focusNode||(!isEquivalentPosition(m.node,m.offset,v.anchorNode,v.anchorOffset)||!isEquivalentPosition(y.node,y.offset,v.focusNode,v.focusOffset))&&!this.suppressWidgetCursorChange(v,g))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&s.contains(v.focusNode)&&inUneditable(v.focusNode,s)&&(s.blur(),s.focus({preventScroll:!0}));let x=getSelection(this.view.root);if(x)if(g.empty){if(browser.gecko){let k=nextToUneditable(m.node,m.offset);if(k&&k!=3){let Q=(k==1?textNodeBefore:textNodeAfter)(m.node,m.offset);Q&&(m=new DOMPos(Q.node,Q.offset))}}x.collapse(m.node,m.offset),g.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=g.bidiLevel)}else if(x.extend){x.collapse(m.node,m.offset);try{x.extend(y.node,y.offset)}catch{}}else{let k=document.createRange();g.anchor>g.head&&([m,y]=[y,m]),k.setEnd(y.node,y.offset),k.setStart(m.node,m.offset),x.removeAllRanges(),x.addRange(k)}h&&this.view.root.activeElement==s&&(s.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(m,y)),this.impreciseAnchor=m.precise?null:new DOMPos(v.anchorNode,v.anchorOffset),this.impreciseHead=y.precise?null:new DOMPos(v.focusNode,v.focusOffset)}suppressWidgetCursorChange(r,a){return this.hasComposition&&a.empty&&isEquivalentPosition(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)&&this.posFromDOM(r.focusNode,r.focusOffset)==a.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:r}=this,a=r.state.selection.main,s=getSelection(r.root),{anchorNode:o,anchorOffset:f}=r.observer.selectionRange;if(!s||!a.empty||!a.assoc||!s.modify)return;let h=this.lineAt(a.head,a.assoc);if(!h)return;let d=h.posAtStart;if(a.head==d||a.head==d+h.length)return;let g=this.coordsAt(a.head,-1),m=this.coordsAt(a.head,1);if(!g||!m||g.bottom>m.top)return;let y=this.domAtPos(a.head+a.assoc,a.assoc);s.collapse(y.node,y.offset),s.modify("move",a.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();let v=r.observer.selectionRange;r.docView.posFromDOM(v.anchorNode,v.anchorOffset)!=a.from&&s.collapse(o,f)}posFromDOM(r,a){let s=this.tile.nearest(r);if(!s)return this.tile.dom.compareDocumentPosition(r)&2?0:this.view.state.doc.length;let o=s.posAtStart;if(s.isComposite()){let f;if(r==s.dom)f=s.dom.childNodes[a];else{let h=maxOffset(r)==0?0:a==0?-1:1;for(;;){let d=r.parentNode;if(d==s.dom)break;h==0&&d.firstChild!=d.lastChild&&(r==d.firstChild?h=-1:h=1),r=d}h<0?f=r:f=r.nextSibling}if(f==s.dom.firstChild)return o;for(;f&&!Tile.get(f);)f=f.nextSibling;if(!f)return o+s.length;for(let h=0,d=o;;h++){let g=s.children[h];if(g.dom==f)return d;d+=g.length+g.breakAfter}}else return s.isText()?r==s.dom?o+a:o+(a?s.length:0):o}domAtPos(r,a){let{tile:s,offset:o}=this.tile.resolveBlock(r,a);return s.isWidget()?s.domPosFor(r,a):s.domIn(o,a)}inlineDOMNearPos(r,a){let s,o=-1,f=!1,h,d=-1,g=!1;return this.tile.blockTiles((m,y)=>{if(m.isWidget()){if(m.flags&32&&y>=r)return!0;m.flags&16&&(f=!0)}else{let v=y+m.length;if(y<=r&&(s=m,o=r-y,f=v<r),v>=r&&!h&&(h=m,d=r-y,g=y>r),y>r&&h)return!0}}),!s&&!h?this.domAtPos(r,a):(f&&h?s=null:g&&s&&(h=null),s&&a<0||!h?s.domIn(o,a):h.domIn(d,a))}coordsAt(r,a){let{tile:s,offset:o}=this.tile.resolveBlock(r,a);return s.isWidget()?s.widget instanceof BlockGapWidget?null:s.coordsInWidget(o,a,!0):s.coordsIn(o,a)}lineAt(r,a){let{tile:s}=this.tile.resolveBlock(r,a);return s.isLine()?s:null}coordsForChar(r){let{tile:a,offset:s}=this.tile.resolveBlock(r,1);if(!a.isLine())return null;function o(f,h){if(f.isComposite())for(let d of f.children){if(d.length>=h){let g=o(d,h);if(g)return g}if(h-=d.length,h<0)break}else if(f.isText()&&h<f.length){let d=findClusterBreak(f.text,h);if(d==h)return null;let g=textRange(f.dom,h,d).getClientRects();for(let m=0;m<g.length;m++){let y=g[m];if(m==g.length-1||y.top<y.bottom&&y.left<y.right)return y}}return null}return o(a,s)}measureVisibleLineHeights(r){let a=[],{from:s,to:o}=r,f=this.view.contentDOM.clientWidth,h=f>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,d=-1,g=this.view.textDirection==Direction.LTR,m=0,y=(v,x,k)=>{for(let Q=0;Q<v.children.length&&!(x>o);Q++){let A=v.children[Q],M=x+A.length,L=A.dom.getBoundingClientRect(),{height:B}=L;if(k&&!Q&&(m+=L.top-k.top),A instanceof BlockWrapperTile)M>s&&y(A,x,L);else if(x>=s&&(m>0&&a.push(-m),a.push(B+m),m=0,h)){let X=A.dom.lastChild,V=X?clientRectsFor(X):[];if(V.length){let z=V[V.length-1],I=g?z.right-L.left:L.right-z.left;I>d&&(d=I,this.minWidth=f,this.minWidthFrom=x,this.minWidthTo=M)}}k&&Q==v.children.length-1&&(m+=k.bottom-L.bottom),x=M+A.breakAfter}};return y(this.tile,0,null),a}textDirectionAt(r){let{tile:a}=this.tile.resolveBlock(r,1);return getComputedStyle(a.dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){let r=this.tile.blockTiles(h=>{if(h.isLine()&&h.children.length&&h.length<=20){let d=0,g;for(let m of h.children){if(!m.isText()||/[^ -~]/.test(m.text))return;let y=clientRectsFor(m.dom);if(y.length!=1)return;d+=y[0].width,g=y[0].height}if(d)return{lineHeight:h.dom.getBoundingClientRect().height,charWidth:d/h.length,textHeight:g}}});if(r)return r;let a=document.createElement("div"),s,o,f;return a.className="cm-line",a.style.width="99999px",a.style.position="absolute",a.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(a);let h=clientRectsFor(a.firstChild)[0];s=a.getBoundingClientRect().height,o=h&&h.width?h.width/27:7,f=h&&h.height?h.height:s,a.remove()}),{lineHeight:s,charWidth:o,textHeight:f}}computeBlockGapDeco(){let r=[],a=this.view.viewState;for(let s=0,o=0;;o++){let f=o==a.viewports.length?null:a.viewports[o],h=f?f.from-1:this.view.state.doc.length;if(h>s){let d=(a.lineBlockAt(h).bottom-a.lineBlockAt(s).top)/this.view.scaleY;r.push(Decoration.replace({widget:new BlockGapWidget(d),block:!0,inclusive:!0,isBlockGap:!0}).range(s,h))}if(!f)break;s=f.to+1}return Decoration.set(r)}updateDeco(){let r=1,a=this.view.state.facet(decorations).map(f=>(this.dynamicDecorationMap[r++]=typeof f=="function")?f(this.view):f),s=!1,o=this.view.state.facet(outerDecorations).map((f,h)=>{let d=typeof f=="function";return d&&(s=!0),d?f(this.view):f});for(o.length&&(this.dynamicDecorationMap[r++]=s,a.push(RangeSet.join(o))),this.decorations=[this.editContextFormatting,...a,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];r<this.decorations.length;)this.dynamicDecorationMap[r++]=!1;this.blockWrappers=this.view.state.facet(blockWrappers).map(f=>typeof f=="function"?f(this.view):f)}scrollIntoView(r){if(r.isSnapshot){let m=this.view.viewState.lineBlockAt(r.range.head);this.view.scrollDOM.scrollTop=m.top-r.yMargin,this.view.scrollDOM.scrollLeft=r.xMargin;return}for(let m of this.view.state.facet(scrollHandler))try{if(m(this.view,r.range,r))return!0}catch(y){logException(this.view.state,y,"scroll handler")}let{range:a}=r,s=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1),o;if(!s)return;!a.empty&&(o=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(s={left:Math.min(s.left,o.left),top:Math.min(s.top,o.top),right:Math.max(s.right,o.right),bottom:Math.max(s.bottom,o.bottom)});let f=getScrollMargins(this.view),h={left:s.left-f.left,top:s.top-f.top,right:s.right+f.right,bottom:s.bottom+f.bottom},{offsetWidth:d,offsetHeight:g}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,h,a.head<a.anchor?-1:1,r.x,r.y,Math.max(Math.min(r.xMargin,d),-d),Math.max(Math.min(r.yMargin,g),-g),this.view.textDirection==Direction.LTR)}lineHasWidget(r){let a=s=>s.isWidget()||s.children.some(a);return a(this.tile.resolveBlock(r,1).tile)}destroy(){destroyDropped(this.tile)}}function destroyDropped(l,r){let a=r?.get(l);if(a!=1){a==null&&l.destroy();for(let s of l.children)destroyDropped(s,r)}}function betweenUneditable(l){return l.node.nodeType==1&&l.node.firstChild&&(l.offset==0||l.node.childNodes[l.offset-1].contentEditable=="false")&&(l.offset==l.node.childNodes.length||l.node.childNodes[l.offset].contentEditable=="false")}function findCompositionNode(l,r){let a=l.observer.selectionRange;if(!a.focusNode)return null;let s=textNodeBefore(a.focusNode,a.focusOffset),o=textNodeAfter(a.focusNode,a.focusOffset),f=s||o;if(o&&s&&o.node!=s.node){let d=Tile.get(o.node);if(!d||d.isText()&&d.text!=o.node.nodeValue)f=o;else if(l.docView.lastCompositionAfterCursor){let g=Tile.get(s.node);!g||g.isText()&&g.text!=s.node.nodeValue||(f=o)}}if(l.docView.lastCompositionAfterCursor=f!=s,!f)return null;let h=r-f.offset;return{from:h,to:h+f.node.nodeValue.length,node:f.node}}function findCompositionRange(l,r,a){let s=findCompositionNode(l,a);if(!s)return null;let{node:o,from:f,to:h}=s,d=o.nodeValue;if(/[\n\r]/.test(d)||l.state.doc.sliceString(s.from,s.to)!=d)return null;let g=r.invertedDesc;return{range:new ChangedRange(g.mapPos(f),g.mapPos(h),f,h),text:o}}function nextToUneditable(l,r){return l.nodeType!=1?0:(r&&l.childNodes[r-1].contentEditable=="false"?1:0)|(r<l.childNodes.length&&l.childNodes[r].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(r,a){addRange(r,a,this.changes)}comparePoint(r,a){addRange(r,a,this.changes)}boundChange(r){addRange(r,r,this.changes)}};function findChangedDeco(l,r,a){let s=new DecorationComparator$1;return RangeSet.compare(l,r,a,s),s.changes}class WrapperComparator{constructor(){this.changes=[]}compareRange(r,a){addRange(r,a,this.changes)}comparePoint(){}boundChange(r){addRange(r,r,this.changes)}}function findChangedWrappers(l,r,a){let s=new WrapperComparator;return RangeSet.compare(l,r,a,s),s.changes}function inUneditable(l,r){for(let a=l;a&&a!=r;a=a.assignedSlot||a.parentNode)if(a.nodeType==1&&a.contentEditable=="false")return!0;return!1}function touchesComposition(l,r){let a=!1;return r&&l.iterChangedRanges((s,o)=>{s<r.to&&o>r.from&&(a=!0)}),a}class BlockGapWidget extends WidgetType{constructor(r){super(),this.height=r}toDOM(){let r=document.createElement("div");return r.className="cm-gap",this.updateDOM(r),r}eq(r){return r.height==this.height}updateDOM(r){return r.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function groupAt(l,r,a=1){let s=l.charCategorizer(r),o=l.doc.lineAt(r),f=r-o.from;if(o.length==0)return EditorSelection.cursor(r);f==0?a=1:f==o.length&&(a=-1);let h=f,d=f;a<0?h=findClusterBreak(o.text,f,!1):d=findClusterBreak(o.text,f);let g=s(o.text.slice(h,d));for(;h>0;){let m=findClusterBreak(o.text,h,!1);if(s(o.text.slice(m,h))!=g)break;h=m}for(;d<o.length;){let m=findClusterBreak(o.text,d);if(s(o.text.slice(d,m))!=g)break;d=m}return EditorSelection.range(h+o.from,d+o.from)}function posAtCoordsImprecise(l,r,a,s,o){let f=Math.round((s-r.left)*l.defaultCharacterWidth);if(l.lineWrapping&&a.height>l.defaultLineHeight*1.5){let d=l.viewState.heightOracle.textHeight,g=Math.floor((o-a.top-(l.defaultLineHeight-d)*.5)/d);f+=g*l.viewState.heightOracle.lineLength}let h=l.state.sliceDoc(a.from,a.to);return a.from+findColumn(h,f,l.state.tabSize)}function blockAt(l,r,a){let s=l.lineBlockAt(r);if(Array.isArray(s.type)){let o;for(let f of s.type){if(f.from>r)break;if(!(f.to<r)){if(f.from<r&&f.to>r)return f;(!o||f.type==BlockType.Text&&(o.type!=f.type||(a<0?f.from<r:f.to>r)))&&(o=f)}}return o||s}return s}function moveToLineBoundary(l,r,a,s){let o=blockAt(l,r.head,r.assoc||-1),f=!s||o.type!=BlockType.Text||!(l.lineWrapping||o.widgetLineBreaks)?null:l.coordsAtPos(r.assoc<0&&r.head>o.from?r.head-1:r.head);if(f){let h=l.dom.getBoundingClientRect(),d=l.textDirectionAt(o.from),g=l.posAtCoords({x:a==(d==Direction.LTR)?h.right-1:h.left+1,y:(f.top+f.bottom)/2});if(g!=null)return EditorSelection.cursor(g,a?-1:1)}return EditorSelection.cursor(a?o.to:o.from,a?-1:1)}function moveByChar(l,r,a,s){let o=l.state.doc.lineAt(r.head),f=l.bidiSpans(o),h=l.textDirectionAt(o.from);for(let d=r,g=null;;){let m=moveVisually(o,f,h,d,a),y=movedOver;if(!m){if(o.number==(a?l.state.doc.lines:1))return d;y=`
`,o=l.state.doc.line(o.number+(a?1:-1)),f=l.bidiSpans(o),m=l.visualLineSide(o,!a)}if(g){if(!g(y))return d}else{if(!s)return m;g=s(y)}d=m}}function byGroup(l,r,a){let s=l.state.charCategorizer(r),o=s(a);return f=>{let h=s(f);return o==CharCategory.Space&&(o=h),o==h}}function moveVertically(l,r,a,s){let o=r.head,f=a?1:-1;if(o==(a?l.state.doc.length:0))return EditorSelection.cursor(o,r.assoc);let h=r.goalColumn,d,g=l.contentDOM.getBoundingClientRect(),m=l.coordsAtPos(o,(r.empty?r.assoc:0)||(a?1:-1)),y=l.documentTop;if(m)h==null&&(h=m.left-g.left),d=f<0?m.top:m.bottom;else{let Q=l.viewState.lineBlockAt(o);h==null&&(h=Math.min(g.right-g.left,l.defaultCharacterWidth*(o-Q.from))),d=(f<0?Q.top:Q.bottom)+y}let v=g.left+h,x=s??l.viewState.heightOracle.textHeight>>1,k=posAtCoords(l,{x:v,y:d+x*f},!1,f);return EditorSelection.cursor(k.pos,k.assoc,void 0,h)}function skipAtomicRanges(l,r,a){for(;;){let s=0;for(let o of l)o.between(r-1,r+1,(f,h,d)=>{if(r>f&&r<h){let g=s||a||(r-f<h-r?-1:1);r=g<0?f:h,s=g}});if(!s)return r}}function skipAtomsForSelection(l,r){let a=null;for(let s=0;s<r.ranges.length;s++){let o=r.ranges[s],f=null;if(o.empty){let h=skipAtomicRanges(l,o.from,0);h!=o.from&&(f=EditorSelection.cursor(h,-1))}else{let h=skipAtomicRanges(l,o.from,-1),d=skipAtomicRanges(l,o.to,1);(h!=o.from||d!=o.to)&&(f=EditorSelection.range(o.from==o.anchor?h:d,o.from==o.head?h:d))}f&&(a||(a=r.ranges.slice()),a[s]=f)}return a?EditorSelection.create(a,r.mainIndex):r}function skipAtoms(l,r,a){let s=skipAtomicRanges(l.state.facet(atomicRanges).map(o=>o(l)),a.from,r.head>a.from?-1:1);return s==a.from?a:EditorSelection.cursor(s,s<a.from?1:-1)}class PosAssoc{constructor(r,a){this.pos=r,this.assoc=a}}function posAtCoords(l,r,a,s){let o=l.contentDOM.getBoundingClientRect(),f=o.top+l.viewState.paddingTop,{x:h,y:d}=r,g=d-f,m;for(;;){if(g<0)return new PosAssoc(0,1);if(g>l.viewState.docHeight)return new PosAssoc(l.state.doc.length,-1);if(m=l.elementAtHeight(g),s==null)break;if(m.type==BlockType.Text){if(s<0?m.to<l.viewport.from:m.from>l.viewport.to)break;let x=l.docView.coordsAt(s<0?m.from:m.to,s>0?-1:1);if(x&&(s<0?x.top<=g+f:x.bottom>=g+f))break}let v=l.viewState.heightOracle.textHeight/2;g=s>0?m.bottom+v:m.top-v}if(l.viewport.from>=m.to||l.viewport.to<=m.from){if(a)return null;if(m.type==BlockType.Text){let v=posAtCoordsImprecise(l,o,m,h,d);return new PosAssoc(v,v==m.from?1:-1)}}if(m.type!=BlockType.Text)return g<(m.top+m.bottom)/2?new PosAssoc(m.from,1):new PosAssoc(m.to,-1);let y=l.docView.lineAt(m.from,2);return(!y||y.length!=m.length)&&(y=l.docView.lineAt(m.from,-2)),posAtCoordsInline(l,y,m.from,h,d)}function posAtCoordsInline(l,r,a,s,o){let f=-1,h=null,d=1e9,g=1e9,m=o,y=o,v=(x,k)=>{for(let Q=0;Q<x.length;Q++){let A=x[Q];if(A.top==A.bottom)continue;let M=A.left>s?A.left-s:A.right<s?s-A.right:0,L=A.top>o?A.top-o:A.bottom<o?o-A.bottom:0;A.top<=y&&A.bottom>=m&&(m=Math.min(A.top,m),y=Math.max(A.bottom,y),L=0),(f<0||(L-g||M-d)<0)&&(f>=0&&g&&d<M&&h.top<=y-2&&h.bottom>=m+2?g=0:(f=k,d=M,g=L,h=A))}};if(r.isText()){for(let k=0;k<r.length;){let Q=findClusterBreak(r.text,k);if(v(textRange(r.dom,k,Q).getClientRects(),k),!d&&!g)break;k=Q}return s>(h.left+h.right)/2==(dirAt(l,f+a)==Direction.LTR)?new PosAssoc(a+findClusterBreak(r.text,f),-1):new PosAssoc(a+f,1)}else{if(!r.length)return new PosAssoc(a,1);for(let A=0;A<r.children.length;A++){let M=r.children[A];if(M.flags&48)continue;let L=(M.dom.nodeType==1?M.dom:textRange(M.dom,0,M.length)).getClientRects();if(v(L,A),!d&&!g)break}let x=r.children[f],k=r.posBefore(x,a);return x.isComposite()||x.isText()?posAtCoordsInline(l,x,k,Math.max(h.left,Math.min(h.right,s)),o):s>(h.left+h.right)/2==(dirAt(l,f+a)==Direction.LTR)?new PosAssoc(k+x.length,-1):new PosAssoc(k,1)}}function dirAt(l,r){let a=l.state.doc.lineAt(r);return l.bidiSpans(a)[BidiSpan.find(l.bidiSpans(a),r-a.from,-1,1)].dir}const LineBreakPlaceholder="";class DOMReader{constructor(r,a){this.points=r,this.view=a,this.text="",this.lineSeparator=a.state.facet(EditorState.lineSeparator)}append(r){this.text+=r}lineBreak(){this.text+=LineBreakPlaceholder}readRange(r,a){if(!r)return this;let s=r.parentNode;for(let o=r;;){this.findPointBefore(s,o);let f=this.text.length;this.readNode(o);let h=Tile.get(o),d=o.nextSibling;if(d==a){h?.breakAfter&&!d&&s!=this.view.contentDOM&&this.lineBreak();break}let g=Tile.get(d);(h&&g?h.breakAfter:(h?h.breakAfter:isBlockElement(o))||isBlockElement(d)&&(o.nodeName!="BR"||h?.isWidget())&&this.text.length>f)&&!isEmptyToEnd(d,a)&&this.lineBreak(),o=d}return this.findPointBefore(s,a),this}readTextNode(r){let a=r.nodeValue;for(let s of this.points)s.node==r&&(s.pos=this.text.length+Math.min(s.offset,a.length));for(let s=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let f=-1,h=1,d;if(this.lineSeparator?(f=a.indexOf(this.lineSeparator,s),h=this.lineSeparator.length):(d=o.exec(a))&&(f=d.index,h=d[0].length),this.append(a.slice(s,f<0?a.length:f)),f<0)break;if(this.lineBreak(),h>1)for(let g of this.points)g.node==r&&g.pos>this.text.length&&(g.pos-=h-1);s=f+h}}readNode(r){let a=Tile.get(r),s=a&&a.overrideDOMText;if(s!=null){this.findPointInside(r,s.length);for(let o=s.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else r.nodeType==3?this.readTextNode(r):r.nodeName=="BR"?r.nextSibling&&this.lineBreak():r.nodeType==1&&this.readRange(r.firstChild,null)}findPointBefore(r,a){for(let s of this.points)s.node==r&&r.childNodes[s.offset]==a&&(s.pos=this.text.length)}findPointInside(r,a){for(let s of this.points)(r.nodeType==3?s.node==r:r.contains(s.node))&&(s.pos=this.text.length+(isAtEnd(r,s.node,s.offset)?a:0))}}function isAtEnd(l,r,a){for(;;){if(!r||a<maxOffset(r))return!1;if(r==l)return!0;a=domIndex(r)+1,r=r.parentNode}}function isEmptyToEnd(l,r){let a;for(;!(l==r||!l);l=l.nextSibling){let s=Tile.get(l);if(!s?.isWidget())return!1;s&&(a||(a=[])).push(s)}if(a)for(let s of a){let o=s.overrideDOMText;if(o?.length)return!1}return!0}class DOMPoint{constructor(r,a){this.node=r,this.offset=a,this.pos=-1}}class DOMChange{constructor(r,a,s,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=a>-1;let{impreciseHead:f,impreciseAnchor:h}=r.docView;if(r.state.readOnly&&a>-1)this.newSel=null;else if(a>-1&&(this.bounds=domBoundsAround(r.docView.tile,a,s,0))){let d=f||h?[]:selectionPoints(r),g=new DOMReader(d,r);g.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=g.text,this.newSel=selectionFromPoints(d,this.bounds.from)}else{let d=r.observer.selectionRange,g=f&&f.node==d.focusNode&&f.offset==d.focusOffset||!contains(r.contentDOM,d.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(d.focusNode,d.focusOffset),m=h&&h.node==d.anchorNode&&h.offset==d.anchorOffset||!contains(r.contentDOM,d.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(d.anchorNode,d.anchorOffset),y=r.viewport;if((browser.ios||browser.chrome)&&r.state.selection.main.empty&&g!=m&&(y.from>0||y.to<r.state.doc.length)){let v=Math.min(g,m),x=Math.max(g,m),k=y.from-v,Q=y.to-x;(k==0||k==1||v==0)&&(Q==0||Q==-1||x==r.state.doc.length)&&(g=0,m=r.state.doc.length)}r.inputState.composing>-1&&r.state.selection.ranges.length>1?this.newSel=r.state.selection.replaceRange(EditorSelection.range(m,g)):this.newSel=EditorSelection.single(m,g)}}}function domBoundsAround(l,r,a,s){if(l.isComposite()){let o=-1,f=-1,h=-1,d=-1;for(let g=0,m=s,y=s;g<l.children.length;g++){let v=l.children[g],x=m+v.length;if(m<r&&x>a)return domBoundsAround(v,r,a,m);if(x>=r&&o==-1&&(o=g,f=m),m>a&&v.dom.parentNode==l.dom){h=g,d=y;break}y=x,m=x+v.breakAfter}return{from:f,to:d<0?s+l.length:d,startDOM:(o?l.children[o-1].dom.nextSibling:null)||l.dom.firstChild,endDOM:h<l.children.length&&h>=0?l.children[h].dom:null}}else return l.isText()?{from:s,to:s+l.length,startDOM:l.dom,endDOM:l.dom.nextSibling}:null}function applyDOMChange(l,r){let a,{newSel:s}=r,o=l.state.selection.main,f=l.inputState.lastKeyTime>Date.now()-100?l.inputState.lastKeyCode:-1;if(r.bounds){let{from:h,to:d}=r.bounds,g=o.from,m=null;(f===8||browser.android&&r.text.length<d-h)&&(g=o.to,m="end");let y=findDiff(l.state.doc.sliceString(h,d,LineBreakPlaceholder),r.text,g-h,m);y&&(browser.chrome&&f==13&&y.toB==y.from+2&&r.text.slice(y.from,y.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&y.toB--,a={from:h+y.from,to:h+y.toA,insert:Text.of(r.text.slice(y.from,y.toB).split(LineBreakPlaceholder))})}else s&&(!l.hasFocus&&l.state.facet(editable)||sameSelPos(s,o))&&(s=null);if(!a&&!s)return!1;if(!a&&r.typeOver&&!o.empty&&s&&s.main.empty?a={from:o.from,to:o.to,insert:l.state.doc.slice(o.from,o.to)}:(browser.mac||browser.android)&&a&&a.from==a.to&&a.from==o.head-1&&/^\. ?$/.test(a.insert.toString())&&l.contentDOM.getAttribute("autocorrect")=="off"?(s&&a.insert.length==2&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),a={from:a.from,to:a.to,insert:Text.of([a.insert.toString().replace("."," ")])}):a&&a.from>=o.from&&a.to<=o.to&&(a.from!=o.from||a.to!=o.to)&&o.to-o.from-(a.to-a.from)<=4?a={from:o.from,to:o.to,insert:l.state.doc.slice(o.from,a.from).append(a.insert).append(l.state.doc.slice(a.to,o.to))}:l.state.doc.lineAt(o.from).to<o.to&&l.docView.lineHasWidget(o.to)&&l.inputState.insertingTextAt>Date.now()-50?a={from:o.from,to:o.to,insert:l.state.toText(l.inputState.insertingText)}:browser.chrome&&a&&a.from==a.to&&a.from==o.head&&a.insert.toString()==`
 `&&l.lineWrapping&&(s&&(s=EditorSelection.single(s.main.anchor-1,s.main.head-1)),a={from:o.from,to:o.to,insert:Text.of([" "])}),a)return applyDOMChangeInner(l,a,s,f);if(s&&!sameSelPos(s,o)){let h=!1,d="select";return l.inputState.lastSelectionTime>Date.now()-50&&(l.inputState.lastSelectionOrigin=="select"&&(h=!0),d=l.inputState.lastSelectionOrigin,d=="select.pointer"&&(s=skipAtomsForSelection(l.state.facet(atomicRanges).map(g=>g(l)),s))),l.dispatch({selection:s,scrollIntoView:h,userEvent:d}),!0}else return!1}function applyDOMChangeInner(l,r,a,s=-1){if(browser.ios&&l.inputState.flushIOSKey(r))return!0;let o=l.state.selection.main;if(browser.android&&(r.to==o.to&&(r.from==o.from||r.from==o.from-1&&l.state.sliceDoc(r.from,o.from)==" ")&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(l.contentDOM,"Enter",13)||(r.from==o.from-1&&r.to==o.to&&r.insert.length==0||s==8&&r.insert.length<r.to-r.from&&r.to>o.head)&&dispatchKey(l.contentDOM,"Backspace",8)||r.from==o.from&&r.to==o.to+1&&r.insert.length==0&&dispatchKey(l.contentDOM,"Delete",46)))return!0;let f=r.insert.toString();l.inputState.composing>=0&&l.inputState.composing++;let h,d=()=>h||(h=applyDefaultInsert(l,r,a));return l.state.facet(inputHandler$1).some(g=>g(l,r.from,r.to,f,d))||l.dispatch(d()),!0}function applyDefaultInsert(l,r,a){let s,o=l.state,f=o.selection.main,h=-1;if(r.from==r.to&&r.from<f.from||r.from>f.to){let g=r.from<f.from?-1:1,m=g<0?f.from:f.to,y=skipAtomicRanges(o.facet(atomicRanges).map(v=>v(l)),m,g);r.from==y&&(h=y)}if(h>-1)s={changes:r,selection:EditorSelection.cursor(r.from+r.insert.length,-1)};else if(r.from>=f.from&&r.to<=f.to&&r.to-r.from>=(f.to-f.from)/3&&(!a||a.main.empty&&a.main.from==r.from+r.insert.length)&&l.inputState.composing<0){let g=f.from<r.from?o.sliceDoc(f.from,r.from):"",m=f.to>r.to?o.sliceDoc(r.to,f.to):"";s=o.replaceSelection(l.state.toText(g+r.insert.sliceString(0,void 0,l.state.lineBreak)+m))}else{let g=o.changes(r),m=a&&a.main.to<=g.newLength?a.main:void 0;if(o.selection.ranges.length>1&&(l.inputState.composing>=0||l.inputState.compositionPendingChange)&&r.to<=f.to+10&&r.to>=f.to-10){let y=l.state.sliceDoc(r.from,r.to),v,x=a&&findCompositionNode(l,a.main.head);if(x){let Q=r.insert.length-(r.to-r.from);v={from:x.from,to:x.to-Q}}else v=l.state.doc.lineAt(f.head);let k=f.to-r.to;s=o.changeByRange(Q=>{if(Q.from==f.from&&Q.to==f.to)return{changes:g,range:m||Q.map(g)};let A=Q.to-k,M=A-y.length;if(l.state.sliceDoc(M,A)!=y||A>=v.from&&M<=v.to)return{range:Q};let L=o.changes({from:M,to:A,insert:r.insert}),B=Q.to-f.to;return{changes:L,range:m?EditorSelection.range(Math.max(0,m.anchor+B),Math.max(0,m.head+B)):Q.map(L)}})}else s={changes:g,selection:m&&o.selection.replaceRange(m)}}let d="input.type";return(l.composing||l.inputState.compositionPendingChange&&l.inputState.compositionEndedAt>Date.now()-50)&&(l.inputState.compositionPendingChange=!1,d+=".compose",l.inputState.compositionFirstChange&&(d+=".start",l.inputState.compositionFirstChange=!1)),o.update(s,{userEvent:d,scrollIntoView:!0})}function findDiff(l,r,a,s){let o=Math.min(l.length,r.length),f=0;for(;f<o&&l.charCodeAt(f)==r.charCodeAt(f);)f++;if(f==o&&l.length==r.length)return null;let h=l.length,d=r.length;for(;h>0&&d>0&&l.charCodeAt(h-1)==r.charCodeAt(d-1);)h--,d--;if(s=="end"){let g=Math.max(0,f-Math.min(h,d));a-=h+g-f}if(h<f&&l.length<r.length){let g=a<=f&&a>=h?f-a:0;f-=g,d=f+(d-h),h=f}else if(d<f){let g=a<=f&&a>=d?f-a:0;f-=g,h=f+(h-d),d=f}return{from:f,toA:h,toB:d}}function selectionPoints(l){let r=[];if(l.root.activeElement!=l.contentDOM)return r;let{anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:f}=l.observer.selectionRange;return a&&(r.push(new DOMPoint(a,s)),(o!=a||f!=s)&&r.push(new DOMPoint(o,f))),r}function selectionFromPoints(l,r){if(l.length==0)return null;let a=l[0].pos,s=l.length==2?l[1].pos:a;return a>-1&&s>-1?EditorSelection.single(a+r,s+r):null}function sameSelPos(l,r){return r.head==l.main.head&&r.anchor==l.main.anchor}class InputState{setSelectionOrigin(r){this.lastSelectionOrigin=r,this.lastSelectionTime=Date.now()}constructor(r){this.view=r,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=r.hasFocus,browser.safari&&r.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(r.contentDOM.ownerDocument)}handleEvent(r){!eventBelongsToEditor(this.view,r)||this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(r)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(r.type,r)):this.runHandlers(r.type,r))}runHandlers(r,a){let s=this.handlers[r];if(s){for(let o of s.observers)o(this.view,a);for(let o of s.handlers){if(a.defaultPrevented)break;if(o(this.view,a)){a.preventDefault();break}}}}ensureHandlers(r){let a=computeHandlers(r),s=this.handlers,o=this.view.contentDOM;for(let f in a)if(f!="scroll"){let h=!a[f].handlers.length,d=s[f];d&&h!=!d.handlers.length&&(o.removeEventListener(f,this.handleEvent),d=null),d||o.addEventListener(f,this.handleEvent,{passive:h})}for(let f in s)f!="scroll"&&!a[f]&&o.removeEventListener(f,this.handleEvent);this.handlers=a}keydown(r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&r.keyCode!=27&&modifierCodes.indexOf(r.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return this.view.observer.delayAndroidKey(r.key,r.keyCode),!0;let a;return browser.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((a=PendingKeys.find(s=>s.keyCode==r.keyCode))&&!r.ctrlKey||EmacsyPendingKeys.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=a||r,setTimeout(()=>this.flushIOSKey(),250),!0):(r.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(r){let a=this.pendingIOSKey;return!a||a.key=="Enter"&&r&&r.from<r.to&&/^\S+$/.test(r.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,a.key,a.keyCode,a instanceof KeyboardEvent?a:void 0))}ignoreDuringComposition(r){return!/^key/.test(r.type)||r.synthetic?!1:this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(r){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=r}update(r){this.view.observer.update(r),this.mouseSelection&&this.mouseSelection.update(r),this.draggedContent&&r.docChanged&&(this.draggedContent=this.draggedContent.map(r.changes)),r.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(l,r){return(a,s)=>{try{return r.call(l,s,a)}catch(o){logException(a.state,o)}}}function computeHandlers(l){let r=Object.create(null);function a(s){return r[s]||(r[s]={observers:[],handlers:[]})}for(let s of l){let o=s.spec,f=o&&o.plugin.domEventHandlers,h=o&&o.plugin.domEventObservers;if(f)for(let d in f){let g=f[d];g&&a(d).handlers.push(bindHandler(s.value,g))}if(h)for(let d in h){let g=h[d];g&&a(d).observers.push(bindHandler(s.value,g))}}for(let s in handlers)a(s).handlers.push(handlers[s]);for(let s in observers)a(s).observers.push(observers[s]);return r}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(l){return Math.max(0,l)*.7+8}function dist(l,r){return Math.max(Math.abs(l.clientX-r.clientX),Math.abs(l.clientY-r.clientY))}class MouseSelection{constructor(r,a,s,o){this.view=r,this.startEvent=a,this.style=s,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=a,this.scrollParents=scrollableParents(r.contentDOM),this.atoms=r.state.facet(atomicRanges).map(h=>h(r));let f=r.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this)),f.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=a.shiftKey,this.multiple=r.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(r,a),this.dragging=isInPrimarySelection(r,a)&&getClickType(a)==1?null:!1}start(r){this.dragging===!1&&this.select(r)}move(r){if(r.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,r)<10)return;this.select(this.lastEvent=r);let a=0,s=0,o=0,f=0,h=this.view.win.innerWidth,d=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:h}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:f,bottom:d}=this.scrollParents.y.getBoundingClientRect());let g=getScrollMargins(this.view);r.clientX-g.left<=o+dragScrollMargin?a=-dragScrollSpeed(o-r.clientX):r.clientX+g.right>=h-dragScrollMargin&&(a=dragScrollSpeed(r.clientX-h)),r.clientY-g.top<=f+dragScrollMargin?s=-dragScrollSpeed(f-r.clientY):r.clientY+g.bottom>=d-dragScrollMargin&&(s=dragScrollSpeed(r.clientY-d)),this.setScrollSpeed(a,s)}up(r){this.dragging==null&&this.select(this.lastEvent),this.dragging||r.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let r=this.view.contentDOM.ownerDocument;r.removeEventListener("mousemove",this.move),r.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(r,a){this.scrollSpeed={x:r,y:a},r||a?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:r,y:a}=this.scrollSpeed;r&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=r,r=0),a&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=a,a=0),(r||a)&&this.view.win.scrollBy(r,a),this.dragging===!1&&this.select(this.lastEvent)}select(r){let{view:a}=this,s=skipAtomsForSelection(this.atoms,this.style.get(r,this.extend,this.multiple));(this.mustSelect||!s.eq(a.state.selection,this.dragging===!1))&&this.view.dispatch({selection:s,userEvent:"select.pointer"}),this.mustSelect=!1}update(r){r.transactions.some(a=>a.isUserEvent("input.type"))?this.destroy():this.style.update(r)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(l,r){let a=l.state.facet(clickAddsSelectionRange);return a.length?a[0](r):browser.mac?r.metaKey:r.ctrlKey}function dragMovesSelection(l,r){let a=l.state.facet(dragMovesSelection$1);return a.length?a[0](r):browser.mac?!r.altKey:!r.ctrlKey}function isInPrimarySelection(l,r){let{main:a}=l.state.selection;if(a.empty)return!1;let s=getSelection(l.root);if(!s||s.rangeCount==0)return!0;let o=s.getRangeAt(0).getClientRects();for(let f=0;f<o.length;f++){let h=o[f];if(h.left<=r.clientX&&h.right>=r.clientX&&h.top<=r.clientY&&h.bottom>=r.clientY)return!0}return!1}function eventBelongsToEditor(l,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let a=r.target,s;a!=l.contentDOM;a=a.parentNode)if(!a||a.nodeType==11||(s=Tile.get(a))&&s.isWidget()&&!s.isHidden&&s.widget.ignoreEvent(r))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(l){let r=l.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{l.focus(),a.remove(),doPaste(l,a.value)},50)}function textFilter(l,r,a){for(let s of l.facet(r))a=s(a,l);return a}function doPaste(l,r){r=textFilter(l.state,clipboardInputFilter,r);let{state:a}=l,s,o=1,f=a.toText(r),h=f.lines==a.selection.ranges.length;if(lastLinewiseCopy!=null&&a.selection.ranges.every(g=>g.empty)&&lastLinewiseCopy==f.toString()){let g=-1;s=a.changeByRange(m=>{let y=a.doc.lineAt(m.from);if(y.from==g)return{range:m};g=y.from;let v=a.toText((h?f.line(o++).text:r)+a.lineBreak);return{changes:{from:y.from,insert:v},range:EditorSelection.cursor(m.from+v.length)}})}else h?s=a.changeByRange(g=>{let m=f.line(o++);return{changes:{from:g.from,to:g.to,insert:m.text},range:EditorSelection.cursor(g.from+m.length)}}):s=a.replaceSelection(f);l.dispatch(s,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=l=>{l.inputState.lastScrollTop=l.scrollDOM.scrollTop,l.inputState.lastScrollLeft=l.scrollDOM.scrollLeft};handlers.keydown=(l,r)=>(l.inputState.setSelectionOrigin("select"),r.keyCode==27&&l.inputState.tabFocusMode!=0&&(l.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(l,r)=>{l.inputState.lastTouchTime=Date.now(),l.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=l=>{l.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(l,r)=>{if(l.observer.flush(),l.inputState.lastTouchTime>Date.now()-2e3)return!1;let a=null;for(let s of l.state.facet(mouseSelectionStyle))if(a=s(l,r),a)break;if(!a&&r.button==0&&(a=basicMouseSelection(l,r)),a){let s=!l.hasFocus;l.inputState.startMouseSelection(new MouseSelection(l,r,a,s)),s&&l.observer.ignore(()=>{focusPreventScroll(l.contentDOM);let f=l.root.activeElement;f&&!f.contains(l.contentDOM)&&f.blur()});let o=l.inputState.mouseSelection;if(o)return o.start(r),o.dragging===!1}else l.inputState.setSelectionOrigin("select.pointer");return!1};function rangeForClick(l,r,a,s){if(s==1)return EditorSelection.cursor(r,a);if(s==2)return groupAt(l.state,r,a);{let o=l.docView.lineAt(r,a),f=l.state.doc.lineAt(o?o.posAtEnd:r),h=o?o.posAtStart:f.from,d=o?o.posAtEnd:f.to;return d<l.state.doc.length&&d==f.to&&d++,EditorSelection.range(h,d)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(l){if(!BadMouseDetail)return l.detail;let r=lastMouseDown,a=lastMouseDownTime;return lastMouseDown=l,lastMouseDownTime=Date.now(),lastMouseDownCount=!r||a>Date.now()-400&&Math.abs(r.clientX-l.clientX)<2&&Math.abs(r.clientY-l.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(l,r){let a=l.posAndSideAtCoords({x:r.clientX,y:r.clientY},!1),s=getClickType(r),o=l.state.selection;return{update(f){f.docChanged&&(a.pos=f.changes.mapPos(a.pos),o=o.map(f.changes))},get(f,h,d){let g=l.posAndSideAtCoords({x:f.clientX,y:f.clientY},!1),m,y=rangeForClick(l,g.pos,g.assoc,s);if(a.pos!=g.pos&&!h){let v=rangeForClick(l,a.pos,a.assoc,s),x=Math.min(v.from,y.from),k=Math.max(v.to,y.to);y=x<y.from?EditorSelection.range(x,k):EditorSelection.range(k,x)}return h?o.replaceRange(o.main.extend(y.from,y.to)):d&&s==1&&o.ranges.length>1&&(m=removeRangeAround(o,g.pos))?m:d?o.addRange(y):EditorSelection.create([y])}}}function removeRangeAround(l,r){for(let a=0;a<l.ranges.length;a++){let{from:s,to:o}=l.ranges[a];if(s<=r&&o>=r)return EditorSelection.create(l.ranges.slice(0,a).concat(l.ranges.slice(a+1)),l.mainIndex==a?0:l.mainIndex-(l.mainIndex>a?1:0))}return null}handlers.dragstart=(l,r)=>{let{selection:{main:a}}=l.state;if(r.target.draggable){let o=l.docView.tile.nearest(r.target);if(o&&o.isWidget()){let f=o.posAtStart,h=f+o.length;(f>=a.to||h<=a.from)&&(a=EditorSelection.range(f,h))}}let{inputState:s}=l;return s.mouseSelection&&(s.mouseSelection.dragging=!0),s.draggedContent=a,r.dataTransfer&&(r.dataTransfer.setData("Text",textFilter(l.state,clipboardOutputFilter,l.state.sliceDoc(a.from,a.to))),r.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=l=>(l.inputState.draggedContent=null,!1);function dropText(l,r,a,s){if(a=textFilter(l.state,clipboardInputFilter,a),!a)return;let o=l.posAtCoords({x:r.clientX,y:r.clientY},!1),{draggedContent:f}=l.inputState,h=s&&f&&dragMovesSelection(l,r)?{from:f.from,to:f.to}:null,d={from:o,insert:a},g=l.state.changes(h?[h,d]:d);l.focus(),l.dispatch({changes:g,selection:{anchor:g.mapPos(o,-1),head:g.mapPos(o,1)},userEvent:h?"move.drop":"input.drop"}),l.inputState.draggedContent=null}handlers.drop=(l,r)=>{if(!r.dataTransfer)return!1;if(l.state.readOnly)return!0;let a=r.dataTransfer.files;if(a&&a.length){let s=Array(a.length),o=0,f=()=>{++o==a.length&&dropText(l,r,s.filter(h=>h!=null).join(l.state.lineBreak),!1)};for(let h=0;h<a.length;h++){let d=new FileReader;d.onerror=f,d.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(d.result)||(s[h]=d.result),f()},d.readAsText(a[h])}return!0}else{let s=r.dataTransfer.getData("Text");if(s)return dropText(l,r,s,!0),!0}return!1};handlers.paste=(l,r)=>{if(l.state.readOnly)return!0;l.observer.flush();let a=brokenClipboardAPI?null:r.clipboardData;return a?(doPaste(l,a.getData("text/plain")||a.getData("text/uri-list")),!0):(capturePaste(l),!1)};function captureCopy(l,r){let a=l.dom.parentNode;if(!a)return;let s=a.appendChild(document.createElement("textarea"));s.style.cssText="position: fixed; left: -10000px; top: 10px",s.value=r,s.focus(),s.selectionEnd=r.length,s.selectionStart=0,setTimeout(()=>{s.remove(),l.focus()},50)}function copiedRange(l){let r=[],a=[],s=!1;for(let o of l.selection.ranges)o.empty||(r.push(l.sliceDoc(o.from,o.to)),a.push(o));if(!r.length){let o=-1;for(let{from:f}of l.selection.ranges){let h=l.doc.lineAt(f);h.number>o&&(r.push(h.text),a.push({from:h.from,to:Math.min(l.doc.length,h.to+1)})),o=h.number}s=!0}return{text:textFilter(l,clipboardOutputFilter,r.join(l.lineBreak)),ranges:a,linewise:s}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(l,r)=>{let a=getSelection(l.root);if(a&&!hasSelection(l.contentDOM,a))return!1;let{text:s,ranges:o,linewise:f}=copiedRange(l.state);if(!s&&!f)return!1;lastLinewiseCopy=f?s:null,r.type=="cut"&&!l.state.readOnly&&l.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let h=brokenClipboardAPI?null:r.clipboardData;return h?(h.clearData(),h.setData("text/plain",s),!0):(captureCopy(l,s),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(l,r){let a=[];for(let s of l.facet(focusChangeEffect)){let o=s(l,r);o&&a.push(o)}return a.length?l.update({effects:a,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(l){setTimeout(()=>{let r=l.hasFocus;if(r!=l.inputState.notifiedFocused){let a=focusChangeTransaction(l.state,r);a?l.dispatch(a):l.update([])}},10)}observers.focus=l=>{l.inputState.lastFocusTime=Date.now(),!l.scrollDOM.scrollTop&&(l.inputState.lastScrollTop||l.inputState.lastScrollLeft)&&(l.scrollDOM.scrollTop=l.inputState.lastScrollTop,l.scrollDOM.scrollLeft=l.inputState.lastScrollLeft),updateForFocusChange(l)};observers.blur=l=>{l.observer.clearSelectionRange(),updateForFocusChange(l)};observers.compositionstart=observers.compositionupdate=l=>{l.observer.editContext||(l.inputState.compositionFirstChange==null&&(l.inputState.compositionFirstChange=!0),l.inputState.composing<0&&(l.inputState.composing=0))};observers.compositionend=l=>{l.observer.editContext||(l.inputState.composing=-1,l.inputState.compositionEndedAt=Date.now(),l.inputState.compositionPendingKey=!0,l.inputState.compositionPendingChange=l.observer.pendingRecords().length>0,l.inputState.compositionFirstChange=null,browser.chrome&&browser.android?l.observer.flushSoon():l.inputState.compositionPendingChange?Promise.resolve().then(()=>l.observer.flush()):setTimeout(()=>{l.inputState.composing<0&&l.docView.hasComposition&&l.update([])},50))};observers.contextmenu=l=>{l.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(l,r)=>{var a,s;if((r.inputType=="insertText"||r.inputType=="insertCompositionText")&&(l.inputState.insertingText=r.data,l.inputState.insertingTextAt=Date.now()),r.inputType=="insertReplacementText"&&l.observer.editContext){let f=(a=r.dataTransfer)===null||a===void 0?void 0:a.getData("text/plain"),h=r.getTargetRanges();if(f&&h.length){let d=h[0],g=l.posAtDOM(d.startContainer,d.startOffset),m=l.posAtDOM(d.endContainer,d.endOffset);return applyDOMChangeInner(l,{from:g,to:m,insert:l.state.toText(f)},null),!0}}let o;if(browser.chrome&&browser.android&&(o=PendingKeys.find(f=>f.inputType==r.inputType))&&(l.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let f=((s=window.visualViewport)===null||s===void 0?void 0:s.height)||0;setTimeout(()=>{var h;(((h=window.visualViewport)===null||h===void 0?void 0:h.height)||0)>f+10&&l.hasFocus&&(l.contentDOM.blur(),l.focus())},100)}return browser.ios&&r.inputType=="deleteContentForward"&&l.observer.flushSoon(),browser.safari&&r.inputType=="insertText"&&l.inputState.composing>=0&&setTimeout(()=>observers.compositionend(l,r),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(l){appliedFirefoxHack.has(l)||(appliedFirefoxHack.add(l),l.addEventListener("copy",()=>{}),l.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(r){this.lineWrapping=r,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(r,a){let s=this.doc.lineAt(a).number-this.doc.lineAt(r).number+1;return this.lineWrapping&&(s+=Math.max(0,Math.ceil((a-r-s*this.lineLength*.5)/this.lineLength))),this.lineHeight*s}heightForLine(r){return this.lineWrapping?(1+Math.max(0,Math.ceil((r-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(r){return this.doc=r,this}mustRefreshForWrapping(r){return wrappingWhiteSpace.indexOf(r)>-1!=this.lineWrapping}mustRefreshForHeights(r){let a=!1;for(let s=0;s<r.length;s++){let o=r[s];o<0?s++:this.heightSamples[Math.floor(o*10)]||(a=!0,this.heightSamples[Math.floor(o*10)]=!0)}return a}refresh(r,a,s,o,f,h){let d=wrappingWhiteSpace.indexOf(r)>-1,g=Math.abs(a-this.lineHeight)>.3||this.lineWrapping!=d||Math.abs(s-this.charWidth)>.1;if(this.lineWrapping=d,this.lineHeight=a,this.charWidth=s,this.textHeight=o,this.lineLength=f,g){this.heightSamples={};for(let m=0;m<h.length;m++){let y=h[m];y<0?m++:this.heightSamples[Math.floor(y*10)]=!0}}return g}}class MeasuredHeights{constructor(r,a){this.from=r,this.heights=a,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(r,a,s,o,f){this.from=r,this.length=a,this.top=s,this.height=o,this._content=f}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(r){let a=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(r._content)?r._content:[r]);return new BlockInfo(this.from,this.length+r.length,this.top,this.height+r.height,a)}}var QueryType$1=(function(l){return l[l.ByPos=0]="ByPos",l[l.ByHeight=1]="ByHeight",l[l.ByPosNoHeight=2]="ByPosNoHeight",l})(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(r,a,s=2){this.length=r,this.height=a,this.flags=s}get outdated(){return(this.flags&2)>0}set outdated(r){this.flags=(r?2:0)|this.flags&-3}setHeight(r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(heightChangeFlag=!0),this.height=r)}replace(r,a,s){return HeightMap.of(s)}decomposeLeft(r,a){a.push(this)}decomposeRight(r,a){a.push(this)}applyChanges(r,a,s,o){let f=this,h=s.doc;for(let d=o.length-1;d>=0;d--){let{fromA:g,toA:m,fromB:y,toB:v}=o[d],x=f.lineAt(g,QueryType$1.ByPosNoHeight,s.setDoc(a),0,0),k=x.to>=m?x:f.lineAt(m,QueryType$1.ByPosNoHeight,s,0,0);for(v+=k.to-m,m=k.to;d>0&&x.from<=o[d-1].toA;)g=o[d-1].fromA,y=o[d-1].fromB,d--,g<x.from&&(x=f.lineAt(g,QueryType$1.ByPosNoHeight,s,0,0));y+=x.from-g,g=x.from;let Q=NodeBuilder.build(s.setDoc(h),r,y,v);f=replace(f,f.replace(g,m,Q))}return f.updateHeight(s,0)}static empty(){return new HeightMapText(0,0,0)}static of(r){if(r.length==1)return r[0];let a=0,s=r.length,o=0,f=0;for(;;)if(a==s)if(o>f*2){let d=r[a-1];d.break?r.splice(--a,1,d.left,null,d.right):r.splice(--a,1,d.left,d.right),s+=1+d.break,o-=d.size}else if(f>o*2){let d=r[s];d.break?r.splice(s,1,d.left,null,d.right):r.splice(s,1,d.left,d.right),s+=2+d.break,f-=d.size}else break;else if(o<f){let d=r[a++];d&&(o+=d.size)}else{let d=r[--s];d&&(f+=d.size)}let h=0;return r[a-1]==null?(h=1,a--):r[a]==null&&(h=1,s++),new HeightMapBranch(HeightMap.of(r.slice(0,a)),h,HeightMap.of(r.slice(s)))}}function replace(l,r){return l==r?l:(l.constructor!=r.constructor&&(heightChangeFlag=!0),r)}HeightMap.prototype.size=1;const SpaceDeco=Decoration.replace({});class HeightMapBlock extends HeightMap{constructor(r,a,s){super(r,a),this.deco=s,this.spaceAbove=0}mainBlock(r,a){return new BlockInfo(a,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(r,a,s,o){return this.spaceAbove&&r<s+this.spaceAbove?new BlockInfo(o,0,s,this.spaceAbove,SpaceDeco):this.mainBlock(s,o)}lineAt(r,a,s,o,f){let h=this.mainBlock(o,f);return this.spaceAbove?this.blockAt(0,s,o,f).join(h):h}forEachLine(r,a,s,o,f,h){r<=f+this.length&&a>=f&&h(this.lineAt(0,QueryType$1.ByPos,s,o,f))}setMeasuredHeight(r){let a=r.heights[r.index++];a<0?(this.spaceAbove=-a,a=r.heights[r.index++]):this.spaceAbove=0,this.setHeight(a)}updateHeight(r,a=0,s=!1,o){return o&&o.from<=a&&o.more&&this.setMeasuredHeight(o),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(r,a,s){super(r,a,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=s}mainBlock(r,a){return new BlockInfo(a,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(r,a,s){let o=s[0];return s.length==1&&(o instanceof HeightMapText||o instanceof HeightMapGap&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof HeightMapGap?o=new HeightMapText(o.length,this.height,this.spaceAbove):o.height=this.height,this.outdated||(o.outdated=!1),o):HeightMap.of(s)}updateHeight(r,a=0,s=!1,o){return o&&o.from<=a&&o.more?this.setMeasuredHeight(o):(s||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))+this.breaks*r.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(r){super(r,0)}heightMetrics(r,a){let s=r.doc.lineAt(a).number,o=r.doc.lineAt(a+this.length).number,f=o-s+1,h,d=0;if(r.lineWrapping){let g=Math.min(this.height,r.lineHeight*f);h=g/f,this.length>f+1&&(d=(this.height-g)/(this.length-f-1))}else h=this.height/f;return{firstLine:s,lastLine:o,perLine:h,perChar:d}}blockAt(r,a,s,o){let{firstLine:f,lastLine:h,perLine:d,perChar:g}=this.heightMetrics(a,o);if(a.lineWrapping){let m=o+(r<a.lineHeight?0:Math.round(Math.max(0,Math.min(1,(r-s)/this.height))*this.length)),y=a.doc.lineAt(m),v=d+y.length*g,x=Math.max(s,r-v/2);return new BlockInfo(y.from,y.length,x,v,0)}else{let m=Math.max(0,Math.min(h-f,Math.floor((r-s)/d))),{from:y,length:v}=a.doc.line(f+m);return new BlockInfo(y,v,s+d*m,d,0)}}lineAt(r,a,s,o,f){if(a==QueryType$1.ByHeight)return this.blockAt(r,s,o,f);if(a==QueryType$1.ByPosNoHeight){let{from:k,to:Q}=s.doc.lineAt(r);return new BlockInfo(k,Q-k,0,0,0)}let{firstLine:h,perLine:d,perChar:g}=this.heightMetrics(s,f),m=s.doc.lineAt(r),y=d+m.length*g,v=m.number-h,x=o+d*v+g*(m.from-f-v);return new BlockInfo(m.from,m.length,Math.max(o,Math.min(x,o+this.height-y)),y,0)}forEachLine(r,a,s,o,f,h){r=Math.max(r,f),a=Math.min(a,f+this.length);let{firstLine:d,perLine:g,perChar:m}=this.heightMetrics(s,f);for(let y=r,v=o;y<=a;){let x=s.doc.lineAt(y);if(y==r){let Q=x.number-d;v+=g*Q+m*(r-f-Q)}let k=g+m*x.length;h(new BlockInfo(x.from,x.length,v,k,0)),v+=k,y=x.to+1}}replace(r,a,s){let o=this.length-a;if(o>0){let f=s[s.length-1];f instanceof HeightMapGap?s[s.length-1]=new HeightMapGap(f.length+o):s.push(null,new HeightMapGap(o-1))}if(r>0){let f=s[0];f instanceof HeightMapGap?s[0]=new HeightMapGap(r+f.length):s.unshift(new HeightMapGap(r-1),null)}return HeightMap.of(s)}decomposeLeft(r,a){a.push(new HeightMapGap(r-1),null)}decomposeRight(r,a){a.push(null,new HeightMapGap(this.length-r-1))}updateHeight(r,a=0,s=!1,o){let f=a+this.length;if(o&&o.from<=a+this.length&&o.more){let h=[],d=Math.max(a,o.from),g=-1;for(o.from>a&&h.push(new HeightMapGap(o.from-a-1).updateHeight(r,a));d<=f&&o.more;){let y=r.doc.lineAt(d).length;h.length&&h.push(null);let v=o.heights[o.index++],x=0;v<0&&(x=-v,v=o.heights[o.index++]),g==-1?g=v:Math.abs(v-g)>=Epsilon&&(g=-2);let k=new HeightMapText(y,v,x);k.outdated=!1,h.push(k),d+=y+1}d<=f&&h.push(null,new HeightMapGap(f-d).updateHeight(r,d));let m=HeightMap.of(h);return(g<0||Math.abs(m.height-this.height)>=Epsilon||Math.abs(g-this.heightMetrics(r,a).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,m)}else(s||this.outdated)&&(this.setHeight(r.heightForGap(a,a+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(r,a,s){super(r.length+a+s.length,r.height+s.height,a|(r.outdated||s.outdated?2:0)),this.left=r,this.right=s,this.size=r.size+s.size}get break(){return this.flags&1}blockAt(r,a,s,o){let f=s+this.left.height;return r<f?this.left.blockAt(r,a,s,o):this.right.blockAt(r,a,f,o+this.left.length+this.break)}lineAt(r,a,s,o,f){let h=o+this.left.height,d=f+this.left.length+this.break,g=a==QueryType$1.ByHeight?r<h:r<d,m=g?this.left.lineAt(r,a,s,o,f):this.right.lineAt(r,a,s,h,d);if(this.break||(g?m.to<d:m.from>d))return m;let y=a==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return g?m.join(this.right.lineAt(d,y,s,h,d)):this.left.lineAt(d,y,s,o,f).join(m)}forEachLine(r,a,s,o,f,h){let d=o+this.left.height,g=f+this.left.length+this.break;if(this.break)r<g&&this.left.forEachLine(r,a,s,o,f,h),a>=g&&this.right.forEachLine(r,a,s,d,g,h);else{let m=this.lineAt(g,QueryType$1.ByPos,s,o,f);r<m.from&&this.left.forEachLine(r,m.from-1,s,o,f,h),m.to>=r&&m.from<=a&&h(m),a>m.to&&this.right.forEachLine(m.to+1,a,s,d,g,h)}}replace(r,a,s){let o=this.left.length+this.break;if(a<o)return this.balanced(this.left.replace(r,a,s),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-o,a-o,s));let f=[];r>0&&this.decomposeLeft(r,f);let h=f.length;for(let d of s)f.push(d);if(r>0&&mergeGaps(f,h-1),a<this.length){let d=f.length;this.decomposeRight(a,f),mergeGaps(f,d)}return HeightMap.of(f)}decomposeLeft(r,a){let s=this.left.length;if(r<=s)return this.left.decomposeLeft(r,a);a.push(this.left),this.break&&(s++,r>=s&&a.push(null)),r>s&&this.right.decomposeLeft(r-s,a)}decomposeRight(r,a){let s=this.left.length,o=s+this.break;if(r>=o)return this.right.decomposeRight(r-o,a);r<s&&this.left.decomposeRight(r,a),this.break&&r<o&&a.push(null),a.push(this.right)}balanced(r,a){return r.size>2*a.size||a.size>2*r.size?HeightMap.of(this.break?[r,null,a]:[r,a]):(this.left=replace(this.left,r),this.right=replace(this.right,a),this.setHeight(r.height+a.height),this.outdated=r.outdated||a.outdated,this.size=r.size+a.size,this.length=r.length+this.break+a.length,this)}updateHeight(r,a=0,s=!1,o){let{left:f,right:h}=this,d=a+f.length+this.break,g=null;return o&&o.from<=a+f.length&&o.more?g=f=f.updateHeight(r,a,s,o):f.updateHeight(r,a,s),o&&o.from<=d+h.length&&o.more?g=h=h.updateHeight(r,d,s,o):h.updateHeight(r,d,s),g?this.balanced(f,h):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(l,r){let a,s;l[r]==null&&(a=l[r-1])instanceof HeightMapGap&&(s=l[r+1])instanceof HeightMapGap&&l.splice(r-1,3,new HeightMapGap(a.length+1+s.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(r,a){this.pos=r,this.oracle=a,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=r}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(r,a){if(this.lineStart>-1){let s=Math.min(a,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof HeightMapText?o.length+=s-this.pos:(s>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(s-this.pos,-1,0)),this.writtenTo=s,a>s&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}point(r,a,s){if(r<a||s.heightRelevant){let o=s.widget?s.widget.estimatedHeight:0,f=s.widget?s.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let h=a-r;s.block?this.addBlock(new HeightMapBlock(h,o,s)):(h||f||o>=relevantWidgetHeight)&&this.addLineDeco(o,f,h)}else a>r&&this.span(r,a);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:r,to:a}=this.oracle.doc.lineAt(this.pos);this.lineStart=r,this.lineEnd=a,this.writtenTo<r&&((this.writtenTo<r-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,r-1)),this.nodes.push(null)),this.pos>r&&this.nodes.push(new HeightMapText(this.pos-r,-1,0)),this.writtenTo=this.pos}blankContent(r,a){let s=new HeightMapGap(a-r);return this.oracle.doc.lineAt(r).to==a&&(s.flags|=4),s}ensureLine(){this.enterLine();let r=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(r instanceof HeightMapText)return r;let a=new HeightMapText(0,-1,0);return this.nodes.push(a),a}addBlock(r){this.enterLine();let a=r.deco;a&&a.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(r),this.writtenTo=this.pos=this.pos+r.length,a&&a.endSide>0&&(this.covering=r)}addLineDeco(r,a,s){let o=this.ensureLine();o.length+=s,o.collapsed+=s,o.widgetHeight=Math.max(o.widgetHeight,r),o.breaks+=a,this.writtenTo=this.pos=this.pos+s}finish(r){let a=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(a instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1,0)):(this.writtenTo<this.pos||a==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let s=r;for(let o of this.nodes)o instanceof HeightMapText&&o.updateHeight(this.oracle,s),s+=o?o.length:1;return this.nodes}static build(r,a,s,o){let f=new NodeBuilder(s,r);return RangeSet.spans(a,s,o,f,0),f.finish(s)}}function heightRelevantDecoChanges(l,r,a){let s=new DecorationComparator;return RangeSet.compare(l,r,a,s,0),s.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(r,a,s,o){(r<a||s&&s.heightRelevant||o&&o.heightRelevant)&&addRange(r,a,this.changes,5)}}function visiblePixelRange(l,r){let a=l.getBoundingClientRect(),s=l.ownerDocument,o=s.defaultView||window,f=Math.max(0,a.left),h=Math.min(o.innerWidth,a.right),d=Math.max(0,a.top),g=Math.min(o.innerHeight,a.bottom);for(let m=l.parentNode;m&&m!=s.body;)if(m.nodeType==1){let y=m,v=window.getComputedStyle(y);if((y.scrollHeight>y.clientHeight||y.scrollWidth>y.clientWidth)&&v.overflow!="visible"){let x=y.getBoundingClientRect();f=Math.max(f,x.left),h=Math.min(h,x.right),d=Math.max(d,x.top),g=Math.min(m==l.parentNode?o.innerHeight:g,x.bottom)}m=v.position=="absolute"||v.position=="fixed"?y.offsetParent:y.parentNode}else if(m.nodeType==11)m=m.host;else break;return{left:f-a.left,right:Math.max(f,h)-a.left,top:d-(a.top+r),bottom:Math.max(d,g)-(a.top+r)}}function inWindow(l){let r=l.getBoundingClientRect(),a=l.ownerDocument.defaultView||window;return r.left<a.innerWidth&&r.right>0&&r.top<a.innerHeight&&r.bottom>0}function fullPixelRange(l,r){let a=l.getBoundingClientRect();return{left:0,right:a.right-a.left,top:r,bottom:a.bottom-(a.top+r)}}class LineGap{constructor(r,a,s,o){this.from=r,this.to=a,this.size=s,this.displaySize=o}static same(r,a){if(r.length!=a.length)return!1;for(let s=0;s<r.length;s++){let o=r[s],f=a[s];if(o.from!=f.from||o.to!=f.to||o.size!=f.size)return!1}return!0}draw(r,a){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(a?r.scaleY:r.scaleX),a)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(r,a){super(),this.size=r,this.vertical=a}eq(r){return r.size==this.size&&r.vertical==this.vertical}toDOM(){let r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(r){this.state=r,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let a=r.facet(contentAttributes).some(s=>typeof s!="function"&&s.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(a),this.stateDeco=staticDeco(r),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(r.doc),[new ChangedRange(0,0,0,r.doc.length)]);for(let s=0;s<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());s++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(s=>s.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let r=[this.viewport],{main:a}=this.state.selection;for(let s=0;s<=1;s++){let o=s?a.head:a.anchor;if(!r.some(({from:f,to:h})=>o>=f&&o<=h)){let{from:f,to:h}=this.lineBlockAt(o);r.push(new Viewport(f,h))}}return this.viewports=r.sort((s,o)=>s.from-o.from),this.updateScaler()}updateScaler(){let r=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),r.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,r=>{this.viewportLines.push(scaleBlock(r,this.scaler))})}update(r,a=null){this.state=r.state;let s=this.stateDeco;this.stateDeco=staticDeco(this.state);let o=r.changedRanges,f=ChangedRange.extendWithRanges(o,heightRelevantDecoChanges(s,this.stateDeco,r?r.changes:ChangeSet.empty(this.state.doc.length))),h=this.heightMap.height,d=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,r.startState.doc,this.heightOracle.setDoc(this.state.doc),f),(this.heightMap.height!=h||heightChangeFlag)&&(r.flags|=2),d?(this.scrollAnchorPos=r.changes.mapPos(d.from,-1),this.scrollAnchorHeight=d.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=h);let g=f.length?this.mapViewport(this.viewport,r.changes):this.viewport;(a&&(a.range.head<g.from||a.range.head>g.to)||!this.viewportIsAppropriate(g))&&(g=this.getViewport(0,a));let m=g.from!=this.viewport.from||g.to!=this.viewport.to;this.viewport=g,r.flags|=this.updateForViewport(),(m||!r.changes.empty||r.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,r.changes))),r.flags|=this.computeVisibleRanges(r.changes),a&&(this.scrollTarget=a),!this.mustEnforceCursorAssoc&&(r.selectionSet||r.focusChanged)&&r.view.lineWrapping&&r.state.selection.main.empty&&r.state.selection.main.assoc&&!r.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(r){let a=r.contentDOM,s=window.getComputedStyle(a),o=this.heightOracle,f=s.whiteSpace;this.defaultTextDirection=s.direction=="rtl"?Direction.RTL:Direction.LTR;let h=this.heightOracle.mustRefreshForWrapping(f)||this.mustMeasureContent,d=a.getBoundingClientRect(),g=h||this.mustMeasureContent||this.contentDOMHeight!=d.height;this.contentDOMHeight=d.height,this.mustMeasureContent=!1;let m=0,y=0;if(d.width&&d.height){let{scaleX:V,scaleY:z}=getScale(a,d);(V>.005&&Math.abs(this.scaleX-V)>.005||z>.005&&Math.abs(this.scaleY-z)>.005)&&(this.scaleX=V,this.scaleY=z,m|=16,h=g=!0)}let v=(parseInt(s.paddingTop)||0)*this.scaleY,x=(parseInt(s.paddingBottom)||0)*this.scaleY;(this.paddingTop!=v||this.paddingBottom!=x)&&(this.paddingTop=v,this.paddingBottom=x,m|=18),this.editorWidth!=r.scrollDOM.clientWidth&&(o.lineWrapping&&(g=!0),this.editorWidth=r.scrollDOM.clientWidth,m|=16);let k=r.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=k&&(this.scrollAnchorHeight=-1,this.scrollTop=k),this.scrolledToBottom=isScrolledToBottom(r.scrollDOM);let Q=(this.printing?fullPixelRange:visiblePixelRange)(a,this.paddingTop),A=Q.top-this.pixelViewport.top,M=Q.bottom-this.pixelViewport.bottom;this.pixelViewport=Q;let L=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(L!=this.inView&&(this.inView=L,L&&(g=!0)),!this.inView&&!this.scrollTarget&&!inWindow(r.dom))return 0;let B=d.width;if((this.contentDOMWidth!=B||this.editorHeight!=r.scrollDOM.clientHeight)&&(this.contentDOMWidth=d.width,this.editorHeight=r.scrollDOM.clientHeight,m|=16),g){let V=r.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(V)&&(h=!0),h||o.lineWrapping&&Math.abs(B-this.contentDOMWidth)>o.charWidth){let{lineHeight:z,charWidth:I,textHeight:P}=r.docView.measureTextSize();h=z>0&&o.refresh(f,z,I,P,Math.max(5,B/I),V),h&&(r.docView.minWidth=0,m|=16)}A>0&&M>0?y=Math.max(A,M):A<0&&M<0&&(y=Math.min(A,M)),clearHeightChangeFlag();for(let z of this.viewports){let I=z.from==this.viewport.from?V:r.docView.measureVisibleLineHeights(z);this.heightMap=(h?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,r.state.doc.length)]):this.heightMap).updateHeight(o,0,h,new MeasuredHeights(z.from,I))}heightChangeFlag&&(m|=2)}let X=!this.viewportIsAppropriate(this.viewport,y)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return X&&(m&2&&(m|=this.updateScaler()),this.viewport=this.getViewport(y,this.scrollTarget),m|=this.updateForViewport()),(m&2||X)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps,r)),m|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,r.docView.enforceCursorAssoc()),m}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(r,a){let s=.5-Math.max(-.5,Math.min(.5,r/1e3/2)),o=this.heightMap,f=this.heightOracle,{visibleTop:h,visibleBottom:d}=this,g=new Viewport(o.lineAt(h-s*1e3,QueryType$1.ByHeight,f,0,0).from,o.lineAt(d+(1-s)*1e3,QueryType$1.ByHeight,f,0,0).to);if(a){let{head:m}=a.range;if(m<g.from||m>g.to){let y=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),v=o.lineAt(m,QueryType$1.ByPos,f,0,0),x;a.y=="center"?x=(v.top+v.bottom)/2-y/2:a.y=="start"||a.y=="nearest"&&m<g.from?x=v.top:x=v.bottom-y,g=new Viewport(o.lineAt(x-1e3/2,QueryType$1.ByHeight,f,0,0).from,o.lineAt(x+y+1e3/2,QueryType$1.ByHeight,f,0,0).to)}}return g}mapViewport(r,a){let s=a.mapPos(r.from,-1),o=a.mapPos(r.to,1);return new Viewport(this.heightMap.lineAt(s,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:r,to:a},s=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:f}=this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:h,visibleBottom:d}=this;return(r==0||o<=h-Math.max(10,Math.min(-s,250)))&&(a==this.state.doc.length||f>=d+Math.max(10,Math.min(s,250)))&&o>h-2*1e3&&f<d+2*1e3}mapLineGaps(r,a){if(!r.length||a.empty)return r;let s=[];for(let o of r)a.touchesRange(o.from,o.to)||s.push(new LineGap(a.mapPos(o.from),a.mapPos(o.to),o.size,o.displaySize));return s}ensureLineGaps(r,a){let s=this.heightOracle.lineWrapping,o=s?1e4:2e3,f=o>>1,h=o<<1;if(this.defaultTextDirection!=Direction.LTR&&!s)return[];let d=[],g=(y,v,x,k)=>{if(v-y<f)return;let Q=this.state.selection.main,A=[Q.from];Q.empty||A.push(Q.to);for(let L of A)if(L>y&&L<v){g(y,L-10,x,k),g(L+10,v,x,k);return}let M=find(r,L=>L.from>=x.from&&L.to<=x.to&&Math.abs(L.from-y)<f&&Math.abs(L.to-v)<f&&!A.some(B=>L.from<B&&L.to>B));if(!M){if(v<x.to&&a&&s&&a.visibleRanges.some(X=>X.from<=v&&X.to>=v)){let X=a.moveToLineBoundary(EditorSelection.cursor(v),!1,!0).head;X>y&&(v=X)}let L=this.gapSize(x,y,v,k),B=s||L<2e6?L:2e6;M=new LineGap(y,v,L,B)}d.push(M)},m=y=>{if(y.length<h||y.type!=BlockType.Text)return;let v=lineStructure(y.from,y.to,this.stateDeco);if(v.total<h)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,k,Q;if(s){let A=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,M,L;if(x!=null){let B=findFraction(v,x),X=((this.visibleBottom-this.visibleTop)/2+A)/y.height;M=B-X,L=B+X}else M=(this.visibleTop-y.top-A)/y.height,L=(this.visibleBottom-y.top+A)/y.height;k=findPosition(v,M),Q=findPosition(v,L)}else{let A=v.total*this.heightOracle.charWidth,M=o*this.heightOracle.charWidth,L=0;if(A>2e6)for(let I of r)I.from>=y.from&&I.from<y.to&&I.size!=I.displaySize&&I.from*this.heightOracle.charWidth+L<this.pixelViewport.left&&(L=I.size-I.displaySize);let B=this.pixelViewport.left+L,X=this.pixelViewport.right+L,V,z;if(x!=null){let I=findFraction(v,x),P=((X-B)/2+M)/A;V=I-P,z=I+P}else V=(B-M)/A,z=(X+M)/A;k=findPosition(v,V),Q=findPosition(v,z)}k>y.from&&g(y.from,k,y,v),Q<y.to&&g(Q,y.to,y,v)};for(let y of this.viewportLines)Array.isArray(y.type)?y.type.forEach(m):m(y);return d}gapSize(r,a,s,o){let f=findFraction(o,s)-findFraction(o,a);return this.heightOracle.lineWrapping?r.height*f:o.total*this.heightOracle.charWidth*f}updateLineGaps(r){LineGap.same(r,this.lineGaps)||(this.lineGaps=r,this.lineGapDeco=Decoration.set(r.map(a=>a.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(r){let a=this.stateDeco;this.lineGaps.length&&(a=a.concat(this.lineGapDeco));let s=[];RangeSet.spans(a,this.viewport.from,this.viewport.to,{span(f,h){s.push({from:f,to:h})},point(){}},20);let o=0;if(s.length!=this.visibleRanges.length)o=12;else for(let f=0;f<s.length&&!(o&8);f++){let h=this.visibleRanges[f],d=s[f];(h.from!=d.from||h.to!=d.to)&&(o|=4,r&&r.mapPos(h.from,-1)==d.from&&r.mapPos(h.to,1)==d.to||(o|=8))}return this.visibleRanges=s,o}lineBlockAt(r){return r>=this.viewport.from&&r<=this.viewport.to&&this.viewportLines.find(a=>a.from<=r&&a.to>=r)||scaleBlock(this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(r){return r>=this.viewportLines[0].top&&r<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(a=>a.top<=r&&a.bottom>=r)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(r),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(r){let a=this.lineBlockAtHeight(r+8);return a.from>=this.viewport.from||this.viewportLines[0].top-r>200?a:this.viewportLines[0]}elementAtHeight(r){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(r),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(r,a){this.from=r,this.to=a}}function lineStructure(l,r,a){let s=[],o=l,f=0;return RangeSet.spans(a,l,r,{span(){},point(h,d){h>o&&(s.push({from:o,to:h}),f+=h-o),o=d}},20),o<r&&(s.push({from:o,to:r}),f+=r-o),{total:f,ranges:s}}function findPosition({total:l,ranges:r},a){if(a<=0)return r[0].from;if(a>=1)return r[r.length-1].to;let s=Math.floor(l*a);for(let o=0;;o++){let{from:f,to:h}=r[o],d=h-f;if(s<=d)return f+s;s-=d}}function findFraction(l,r){let a=0;for(let{from:s,to:o}of l.ranges){if(r<=o){a+=r-s;break}a+=o-s}return a/l.total}function find(l,r){for(let a of l)if(r(a))return a}const IdScaler={toDOM(l){return l},fromDOM(l){return l},scale:1,eq(l){return l==this}};function staticDeco(l){let r=l.facet(decorations).filter(s=>typeof s!="function"),a=l.facet(outerDecorations).filter(s=>typeof s!="function");return a.length&&r.push(RangeSet.join(a)),r}class BigScaler{constructor(r,a,s){let o=0,f=0,h=0;this.viewports=s.map(({from:d,to:g})=>{let m=a.lineAt(d,QueryType$1.ByPos,r,0,0).top,y=a.lineAt(g,QueryType$1.ByPos,r,0,0).bottom;return o+=y-m,{from:d,to:g,top:m,bottom:y,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(a.height-o);for(let d of this.viewports)d.domTop=h+(d.top-f)*this.scale,h=d.domBottom=d.domTop+(d.bottom-d.top),f=d.bottom}toDOM(r){for(let a=0,s=0,o=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||r<f.top)return o+(r-s)*this.scale;if(r<=f.bottom)return f.domTop+(r-f.top);s=f.bottom,o=f.domBottom}}fromDOM(r){for(let a=0,s=0,o=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||r<f.domTop)return s+(r-o)/this.scale;if(r<=f.domBottom)return f.top+(r-f.domTop);s=f.bottom,o=f.domBottom}}eq(r){return r instanceof BigScaler?this.scale==r.scale&&this.viewports.length==r.viewports.length&&this.viewports.every((a,s)=>a.from==r.viewports[s].from&&a.to==r.viewports[s].to):!1}}function scaleBlock(l,r){if(r.scale==1)return l;let a=r.toDOM(l.top),s=r.toDOM(l.bottom);return new BlockInfo(l.from,l.length,a,s-a,Array.isArray(l._content)?l._content.map(o=>scaleBlock(o,r)):l._content)}const theme=Facet.define({combine:l=>l.join(" ")}),darkTheme=Facet.define({combine:l=>l.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(l,r,a){return new StyleModule(r,{finish(s){return/&/.test(s)?s.replace(/&\w*/,o=>{if(o=="&")return l;if(!a||!a[o])throw new RangeError(`Unsupported selector: ${o}`);return a[o]}):l+" "+s}})}const baseTheme$1$2=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(r){this.view=r,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=r.contentDOM,this.observer=new MutationObserver(a=>{for(let s of a)this.queue.push(s);(browser.ie&&browser.ie_version<=11||browser.ios&&r.composing)&&a.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&r.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(r),r.state.facet(editable)&&(r.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var a;((a=this.view.docView)===null||a===void 0?void 0:a.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(r.scrollDOM)),this.addWindowListeners(this.win=r.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(a=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),a.length>0&&a[a.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(a=>{a.length>0&&a[a.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(r){this.view.inputState.runHandlers("scroll",r),this.intersecting&&this.view.measure()}onScroll(r){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(r)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(r){(r.type=="change"||!r.type)&&!r.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(r){if(this.gapIntersection&&(r.length!=this.gaps.length||this.gaps.some((a,s)=>a!=r[s]))){this.gapIntersection.disconnect();for(let a of r)this.gapIntersection.observe(a);this.gaps=r}}onSelectionChange(r){let a=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:s}=this,o=this.selectionRange;if(s.state.facet(editable)?s.root.activeElement!=this.dom:!hasSelection(this.dom,o))return;let f=o.anchorNode&&s.docView.tile.nearest(o.anchorNode);if(f&&f.isWidget()&&f.widget.ignoreEvent(r)){a||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!s.state.selection.main.empty&&o.focusNode&&isEquivalentPosition(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:r}=this,a=getSelection(r.root);if(!a)return!1;let s=browser.safari&&r.root.nodeType==11&&r.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,a)||a;if(!s||this.selectionRange.eq(s))return!1;let o=hasSelection(this.dom,s);return o&&!this.selectionChanged&&r.inputState.lastFocusTime>Date.now()-200&&r.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,s)?(this.view.inputState.lastFocusTime=0,r.docView.updateSelection(),!1):(this.selectionRange.setRange(s),o&&(this.selectionChanged=!0),!0)}setSelectionRange(r,a){this.selectionRange.set(r.node,r.offset,a.node,a.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let r=0,a=null;for(let s=this.dom;s;)if(s.nodeType==1)!a&&r<this.scrollTargets.length&&this.scrollTargets[r]==s?r++:a||(a=this.scrollTargets.slice(0,r)),a&&a.push(s),s=s.assignedSlot||s.parentNode;else if(s.nodeType==11)s=s.host;else break;if(r<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,r)),a){for(let s of this.scrollTargets)s.removeEventListener("scroll",this.onScroll);for(let s of this.scrollTargets=a)s.addEventListener("scroll",this.onScroll)}}ignore(r){if(!this.active)return r();try{return this.stop(),r()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(r,a){var s;if(!this.delayedAndroidKey){let o=()=>{let f=this.delayedAndroidKey;f&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=f.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&f.force&&dispatchKey(this.dom,f.key,f.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||r=="Enter")&&(this.delayedAndroidKey={key:r,keyCode:a,force:this.lastChange<Date.now()-50||!!(!((s=this.delayedAndroidKey)===null||s===void 0)&&s.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let r of this.observer.takeRecords())this.queue.push(r);return this.queue}processRecords(){let r=this.pendingRecords();r.length&&(this.queue=[]);let a=-1,s=-1,o=!1;for(let f of r){let h=this.readMutation(f);h&&(h.typeOver&&(o=!0),a==-1?{from:a,to:s}=h:(a=Math.min(h.from,a),s=Math.max(h.to,s)))}return{from:a,to:s,typeOver:o}}readChange(){let{from:r,to:a,typeOver:s}=this.processRecords(),o=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(r<0&&!o)return null;r>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let f=new DOMChange(this.view,r,a,s);return this.view.docView.domChanged={newSel:f.newSel?f.newSel.main:null},f}flush(r=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;r&&this.readSelectionRange();let a=this.readChange();if(!a)return this.view.requestMeasure(),!1;let s=this.view.state,o=applyDOMChange(this.view,a);return this.view.state==s&&(a.domChanged||a.newSel&&!sameSelPos(this.view.state.selection,a.newSel.main))&&this.view.update([]),o}readMutation(r){let a=this.view.docView.tile.nearest(r.target);if(!a||a.isWidget())return null;if(a.markDirty(r.type=="attributes"),r.type=="childList"){let s=findChild(a,r.previousSibling||r.target.previousSibling,-1),o=findChild(a,r.nextSibling||r.target.nextSibling,1);return{from:s?a.posAfter(s):a.posAtStart,to:o?a.posBefore(o):a.posAtEnd,typeOver:!1}}else return r.type=="characterData"?{from:a.posAtStart,to:a.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}:null}setWindow(r){r!=this.win&&(this.removeWindowListeners(this.win),this.win=r,this.addWindowListeners(this.win))}addWindowListeners(r){r.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):r.addEventListener("beforeprint",this.onPrint),r.addEventListener("scroll",this.onScroll),r.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(r){r.removeEventListener("scroll",this.onScroll),r.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):r.removeEventListener("beforeprint",this.onPrint),r.document.removeEventListener("selectionchange",this.onSelectionChange)}update(r){this.editContext&&(this.editContext.update(r),r.startState.facet(editable)!=r.state.facet(editable)&&(r.view.contentDOM.editContext=r.state.facet(editable)?this.editContext.editContext:null))}destroy(){var r,a,s;this.stop(),(r=this.intersection)===null||r===void 0||r.disconnect(),(a=this.gapIntersection)===null||a===void 0||a.disconnect(),(s=this.resizeScroll)===null||s===void 0||s.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(l,r,a){for(;r;){let s=Tile.get(r);if(s&&s.parent==l)return s;let o=r.parentNode;r=o!=l.dom?o:a>0?r.nextSibling:r.previousSibling}return null}function buildSelectionRangeFromRange(l,r){let a=r.startContainer,s=r.startOffset,o=r.endContainer,f=r.endOffset,h=l.docView.domAtPos(l.state.selection.main.anchor,1);return isEquivalentPosition(h.node,h.offset,o,f)&&([a,s,o,f]=[o,f,a,s]),{anchorNode:a,anchorOffset:s,focusNode:o,focusOffset:f}}function safariSelectionRangeHack(l,r){if(r.getComposedRanges){let o=r.getComposedRanges(l.root)[0];if(o)return buildSelectionRangeFromRange(l,o)}let a=null;function s(o){o.preventDefault(),o.stopImmediatePropagation(),a=o.getTargetRanges()[0]}return l.contentDOM.addEventListener("beforeinput",s,!0),l.dom.ownerDocument.execCommand("indent"),l.contentDOM.removeEventListener("beforeinput",s,!0),a?buildSelectionRangeFromRange(l,a):null}class EditContextManager{constructor(r){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(r.state);let a=this.editContext=new window.EditContext({text:r.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,r.state.selection.main.anchor))),selectionEnd:this.toContextPos(r.state.selection.main.head)});this.handlers.textupdate=s=>{let o=r.state.selection.main,{anchor:f,head:h}=o,d=this.toEditorPos(s.updateRangeStart),g=this.toEditorPos(s.updateRangeEnd);r.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:s.updateRangeStart,editorBase:d,drifted:!1});let m=g-d>s.text.length;d==this.from&&f<this.from?d=f:g==this.to&&f>this.to&&(g=f);let y=findDiff(r.state.sliceDoc(d,g),s.text,(m?o.from:o.to)-d,m?"end":null);if(!y){let x=EditorSelection.single(this.toEditorPos(s.selectionStart),this.toEditorPos(s.selectionEnd));sameSelPos(x,o)||r.dispatch({selection:x,userEvent:"select"});return}let v={from:y.from+d,to:y.toA+d,insert:Text.of(s.text.slice(y.from,y.toB).split(`
`))};if((browser.mac||browser.android)&&v.from==h-1&&/^\. ?$/.test(s.text)&&r.contentDOM.getAttribute("autocorrect")=="off"&&(v={from:d,to:g,insert:Text.of([s.text.replace("."," ")])}),this.pendingContextChange=v,!r.state.readOnly){let x=this.to-this.from+(v.to-v.from+v.insert.length);applyDOMChangeInner(r,v,EditorSelection.single(this.toEditorPos(s.selectionStart,x),this.toEditorPos(s.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(r.state),this.setSelection(r.state)),v.from<v.to&&!v.insert.length&&r.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(a.text.slice(Math.max(0,s.updateRangeStart-1),Math.min(a.text.length,s.updateRangeStart+1)))&&this.handlers.compositionend(s)},this.handlers.characterboundsupdate=s=>{let o=[],f=null;for(let h=this.toEditorPos(s.rangeStart),d=this.toEditorPos(s.rangeEnd);h<d;h++){let g=r.coordsForChar(h);f=g&&new DOMRect(g.left,g.top,g.right-g.left,g.bottom-g.top)||f||new DOMRect,o.push(f)}a.updateCharacterBounds(s.rangeStart,o)},this.handlers.textformatupdate=s=>{let o=[];for(let f of s.getTextFormats()){let h=f.underlineStyle,d=f.underlineThickness;if(!/none/i.test(h)&&!/none/i.test(d)){let g=this.toEditorPos(f.rangeStart),m=this.toEditorPos(f.rangeEnd);if(g<m){let y=`text-decoration: underline ${/^[a-z]/.test(h)?h+" ":h=="Dashed"?"dashed ":h=="Squiggle"?"wavy ":""}${/thin/i.test(d)?1:2}px`;o.push(Decoration.mark({attributes:{style:y}}).range(g,m))}}}r.dispatch({effects:setEditContextFormatting.of(Decoration.set(o))})},this.handlers.compositionstart=()=>{r.inputState.composing<0&&(r.inputState.composing=0,r.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(r.inputState.composing=-1,r.inputState.compositionFirstChange=null,this.composing){let{drifted:s}=this.composing;this.composing=null,s&&this.reset(r.state)}};for(let s in this.handlers)a.addEventListener(s,this.handlers[s]);this.measureReq={read:s=>{this.editContext.updateControlBounds(s.contentDOM.getBoundingClientRect());let o=getSelection(s.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(r){let a=0,s=!1,o=this.pendingContextChange;return r.changes.iterChanges((f,h,d,g,m)=>{if(s)return;let y=m.length-(h-f);if(o&&h>=o.to)if(o.from==f&&o.to==h&&o.insert.eq(m)){o=this.pendingContextChange=null,a+=y,this.to+=y;return}else o=null,this.revertPending(r.state);if(f+=a,h+=a,h<=this.from)this.from+=y,this.to+=y;else if(f<this.to){if(f<this.from||h>this.to||this.to-this.from+m.length>3e4){s=!0;return}this.editContext.updateText(this.toContextPos(f),this.toContextPos(h),m.toString()),this.to+=y}a+=y}),o&&!s&&this.revertPending(r.state),!s}update(r){let a=this.pendingContextChange,s=r.startState.selection.main;this.composing&&(this.composing.drifted||!r.changes.touchesRange(s.from,s.to)&&r.transactions.some(o=>!o.isUserEvent("input.type")&&o.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=r.changes.mapPos(this.composing.editorBase)):!this.applyEdits(r)||!this.rangeIsValid(r.state)?(this.pendingContextChange=null,this.reset(r.state)):(r.docChanged||r.selectionSet||a)&&this.setSelection(r.state),(r.geometryChanged||r.docChanged||r.selectionSet)&&r.view.requestMeasure(this.measureReq)}resetRange(r){let{head:a}=r.selection.main;this.from=Math.max(0,a-1e4),this.to=Math.min(r.doc.length,a+1e4)}reset(r){this.resetRange(r),this.editContext.updateText(0,this.editContext.text.length,r.doc.sliceString(this.from,this.to)),this.setSelection(r)}revertPending(r){let a=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(a.from),this.toContextPos(a.from+a.insert.length),r.doc.sliceString(a.from,a.to))}setSelection(r){let{main:a}=r.selection,s=this.toContextPos(Math.max(this.from,Math.min(this.to,a.anchor))),o=this.toContextPos(a.head);(this.editContext.selectionStart!=s||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(s,o)}rangeIsValid(r){let{head:a}=r.selection.main;return!(this.from>0&&a-this.from<500||this.to<r.doc.length&&this.to-a<500||this.to-this.from>1e4*3)}toEditorPos(r,a=this.to-this.from){r=Math.min(r,a);let s=this.composing;return s&&s.drifted?s.editorBase+(r-s.contextBase):r+this.from}toContextPos(r){let a=this.composing;return a&&a.drifted?a.contextBase+(r-a.editorBase):r-this.from}destroy(){for(let r in this.handlers)this.editContext.removeEventListener(r,this.handlers[r])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(r={}){var a;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),r.parent&&r.parent.appendChild(this.dom);let{dispatch:s}=r;this.dispatchTransactions=r.dispatchTransactions||s&&(o=>o.forEach(f=>s(f,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=r.root||getRoot(r.parent)||document,this.viewState=new ViewState(r.state||EditorState.create(r)),r.scrollTo&&r.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=r.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(o=>new PluginInstance(o));for(let o of this.plugins)o.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((a=document.fonts)===null||a===void 0)&&a.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...r){let a=r.length==1&&r[0]instanceof Transaction?r:r.length==1&&Array.isArray(r[0])?r[0]:[this.state.update(...r)];this.dispatchTransactions(a,this)}update(r){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a=!1,s=!1,o,f=this.state;for(let x of r){if(x.startState!=f)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");f=x.state}if(this.destroyed){this.viewState.state=f;return}let h=this.hasFocus,d=0,g=null;r.some(x=>x.annotation(isFocusChange))?(this.inputState.notifiedFocused=h,d=1):h!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=h,g=focusChangeTransaction(f,h),g||(d=1));let m=this.observer.delayedAndroidKey,y=null;if(m?(this.observer.clearDelayedAndroidKey(),y=this.observer.readChange(),(y&&!this.state.doc.eq(f.doc)||!this.state.selection.eq(f.selection))&&(y=null)):this.observer.clear(),f.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(f);o=ViewUpdate.create(this,f,r),o.flags|=d;let v=this.viewState.scrollTarget;try{this.updateState=2;for(let x of r){if(v&&(v=v.map(x.changes)),x.scrollIntoView){let{main:k}=x.state.selection;v=new ScrollTarget(k.empty?k:EditorSelection.cursor(k.head,k.head>k.anchor?-1:1))}for(let k of x.effects)k.is(scrollIntoView$1)&&(v=k.value.clip(this.state))}this.viewState.update(o,v),this.bidiCache=CachedOrder.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),a=this.docView.update(o),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),s=this.updateAttrs(),this.showAnnouncements(r),this.docView.updateSelection(a,r.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(theme)!=o.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(a||s||v||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),a&&this.docViewUpdate(),!o.empty)for(let x of this.state.facet(updateListener))try{x(o)}catch(k){logException(this.state,k,"update listener")}(g||y)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),y&&!applyDOMChange(this,y)&&m.force&&dispatchKey(this.contentDOM,m.key,m.keyCode)})}setState(r){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=r;return}this.updateState=2;let a=this.hasFocus;try{for(let s of this.plugins)s.destroy(this);this.viewState=new ViewState(r),this.plugins=r.facet(viewPlugin).map(s=>new PluginInstance(s)),this.pluginMap.clear();for(let s of this.plugins)s.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}a&&this.focus(),this.requestMeasure()}updatePlugins(r){let a=r.startState.facet(viewPlugin),s=r.state.facet(viewPlugin);if(a!=s){let o=[];for(let f of s){let h=a.indexOf(f);if(h<0)o.push(new PluginInstance(f));else{let d=this.plugins[h];d.mustUpdate=r,o.push(d)}}for(let f of this.plugins)f.mustUpdate!=r&&f.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=r;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);a!=s&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let r of this.plugins){let a=r.value;if(a&&a.docViewUpdate)try{a.docViewUpdate(this)}catch(s){logException(this.state,s,"doc view update listener")}}}measure(r=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,r&&this.observer.forceFlush();let a=null,s=this.scrollDOM,o=s.scrollTop*this.scaleY,{scrollAnchorPos:f,scrollAnchorHeight:h}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(h=-1),this.viewState.scrollAnchorHeight=-1;try{for(let d=0;;d++){if(h<0)if(isScrolledToBottom(s))f=-1,h=this.viewState.heightMap.height;else{let k=this.viewState.scrollAnchorAt(o);f=k.from,h=k.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(d>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let m=[];g&4||([this.measureRequests,m]=[m,this.measureRequests]);let y=m.map(k=>{try{return k.read(this)}catch(Q){return logException(this.state,Q),BadMeasure}}),v=ViewUpdate.create(this,this.state,[]),x=!1;v.flags|=g,a?a.flags|=g:a=v,this.updateState=2,v.empty||(this.updatePlugins(v),this.inputState.update(v),this.updateAttrs(),x=this.docView.update(v),x&&this.docViewUpdate());for(let k=0;k<m.length;k++)if(y[k]!=BadMeasure)try{let Q=m[k];Q.write&&Q.write(y[k],this)}catch(Q){logException(this.state,Q)}if(x&&this.docView.updateSelection(!0),!v.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=-1;continue}else{let Q=(f<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(f).top)-h;if(Q>1||Q<-1){o=o+Q,s.scrollTop=o/this.scaleY,h=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(a&&!a.empty)for(let d of this.state.facet(updateListener))d(a)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let r=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),a={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(a["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,a);let s=this.observer.ignore(()=>{let o=updateAttrs(this.contentDOM,this.contentAttrs,a),f=updateAttrs(this.dom,this.editorAttrs,r);return o||f});return this.editorAttrs=r,this.contentAttrs=a,s}showAnnouncements(r){let a=!0;for(let s of r)for(let o of s.effects)if(o.is(EditorView.announce)){a&&(this.announceDOM.textContent=""),a=!1;let f=this.announceDOM.appendChild(document.createElement("div"));f.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let r=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$2).reverse(),r?{nonce:r}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(r){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),r){if(this.measureRequests.indexOf(r)>-1)return;if(r.key!=null){for(let a=0;a<this.measureRequests.length;a++)if(this.measureRequests[a].key===r.key){this.measureRequests[a]=r;return}}this.measureRequests.push(r)}}plugin(r){let a=this.pluginMap.get(r);return(a===void 0||a&&a.plugin!=r)&&this.pluginMap.set(r,a=this.plugins.find(s=>s.plugin==r)||null),a&&a.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(r){return this.readMeasured(),this.viewState.elementAtHeight(r)}lineBlockAtHeight(r){return this.readMeasured(),this.viewState.lineBlockAtHeight(r)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(r){return this.viewState.lineBlockAt(r)}get contentHeight(){return this.viewState.contentHeight}moveByChar(r,a,s){return skipAtoms(this,r,moveByChar(this,r,a,s))}moveByGroup(r,a){return skipAtoms(this,r,moveByChar(this,r,a,s=>byGroup(this,r.head,s)))}visualLineSide(r,a){let s=this.bidiSpans(r),o=this.textDirectionAt(r.from),f=s[a?s.length-1:0];return EditorSelection.cursor(f.side(a,o)+r.from,f.forward(!a,o)?1:-1)}moveToLineBoundary(r,a,s=!0){return moveToLineBoundary(this,r,a,s)}moveVertically(r,a,s){return skipAtoms(this,r,moveVertically(this,r,a,s))}domAtPos(r,a=1){return this.docView.domAtPos(r,a)}posAtDOM(r,a=0){return this.docView.posFromDOM(r,a)}posAtCoords(r,a=!0){this.readMeasured();let s=posAtCoords(this,r,a);return s&&s.pos}posAndSideAtCoords(r,a=!0){return this.readMeasured(),posAtCoords(this,r,a)}coordsAtPos(r,a=1){this.readMeasured();let s=this.docView.coordsAt(r,a);if(!s||s.left==s.right)return s;let o=this.state.doc.lineAt(r),f=this.bidiSpans(o),h=f[BidiSpan.find(f,r-o.from,-1,a)];return flattenRect(s,h.dir==Direction.LTR==a>0)}coordsForChar(r){return this.readMeasured(),this.docView.coordsForChar(r)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(r){return!this.state.facet(perLineTextDirection)||r<this.viewport.from||r>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(r))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(r){if(r.length>MaxBidiLine)return trivialOrder(r.length);let a=this.textDirectionAt(r.from),s;for(let f of this.bidiCache)if(f.from==r.from&&f.dir==a&&(f.fresh||isolatesEq(f.isolates,s=getIsolatedRanges(this,r))))return f.order;s||(s=getIsolatedRanges(this,r));let o=computeOrder(r.text,a,s);return this.bidiCache.push(new CachedOrder(r.from,r.to,a,s,!0,o)),o}get hasFocus(){var r;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((r=this.inputState)===null||r===void 0?void 0:r.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(r){this._root!=r&&(this._root=r,this.observer.setWindow((r.nodeType==9?r:r.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let r of this.plugins)r.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(r,a={}){return scrollIntoView$1.of(new ScrollTarget(typeof r=="number"?EditorSelection.cursor(r):r,a.y,a.x,a.yMargin,a.xMargin))}scrollSnapshot(){let{scrollTop:r,scrollLeft:a}=this.scrollDOM,s=this.viewState.scrollAnchorAt(r);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(s.from),"start","start",s.top-r,a,!0))}setTabFocusMode(r){r==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof r=="boolean"?this.inputState.tabFocusMode=r?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+r)}static domEventHandlers(r){return ViewPlugin.define(()=>({}),{eventHandlers:r})}static domEventObservers(r){return ViewPlugin.define(()=>({}),{eventObservers:r})}static theme(r,a){let s=StyleModule.newName(),o=[theme.of(s),styleModule.of(buildTheme(`.${s}`,r))];return a&&a.dark&&o.push(darkTheme.of(!0)),o}static baseTheme(r){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,r,lightDarkIDs)))}static findFromDOM(r){var a;let s=r.querySelector(".cm-content"),o=s&&Tile.get(s)||Tile.get(r);return((a=o?.root)===null||a===void 0?void 0:a.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.blockWrappers=blockWrappers;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:l=>l.length?l[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(r,a,s,o,f,h){this.from=r,this.to=a,this.dir=s,this.isolates=o,this.fresh=f,this.order=h}static update(r,a){if(a.empty&&!r.some(f=>f.fresh))return r;let s=[],o=r.length?r[r.length-1].dir:Direction.LTR;for(let f=Math.max(0,r.length-10);f<r.length;f++){let h=r[f];h.dir==o&&!a.touchesRange(h.from,h.to)&&s.push(new CachedOrder(a.mapPos(h.from,1),a.mapPos(h.to,-1),h.dir,h.isolates,!1,h.order))}return s}}function attrsFromFacet(l,r,a){for(let s=l.state.facet(r),o=s.length-1;o>=0;o--){let f=s[o],h=typeof f=="function"?f(l):f;h&&combineAttrs(h,a)}return a}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(l,r){const a=l.split(/-(?!$)/);let s=a[a.length-1];s=="Space"&&(s=" ");let o,f,h,d;for(let g=0;g<a.length-1;++g){const m=a[g];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))o=!0;else if(/^(c|ctrl|control)$/i.test(m))f=!0;else if(/^s(hift)?$/i.test(m))h=!0;else if(/^mod$/i.test(m))r=="mac"?d=!0:f=!0;else throw new Error("Unrecognized modifier name: "+m)}return o&&(s="Alt-"+s),f&&(s="Ctrl-"+s),d&&(s="Meta-"+s),h&&(s="Shift-"+s),s}function modifiers(l,r,a){return r.altKey&&(l="Alt-"+l),r.ctrlKey&&(l="Ctrl-"+l),r.metaKey&&(l="Meta-"+l),a!==!1&&r.shiftKey&&(l="Shift-"+l),l}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(l,r){return runHandlers(getKeymap(r.state),l,r,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(l){let r=l.facet(keymap),a=Keymaps.get(r);return a||Keymaps.set(r,a=buildKeymap(r.reduce((s,o)=>s.concat(o),[]))),a}function runScopeHandlers(l,r,a){return runHandlers(getKeymap(l.state),r,l,a)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(l,r=currentPlatform){let a=Object.create(null),s=Object.create(null),o=(h,d)=>{let g=s[h];if(g==null)s[h]=d;else if(g!=d)throw new Error("Key binding "+h+" is used both as a regular binding and as a multi-stroke prefix")},f=(h,d,g,m,y)=>{var v,x;let k=a[h]||(a[h]=Object.create(null)),Q=d.split(/ (?!$)/).map(L=>normalizeKeyName(L,r));for(let L=1;L<Q.length;L++){let B=Q.slice(0,L).join(" ");o(B,!0),k[B]||(k[B]={preventDefault:!0,stopPropagation:!1,run:[X=>{let V=storedPrefix={view:X,prefix:B,scope:h};return setTimeout(()=>{storedPrefix==V&&(storedPrefix=null)},PrefixTimeout),!0}]})}let A=Q.join(" ");o(A,!1);let M=k[A]||(k[A]={preventDefault:!1,stopPropagation:!1,run:((x=(v=k._any)===null||v===void 0?void 0:v.run)===null||x===void 0?void 0:x.slice())||[]});g&&M.run.push(g),m&&(M.preventDefault=!0),y&&(M.stopPropagation=!0)};for(let h of l){let d=h.scope?h.scope.split(" "):["editor"];if(h.any)for(let m of d){let y=a[m]||(a[m]=Object.create(null));y._any||(y._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:v}=h;for(let x in y)y[x].run.push(k=>v(k,currentKeyEvent))}let g=h[r]||h.key;if(g)for(let m of d)f(m,g,h.run,h.preventDefault,h.stopPropagation),h.shift&&f(m,"Shift-"+g,h.shift,h.preventDefault,h.stopPropagation)}return a}let currentKeyEvent=null;function runHandlers(l,r,a,s){currentKeyEvent=r;let o=keyName(r),f=codePointAt(o,0),h=codePointSize(f)==o.length&&o!=" ",d="",g=!1,m=!1,y=!1;storedPrefix&&storedPrefix.view==a&&storedPrefix.scope==s&&(d=storedPrefix.prefix+" ",modifierCodes.indexOf(r.keyCode)<0&&(m=!0,storedPrefix=null));let v=new Set,x=M=>{if(M){for(let L of M.run)if(!v.has(L)&&(v.add(L),L(a)))return M.stopPropagation&&(y=!0),!0;M.preventDefault&&(M.stopPropagation&&(y=!0),m=!0)}return!1},k=l[s],Q,A;return k&&(x(k[d+modifiers(o,r,!h)])?g=!0:h&&(r.altKey||r.metaKey||r.ctrlKey)&&!(browser.windows&&r.ctrlKey&&r.altKey)&&!(browser.mac&&r.altKey&&!(r.ctrlKey||r.metaKey))&&(Q=base[r.keyCode])&&Q!=o?(x(k[d+modifiers(Q,r,!0)])||r.shiftKey&&(A=shift[r.keyCode])!=o&&A!=Q&&x(k[d+modifiers(A,r,!1)]))&&(g=!0):h&&r.shiftKey&&x(k[d+modifiers(o,r,!0)])&&(g=!0),!g&&x(k._any)&&(g=!0)),m&&(g=!0),g&&y&&r.stopPropagation(),currentKeyEvent=null,g}class RectangleMarker{constructor(r,a,s,o,f){this.className=r,this.left=a,this.top=s,this.width=o,this.height=f}draw(){let r=document.createElement("div");return r.className=this.className,this.adjust(r),r}update(r,a){return a.className!=this.className?!1:(this.adjust(r),!0)}adjust(r){r.style.left=this.left+"px",r.style.top=this.top+"px",this.width!=null&&(r.style.width=this.width+"px"),r.style.height=this.height+"px"}eq(r){return this.left==r.left&&this.top==r.top&&this.width==r.width&&this.height==r.height&&this.className==r.className}static forRange(r,a,s){if(s.empty){let o=r.coordsAtPos(s.head,s.assoc||1);if(!o)return[];let f=getBase(r);return[new RectangleMarker(a,o.left-f.left,o.top-f.top,null,o.bottom-o.top)]}else return rectanglesForRange(r,a,s)}}function getBase(l){let r=l.scrollDOM.getBoundingClientRect();return{left:(l.textDirection==Direction.LTR?r.left:r.right-l.scrollDOM.clientWidth*l.scaleX)-l.scrollDOM.scrollLeft*l.scaleX,top:r.top-l.scrollDOM.scrollTop*l.scaleY}}function wrappedLine(l,r,a,s){let o=l.coordsAtPos(r,a*2);if(!o)return s;let f=l.dom.getBoundingClientRect(),h=(o.top+o.bottom)/2,d=l.posAtCoords({x:f.left+1,y:h}),g=l.posAtCoords({x:f.right-1,y:h});return d==null||g==null?s:{from:Math.max(s.from,Math.min(d,g)),to:Math.min(s.to,Math.max(d,g))}}function rectanglesForRange(l,r,a){if(a.to<=l.viewport.from||a.from>=l.viewport.to)return[];let s=Math.max(a.from,l.viewport.from),o=Math.min(a.to,l.viewport.to),f=l.textDirection==Direction.LTR,h=l.contentDOM,d=h.getBoundingClientRect(),g=getBase(l),m=h.querySelector(".cm-line"),y=m&&window.getComputedStyle(m),v=d.left+(y?parseInt(y.paddingLeft)+Math.min(0,parseInt(y.textIndent)):0),x=d.right-(y?parseInt(y.paddingRight):0),k=blockAt(l,s,1),Q=blockAt(l,o,-1),A=k.type==BlockType.Text?k:null,M=Q.type==BlockType.Text?Q:null;if(A&&(l.lineWrapping||k.widgetLineBreaks)&&(A=wrappedLine(l,s,1,A)),M&&(l.lineWrapping||Q.widgetLineBreaks)&&(M=wrappedLine(l,o,-1,M)),A&&M&&A.from==M.from&&A.to==M.to)return B(X(a.from,a.to,A));{let z=A?X(a.from,null,A):V(k,!1),I=M?X(null,a.to,M):V(Q,!0),P=[];return(A||k).to<(M||Q).from-(A&&M?1:0)||k.widgetLineBreaks>1&&z.bottom+l.defaultLineHeight/2<I.top?P.push(L(v,z.bottom,x,I.top)):z.bottom<I.top&&l.elementAtHeight((z.bottom+I.top)/2).type==BlockType.Text&&(z.bottom=I.top=(z.bottom+I.top)/2),B(z).concat(P).concat(B(I))}function L(z,I,P,F){return new RectangleMarker(r,z-g.left,I-g.top,Math.max(0,P-z),F-I)}function B({top:z,bottom:I,horizontal:P}){let F=[];for(let ee=0;ee<P.length;ee+=2)F.push(L(P[ee],z,P[ee+1],I));return F}function X(z,I,P){let F=1e9,ee=-1e9,fe=[];function j(Se,we,W,ue,ke){let ge=l.coordsAtPos(Se,Se==P.to?-2:2),Z=l.coordsAtPos(W,W==P.from?2:-2);!ge||!Z||(F=Math.min(ge.top,Z.top,F),ee=Math.max(ge.bottom,Z.bottom,ee),ke==Direction.LTR?fe.push(f&&we?v:ge.left,f&&ue?x:Z.right):fe.push(!f&&ue?v:Z.left,!f&&we?x:ge.right))}let J=z??P.from,le=I??P.to;for(let Se of l.visibleRanges)if(Se.to>J&&Se.from<le)for(let we=Math.max(Se.from,J),W=Math.min(Se.to,le);;){let ue=l.state.doc.lineAt(we);for(let ke of l.bidiSpans(ue)){let ge=ke.from+ue.from,Z=ke.to+ue.from;if(ge>=W)break;Z>we&&j(Math.max(ge,we),z==null&&ge<=J,Math.min(Z,W),I==null&&Z>=le,ke.dir)}if(we=ue.to+1,we>=W)break}return fe.length==0&&j(J,z==null,le,I==null,l.textDirection),{top:F,bottom:ee,horizontal:fe}}function V(z,I){let P=d.top+(I?z.top:z.bottom);return{top:P,bottom:P,horizontal:[]}}}function sameMarker(l,r){return l.constructor==r.constructor&&l.eq(r)}class LayerView{constructor(r,a){this.view=r,this.layer=a,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=r.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),a.above&&this.dom.classList.add("cm-layer-above"),a.class&&this.dom.classList.add(a.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(r.state),r.requestMeasure(this.measureReq),a.mount&&a.mount(this.dom,r)}update(r){r.startState.facet(layerOrder)!=r.state.facet(layerOrder)&&this.setOrder(r.state),(this.layer.update(r,this.dom)||r.geometryChanged)&&(this.scale(),r.view.requestMeasure(this.measureReq))}docViewUpdate(r){this.layer.updateOnDocViewUpdate!==!1&&r.requestMeasure(this.measureReq)}setOrder(r){let a=0,s=r.facet(layerOrder);for(;a<s.length&&s[a]!=this.layer;)a++;this.dom.style.zIndex=String((this.layer.above?150:-1)-a)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:r,scaleY:a}=this.view;(r!=this.scaleX||a!=this.scaleY)&&(this.scaleX=r,this.scaleY=a,this.dom.style.transform=`scale(${1/r}, ${1/a})`)}draw(r){if(r.length!=this.drawn.length||r.some((a,s)=>!sameMarker(a,this.drawn[s]))){let a=this.dom.firstChild,s=0;for(let o of r)o.update&&a&&o.constructor&&this.drawn[s].constructor&&o.update(a,this.drawn[s])?(a=a.nextSibling,s++):this.dom.insertBefore(o.draw(),a);for(;a;){let o=a.nextSibling;a.remove(),a=o}this.drawn=r,browser.safari&&browser.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(l){return[ViewPlugin.define(r=>new LayerView(r,l)),layerOrder.of(l)]}const selectionConfig=Facet.define({combine(l){return combineConfig(l,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(r,a)=>Math.min(r,a),drawRangeCursor:(r,a)=>r||a})}});function drawSelection(l={}){return[selectionConfig.of(l),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(l){return l.startState.facet(selectionConfig)!=l.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(l){let{state:r}=l,a=r.facet(selectionConfig),s=[];for(let o of r.selection.ranges){let f=o==r.selection.main;if(o.empty||a.drawRangeCursor){let h=f?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",d=o.empty?o:EditorSelection.cursor(o.head,o.head>o.anchor?-1:1);for(let g of RectangleMarker.forRange(l,h,d))s.push(g)}}return s},update(l,r){l.transactions.some(s=>s.selection)&&(r.style.animationName=r.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let a=configChanged(l);return a&&setBlinkRate(l.state,r),l.docChanged||l.selectionSet||a},mount(l,r){setBlinkRate(r.state,l)},class:"cm-cursorLayer"});function setBlinkRate(l,r){r.style.animationDuration=l.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(l){return l.state.selection.ranges.map(r=>r.empty?[]:RectangleMarker.forRange(l,"cm-selectionBackground",r)).reduce((r,a)=>r.concat(a))},update(l,r){return l.docChanged||l.selectionSet||l.viewportChanged||configChanged(l)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(l,r){return l==null?null:r.mapPos(l)}}),dropCursorPos=StateField.define({create(){return null},update(l,r){return l!=null&&(l=r.changes.mapPos(l)),r.effects.reduce((a,s)=>s.is(setDropCursorPos)?s.value:a,l)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(l){var r;let a=l.state.field(dropCursorPos);a==null?this.cursor!=null&&((r=this.cursor)===null||r===void 0||r.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(l.startState.field(dropCursorPos)!=a||l.docChanged||l.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:l}=this,r=l.state.field(dropCursorPos),a=r!=null&&l.coordsAtPos(r);if(!a)return null;let s=l.scrollDOM.getBoundingClientRect();return{left:a.left-s.left+l.scrollDOM.scrollLeft*l.scaleX,top:a.top-s.top+l.scrollDOM.scrollTop*l.scaleY,height:a.bottom-a.top}}drawCursor(l){if(this.cursor){let{scaleX:r,scaleY:a}=this.view;l?(this.cursor.style.left=l.left/r+"px",this.cursor.style.top=l.top/a+"px",this.cursor.style.height=l.height/a+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(l){this.view.state.field(dropCursorPos)!=l&&this.view.dispatch({effects:setDropCursorPos.of(l)})}},{eventObservers:{dragover(l){this.setDropPos(this.view.posAtCoords({x:l.clientX,y:l.clientY}))},dragleave(l){(l.target==this.view.contentDOM||!this.view.contentDOM.contains(l.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(l,r,a,s,o){r.lastIndex=0;for(let f=l.iterRange(a,s),h=a,d;!f.next().done;h+=f.value.length)if(!f.lineBreak)for(;d=r.exec(f.value);)o(h+d.index,d)}function matchRanges(l,r){let a=l.visibleRanges;if(a.length==1&&a[0].from==l.viewport.from&&a[0].to==l.viewport.to)return a;let s=[];for(let{from:o,to:f}of a)o=Math.max(l.state.doc.lineAt(o).from,o-r),f=Math.min(l.state.doc.lineAt(f).to,f+r),s.length&&s[s.length-1].to>=o?s[s.length-1].to=f:s.push({from:o,to:f});return s}class MatchDecorator{constructor(r){const{regexp:a,decoration:s,decorate:o,boundary:f,maxLength:h=1e3}=r;if(!a.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=a,o)this.addMatch=(d,g,m,y)=>o(y,m,m+d[0].length,d,g);else if(typeof s=="function")this.addMatch=(d,g,m,y)=>{let v=s(d,g,m);v&&y(m,m+d[0].length,v)};else if(s)this.addMatch=(d,g,m,y)=>y(m,m+d[0].length,s);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=f,this.maxLength=h}createDeco(r){let a=new RangeSetBuilder,s=a.add.bind(a);for(let{from:o,to:f}of matchRanges(r,this.maxLength))iterMatches(r.state.doc,this.regexp,o,f,(h,d)=>this.addMatch(d,r,h,s));return a.finish()}updateDeco(r,a){let s=1e9,o=-1;return r.docChanged&&r.changes.iterChanges((f,h,d,g)=>{g>=r.view.viewport.from&&d<=r.view.viewport.to&&(s=Math.min(d,s),o=Math.max(g,o))}),r.viewportMoved||o-s>1e3?this.createDeco(r.view):o>-1?this.updateRange(r.view,a.map(r.changes),s,o):a}updateRange(r,a,s,o){for(let f of r.visibleRanges){let h=Math.max(f.from,s),d=Math.min(f.to,o);if(d>=h){let g=r.state.doc.lineAt(h),m=g.to<d?r.state.doc.lineAt(d):g,y=Math.max(f.from,g.from),v=Math.min(f.to,m.to);if(this.boundary){for(;h>g.from;h--)if(this.boundary.test(g.text[h-1-g.from])){y=h;break}for(;d<m.to;d++)if(this.boundary.test(m.text[d-m.from])){v=d;break}}let x=[],k,Q=(A,M,L)=>x.push(L.range(A,M));if(g==m)for(this.regexp.lastIndex=y-g.from;(k=this.regexp.exec(g.text))&&k.index<v-g.from;)this.addMatch(k,r,k.index+g.from,Q);else iterMatches(r.state.doc,this.regexp,y,v,(A,M)=>this.addMatch(M,r,A,Q));a=a.update({filterFrom:y,filterTo:v,filter:(A,M)=>A<y||M>v,add:x})}}return a}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var l;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let r=document.body.style;_supportsTabSize=((l=r.tabSize)!==null&&l!==void 0?l:r.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(l){let r=combineConfig(l,{render:null,specialChars:Specials,addSpecialChars:null});return(r.replaceTabs=!supportsTabSize())&&(r.specialChars=new RegExp("	|"+r.specialChars.source,UnicodeRegexpSupport)),r.addSpecialChars&&(r.specialChars=new RegExp(r.specialChars.source+"|"+r.addSpecialChars.source,UnicodeRegexpSupport)),r}});function highlightSpecialChars(l={}){return[specialCharConfig.of(l),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(l.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(l)}makeDecorator(l){return new MatchDecorator({regexp:l.specialChars,decoration:(r,a,s)=>{let{doc:o}=a.state,f=codePointAt(r[0],0);if(f==9){let h=o.lineAt(s),d=a.state.tabSize,g=countColumn(h.text,d,s-h.from);return Decoration.replace({widget:new TabWidget((d-g%d)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[f]||(this.decorationCache[f]=Decoration.replace({widget:new SpecialCharWidget(l,f)}))},boundary:l.replaceTabs?void 0:/[^]/})}update(l){let r=l.state.facet(specialCharConfig);l.startState.facet(specialCharConfig)!=r?(this.decorator=this.makeDecorator(r),this.decorations=this.decorator.createDeco(l.view)):this.decorations=this.decorator.updateDeco(l,this.decorations)}},{decorations:l=>l.decorations}))}const DefaultPlaceholder="";function placeholder$1(l){return l>=32?DefaultPlaceholder:l==10?"":String.fromCharCode(9216+l)}class SpecialCharWidget extends WidgetType{constructor(r,a){super(),this.options=r,this.code=a}eq(r){return r.code==this.code}toDOM(r){let a=placeholder$1(this.code),s=r.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,s,a);if(o)return o;let f=document.createElement("span");return f.textContent=a,f.title=s,f.setAttribute("aria-label",s),f.className="cm-specialChar",f}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(r){super(),this.width=r}eq(r){return r.width==this.width}toDOM(){let r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.docChanged||l.selectionSet)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let r=-1,a=[];for(let s of l.state.selection.ranges){let o=l.lineBlockAt(s.head);o.from>r&&(a.push(lineDeco.range(o.from)),r=o.from)}return Decoration.set(a)}},{decorations:l=>l.decorations});class Placeholder extends WidgetType{constructor(r){super(),this.content=r}toDOM(r){let a=document.createElement("span");return a.className="cm-placeholder",a.style.pointerEvents="none",a.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(r):this.content.cloneNode(!0)),a.setAttribute("aria-hidden","true"),a}coordsAt(r){let a=r.firstChild?clientRectsFor(r.firstChild):[];if(!a.length)return null;let s=window.getComputedStyle(r.parentNode),o=flattenRect(a[0],s.direction!="rtl"),f=parseInt(s.lineHeight);return o.bottom-o.top>f*1.5?{left:o.left,right:o.right,top:o.top,bottom:o.top+f}:o}ignoreEvent(){return!1}}function placeholder(l){let r=ViewPlugin.fromClass(class{constructor(a){this.view=a,this.placeholder=l?Decoration.set([Decoration.widget({widget:new Placeholder(l),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:a=>a.decorations});return typeof l=="string"?[r,EditorView.contentAttributes.of({"aria-placeholder":l})]:r}const MaxOff=2e3;function rectangleFor(l,r,a){let s=Math.min(r.line,a.line),o=Math.max(r.line,a.line),f=[];if(r.off>MaxOff||a.off>MaxOff||r.col<0||a.col<0){let h=Math.min(r.off,a.off),d=Math.max(r.off,a.off);for(let g=s;g<=o;g++){let m=l.doc.line(g);m.length<=d&&f.push(EditorSelection.range(m.from+h,m.to+d))}}else{let h=Math.min(r.col,a.col),d=Math.max(r.col,a.col);for(let g=s;g<=o;g++){let m=l.doc.line(g),y=findColumn(m.text,h,l.tabSize,!0);if(y<0)f.push(EditorSelection.cursor(m.to));else{let v=findColumn(m.text,d,l.tabSize);f.push(EditorSelection.range(m.from+y,m.from+v))}}}return f}function absoluteColumn(l,r){let a=l.coordsAtPos(l.viewport.from);return a?Math.round(Math.abs((a.left-r)/l.defaultCharacterWidth)):-1}function getPos(l,r){let a=l.posAtCoords({x:r.clientX,y:r.clientY},!1),s=l.state.doc.lineAt(a),o=a-s.from,f=o>MaxOff?-1:o==s.length?absoluteColumn(l,r.clientX):countColumn(s.text,l.state.tabSize,a-s.from);return{line:s.number,col:f,off:o}}function rectangleSelectionStyle(l,r){let a=getPos(l,r),s=l.state.selection;return a?{update(o){if(o.docChanged){let f=o.changes.mapPos(o.startState.doc.line(a.line).from),h=o.state.doc.lineAt(f);a={line:h.number,col:a.col,off:Math.min(a.off,h.length)},s=s.map(o.changes)}},get(o,f,h){let d=getPos(l,o);if(!d)return s;let g=rectangleFor(l.state,a,d);return g.length?h?EditorSelection.create(g.concat(s.ranges)):EditorSelection.create(g):s}}:null}function rectangularSelection(l){let r=(a=>a.altKey&&a.button==0);return EditorView.mouseSelectionStyle.of((a,s)=>r(s)?rectangleSelectionStyle(a,s):null)}const keys={Alt:[18,l=>!!l.altKey],Control:[17,l=>!!l.ctrlKey],Shift:[16,l=>!!l.shiftKey],Meta:[91,l=>!!l.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(l={}){let[r,a]=keys[l.key||"Alt"],s=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==r||a(o))},keyup(o){(o.keyCode==r||!a(o))&&this.set(!1)},mousemove(o){this.set(a(o))}}});return[s,EditorView.contentAttributes.of(o=>{var f;return!((f=o.plugin(s))===null||f===void 0)&&f.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(r,a,s,o){this.facet=a,this.createTooltipView=s,this.removeTooltipView=o,this.input=r.state.facet(a),this.tooltips=this.input.filter(h=>h);let f=null;this.tooltipViews=this.tooltips.map(h=>f=s(h,f))}update(r,a){var s;let o=r.state.facet(this.facet),f=o.filter(g=>g);if(o===this.input){for(let g of this.tooltipViews)g.update&&g.update(r);return!1}let h=[],d=a?[]:null;for(let g=0;g<f.length;g++){let m=f[g],y=-1;if(m){for(let v=0;v<this.tooltips.length;v++){let x=this.tooltips[v];x&&x.create==m.create&&(y=v)}if(y<0)h[g]=this.createTooltipView(m,g?h[g-1]:null),d&&(d[g]=!!m.above);else{let v=h[g]=this.tooltipViews[y];d&&(d[g]=a[y]),v.update&&v.update(r)}}}for(let g of this.tooltipViews)h.indexOf(g)<0&&(this.removeTooltipView(g),(s=g.destroy)===null||s===void 0||s.call(g));return a&&(d.forEach((g,m)=>a[m]=g),a.length=d.length),this.input=o,this.tooltips=f,this.tooltipViews=h,!0}}function windowSpace(l){let r=l.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:r.clientHeight,right:r.clientWidth}}const tooltipConfig=Facet.define({combine:l=>{var r,a,s;return{position:browser.ios?"absolute":((r=l.find(o=>o.position))===null||r===void 0?void 0:r.position)||"fixed",parent:((a=l.find(o=>o.parent))===null||a===void 0?void 0:a.parent)||null,tooltipSpace:((s=l.find(o=>o.tooltipSpace))===null||s===void 0?void 0:s.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let r=l.state.facet(tooltipConfig);this.position=r.position,this.parent=r.parent,this.classes=l.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(l,showTooltip,(a,s)=>this.createTooltip(a,s),a=>{this.resizeObserver&&this.resizeObserver.unobserve(a.dom),a.dom.remove()}),this.above=this.manager.tooltips.map(a=>!!a.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(a=>{Date.now()>this.lastTransaction-50&&a.length>0&&a[a.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),l.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let l of this.manager.tooltipViews)this.intersectionObserver.observe(l.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(l){l.transactions.length&&(this.lastTransaction=Date.now());let r=this.manager.update(l,this.above);r&&this.observeIntersection();let a=r||l.geometryChanged,s=l.state.facet(tooltipConfig);if(s.position!=this.position&&!this.madeAbsolute){this.position=s.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;a=!0}if(s.parent!=this.parent){this.parent&&this.container.remove(),this.parent=s.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);a=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a&&this.maybeMeasure()}createTooltip(l,r){let a=l.create(this.view),s=r?r.dom:null;if(a.dom.classList.add("cm-tooltip"),l.arrow&&!a.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",a.dom.appendChild(o)}return a.dom.style.position=this.position,a.dom.style.top=Outside,a.dom.style.left="0px",this.container.insertBefore(a.dom,s),a.mount&&a.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(a.dom),a}destroy(){var l,r,a;this.view.win.removeEventListener("resize",this.measureSoon);for(let s of this.manager.tooltipViews)s.dom.remove(),(l=s.destroy)===null||l===void 0||l.call(s);this.parent&&this.container.remove(),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),(a=this.intersectionObserver)===null||a===void 0||a.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let l=1,r=1,a=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:f}=this.manager.tooltipViews[0];if(browser.safari){let h=f.getBoundingClientRect();a=Math.abs(h.top+1e4)>1||Math.abs(h.left)>1}else a=!!f.offsetParent&&f.offsetParent!=this.container.ownerDocument.body}if(a||this.position=="absolute")if(this.parent){let f=this.parent.getBoundingClientRect();f.width&&f.height&&(l=f.width/this.parent.offsetWidth,r=f.height/this.parent.offsetHeight)}else({scaleX:l,scaleY:r}=this.view.viewState);let s=this.view.scrollDOM.getBoundingClientRect(),o=getScrollMargins(this.view);return{visible:{left:s.left+o.left,top:s.top+o.top,right:s.right-o.right,bottom:s.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((f,h)=>{let d=this.manager.tooltipViews[h];return d.getCoords?d.getCoords(f.pos):this.view.coordsAtPos(f.pos)}),size:this.manager.tooltipViews.map(({dom:f})=>f.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:l,scaleY:r,makeAbsolute:a}}writeMeasure(l){var r;if(l.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let d of this.manager.tooltipViews)d.dom.style.position="absolute"}let{visible:a,space:s,scaleX:o,scaleY:f}=l,h=[];for(let d=0;d<this.manager.tooltips.length;d++){let g=this.manager.tooltips[d],m=this.manager.tooltipViews[d],{dom:y}=m,v=l.pos[d],x=l.size[d];if(!v||g.clip!==!1&&(v.bottom<=Math.max(a.top,s.top)||v.top>=Math.min(a.bottom,s.bottom)||v.right<Math.max(a.left,s.left)-.1||v.left>Math.min(a.right,s.right)+.1)){y.style.top=Outside;continue}let k=g.arrow?m.dom.querySelector(".cm-tooltip-arrow"):null,Q=k?7:0,A=x.right-x.left,M=(r=knownHeight.get(m))!==null&&r!==void 0?r:x.bottom-x.top,L=m.offset||noOffset,B=this.view.textDirection==Direction.LTR,X=x.width>s.right-s.left?B?s.left:s.right-x.width:B?Math.max(s.left,Math.min(v.left-(k?14:0)+L.x,s.right-A)):Math.min(Math.max(s.left,v.left-A+(k?14:0)-L.x),s.right-A),V=this.above[d];!g.strictSide&&(V?v.top-M-Q-L.y<s.top:v.bottom+M+Q+L.y>s.bottom)&&V==s.bottom-v.bottom>v.top-s.top&&(V=this.above[d]=!V);let z=(V?v.top-s.top:s.bottom-v.bottom)-Q;if(z<M&&m.resize!==!1){if(z<this.view.defaultLineHeight){y.style.top=Outside;continue}knownHeight.set(m,M),y.style.height=(M=z)/f+"px"}else y.style.height&&(y.style.height="");let I=V?v.top-M-Q-L.y:v.bottom+Q+L.y,P=X+A;if(m.overlap!==!0)for(let F of h)F.left<P&&F.right>X&&F.top<I+M&&F.bottom>I&&(I=V?F.top-M-2-Q:F.bottom+Q+2);if(this.position=="absolute"?(y.style.top=(I-l.parent.top)/f+"px",setLeftStyle(y,(X-l.parent.left)/o)):(y.style.top=I/f+"px",setLeftStyle(y,X/o)),k){let F=v.left+(B?L.x:-L.x)-(X+14-7);k.style.left=F/o+"px"}m.overlap!==!0&&h.push({left:X,top:I,right:P,bottom:I+M}),y.classList.toggle("cm-tooltip-above",V),y.classList.toggle("cm-tooltip-below",!V),m.positioned&&m.positioned(l.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let l of this.manager.tooltipViews)l.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(l,r){let a=parseInt(l.style.left,10);(isNaN(a)||Math.abs(r-a)>1)&&(l.style.left=r+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:l=>l.reduce((r,a)=>r.concat(a),[])});class HoverTooltipHost{static create(r){return new HoverTooltipHost(r)}constructor(r){this.view=r,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(r,showHoverTooltip,(a,s)=>this.createHostedView(a,s),a=>a.dom.remove())}createHostedView(r,a){let s=r.create(this.view);return s.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(s.dom,a?a.dom.nextSibling:this.dom.firstChild),this.mounted&&s.mount&&s.mount(this.view),s}mount(r){for(let a of this.manager.tooltipViews)a.mount&&a.mount(r);this.mounted=!0}positioned(r){for(let a of this.manager.tooltipViews)a.positioned&&a.positioned(r)}update(r){this.manager.update(r)}destroy(){var r;for(let a of this.manager.tooltipViews)(r=a.destroy)===null||r===void 0||r.call(a)}passProp(r){let a;for(let s of this.manager.tooltipViews){let o=s[r];if(o!==void 0){if(a===void 0)a=o;else if(a!==o)return}}return a}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],l=>{let r=l.facet(showHoverTooltip);return r.length===0?null:{pos:Math.min(...r.map(a=>a.pos)),end:Math.max(...r.map(a=>{var s;return(s=a.end)!==null&&s!==void 0?s:a.pos})),create:HoverTooltipHost.create,above:r[0].above,arrow:r.some(a=>a.arrow)}});class HoverPlugin{constructor(r,a,s,o,f){this.view=r,this.source=a,this.field=s,this.setHover=o,this.hoverTime=f,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:r.dom,time:0},this.checkHover=this.checkHover.bind(this),r.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),r.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let r=Date.now()-this.lastMove.time;r<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-r):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:r,lastMove:a}=this,s=r.docView.tile.nearest(a.target);if(!s)return;let o,f=1;if(s.isWidget())o=s.posAtStart;else{if(o=r.posAtCoords(a),o==null)return;let d=r.coordsAtPos(o);if(!d||a.y<d.top||a.y>d.bottom||a.x<d.left-r.defaultCharacterWidth||a.x>d.right+r.defaultCharacterWidth)return;let g=r.bidiSpans(r.state.doc.lineAt(o)).find(y=>y.from<=o&&y.to>=o),m=g&&g.dir==Direction.RTL?-1:1;f=a.x<d.left?-m:m}let h=this.source(r,o,f);if(h?.then){let d=this.pending={pos:o};h.then(g=>{this.pending==d&&(this.pending=null,g&&!(Array.isArray(g)&&!g.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(g)?g:[g])}))},g=>logException(r.state,g,"hover tooltip"))}else h&&!(Array.isArray(h)&&!h.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])})}get tooltip(){let r=this.view.plugin(tooltipPlugin),a=r?r.manager.tooltips.findIndex(s=>s.create==HoverTooltipHost.create):-1;return a>-1?r.manager.tooltipViews[a]:null}mousemove(r){var a,s;this.lastMove={x:r.clientX,y:r.clientY,target:r.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:f}=this;if(o.length&&f&&!isInTooltip(f.dom,r)||this.pending){let{pos:h}=o[0]||this.pending,d=(s=(a=o[0])===null||a===void 0?void 0:a.end)!==null&&s!==void 0?s:h;(h==d?this.view.posAtCoords(this.lastMove)!=h:!isOverRange(this.view,h,d,r.clientX,r.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(r){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:a}=this;if(a.length){let{tooltip:s}=this;s&&s.dom.contains(r.relatedTarget)?this.watchTooltipLeave(s.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(r){let a=s=>{r.removeEventListener("mouseleave",a),this.active.length&&!this.view.dom.contains(s.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};r.addEventListener("mouseleave",a)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(l,r){let{left:a,right:s,top:o,bottom:f}=l.getBoundingClientRect(),h;if(h=l.querySelector(".cm-tooltip-arrow")){let d=h.getBoundingClientRect();o=Math.min(d.top,o),f=Math.max(d.bottom,f)}return r.clientX>=a-tooltipMargin&&r.clientX<=s+tooltipMargin&&r.clientY>=o-tooltipMargin&&r.clientY<=f+tooltipMargin}function isOverRange(l,r,a,s,o,f){let h=l.scrollDOM.getBoundingClientRect(),d=l.documentTop+l.documentPadding.top+l.contentHeight;if(h.left>s||h.right<s||h.top>o||Math.min(h.bottom,d)<o)return!1;let g=l.posAtCoords({x:s,y:o},!1);return g>=r&&g<=a}function hoverTooltip(l,r={}){let a=StateEffect.define(),s=StateField.define({create(){return[]},update(o,f){if(o.length&&(r.hideOnChange&&(f.docChanged||f.selection)?o=[]:r.hideOn&&(o=o.filter(h=>!r.hideOn(f,h))),f.docChanged)){let h=[];for(let d of o){let g=f.changes.mapPos(d.pos,-1,MapMode.TrackDel);if(g!=null){let m=Object.assign(Object.create(null),d);m.pos=g,m.end!=null&&(m.end=f.changes.mapPos(m.end)),h.push(m)}}o=h}for(let h of f.effects)h.is(a)&&(o=h.value),h.is(closeHoverTooltipEffect)&&(o=[]);return o},provide:o=>showHoverTooltip.from(o)});return{active:s,extension:[s,ViewPlugin.define(o=>new HoverPlugin(o,l,s,a,r.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(l,r){let a=l.plugin(tooltipPlugin);if(!a)return null;let s=a.manager.tooltips.indexOf(r);return s<0?null:a.manager.tooltipViews[s]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(l){let r,a;for(let s of l)r=r||s.topContainer,a=a||s.bottomContainer;return{topContainer:r,bottomContainer:a}}});function getPanel(l,r){let a=l.plugin(panelPlugin),s=a?a.specs.indexOf(r):-1;return s>-1?a.panels[s]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(l){this.input=l.state.facet(showPanel),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(a=>a(l));let r=l.state.facet(panelConfig);this.top=new PanelGroup(l,!0,r.topContainer),this.bottom=new PanelGroup(l,!1,r.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top));for(let a of this.panels)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}update(l){let r=l.state.facet(panelConfig);this.top.container!=r.topContainer&&(this.top.sync([]),this.top=new PanelGroup(l.view,!0,r.topContainer)),this.bottom.container!=r.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(l.view,!1,r.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a=l.state.facet(showPanel);if(a!=this.input){let s=a.filter(g=>g),o=[],f=[],h=[],d=[];for(let g of s){let m=this.specs.indexOf(g),y;m<0?(y=g(l.view),d.push(y)):(y=this.panels[m],y.update&&y.update(l)),o.push(y),(y.top?f:h).push(y)}this.specs=s,this.panels=o,this.top.sync(f),this.bottom.sync(h);for(let g of d)g.dom.classList.add("cm-panel"),g.mount&&g.mount()}else for(let s of this.panels)s.update&&s.update(l)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:l=>EditorView.scrollMargins.of(r=>{let a=r.plugin(l);return a&&{top:a.top.scrollMargin(),bottom:a.bottom.scrollMargin()}})});class PanelGroup{constructor(r,a,s){this.view=r,this.top=a,this.container=s,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(r){for(let a of this.panels)a.destroy&&r.indexOf(a)<0&&a.destroy();this.panels=r,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let r=this.dom.firstChild;for(let a of this.panels)if(a.dom.parentNode==this.dom){for(;r!=a.dom;)r=rm(r);r=r.nextSibling}else this.dom.insertBefore(a.dom,r);for(;r;)r=rm(r)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let r of this.classes.split(" "))r&&this.container.classList.remove(r);for(let r of(this.classes=this.view.themeClasses).split(" "))r&&this.container.classList.add(r)}}}function rm(l){let r=l.nextSibling;return l.remove(),r}const showPanel=Facet.define({enables:panelPlugin});function showDialog(l,r){let a,s=new Promise(h=>a=h),o=h=>createDialog(h,r,a);l.state.field(dialogField,!1)?l.dispatch({effects:openDialogEffect.of(o)}):l.dispatch({effects:StateEffect.appendConfig.of(dialogField.init(()=>[o]))});let f=closeDialogEffect.of(o);return{close:f,result:s.then(h=>((l.win.queueMicrotask||(g=>l.win.setTimeout(g,10)))(()=>{l.state.field(dialogField).indexOf(o)>-1&&l.dispatch({effects:f})}),h))}}const dialogField=StateField.define({create(){return[]},update(l,r){for(let a of r.effects)a.is(openDialogEffect)?l=[a.value].concat(l):a.is(closeDialogEffect)&&(l=l.filter(s=>s!=a.value));return l},provide:l=>showPanel.computeN([l],r=>r.field(l))}),openDialogEffect=StateEffect.define(),closeDialogEffect=StateEffect.define();function createDialog(l,r,a){let s=r.content?r.content(l,()=>h(null)):null;if(!s){if(s=crelt("form"),r.input){let d=crelt("input",r.input);/^(text|password|number|email|tel|url)$/.test(d.type)&&d.classList.add("cm-textfield"),d.name||(d.name="input"),s.appendChild(crelt("label",(r.label||"")+": ",d))}else s.appendChild(document.createTextNode(r.label||""));s.appendChild(document.createTextNode(" ")),s.appendChild(crelt("button",{class:"cm-button",type:"submit"},r.submitLabel||"OK"))}let o=s.nodeName=="FORM"?[s]:s.querySelectorAll("form");for(let d=0;d<o.length;d++){let g=o[d];g.addEventListener("keydown",m=>{m.keyCode==27?(m.preventDefault(),h(null)):m.keyCode==13&&(m.preventDefault(),h(g))}),g.addEventListener("submit",m=>{m.preventDefault(),h(g)})}let f=crelt("div",s,crelt("button",{onclick:()=>h(null),"aria-label":l.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));r.class&&(f.className=r.class),f.classList.add("cm-dialog");function h(d){f.contains(f.ownerDocument.activeElement)&&l.focus(),a(d)}return{dom:f,top:r.top,mount:()=>{if(r.focus){let d;typeof r.focus=="string"?d=s.querySelector(r.focus):d=s.querySelector("input")||s.querySelector("button"),d&&"select"in d?d.select():d&&"focus"in d&&d.focus()}}}}class GutterMarker extends RangeValue{compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}eq(r){return!1}destroy(r){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(l){return[gutters(),activeGutters.of({...defaults$1,...l})]}const unfixGutters=Facet.define({combine:l=>l.some(r=>r)});function gutters(l){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.domAfter=null,this.prevViewport=l.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=l.state.facet(activeGutters).map(r=>new SingleGutterView(l,r)),this.fixed=!l.state.facet(unfixGutters);for(let r of this.gutters)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),l.scrollDOM.insertBefore(this.dom,l.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(l){if(this.updateGutters(l)){let r=this.prevViewport,a=l.view.viewport,s=Math.min(r.to,a.to)-Math.max(r.from,a.from);this.syncGutters(s<(a.to-a.from)*.8)}if(l.geometryChanged){let r=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=r,this.domAfter&&(this.domAfter.style.minHeight=r)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=l.view.viewport}syncGutters(l){let r=this.dom.nextSibling;l&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let a=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),s=[],o=this.gutters.map(f=>new UpdateContext(f,this.view.viewport,-this.view.documentPadding.top));for(let f of this.view.viewportLineBlocks)if(s.length&&(s=[]),Array.isArray(f.type)){let h=!0;for(let d of f.type)if(d.type==BlockType.Text&&h){advanceCursor(a,s,d.from);for(let g of o)g.line(this.view,d,s);h=!1}else if(d.widget)for(let g of o)g.widget(this.view,d)}else if(f.type==BlockType.Text){advanceCursor(a,s,f.from);for(let h of o)h.line(this.view,f,s)}else if(f.widget)for(let h of o)h.widget(this.view,f);for(let f of o)f.finish();l&&(this.view.scrollDOM.insertBefore(this.dom,r),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(l){let r=l.startState.facet(activeGutters),a=l.state.facet(activeGutters),s=l.docChanged||l.heightChanged||l.viewportChanged||!RangeSet.eq(l.startState.facet(gutterLineClass),l.state.facet(gutterLineClass),l.view.viewport.from,l.view.viewport.to);if(r==a)for(let o of this.gutters)o.update(l)&&(s=!0);else{s=!0;let o=[];for(let f of a){let h=r.indexOf(f);h<0?o.push(new SingleGutterView(this.view,f)):(this.gutters[h].update(l),o.push(this.gutters[h]))}for(let f of this.gutters)f.dom.remove(),o.indexOf(f)<0&&f.destroy();for(let f of o)f.config.side=="after"?this.getDOMAfter().appendChild(f.dom):this.dom.appendChild(f.dom);this.gutters=o}return s}destroy(){for(let l of this.gutters)l.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:l=>EditorView.scrollMargins.of(r=>{let a=r.plugin(l);if(!a||a.gutters.length==0||!a.fixed)return null;let s=a.dom.offsetWidth*r.scaleX,o=a.domAfter?a.domAfter.offsetWidth*r.scaleX:0;return r.textDirection==Direction.LTR?{left:s,right:o}:{right:s,left:o}})});function asArray(l){return Array.isArray(l)?l:[l]}function advanceCursor(l,r,a){for(;l.value&&l.from<=a;)l.from==a&&r.push(l.value),l.next()}class UpdateContext{constructor(r,a,s){this.gutter=r,this.height=s,this.i=0,this.cursor=RangeSet.iter(r.markers,a.from)}addElement(r,a,s){let{gutter:o}=this,f=(a.top-this.height)/r.scaleY,h=a.height/r.scaleY;if(this.i==o.elements.length){let d=new GutterElement(r,h,f,s);o.elements.push(d),o.dom.appendChild(d.dom)}else o.elements[this.i].update(r,h,f,s);this.height=a.bottom,this.i++}line(r,a,s){let o=[];advanceCursor(this.cursor,o,a.from),s.length&&(o=o.concat(s));let f=this.gutter.config.lineMarker(r,a,o);f&&o.unshift(f);let h=this.gutter;o.length==0&&!h.config.renderEmptyElements||this.addElement(r,a,o)}widget(r,a){let s=this.gutter.config.widgetMarker(r,a.widget,a),o=s?[s]:null;for(let f of r.state.facet(gutterWidgetClass)){let h=f(r,a.widget,a);h&&(o||(o=[])).push(h)}o&&this.addElement(r,a,o)}finish(){let r=this.gutter;for(;r.elements.length>this.i;){let a=r.elements.pop();r.dom.removeChild(a.dom),a.destroy()}}}class SingleGutterView{constructor(r,a){this.view=r,this.config=a,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let s in a.domEventHandlers)this.dom.addEventListener(s,o=>{let f=o.target,h;if(f!=this.dom&&this.dom.contains(f)){for(;f.parentNode!=this.dom;)f=f.parentNode;let g=f.getBoundingClientRect();h=(g.top+g.bottom)/2}else h=o.clientY;let d=r.lineBlockAtHeight(h-r.documentTop);a.domEventHandlers[s](r,d,o)&&o.preventDefault()});this.markers=asArray(a.markers(r)),a.initialSpacer&&(this.spacer=new GutterElement(r,0,0,[a.initialSpacer(r)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(r){let a=this.markers;if(this.markers=asArray(this.config.markers(r.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],r);o!=this.spacer.markers[0]&&this.spacer.update(r.view,0,0,[o])}let s=r.view.viewport;return!RangeSet.eq(this.markers,a,s.from,s.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(r):!1)}destroy(){for(let r of this.elements)r.destroy()}}class GutterElement{constructor(r,a,s,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(r,a,s,o)}update(r,a,s,o){this.height!=a&&(this.height=a,this.dom.style.height=a+"px"),this.above!=s&&(this.dom.style.marginTop=(this.above=s)?s+"px":""),sameMarkers(this.markers,o)||this.setMarkers(r,o)}setMarkers(r,a){let s="cm-gutterElement",o=this.dom.firstChild;for(let f=0,h=0;;){let d=h,g=f<a.length?a[f++]:null,m=!1;if(g){let y=g.elementClass;y&&(s+=" "+y);for(let v=h;v<this.markers.length;v++)if(this.markers[v].compare(g)){d=v,m=!0;break}}else d=this.markers.length;for(;h<d;){let y=this.markers[h++];if(y.toDOM){y.destroy(o);let v=o.nextSibling;o.remove(),o=v}}if(!g)break;g.toDOM&&(m?o=o.nextSibling:this.dom.insertBefore(g.toDOM(r),o)),m&&h++}this.dom.className=s,this.markers=a}destroy(){this.setMarkers(null,[])}}function sameMarkers(l,r){if(l.length!=r.length)return!1;for(let a=0;a<l.length;a++)if(!l[a].compare(r[a]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(l){return combineConfig(l,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(r,a){let s=Object.assign({},r);for(let o in a){let f=s[o],h=a[o];s[o]=f?(d,g,m)=>f(d,g,m)||h(d,g,m):h}return s}})}});class NumberMarker extends GutterMarker{constructor(r){super(),this.number=r}eq(r){return this.number==r.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(l,r){return l.state.facet(lineNumberConfig).formatNumber(r,l.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],l=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(r){return r.state.facet(lineNumberMarkers)},lineMarker(r,a,s){return s.some(o=>o.toDOM)?null:new NumberMarker(formatNumber(r,r.state.doc.lineAt(a.from).number))},widgetMarker:(r,a,s)=>{for(let o of r.state.facet(lineNumberWidgetMarker)){let f=o(r,a,s);if(f)return f}return null},lineMarkerChange:r=>r.startState.facet(lineNumberConfig)!=r.state.facet(lineNumberConfig),initialSpacer(r){return new NumberMarker(formatNumber(r,maxLineNumber(r.state.doc.lines)))},updateSpacer(r,a){let s=formatNumber(a.view,maxLineNumber(a.view.state.doc.lines));return s==r.number?r:new NumberMarker(s)},domEventHandlers:l.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(l={}){return[lineNumberConfig.of(l),gutters(),lineNumberGutter]}function maxLineNumber(l){let r=9;for(;r<l;)r=r*10+9;return r}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],l=>{let r=[],a=-1;for(let s of l.selection.ranges){let o=l.doc.lineAt(s.head).from;o>a&&(a=o,r.push(activeLineGutterMarker.range(o)))}return RangeSet.of(r)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(r,a){this.from=r,this.to=a}}class NodeProp{constructor(r={}){this.id=nextPropID++,this.perNode=!!r.perNode,this.deserialize=r.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=r.combine||null}add(r){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof r!="function"&&(r=NodeType.match(r)),a=>{let s=r(a);return s===void 0?null:[this,s]}}}NodeProp.closedBy=new NodeProp({deserialize:l=>l.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:l=>l.split(" ")});NodeProp.group=new NodeProp({deserialize:l=>l.split(" ")});NodeProp.isolate=new NodeProp({deserialize:l=>{if(l&&l!="rtl"&&l!="ltr"&&l!="auto")throw new RangeError("Invalid value for isolate: "+l);return l||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(r,a,s,o=!1){this.tree=r,this.overlay=a,this.parser=s,this.bracketed=o}static get(r){return r&&r.props&&r.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(r,a,s,o=0){this.name=r,this.props=a,this.id=s,this.flags=o}static define(r){let a=r.props&&r.props.length?Object.create(null):noProps,s=(r.top?1:0)|(r.skipped?2:0)|(r.error?4:0)|(r.name==null?8:0),o=new NodeType(r.name||"",a,r.id,s);if(r.props){for(let f of r.props)if(Array.isArray(f)||(f=f(o)),f){if(f[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[f[0].id]=f[1]}}return o}prop(r){return this.props[r.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(r){if(typeof r=="string"){if(this.name==r)return!0;let a=this.prop(NodeProp.group);return a?a.indexOf(r)>-1:!1}return this.id==r}static match(r){let a=Object.create(null);for(let s in r)for(let o of s.split(" "))a[o]=r[s];return s=>{for(let o=s.prop(NodeProp.group),f=-1;f<(o?o.length:0);f++){let h=a[f<0?s.name:o[f]];if(h)return h}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(r){this.types=r;for(let a=0;a<r.length;a++)if(r[a].id!=a)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...r){let a=[];for(let s of this.types){let o=null;for(let f of r){let h=f(s);if(h){o||(o=Object.assign({},s.props));let d=h[1],g=h[0];g.combine&&g.id in o&&(d=g.combine(o[g.id],d)),o[g.id]=d}}a.push(o?new NodeType(s.name,o,s.id,s.flags):s)}return new NodeSet(a)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(l){l[l.ExcludeBuffers=1]="ExcludeBuffers",l[l.IncludeAnonymous=2]="IncludeAnonymous",l[l.IgnoreMounts=4]="IgnoreMounts",l[l.IgnoreOverlays=8]="IgnoreOverlays",l[l.EnterBracketed=16]="EnterBracketed"})(IterMode||(IterMode={}));class Tree{constructor(r,a,s,o,f){if(this.type=r,this.children=a,this.positions=s,this.length=o,this.props=null,f&&f.length){this.props=Object.create(null);for(let[h,d]of f)this.props[typeof h=="number"?h:h.id]=d}}toString(){let r=MountedTree.get(this);if(r&&!r.overlay)return r.tree.toString();let a="";for(let s of this.children){let o=s.toString();o&&(a&&(a+=","),a+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(r=0){return new TreeCursor(this.topNode,r)}cursorAt(r,a=0,s=0){let o=CachedNode.get(this)||this.topNode,f=new TreeCursor(o);return f.moveTo(r,a),CachedNode.set(this,f._tree),f}get topNode(){return new TreeNode(this,0,0,null)}resolve(r,a=0){let s=resolveNode(CachedNode.get(this)||this.topNode,r,a,!1);return CachedNode.set(this,s),s}resolveInner(r,a=0){let s=resolveNode(CachedInnerNode.get(this)||this.topNode,r,a,!0);return CachedInnerNode.set(this,s),s}resolveStack(r,a=0){return stackIterator(this,r,a)}iterate(r){let{enter:a,leave:s,from:o=0,to:f=this.length}=r,h=r.mode||0,d=(h&IterMode.IncludeAnonymous)>0;for(let g=this.cursor(h|IterMode.IncludeAnonymous);;){let m=!1;if(g.from<=f&&g.to>=o&&(!d&&g.type.isAnonymous||a(g)!==!1)){if(g.firstChild())continue;m=!0}for(;m&&s&&(d||!g.type.isAnonymous)&&s(g),!g.nextSibling();){if(!g.parent())return;m=!0}}}prop(r){return r.perNode?this.props?this.props[r.id]:void 0:this.type.prop(r)}get propValues(){let r=[];if(this.props)for(let a in this.props)r.push([+a,this.props[a]]);return r}balance(r={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(a,s,o)=>new Tree(this.type,a,s,o,this.propValues),r.makeTree||((a,s,o)=>new Tree(NodeType.none,a,s,o)))}static build(r){return buildTree(r)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(r,a){this.buffer=r,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(r,a,s){this.buffer=r,this.length=a,this.set=s}get type(){return NodeType.none}toString(){let r=[];for(let a=0;a<this.buffer.length;)r.push(this.childString(a)),a=this.buffer[a+3];return r.join(",")}childString(r){let a=this.buffer[r],s=this.buffer[r+3],o=this.set.types[a],f=o.name;if(/\W/.test(f)&&!o.isError&&(f=JSON.stringify(f)),r+=4,s==r)return f;let h=[];for(;r<s;)h.push(this.childString(r)),r=this.buffer[r+3];return f+"("+h.join(",")+")"}findChild(r,a,s,o,f){let{buffer:h}=this,d=-1;for(let g=r;g!=a&&!(checkSide(f,o,h[g+1],h[g+2])&&(d=g,s>0));g=h[g+3]);return d}slice(r,a,s){let o=this.buffer,f=new Uint16Array(a-r),h=0;for(let d=r,g=0;d<a;){f[g++]=o[d++],f[g++]=o[d++]-s;let m=f[g++]=o[d++]-s;f[g++]=o[d++]-r,h=Math.max(h,m)}return new TreeBuffer(f,h,this.set)}}function checkSide(l,r,a,s){switch(l){case-2:return a<r;case-1:return s>=r&&a<r;case 0:return a<r&&s>r;case 1:return a<=r&&s>r;case 2:return s>r;case 4:return!0}}function resolveNode(l,r,a,s){for(var o;l.from==l.to||(a<1?l.from>=r:l.from>r)||(a>-1?l.to<=r:l.to<r);){let h=!s&&l instanceof TreeNode&&l.index<0?null:l.parent;if(!h)return l;l=h}let f=s?0:IterMode.IgnoreOverlays;if(s)for(let h=l,d=h.parent;d;h=d,d=h.parent)h instanceof TreeNode&&h.index<0&&((o=d.enter(r,a,f))===null||o===void 0?void 0:o.from)!=h.from&&(l=d);for(;;){let h=l.enter(r,a,f);if(!h)return l;l=h}}class BaseNode{cursor(r=0){return new TreeCursor(this,r)}getChild(r,a=null,s=null){let o=getChildren(this,r,a,s);return o.length?o[0]:null}getChildren(r,a=null,s=null){return getChildren(this,r,a,s)}resolve(r,a=0){return resolveNode(this,r,a,!1)}resolveInner(r,a=0){return resolveNode(this,r,a,!0)}matchContext(r){return matchNodeContext(this.parent,r)}enterUnfinishedNodesBefore(r){let a=this.childBefore(r),s=this;for(;a;){let o=a.lastChild;if(!o||o.to!=a.to)break;o.type.isError&&o.from==o.to?(s=a,a=o.prevSibling):a=o}return s}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(r,a,s,o){super(),this._tree=r,this.from=a,this.index=s,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(r,a,s,o,f=0){for(let h=this;;){for(let{children:d,positions:g}=h._tree,m=a>0?d.length:-1;r!=m;r+=a){let y=d[r],v=g[r]+h.from,x;if(!(!(f&IterMode.EnterBracketed&&y instanceof Tree&&(x=MountedTree.get(y))&&!x.overlay&&x.bracketed&&s>=v&&s<=v+y.length)&&!checkSide(o,s,v,v+y.length))){if(y instanceof TreeBuffer){if(f&IterMode.ExcludeBuffers)continue;let k=y.findChild(0,y.buffer.length,a,s-v,o);if(k>-1)return new BufferNode(new BufferContext(h,y,r,v),null,k)}else if(f&IterMode.IncludeAnonymous||!y.type.isAnonymous||hasChild(y)){let k;if(!(f&IterMode.IgnoreMounts)&&(k=MountedTree.get(y))&&!k.overlay)return new TreeNode(k.tree,v,r,h);let Q=new TreeNode(y,v,r,h);return f&IterMode.IncludeAnonymous||!Q.type.isAnonymous?Q:Q.nextChild(a<0?y.children.length-1:0,a,s,o,f)}}}if(f&IterMode.IncludeAnonymous||!h.type.isAnonymous||(h.index>=0?r=h.index+a:r=a<0?-1:h._parent._tree.children.length,h=h._parent,!h))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(r){return this.nextChild(0,1,r,2)}childBefore(r){return this.nextChild(this._tree.children.length-1,-1,r,-2)}prop(r){return this._tree.prop(r)}enter(r,a,s=0){let o;if(!(s&IterMode.IgnoreOverlays)&&(o=MountedTree.get(this._tree))&&o.overlay){let f=r-this.from,h=s&IterMode.EnterBracketed&&o.bracketed;for(let{from:d,to:g}of o.overlay)if((a>0||h?d<=f:d<f)&&(a<0||h?g>=f:g>f))return new TreeNode(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,r,a,s)}nextSignificantParent(){let r=this;for(;r.type.isAnonymous&&r._parent;)r=r._parent;return r}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(l,r,a,s){let o=l.cursor(),f=[];if(!o.firstChild())return f;if(a!=null){for(let h=!1;!h;)if(h=o.type.is(a),!o.nextSibling())return f}for(;;){if(s!=null&&o.type.is(s))return f;if(o.type.is(r)&&f.push(o.node),!o.nextSibling())return s==null?f:[]}}function matchNodeContext(l,r,a=r.length-1){for(let s=l;a>=0;s=s.parent){if(!s)return!1;if(!s.type.isAnonymous){if(r[a]&&r[a]!=s.name)return!1;a--}}return!0}class BufferContext{constructor(r,a,s,o){this.parent=r,this.buffer=a,this.index=s,this.start=o}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(r,a,s){super(),this.context=r,this._parent=a,this.index=s,this.type=r.buffer.set.types[r.buffer.buffer[s]]}child(r,a,s){let{buffer:o}=this.context,f=o.findChild(this.index+4,o.buffer[this.index+3],r,a-this.context.start,s);return f<0?null:new BufferNode(this.context,this,f)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(r){return this.child(1,r,2)}childBefore(r){return this.child(-1,r,-2)}prop(r){return this.type.prop(r)}enter(r,a,s=0){if(s&IterMode.ExcludeBuffers)return null;let{buffer:o}=this.context,f=o.findChild(this.index+4,o.buffer[this.index+3],a>0?1:-1,r-this.context.start,a);return f<0?null:new BufferNode(this.context,this,f)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(r){return this._parent?null:this.context.parent.nextChild(this.context.index+r,r,0,4)}get nextSibling(){let{buffer:r}=this.context,a=r.buffer[this.index+3];return a<(this._parent?r.buffer[this._parent.index+3]:r.buffer.length)?new BufferNode(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:r}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new BufferNode(this.context,this._parent,r.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let r=[],a=[],{buffer:s}=this.context,o=this.index+4,f=s.buffer[this.index+3];if(f>o){let h=s.buffer[this.index+1];r.push(s.slice(o,f,h)),a.push(0)}return new Tree(this.type,r,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(l){if(!l.length)return null;let r=0,a=l[0];for(let f=1;f<l.length;f++){let h=l[f];(h.from>a.from||h.to<a.to)&&(a=h,r=f)}let s=a instanceof TreeNode&&a.index<0?null:a.parent,o=l.slice();return s?o[r]=s:o.splice(r,1),new StackIterator(o,a)}class StackIterator{constructor(r,a){this.heads=r,this.node=a}get next(){return iterStack(this.heads)}}function stackIterator(l,r,a){let s=l.resolveInner(r,a),o=null;for(let f=s instanceof TreeNode?s:s.context.parent;f;f=f.parent)if(f.index<0){let h=f.parent;(o||(o=[s])).push(h.resolve(r,a)),f=h}else{let h=MountedTree.get(f.tree);if(h&&h.overlay&&h.overlay[0].from<=r&&h.overlay[h.overlay.length-1].to>=r){let d=new TreeNode(h.tree,h.overlay[0].from+f.from,-1,f);(o||(o=[s])).push(resolveNode(d,r,a,!1))}}return o?iterStack(o):s}class TreeCursor{get name(){return this.type.name}constructor(r,a=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=a&~IterMode.EnterBracketed,r instanceof TreeNode)this.yieldNode(r);else{this._tree=r.context.parent,this.buffer=r.context;for(let s=r._parent;s;s=s._parent)this.stack.unshift(s.index);this.bufferNode=r,this.yieldBuf(r.index)}}yieldNode(r){return r?(this._tree=r,this.type=r.type,this.from=r.from,this.to=r.to,!0):!1}yieldBuf(r,a){this.index=r;let{start:s,buffer:o}=this.buffer;return this.type=a||o.set.types[o.buffer[r]],this.from=s+o.buffer[r+1],this.to=s+o.buffer[r+2],!0}yield(r){return r?r instanceof TreeNode?(this.buffer=null,this.yieldNode(r)):(this.buffer=r.context,this.yieldBuf(r.index,r.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(r,a,s){if(!this.buffer)return this.yield(this._tree.nextChild(r<0?this._tree._tree.children.length-1:0,r,a,s,this.mode));let{buffer:o}=this.buffer,f=o.findChild(this.index+4,o.buffer[this.index+3],r,a-this.buffer.start,s);return f<0?!1:(this.stack.push(this.index),this.yieldBuf(f))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(r){return this.enterChild(1,r,2)}childBefore(r){return this.enterChild(-1,r,-2)}enter(r,a,s=this.mode){return this.buffer?s&IterMode.ExcludeBuffers?!1:this.enterChild(1,r,a):this.yield(this._tree.enter(r,a,s))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let r=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(r)}sibling(r){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+r,r,0,4,this.mode)):!1;let{buffer:a}=this.buffer,s=this.stack.length-1;if(r<0){let o=s<0?0:this.stack[s]+4;if(this.index!=o)return this.yieldBuf(a.findChild(o,this.index,-1,0,4))}else{let o=a.buffer[this.index+3];if(o<(s<0?a.buffer.length:a.buffer[this.stack[s]+3]))return this.yieldBuf(o)}return s<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+r,r,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(r){let a,s,{buffer:o}=this;if(o){if(r>0){if(this.index<o.buffer.buffer.length)return!1}else for(let f=0;f<this.index;f++)if(o.buffer.buffer[f+3]<this.index)return!1;({index:a,parent:s}=o)}else({index:a,_parent:s}=this._tree);for(;s;{index:a,_parent:s}=s)if(a>-1)for(let f=a+r,h=r<0?-1:s._tree.children.length;f!=h;f+=r){let d=s._tree.children[f];if(this.mode&IterMode.IncludeAnonymous||d instanceof TreeBuffer||!d.type.isAnonymous||hasChild(d))return!1}return!0}move(r,a){if(a&&this.enterChild(r,0,4))return!0;for(;;){if(this.sibling(r))return!0;if(this.atLastNode(r)||!this.parent())return!1}}next(r=!0){return this.move(1,r)}prev(r=!0){return this.move(-1,r)}moveTo(r,a=0){for(;(this.from==this.to||(a<1?this.from>=r:this.from>r)||(a>-1?this.to<=r:this.to<r))&&this.parent(););for(;this.enterChild(1,r,a););return this}get node(){if(!this.buffer)return this._tree;let r=this.bufferNode,a=null,s=0;if(r&&r.context==this.buffer)e:for(let o=this.index,f=this.stack.length;f>=0;){for(let h=r;h;h=h._parent)if(h.index==o){if(o==this.index)return h;a=h,s=f+1;break e}o=this.stack[--f]}for(let o=s;o<this.stack.length;o++)a=new BufferNode(this.buffer,a,this.stack[o]);return this.bufferNode=new BufferNode(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(r,a){for(let s=0;;){let o=!1;if(this.type.isAnonymous||r(this)!==!1){if(this.firstChild()){s++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&a&&a(this),o=this.type.isAnonymous,!s)return;if(this.nextSibling())break;this.parent(),s--,o=!0}}}matchContext(r){if(!this.buffer)return matchNodeContext(this.node.parent,r);let{buffer:a}=this.buffer,{types:s}=a.set;for(let o=r.length-1,f=this.stack.length-1;o>=0;f--){if(f<0)return matchNodeContext(this._tree,r,o);let h=s[a.buffer[this.stack[f]]];if(!h.isAnonymous){if(r[o]&&r[o]!=h.name)return!1;o--}}return!0}}function hasChild(l){return l.children.some(r=>r instanceof TreeBuffer||!r.type.isAnonymous||hasChild(r))}function buildTree(l){var r;let{buffer:a,nodeSet:s,maxBufferLength:o=DefaultBufferLength,reused:f=[],minRepeatType:h=s.types.length}=l,d=Array.isArray(a)?new FlatBufferCursor(a,a.length):a,g=s.types,m=0,y=0;function v(z,I,P,F,ee,fe){let{id:j,start:J,end:le,size:Se}=d,we=y,W=m;if(Se<0)if(d.next(),Se==-1){let N=f[j];P.push(N),F.push(J-z);return}else if(Se==-3){m=j;return}else if(Se==-4){y=j;return}else throw new RangeError(`Unrecognized record size: ${Se}`);let ue=g[j],ke,ge,Z=J-z;if(le-J<=o&&(ge=M(d.pos-I,ee))){let N=new Uint16Array(ge.size-ge.skip),G=d.pos-ge.size,re=N.length;for(;d.pos>G;)re=L(ge.start,N,re);ke=new TreeBuffer(N,le-ge.start,s),Z=ge.start-z}else{let N=d.pos-Se;d.next();let G=[],re=[],pe=j>=h?j:-1,Te=0,$e=le;for(;d.pos>N;)pe>=0&&d.id==pe&&d.size>=0?(d.end<=$e-o&&(Q(G,re,J,Te,d.end,$e,pe,we,W),Te=G.length,$e=d.end),d.next()):fe>2500?x(J,N,G,re):v(J,N,G,re,pe,fe+1);if(pe>=0&&Te>0&&Te<G.length&&Q(G,re,J,Te,J,$e,pe,we,W),G.reverse(),re.reverse(),pe>-1&&Te>0){let Oe=k(ue,W);ke=balanceRange(ue,G,re,0,G.length,0,le-J,Oe,Oe)}else ke=A(ue,G,re,le-J,we-le,W)}P.push(ke),F.push(Z)}function x(z,I,P,F){let ee=[],fe=0,j=-1;for(;d.pos>I;){let{id:J,start:le,end:Se,size:we}=d;if(we>4)d.next();else{if(j>-1&&le<j)break;j<0&&(j=Se-o),ee.push(J,le,Se),fe++,d.next()}}if(fe){let J=new Uint16Array(fe*4),le=ee[ee.length-2];for(let Se=ee.length-3,we=0;Se>=0;Se-=3)J[we++]=ee[Se],J[we++]=ee[Se+1]-le,J[we++]=ee[Se+2]-le,J[we++]=we;P.push(new TreeBuffer(J,ee[2]-le,s)),F.push(le-z)}}function k(z,I){return(P,F,ee)=>{let fe=0,j=P.length-1,J,le;if(j>=0&&(J=P[j])instanceof Tree){if(!j&&J.type==z&&J.length==ee)return J;(le=J.prop(NodeProp.lookAhead))&&(fe=F[j]+J.length+le)}return A(z,P,F,ee,fe,I)}}function Q(z,I,P,F,ee,fe,j,J,le){let Se=[],we=[];for(;z.length>F;)Se.push(z.pop()),we.push(I.pop()+P-ee);z.push(A(s.types[j],Se,we,fe-ee,J-fe,le)),I.push(ee-P)}function A(z,I,P,F,ee,fe,j){if(fe){let J=[NodeProp.contextHash,fe];j=j?[J].concat(j):[J]}if(ee>25){let J=[NodeProp.lookAhead,ee];j=j?[J].concat(j):[J]}return new Tree(z,I,P,F,j)}function M(z,I){let P=d.fork(),F=0,ee=0,fe=0,j=P.end-o,J={size:0,start:0,skip:0};e:for(let le=P.pos-z;P.pos>le;){let Se=P.size;if(P.id==I&&Se>=0){J.size=F,J.start=ee,J.skip=fe,fe+=4,F+=4,P.next();continue}let we=P.pos-Se;if(Se<0||we<le||P.start<j)break;let W=P.id>=h?4:0,ue=P.start;for(P.next();P.pos>we;){if(P.size<0)if(P.size==-3||P.size==-4)W+=4;else break e;else P.id>=h&&(W+=4);P.next()}ee=ue,F+=Se,fe+=W}return(I<0||F==z)&&(J.size=F,J.start=ee,J.skip=fe),J.size>4?J:void 0}function L(z,I,P){let{id:F,start:ee,end:fe,size:j}=d;if(d.next(),j>=0&&F<h){let J=P;if(j>4){let le=d.pos-(j-4);for(;d.pos>le;)P=L(z,I,P)}I[--P]=J,I[--P]=fe-z,I[--P]=ee-z,I[--P]=F}else j==-3?m=F:j==-4&&(y=F);return P}let B=[],X=[];for(;d.pos>0;)v(l.start||0,l.bufferStart||0,B,X,-1,0);let V=(r=l.length)!==null&&r!==void 0?r:B.length?X[0]+B[0].length:0;return new Tree(g[l.topID],B.reverse(),X.reverse(),V)}const nodeSizeCache=new WeakMap;function nodeSize(l,r){if(!l.isAnonymous||r instanceof TreeBuffer||r.type!=l)return 1;let a=nodeSizeCache.get(r);if(a==null){a=1;for(let s of r.children){if(s.type!=l||!(s instanceof Tree)){a=1;break}a+=nodeSize(l,s)}nodeSizeCache.set(r,a)}return a}function balanceRange(l,r,a,s,o,f,h,d,g){let m=0;for(let Q=s;Q<o;Q++)m+=nodeSize(l,r[Q]);let y=Math.ceil(m*1.5/8),v=[],x=[];function k(Q,A,M,L,B){for(let X=M;X<L;){let V=X,z=A[X],I=nodeSize(l,Q[X]);for(X++;X<L;X++){let P=nodeSize(l,Q[X]);if(I+P>=y)break;I+=P}if(X==V+1){if(I>y){let P=Q[V];k(P.children,P.positions,0,P.children.length,A[V]+B);continue}v.push(Q[V])}else{let P=A[X-1]+Q[X-1].length-z;v.push(balanceRange(l,Q,A,V,X,z,P,null,g))}x.push(z+B-f)}}return k(r,a,s,o,0),(d||g)(v,x,h)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(r,a,s){let o=this.map.get(r);o||this.map.set(r,o=new Map),o.set(a,s)}getBuffer(r,a){let s=this.map.get(r);return s&&s.get(a)}set(r,a){r instanceof BufferNode?this.setBuffer(r.context.buffer,r.index,a):r instanceof TreeNode&&this.map.set(r.tree,a)}get(r){return r instanceof BufferNode?this.getBuffer(r.context.buffer,r.index):r instanceof TreeNode?this.map.get(r.tree):void 0}cursorSet(r,a){r.buffer?this.setBuffer(r.buffer.buffer,r.index,a):this.map.set(r.tree,a)}cursorGet(r){return r.buffer?this.getBuffer(r.buffer.buffer,r.index):this.map.get(r.tree)}}class TreeFragment{constructor(r,a,s,o,f=!1,h=!1){this.from=r,this.to=a,this.tree=s,this.offset=o,this.open=(f?1:0)|(h?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(r,a=[],s=!1){let o=[new TreeFragment(0,r.length,r,0,!1,s)];for(let f of a)f.to>r.length&&o.push(f);return o}static applyChanges(r,a,s=128){if(!a.length)return r;let o=[],f=1,h=r.length?r[0]:null;for(let d=0,g=0,m=0;;d++){let y=d<a.length?a[d]:null,v=y?y.fromA:1e9;if(v-g>=s)for(;h&&h.from<v;){let x=h;if(g>=x.from||v<=x.to||m){let k=Math.max(x.from,g)-m,Q=Math.min(x.to,v)-m;x=k>=Q?null:new TreeFragment(k,Q,x.tree,x.offset+m,d>0,!!y)}if(x&&o.push(x),h.to>v)break;h=f<r.length?r[f++]:null}if(!y)break;g=y.toA,m=y.toA-y.toB}return o}}class Parser{startParse(r,a,s){return typeof r=="string"&&(r=new StringInput(r)),s=s?s.length?s.map(o=>new Range(o.from,o.to)):[new Range(0,0)]:[new Range(0,r.length)],this.createParse(r,a||[],s)}parse(r,a,s){let o=this.startParse(r,a,s);for(;;){let f=o.advance();if(f)return f}}}class StringInput{constructor(r){this.string=r}get length(){return this.string.length}chunk(r){return this.string.slice(r)}get lineChunks(){return!1}read(r,a){return this.string.slice(r,a)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(r,a,s,o){this.name=r,this.set=a,this.base=s,this.modified=o,this.id=nextTagID++}toString(){let{name:r}=this;for(let a of this.modified)a.name&&(r=`${a.name}(${r})`);return r}static define(r,a){let s=typeof r=="string"?r:"?";if(r instanceof Tag&&(a=r),a?.base)throw new Error("Can not derive from a modified tag");let o=new Tag(s,[],null,[]);if(o.set.push(o),a)for(let f of a.set)o.set.push(f);return o}static defineModifier(r){let a=new Modifier(r);return s=>s.modified.indexOf(a)>-1?s:Modifier.get(s.base||s,s.modified.concat(a).sort((o,f)=>o.id-f.id))}}let nextModifierID=0;class Modifier{constructor(r){this.name=r,this.instances=[],this.id=nextModifierID++}static get(r,a){if(!a.length)return r;let s=a[0].instances.find(d=>d.base==r&&sameArray(a,d.modified));if(s)return s;let o=[],f=new Tag(r.name,o,r,a);for(let d of a)d.instances.push(f);let h=powerSet(a);for(let d of r.set)if(!d.modified.length)for(let g of h)o.push(Modifier.get(d,g));return f}}function sameArray(l,r){return l.length==r.length&&l.every((a,s)=>a==r[s])}function powerSet(l){let r=[[]];for(let a=0;a<l.length;a++)for(let s=0,o=r.length;s<o;s++)r.push(r[s].concat(l[a]));return r.sort((a,s)=>s.length-a.length)}function styleTags(l){let r=Object.create(null);for(let a in l){let s=l[a];Array.isArray(s)||(s=[s]);for(let o of a.split(" "))if(o){let f=[],h=2,d=o;for(let v=0;;){if(d=="..."&&v>0&&v+3==o.length){h=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(d);if(!x)throw new RangeError("Invalid path: "+o);if(f.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),v+=x[0].length,v==o.length)break;let k=o[v++];if(v==o.length&&k=="!"){h=0;break}if(k!="/")throw new RangeError("Invalid path: "+o);d=o.slice(v)}let g=f.length-1,m=f[g];if(!m)throw new RangeError("Invalid path: "+o);let y=new Rule(s,h,g>0?f.slice(0,g):null);r[m]=y.sort(r[m])}}return ruleNodeProp.add(r)}const ruleNodeProp=new NodeProp({combine(l,r){let a,s,o;for(;l||r;){if(!l||r&&l.depth>=r.depth?(o=r,r=r.next):(o=l,l=l.next),a&&a.mode==o.mode&&!o.context&&!a.context)continue;let f=new Rule(o.tags,o.mode,o.context);a?a.next=f:s=f,a=f}return s}});class Rule{constructor(r,a,s,o){this.tags=r,this.mode=a,this.context=s,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(r){return!r||r.depth<this.depth?(this.next=r,this):(r.next=this.sort(r.next),r)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(l,r){let a=Object.create(null);for(let f of l)if(!Array.isArray(f.tag))a[f.tag.id]=f.class;else for(let h of f.tag)a[h.id]=f.class;let{scope:s,all:o=null}=r||{};return{style:f=>{let h=o;for(let d of f)for(let g of d.set){let m=a[g.id];if(m){h=h?h+" "+m:m;break}}return h},scope:s}}function highlightTags(l,r){let a=null;for(let s of l){let o=s.style(r);o&&(a=a?a+" "+o:o)}return a}function highlightTree(l,r,a,s=0,o=l.length){let f=new HighlightBuilder(s,Array.isArray(r)?r:[r],a);f.highlightRange(l.cursor(),s,o,"",f.highlighters),f.flush(o)}class HighlightBuilder{constructor(r,a,s){this.at=r,this.highlighters=a,this.span=s,this.class=""}startSpan(r,a){a!=this.class&&(this.flush(r),r>this.at&&(this.at=r),this.class=a)}flush(r){r>this.at&&this.class&&this.span(this.at,r,this.class)}highlightRange(r,a,s,o,f){let{type:h,from:d,to:g}=r;if(d>=s||g<=a)return;h.isTop&&(f=this.highlighters.filter(k=>!k.scope||k.scope(h)));let m=o,y=getStyleTags(r)||Rule.empty,v=highlightTags(f,y.tags);if(v&&(m&&(m+=" "),m+=v,y.mode==1&&(o+=(o?" ":"")+v)),this.startSpan(Math.max(a,d),m),y.opaque)return;let x=r.tree&&r.tree.prop(NodeProp.mounted);if(x&&x.overlay){let k=r.node.enter(x.overlay[0].from+d,1),Q=this.highlighters.filter(M=>!M.scope||M.scope(x.tree.type)),A=r.firstChild();for(let M=0,L=d;;M++){let B=M<x.overlay.length?x.overlay[M]:null,X=B?B.from+d:g,V=Math.max(a,L),z=Math.min(s,X);if(V<z&&A)for(;r.from<z&&(this.highlightRange(r,V,z,o,f),this.startSpan(Math.min(z,r.to),m),!(r.to>=X||!r.nextSibling())););if(!B||X>s)break;L=B.to+d,L>a&&(this.highlightRange(k.cursor(),Math.max(a,B.from+d),Math.min(s,L),"",Q),this.startSpan(Math.min(s,L),m))}A&&r.parent()}else if(r.firstChild()){x&&(o="");do if(!(r.to<=a)){if(r.from>=s)break;this.highlightRange(r,a,s,o,f),this.startSpan(Math.min(s,r.to),m)}while(r.nextSibling());r.parent()}}}function getStyleTags(l){let r=l.type.prop(ruleNodeProp);for(;r&&r.context&&!l.matchContext(r.context);)r=r.next;return r||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let l in tags){let r=tags[l];r instanceof Tag&&(r.name=l)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(l){return Facet.define({combine:l?r=>r.concat(l):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(r,a,s=[],o=""){this.data=r,this.name=o,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=a,this.extension=[language.of(this),EditorState.languageData.of((f,h,d)=>{let g=topNodeAt(f,h,d),m=g.type.prop(languageDataProp);if(!m)return[];let y=f.facet(m),v=g.type.prop(sublanguageProp);if(v){let x=g.resolve(h-g.from,d);for(let k of v)if(k.test(x,f)){let Q=f.facet(k.facet);return k.type=="replace"?Q:Q.concat(y)}}return y})].concat(s)}isActiveAt(r,a,s=-1){return topNodeAt(r,a,s).type.prop(languageDataProp)==this.data}findRegions(r){let a=r.facet(language);if(a?.data==this.data)return[{from:0,to:r.doc.length}];if(!a||!a.allowsNesting)return[];let s=[],o=(f,h)=>{if(f.prop(languageDataProp)==this.data){s.push({from:h,to:h+f.length});return}let d=f.prop(NodeProp.mounted);if(d){if(d.tree.prop(languageDataProp)==this.data){if(d.overlay)for(let g of d.overlay)s.push({from:g.from+h,to:g.to+h});else s.push({from:h,to:h+f.length});return}else if(d.overlay){let g=s.length;if(o(d.tree,d.overlay[0].from+h),s.length>g)return}}for(let g=0;g<f.children.length;g++){let m=f.children[g];m instanceof Tree&&o(m,f.positions[g]+h)}};return o(syntaxTree(r),0),s}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(l,r,a){let s=l.facet(language),o=syntaxTree(l).topNode;if(!s||s.allowsNesting)for(let f=o;f;f=f.enter(r,a,IterMode.ExcludeBuffers|IterMode.EnterBracketed))f.type.isTop&&(o=f);return o}class LRLanguage extends Language{constructor(r,a,s){super(r,a,[],s),this.parser=a}static define(r){let a=defineLanguageFacet(r.languageData);return new LRLanguage(a,r.parser.configure({props:[languageDataProp.add(s=>s.isTop?a:void 0)]}),r.name)}configure(r,a){return new LRLanguage(this.data,this.parser.configure(r),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(l){let r=l.field(Language.state,!1);return r?r.tree:Tree.empty}class DocInput{constructor(r){this.doc=r,this.cursorPos=0,this.string="",this.cursor=r.iter()}get length(){return this.doc.length}syncTo(r){return this.string=this.cursor.next(r-this.cursorPos).value,this.cursorPos=r+this.string.length,this.cursorPos-this.string.length}chunk(r){return this.syncTo(r),this.string}get lineChunks(){return!0}read(r,a){let s=this.cursorPos-this.string.length;return r<s||a>=this.cursorPos?this.doc.sliceString(r,a):this.string.slice(r-s,a-s)}}let currentContext=null;class ParseContext{constructor(r,a,s=[],o,f,h,d,g){this.parser=r,this.state=a,this.fragments=s,this.tree=o,this.treeLen=f,this.viewport=h,this.skipped=d,this.scheduleOn=g,this.parse=null,this.tempSkipped=[]}static create(r,a,s){return new ParseContext(r,a,[],Tree.empty,0,s,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(r,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=Tree.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var s;if(typeof r=="number"){let o=Date.now()+r;r=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(s=this.parse.stoppedAt)!==null&&s!==void 0?s:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(a??this.state.doc.length))this.parse=this.startParse();else return!0;if(r())return!1}})}takeTree(){let r,a;this.parse&&(r=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&this.parse.stopAt(r),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=r,this.tree=a,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(r){let a=currentContext;currentContext=this;try{return r()}finally{currentContext=a}}withoutTempSkipped(r){for(let a;a=this.tempSkipped.pop();)r=cutFragments(r,a.from,a.to);return r}changes(r,a){let{fragments:s,tree:o,treeLen:f,viewport:h,skipped:d}=this;if(this.takeTree(),!r.empty){let g=[];if(r.iterChangedRanges((m,y,v,x)=>g.push({fromA:m,toA:y,fromB:v,toB:x})),s=TreeFragment.applyChanges(s,g),o=Tree.empty,f=0,h={from:r.mapPos(h.from,-1),to:r.mapPos(h.to,1)},this.skipped.length){d=[];for(let m of this.skipped){let y=r.mapPos(m.from,1),v=r.mapPos(m.to,-1);y<v&&d.push({from:y,to:v})}}}return new ParseContext(this.parser,a,s,o,f,h,d,this.scheduleOn)}updateViewport(r){if(this.viewport.from==r.from&&this.viewport.to==r.to)return!1;this.viewport=r;let a=this.skipped.length;for(let s=0;s<this.skipped.length;s++){let{from:o,to:f}=this.skipped[s];o<r.to&&f>r.from&&(this.fragments=cutFragments(this.fragments,o,f),this.skipped.splice(s--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(r,a){this.skipped.push({from:r,to:a})}static getSkippingParser(r){return new class extends Parser{createParse(a,s,o){let f=o[0].from,h=o[o.length-1].to;return{parsedPos:f,advance(){let g=currentContext;if(g){for(let m of o)g.tempSkipped.push(m);r&&(g.scheduleOn=g.scheduleOn?Promise.all([g.scheduleOn,r]):r)}return this.parsedPos=h,new Tree(NodeType.none,[],[],h-f)},stoppedAt:null,stopAt(){}}}}}isDone(r){r=Math.min(r,this.state.doc.length);let a=this.fragments;return this.treeLen>=r&&a.length&&a[0].from==0&&a[0].to>=r}static get(){return currentContext}}function cutFragments(l,r,a){return TreeFragment.applyChanges(l,[{fromA:r,toA:a,fromB:r,toB:a}])}class LanguageState{constructor(r){this.context=r,this.tree=r.tree}apply(r){if(!r.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(r.changes,r.state),s=this.context.treeLen==r.startState.doc.length?void 0:Math.max(r.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,s)||a.takeTree(),new LanguageState(a)}static init(r){let a=Math.min(3e3,r.doc.length),s=ParseContext.create(r.facet(language).parser,r,{from:0,to:a});return s.work(20,a)||s.takeTree(),new LanguageState(s)}}Language.state=StateField.define({create:LanguageState.init,update(l,r){for(let a of r.effects)if(a.is(Language.setState))return a.value;return r.startState.facet(language)!=r.state.facet(language)?LanguageState.init(r.state):l.apply(r)}});let requestIdle=l=>{let r=setTimeout(()=>l(),500);return()=>clearTimeout(r)};typeof requestIdleCallback<"u"&&(requestIdle=l=>{let r=-1,a=setTimeout(()=>{r=requestIdleCallback(l,{timeout:400})},100);return()=>r<0?clearTimeout(a):cancelIdleCallback(r)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(r){let a=this.view.state.field(Language.state).context;(a.updateViewport(r.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(r.docChanged||r.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:r}=this.view,a=r.field(Language.state);(a.tree!=a.context.tree||!a.context.isDone(r.doc.length))&&(this.working=requestIdle(this.work))}work(r){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:s,viewport:{to:o}}=this.view,f=s.field(Language.state);if(f.tree==f.context.tree&&f.context.isDone(o+1e5))return;let h=Date.now()+Math.min(this.chunkBudget,100,r&&!isInputPending?Math.max(25,r.timeRemaining()-5):1e9),d=f.context.treeLen<o&&s.doc.length>o+1e3,g=f.context.work(()=>isInputPending&&isInputPending()||Date.now()>h,o+(d?0:1e5));this.chunkBudget-=Date.now()-a,(g||this.chunkBudget<=0)&&(f.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(f.context))})),this.chunkBudget>0&&!(g&&!d)&&this.scheduleWork(),this.checkAsyncSchedule(f.context)}checkAsyncSchedule(r){r.scheduleOn&&(this.workScheduled++,r.scheduleOn.then(()=>this.scheduleWork()).catch(a=>logException(this.view.state,a)).then(()=>this.workScheduled--),r.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(l){return l.length?l[0]:null},enables:l=>[Language.state,parseWorker,EditorView.contentAttributes.compute([l],r=>{let a=r.facet(l);return a&&a.name?{"data-language":a.name}:{}})]});class LanguageSupport{constructor(r,a=[]){this.language=r,this.support=a,this.extension=[r,a]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:l=>{if(!l.length)return"  ";let r=l[0];if(!r||/\S/.test(r)||Array.from(r).some(a=>a!=r[0]))throw new Error("Invalid indent unit: "+JSON.stringify(l[0]));return r}});function getIndentUnit(l){let r=l.facet(indentUnit);return r.charCodeAt(0)==9?l.tabSize*r.length:r.length}function indentString(l,r){let a="",s=l.tabSize,o=l.facet(indentUnit)[0];if(o=="	"){for(;r>=s;)a+="	",r-=s;o=" "}for(let f=0;f<r;f++)a+=o;return a}function getIndentation(l,r){l instanceof EditorState&&(l=new IndentContext(l));for(let s of l.state.facet(indentService)){let o=s(l,r);if(o!==void 0)return o}let a=syntaxTree(l.state);return a.length>=r?syntaxIndentation(l,a,r):null}class IndentContext{constructor(r,a={}){this.state=r,this.options=a,this.unit=getIndentUnit(r)}lineAt(r,a=1){let s=this.state.doc.lineAt(r),{simulateBreak:o,simulateDoubleBreak:f}=this.options;return o!=null&&o>=s.from&&o<=s.to?f&&o==r?{text:"",from:r}:(a<0?o<r:o<=r)?{text:s.text.slice(o-s.from),from:o}:{text:s.text.slice(0,o-s.from),from:s.from}:s}textAfterPos(r,a=1){if(this.options.simulateDoubleBreak&&r==this.options.simulateBreak)return"";let{text:s,from:o}=this.lineAt(r,a);return s.slice(r-o,Math.min(s.length,r+100-o))}column(r,a=1){let{text:s,from:o}=this.lineAt(r,a),f=this.countColumn(s,r-o),h=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return h>-1&&(f+=h-this.countColumn(s,s.search(/\S|$/))),f}countColumn(r,a=r.length){return countColumn(r,this.state.tabSize,a)}lineIndent(r,a=1){let{text:s,from:o}=this.lineAt(r,a),f=this.options.overrideIndentation;if(f){let h=f(o);if(h>-1)return h}return this.countColumn(s,s.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(l,r,a){let s=r.resolveStack(a),o=r.resolveInner(a,-1).resolve(a,0).enterUnfinishedNodesBefore(a);if(o!=s.node){let f=[];for(let h=o;h&&!(h.from<s.node.from||h.to>s.node.to||h.from==s.node.from&&h.type==s.node.type);h=h.parent)f.push(h);for(let h=f.length-1;h>=0;h--)s={node:f[h],next:s}}return indentFor(s,l,a)}function indentFor(l,r,a){for(let s=l;s;s=s.next){let o=indentStrategy(s.node);if(o)return o(TreeIndentContext.create(r,a,s))}return 0}function ignoreClosed(l){return l.pos==l.options.simulateBreak&&l.options.simulateDoubleBreak}function indentStrategy(l){let r=l.type.prop(indentNodeProp);if(r)return r;let a=l.firstChild,s;if(a&&(s=a.type.prop(NodeProp.closedBy))){let o=l.lastChild,f=o&&s.indexOf(o.name)>-1;return h=>delimitedStrategy(h,!0,1,void 0,f&&!ignoreClosed(h)?o.from:void 0)}return l.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(r,a,s){super(r.state,r.options),this.base=r,this.pos=a,this.context=s}get node(){return this.context.node}static create(r,a,s){return new TreeIndentContext(r,a,s)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(r){let a=this.state.doc.lineAt(r.from);for(;;){let s=r.resolve(a.from);for(;s.parent&&s.parent.from==s.from;)s=s.parent;if(isParent(s,r))break;a=this.state.doc.lineAt(s.from)}return this.lineIndent(a.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(l,r){for(let a=r;a;a=a.parent)if(l==a)return!0;return!1}function bracketedAligned(l){let r=l.node,a=r.childAfter(r.from),s=r.lastChild;if(!a)return null;let o=l.options.simulateBreak,f=l.state.doc.lineAt(a.from),h=o==null||o<=f.from?f.to:Math.min(f.to,o);for(let d=a.to;;){let g=r.childAfter(d);if(!g||g==s)return null;if(!g.type.isSkipped){if(g.from>=h)return null;let m=/^ */.exec(f.text.slice(a.to-f.from))[0].length;return{from:a.from,to:a.to+m}}d=g.to}}function delimitedIndent({closing:l,align:r=!0,units:a=1}){return s=>delimitedStrategy(s,r,a,l)}function delimitedStrategy(l,r,a,s,o){let f=l.textAfter,h=f.match(/^\s*/)[0].length,d=s&&f.slice(h,h+s.length)==s||o==l.pos+h,g=r?bracketedAligned(l):null;return g?d?l.column(g.from):l.column(g.to):l.baseIndent+(d?0:l.unit*a)}const flatIndent=l=>l.baseIndent;function continuedIndent({except:l,units:r=1}={}){return a=>{let s=l&&l.test(a.textAfter);return a.baseIndent+(s?0:r*a.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(l=>{if(!l.docChanged||!l.isUserEvent("input.type")&&!l.isUserEvent("input.complete"))return l;let r=l.startState.languageDataAt("indentOnInput",l.startState.selection.main.head);if(!r.length)return l;let a=l.newDoc,{head:s}=l.newSelection.main,o=a.lineAt(s);if(s>o.from+DontIndentBeyond)return l;let f=a.sliceString(o.from,s);if(!r.some(m=>m.test(f)))return l;let{state:h}=l,d=-1,g=[];for(let{head:m}of h.selection.ranges){let y=h.doc.lineAt(m);if(y.from==d)continue;d=y.from;let v=getIndentation(h,y.from);if(v==null)continue;let x=/^\s*/.exec(y.text)[0],k=indentString(h,v);x!=k&&g.push({from:y.from,to:y.from+x.length,insert:k})}return g.length?[l,{changes:g,sequential:!0}]:l})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(l){let r=l.firstChild,a=l.lastChild;return r&&r.to<a.from?{from:r.to,to:a.type.isError?l.to:a.from}:null}function syntaxFolding(l,r,a){let s=syntaxTree(l);if(s.length<a)return null;let o=s.resolveStack(a,1),f=null;for(let h=o;h;h=h.next){let d=h.node;if(d.to<=a||d.from>a)continue;if(f&&d.from<r)break;let g=d.type.prop(foldNodeProp);if(g&&(d.to<s.length-50||s.length==l.doc.length||!isUnfinished(d))){let m=g(d,l);m&&m.from<=a&&m.from>=r&&m.to>a&&(f=m)}}return f}function isUnfinished(l){let r=l.lastChild;return r&&r.to==l.to&&r.type.isError}function foldable(l,r,a){for(let s of l.facet(foldService)){let o=s(l,r,a);if(o)return o}return syntaxFolding(l,r,a)}function mapRange(l,r){let a=r.mapPos(l.from,1),s=r.mapPos(l.to,-1);return a>=s?void 0:{from:a,to:s}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(l){let r=[];for(let{head:a}of l.state.selection.ranges)r.some(s=>s.from<=a&&s.to>=a)||r.push(l.lineBlockAt(a));return r}const foldState=StateField.define({create(){return Decoration.none},update(l,r){r.isUserEvent("delete")&&r.changes.iterChangedRanges((a,s)=>l=clearTouchedFolds(l,a,s)),l=l.map(r.changes);for(let a of r.effects)if(a.is(foldEffect)&&!foldExists(l,a.value.from,a.value.to)){let{preparePlaceholder:s}=r.state.facet(foldConfig),o=s?Decoration.replace({widget:new PreparedFoldWidget(s(r.state,a.value))}):foldWidget;l=l.update({add:[o.range(a.value.from,a.value.to)]})}else a.is(unfoldEffect)&&(l=l.update({filter:(s,o)=>a.value.from!=s||a.value.to!=o,filterFrom:a.value.from,filterTo:a.value.to}));return r.selection&&(l=clearTouchedFolds(l,r.selection.main.head)),l},provide:l=>EditorView.decorations.from(l),toJSON(l,r){let a=[];return l.between(0,r.doc.length,(s,o)=>{a.push(s,o)}),a},fromJSON(l){if(!Array.isArray(l)||l.length%2)throw new RangeError("Invalid JSON for fold state");let r=[];for(let a=0;a<l.length;){let s=l[a++],o=l[a++];if(typeof s!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");r.push(foldWidget.range(s,o))}return Decoration.set(r,!0)}});function clearTouchedFolds(l,r,a=r){let s=!1;return l.between(r,a,(o,f)=>{o<a&&f>r&&(s=!0)}),s?l.update({filterFrom:r,filterTo:a,filter:(o,f)=>o>=a||f<=r}):l}function findFold(l,r,a){var s;let o=null;return(s=l.field(foldState,!1))===null||s===void 0||s.between(r,a,(f,h)=>{(!o||o.from>f)&&(o={from:f,to:h})}),o}function foldExists(l,r,a){let s=!1;return l.between(r,r,(o,f)=>{o==r&&f==a&&(s=!0)}),s}function maybeEnable(l,r){return l.field(foldState,!1)?r:r.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=l=>{for(let r of selectedLines(l)){let a=foldable(l.state,r.from,r.to);if(a)return l.dispatch({effects:maybeEnable(l.state,[foldEffect.of(a),announceFold(l,a)])}),!0}return!1},unfoldCode=l=>{if(!l.state.field(foldState,!1))return!1;let r=[];for(let a of selectedLines(l)){let s=findFold(l.state,a.from,a.to);s&&r.push(unfoldEffect.of(s),announceFold(l,s,!1))}return r.length&&l.dispatch({effects:r}),r.length>0};function announceFold(l,r,a=!0){let s=l.state.doc.lineAt(r.from).number,o=l.state.doc.lineAt(r.to).number;return EditorView.announce.of(`${l.state.phrase(a?"Folded lines":"Unfolded lines")} ${s} ${l.state.phrase("to")} ${o}.`)}const foldAll=l=>{let{state:r}=l,a=[];for(let s=0;s<r.doc.length;){let o=l.lineBlockAt(s),f=foldable(r,o.from,o.to);f&&a.push(foldEffect.of(f)),s=(f?l.lineBlockAt(f.to):o).to+1}return a.length&&l.dispatch({effects:maybeEnable(l.state,a)}),!!a.length},unfoldAll=l=>{let r=l.state.field(foldState,!1);if(!r||!r.size)return!1;let a=[];return r.between(0,l.state.doc.length,(s,o)=>{a.push(unfoldEffect.of({from:s,to:o}))}),l.dispatch({effects:a}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(l){return combineConfig(l,defaultConfig)}});function codeFolding(l){return[foldState,baseTheme$1$1]}function widgetToDOM(l,r){let{state:a}=l,s=a.facet(foldConfig),o=h=>{let d=l.lineBlockAt(l.posAtDOM(h.target)),g=findFold(l.state,d.from,d.to);g&&l.dispatch({effects:unfoldEffect.of(g)}),h.preventDefault()};if(s.placeholderDOM)return s.placeholderDOM(l,o,r);let f=document.createElement("span");return f.textContent=s.placeholderText,f.setAttribute("aria-label",a.phrase("folded code")),f.title=a.phrase("unfold"),f.className="cm-foldPlaceholder",f.onclick=o,f}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(l){return widgetToDOM(l,null)}}});class PreparedFoldWidget extends WidgetType{constructor(r){super(),this.value=r}eq(r){return this.value==r.value}toDOM(r){return widgetToDOM(r,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(r,a){super(),this.config=r,this.open=a}eq(r){return this.config==r.config&&this.open==r.open}toDOM(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);let a=document.createElement("span");return a.textContent=this.open?this.config.openText:this.config.closedText,a.title=r.state.phrase(this.open?"Fold line":"Unfold line"),a}}function foldGutter(l={}){let r={...foldGutterDefaults,...l},a=new FoldMarker(r,!0),s=new FoldMarker(r,!1),o=ViewPlugin.fromClass(class{constructor(h){this.from=h.viewport.from,this.markers=this.buildMarkers(h)}update(h){(h.docChanged||h.viewportChanged||h.startState.facet(language)!=h.state.facet(language)||h.startState.field(foldState,!1)!=h.state.field(foldState,!1)||syntaxTree(h.startState)!=syntaxTree(h.state)||r.foldingChanged(h))&&(this.markers=this.buildMarkers(h.view))}buildMarkers(h){let d=new RangeSetBuilder;for(let g of h.viewportLineBlocks){let m=findFold(h.state,g.from,g.to)?s:foldable(h.state,g.from,g.to)?a:null;m&&d.add(g.from,g.from,m)}return d.finish()}}),{domEventHandlers:f}=r;return[o,gutter({class:"cm-foldGutter",markers(h){var d;return((d=h.plugin(o))===null||d===void 0?void 0:d.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(r,!1)},domEventHandlers:{...f,click:(h,d,g)=>{if(f.click&&f.click(h,d,g))return!0;let m=findFold(h.state,d.from,d.to);if(m)return h.dispatch({effects:unfoldEffect.of(m)}),!0;let y=foldable(h.state,d.from,d.to);return y?(h.dispatch({effects:foldEffect.of(y)}),!0):!1}}}),codeFolding()]}const baseTheme$1$1=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(r,a){this.specs=r;let s;function o(d){let g=StyleModule.newName();return(s||(s=Object.create(null)))["."+g]=d,g}const f=typeof a.all=="string"?a.all:a.all?o(a.all):void 0,h=a.scope;this.scope=h instanceof Language?d=>d.prop(languageDataProp)==h.data:h?d=>d==h:void 0,this.style=tagHighlighter(r.map(d=>({tag:d.tag,class:d.class||o(Object.assign({},d,{tag:null}))})),{all:f}).style,this.module=s?new StyleModule(s):null,this.themeType=a.themeType}static define(r,a){return new HighlightStyle(r,a||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(l){return l.length?[l[0]]:null}});function getHighlighters(l){let r=l.facet(highlighterFacet);return r.length?r:l.facet(fallbackHighlighter)}function syntaxHighlighting(l,r){let a=[treeHighlighter],s;return l instanceof HighlightStyle&&(l.module&&a.push(EditorView.styleModule.of(l.module)),s=l.themeType),r?.fallback?a.push(fallbackHighlighter.of(l)):s?a.push(highlighterFacet.computeN([EditorView.darkTheme],o=>o.facet(EditorView.darkTheme)==(s=="dark")?[l]:[])):a.push(highlighterFacet.of(l)),a}class TreeHighlighter{constructor(r){this.markCache=Object.create(null),this.tree=syntaxTree(r.state),this.decorations=this.buildDeco(r,getHighlighters(r.state)),this.decoratedTo=r.viewport.to}update(r){let a=syntaxTree(r.state),s=getHighlighters(r.state),o=s!=getHighlighters(r.startState),{viewport:f}=r.view,h=r.changes.mapPos(this.decoratedTo,1);a.length<f.to&&!o&&a.type==this.tree.type&&h>=f.to?(this.decorations=this.decorations.map(r.changes),this.decoratedTo=h):(a!=this.tree||r.viewportChanged||o)&&(this.tree=a,this.decorations=this.buildDeco(r.view,s),this.decoratedTo=f.to)}buildDeco(r,a){if(!a||!this.tree.length)return Decoration.none;let s=new RangeSetBuilder;for(let{from:o,to:f}of r.visibleRanges)highlightTree(this.tree,a,(h,d,g)=>{s.add(h,d,this.markCache[g]||(this.markCache[g]=Decoration.mark({class:g})))},o,f);return s.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:l=>l.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(l){return combineConfig(l,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(l){let r=[],a=l.matched?matchingMark:nonmatchingMark;return r.push(a.range(l.start.from,l.start.to)),l.end&&r.push(a.range(l.end.from,l.end.to)),r}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(l,r){if(!r.docChanged&&!r.selection)return l;let a=[],s=r.state.facet(bracketMatchingConfig);for(let o of r.state.selection.ranges){if(!o.empty)continue;let f=matchBrackets(r.state,o.head,-1,s)||o.head>0&&matchBrackets(r.state,o.head-1,1,s)||s.afterCursor&&(matchBrackets(r.state,o.head,1,s)||o.head<r.state.doc.length&&matchBrackets(r.state,o.head+1,-1,s));f&&(a=a.concat(s.renderMatch(f,r.state)))}return Decoration.set(a,!0)},provide:l=>EditorView.decorations.from(l)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(l={}){return[bracketMatchingConfig.of(l),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(l,r,a){let s=l.prop(r<0?NodeProp.openedBy:NodeProp.closedBy);if(s)return s;if(l.name.length==1){let o=a.indexOf(l.name);if(o>-1&&o%2==(r<0?1:0))return[a[o+r]]}return null}function findHandle(l){let r=l.type.prop(bracketMatchingHandle);return r?r(l.node):l}function matchBrackets(l,r,a,s={}){let o=s.maxScanDistance||DefaultScanDist,f=s.brackets||DefaultBrackets,h=syntaxTree(l),d=h.resolveInner(r,a);for(let g=d;g;g=g.parent){let m=matchingNodes(g.type,a,f);if(m&&g.from<g.to){let y=findHandle(g);if(y&&(a>0?r>=y.from&&r<y.to:r>y.from&&r<=y.to))return matchMarkedBrackets(l,r,a,g,y,m,f)}}return matchPlainBrackets(l,r,a,h,d.type,o,f)}function matchMarkedBrackets(l,r,a,s,o,f,h){let d=s.parent,g={from:o.from,to:o.to},m=0,y=d?.cursor();if(y&&(a<0?y.childBefore(s.from):y.childAfter(s.to)))do if(a<0?y.to<=s.from:y.from>=s.to){if(m==0&&f.indexOf(y.type.name)>-1&&y.from<y.to){let v=findHandle(y);return{start:g,end:v?{from:v.from,to:v.to}:void 0,matched:!0}}else if(matchingNodes(y.type,a,h))m++;else if(matchingNodes(y.type,-a,h)){if(m==0){let v=findHandle(y);return{start:g,end:v&&v.from<v.to?{from:v.from,to:v.to}:void 0,matched:!1}}m--}}while(a<0?y.prevSibling():y.nextSibling());return{start:g,matched:!1}}function matchPlainBrackets(l,r,a,s,o,f,h){let d=a<0?l.sliceDoc(r-1,r):l.sliceDoc(r,r+1),g=h.indexOf(d);if(g<0||g%2==0!=a>0)return null;let m={from:a<0?r-1:r,to:a>0?r+1:r},y=l.doc.iterRange(r,a>0?l.doc.length:0),v=0;for(let x=0;!y.next().done&&x<=f;){let k=y.value;a<0&&(x+=k.length);let Q=r+x*a;for(let A=a>0?0:k.length-1,M=a>0?k.length:-1;A!=M;A+=a){let L=h.indexOf(k[A]);if(!(L<0||s.resolveInner(Q+A,1).type!=o))if(L%2==0==a>0)v++;else{if(v==1)return{start:m,end:{from:Q+A,to:Q+A+1},matched:L>>1==g>>1};v--}}a>0&&(x+=k.length)}return y.done?{start:m,matched:!1}:null}function countCol(l,r,a,s=0,o=0){r==null&&(r=l.search(/[^\s\u00a0]/),r==-1&&(r=l.length));let f=o;for(let h=s;h<r;h++)l.charCodeAt(h)==9?f+=a-f%a:f++;return f}class StringStream{constructor(r,a,s,o){this.string=r,this.tabSize=a,this.indentUnit=s,this.overrideIndent=o,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(r){let a=this.string.charAt(this.pos),s;if(typeof r=="string"?s=a==r:s=a&&(r instanceof RegExp?r.test(a):r(a)),s)return++this.pos,a}eatWhile(r){let a=this.pos;for(;this.eat(r););return this.pos>a}eatSpace(){let r=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r}skipToEnd(){this.pos=this.string.length}skipTo(r){let a=this.string.indexOf(r,this.pos);if(a>-1)return this.pos=a,!0}backUp(r){this.pos-=r}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var r;return(r=this.overrideIndent)!==null&&r!==void 0?r:countCol(this.string,null,this.tabSize)}match(r,a,s){if(typeof r=="string"){let o=h=>s?h.toLowerCase():h,f=this.string.substr(this.pos,r.length);return o(f)==o(r)?(a!==!1&&(this.pos+=r.length),!0):null}else{let o=this.string.slice(this.pos).match(r);return o&&o.index>0?null:(o&&a!==!1&&(this.pos+=o[0].length),o)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(l){return{name:l.name||"",token:l.token,blankLine:l.blankLine||(()=>{}),startState:l.startState||(()=>!0),copyState:l.copyState||defaultCopyState,indent:l.indent||(()=>null),languageData:l.languageData||{},tokenTable:l.tokenTable||noTokens,mergeTokens:l.mergeTokens!==!1}}function defaultCopyState(l){if(typeof l!="object")return l;let r={};for(let a in l){let s=l[a];r[a]=s instanceof Array?s.slice():s}return r}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(r){let a=defineLanguageFacet(r.languageData),s=fullParser(r),o,f=new class extends Parser{createParse(h,d,g){return new Parse$1(o,h,d,g)}};super(a,f,[],r.name),this.topNode=docID(a,this),o=this,this.streamParser=s,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=r.tokenTable?new TokenTable(s.tokenTable):defaultTokenTable}static define(r){return new StreamLanguage(r)}getIndent(r){let a,{overrideIndentation:s}=r.options;s&&(a=IndentedFrom.get(r.state),a!=null&&a<r.pos-1e4&&(a=void 0));let o=findState(this,r.node.tree,r.node.from,r.node.from,a??r.pos),f,h;if(o?(h=o.state,f=o.pos+1):(h=this.streamParser.startState(r.unit),f=r.node.from),r.pos-f>1e4)return null;for(;f<r.pos;){let g=r.state.doc.lineAt(f),m=Math.min(r.pos,g.to);if(g.length){let y=s?s(g.from):-1,v=new StringStream(g.text,r.state.tabSize,r.unit,y<0?void 0:y);for(;v.pos<m-g.from;)readToken$1(this.streamParser.token,v,h)}else this.streamParser.blankLine(h,r.unit);if(m==r.pos)break;f=g.to+1}let d=r.lineAt(r.pos);return s&&a==null&&IndentedFrom.set(r.state,d.from),this.streamParser.indent(h,/^\s*(.*)/.exec(d.text)[1],r)}get allowsNesting(){return!1}}function findState(l,r,a,s,o){let f=a>=s&&a+r.length<=o&&r.prop(l.stateAfter);if(f)return{state:l.streamParser.copyState(f),pos:a+r.length};for(let h=r.children.length-1;h>=0;h--){let d=r.children[h],g=a+r.positions[h],m=d instanceof Tree&&g<o&&findState(l,d,g,s,o);if(m)return m}return null}function cutTree(l,r,a,s,o){if(o&&a<=0&&s>=r.length)return r;!o&&a==0&&r.type==l.topNode&&(o=!0);for(let f=r.children.length-1;f>=0;f--){let h=r.positions[f],d=r.children[f],g;if(h<s&&d instanceof Tree){if(!(g=cutTree(l,d,a-h,s-h,o)))break;return o?new Tree(r.type,r.children.slice(0,f).concat(g),r.positions.slice(0,f+1),h+g.length):g}}return null}function findStartInFragments(l,r,a,s,o){for(let f of r){let h=f.from+(f.openStart?25:0),d=f.to-(f.openEnd?25:0),g=h<=a&&d>a&&findState(l,f.tree,0-f.offset,a,d),m;if(g&&g.pos<=s&&(m=cutTree(l,f.tree,a+f.offset,g.pos+f.offset,!1)))return{state:g.state,tree:m}}return{state:l.streamParser.startState(o?getIndentUnit(o):4),tree:Tree.empty}}let Parse$1=class{constructor(r,a,s,o){this.lang=r,this.input=a,this.fragments=s,this.ranges=o,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=o[o.length-1].to;let f=ParseContext.get(),h=o[0].from,{state:d,tree:g}=findStartInFragments(r,s,h,this.to,f?.state);this.state=d,this.parsedPos=this.chunkStart=h+g.length;for(let m=0;m<g.children.length;m++)this.chunks.push(g.children[m]),this.chunkPos.push(g.positions[m]);f&&this.parsedPos<f.viewport.from-1e5&&o.some(m=>m.from<=f.viewport.from&&m.to>=f.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(f.state)),f.skipUntilInView(this.parsedPos,f.viewport.from),this.parsedPos=f.viewport.from),this.moveRangeIndex()}advance(){let r=ParseContext.get(),a=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),s=Math.min(a,this.chunkStart+512);for(r&&(s=Math.min(s,r.viewport.to));this.parsedPos<s;)this.parseLine(r);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=a?this.finish():r&&this.parsedPos>=r.viewport.to?(r.skipUntilInView(this.parsedPos,a),this.finish()):null}stopAt(r){this.stoppedAt=r}lineAfter(r){let a=this.input.chunk(r);if(this.input.lineChunks)a==`
`&&(a="");else{let s=a.indexOf(`
`);s>-1&&(a=a.slice(0,s))}return r+a.length<=this.to?a:a.slice(0,this.to-r)}nextLine(){let r=this.parsedPos,a=this.lineAfter(r),s=r+a.length;for(let o=this.rangeIndex;;){let f=this.ranges[o].to;if(f>=s||(a=a.slice(0,f-(s-a.length)),o++,o==this.ranges.length))break;let h=this.ranges[o].from,d=this.lineAfter(h);a+=d,s=h+d.length}return{line:a,end:s}}skipGapsTo(r,a,s){for(;;){let o=this.ranges[this.rangeIndex].to,f=r+a;if(s>0?o>f:o>=f)break;let h=this.ranges[++this.rangeIndex].from;a+=h-o}return a}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(r,a,s,o){let f=4;if(this.ranges.length>1){o=this.skipGapsTo(a,o,1),a+=o;let d=this.chunk.length;o=this.skipGapsTo(s,o,-1),s+=o,f+=this.chunk.length-d}let h=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&f==4&&h>=0&&this.chunk[h]==r&&this.chunk[h+2]==a?this.chunk[h+2]=s:this.chunk.push(r,a,s,f),o}parseLine(r){let{line:a,end:s}=this.nextLine(),o=0,{streamParser:f}=this.lang,h=new StringStream(a,r?r.state.tabSize:4,r?getIndentUnit(r.state):2);if(h.eol())f.blankLine(this.state,h.indentUnit);else for(;!h.eol();){let d=readToken$1(f.token,h,this.state);if(d&&(o=this.emitToken(this.lang.tokenTable.resolve(d),this.parsedPos+h.start,this.parsedPos+h.pos,o)),h.start>1e4)break}this.parsedPos=s,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let r=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:512,reused:this.chunkReused});r=new Tree(r.type,r.children,r.positions,r.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(r),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(l,r,a){r.start=r.pos;for(let s=0;s<10;s++){let o=l(r,a);if(r.pos>r.start)return o}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[l,r]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[l]=createTokenType(noTokens,r);class TokenTable{constructor(r){this.extra=r,this.table=Object.assign(Object.create(null),defaultTable)}resolve(r){return r?this.table[r]||(this.table[r]=createTokenType(this.extra,r)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(l,r){warned.indexOf(l)>-1||(warned.push(l),console.warn(r))}function createTokenType(l,r){let a=[];for(let d of r.split(" ")){let g=[];for(let m of d.split(".")){let y=l[m]||tags[m];y?typeof y=="function"?g.length?g=g.map(y):warnForPart(m,`Modifier ${m} used at start of tag`):g.length?warnForPart(m,`Tag ${m} used as modifier`):g=Array.isArray(y)?y:[y]:warnForPart(m,`Unknown highlighting tag ${m}`)}for(let m of g)a.push(m)}if(!a.length)return 0;let s=r.replace(/ /g,"_"),o=s+" "+a.map(d=>d.id),f=byTag[o];if(f)return f.id;let h=byTag[o]=NodeType.define({id:typeArray.length,name:s,props:[styleTags({[s]:a})]});return typeArray.push(h),h.id}function docID(l,r){let a=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>l),indentNodeProp.add(()=>s=>r.getIndent(s))],top:!0});return typeArray.push(a),a}Direction.RTL,Direction.LTR;const toggleComment=l=>{let{state:r}=l,a=r.doc.lineAt(r.selection.main.from),s=getConfig(l.state,a.from);return s.line?toggleLineComment(l):s.block?toggleBlockCommentByLine(l):!1};function command(l,r){return({state:a,dispatch:s})=>{if(a.readOnly)return!1;let o=l(r,a);return o?(s(a.update(o)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((l,r)=>changeBlockComment(l,r,selectedLineRanges(r)),0);function getConfig(l,r){let a=l.languageDataAt("commentTokens",r,1);return a.length?a[0]:{}}const SearchMargin=50;function findBlockComment(l,{open:r,close:a},s,o){let f=l.sliceDoc(s-SearchMargin,s),h=l.sliceDoc(o,o+SearchMargin),d=/\s*$/.exec(f)[0].length,g=/^\s*/.exec(h)[0].length,m=f.length-d;if(f.slice(m-r.length,m)==r&&h.slice(g,g+a.length)==a)return{open:{pos:s-d,margin:d&&1},close:{pos:o+g,margin:g&&1}};let y,v;o-s<=2*SearchMargin?y=v=l.sliceDoc(s,o):(y=l.sliceDoc(s,s+SearchMargin),v=l.sliceDoc(o-SearchMargin,o));let x=/^\s*/.exec(y)[0].length,k=/\s*$/.exec(v)[0].length,Q=v.length-k-a.length;return y.slice(x,x+r.length)==r&&v.slice(Q,Q+a.length)==a?{open:{pos:s+x+r.length,margin:/\s/.test(y.charAt(x+r.length))?1:0},close:{pos:o-k-a.length,margin:/\s/.test(v.charAt(Q-1))?1:0}}:null}function selectedLineRanges(l){let r=[];for(let a of l.selection.ranges){let s=l.doc.lineAt(a.from),o=a.to<=s.to?s:l.doc.lineAt(a.to);o.from>s.from&&o.from==a.to&&(o=a.to==s.to+1?s:l.doc.lineAt(a.to-1));let f=r.length-1;f>=0&&r[f].to>s.from?r[f].to=o.to:r.push({from:s.from+/^\s*/.exec(s.text)[0].length,to:o.to})}return r}function changeBlockComment(l,r,a=r.selection.ranges){let s=a.map(f=>getConfig(r,f.from).block);if(!s.every(f=>f))return null;let o=a.map((f,h)=>findBlockComment(r,s[h],f.from,f.to));if(l!=2&&!o.every(f=>f))return{changes:r.changes(a.map((f,h)=>o[h]?[]:[{from:f.from,insert:s[h].open+" "},{from:f.to,insert:" "+s[h].close}]))};if(l!=1&&o.some(f=>f)){let f=[];for(let h=0,d;h<o.length;h++)if(d=o[h]){let g=s[h],{open:m,close:y}=d;f.push({from:m.pos-g.open.length,to:m.pos+m.margin},{from:y.pos-y.margin,to:y.pos+g.close.length})}return{changes:f}}return null}function changeLineComment(l,r,a=r.selection.ranges){let s=[],o=-1;e:for(let{from:f,to:h}of a){let d=s.length,g=1e9,m;for(let y=f;y<=h;){let v=r.doc.lineAt(y);if(m==null&&(m=getConfig(r,v.from).line,!m))continue e;if(v.from>o&&(f==h||h>v.from)){o=v.from;let x=/^\s*/.exec(v.text)[0].length,k=x==v.length,Q=v.text.slice(x,x+m.length)==m?x:-1;x<v.text.length&&x<g&&(g=x),s.push({line:v,comment:Q,token:m,indent:x,empty:k,single:!1})}y=v.to+1}if(g<1e9)for(let y=d;y<s.length;y++)s[y].indent<s[y].line.text.length&&(s[y].indent=g);s.length==d+1&&(s[d].single=!0)}if(l!=2&&s.some(f=>f.comment<0&&(!f.empty||f.single))){let f=[];for(let{line:d,token:g,indent:m,empty:y,single:v}of s)(v||!y)&&f.push({from:d.from+m,insert:g+" "});let h=r.changes(f);return{changes:h,selection:r.selection.map(h,1)}}else if(l!=1&&s.some(f=>f.comment>=0)){let f=[];for(let{line:h,comment:d,token:g}of s)if(d>=0){let m=h.from+d,y=m+g.length;h.text[y-h.from]==" "&&y++,f.push({from:m,to:y})}return{changes:f}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(l){return combineConfig(l,{minDepth:100,newGroupDelay:500,joinToEvent:(r,a)=>a},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(r,a)=>(s,o)=>r(s,o)||a(s,o)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(l,r){let a=r.state.facet(historyConfig),s=r.annotation(fromHistory);if(s){let g=HistEvent.fromTransaction(r,s.selection),m=s.side,y=m==0?l.undone:l.done;return g?y=updateBranch(y,y.length,a.minDepth,g):y=addSelection(y,r.startState.selection),new HistoryState(m==0?s.rest:y,m==0?y:s.rest)}let o=r.annotation(isolateHistory);if((o=="full"||o=="before")&&(l=l.isolate()),r.annotation(Transaction.addToHistory)===!1)return r.changes.empty?l:l.addMapping(r.changes.desc);let f=HistEvent.fromTransaction(r),h=r.annotation(Transaction.time),d=r.annotation(Transaction.userEvent);return f?l=l.addChanges(f,h,d,a,r):r.selection&&(l=l.addSelection(r.startState.selection,h,d,a.newGroupDelay)),(o=="full"||o=="after")&&(l=l.isolate()),l},toJSON(l){return{done:l.done.map(r=>r.toJSON()),undone:l.undone.map(r=>r.toJSON())}},fromJSON(l){return new HistoryState(l.done.map(HistEvent.fromJSON),l.undone.map(HistEvent.fromJSON))}});function history(l={}){return[historyField_,historyConfig.of(l),EditorView.domEventHandlers({beforeinput(r,a){let s=r.inputType=="historyUndo"?undo:r.inputType=="historyRedo"?redo:null;return s?(r.preventDefault(),s(a)):!1}})]}function cmd(l,r){return function({state:a,dispatch:s}){if(!r&&a.readOnly)return!1;let o=a.field(historyField_,!1);if(!o)return!1;let f=o.pop(l,a,r);return f?(s(f),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(r,a,s,o,f){this.changes=r,this.effects=a,this.mapped=s,this.startSelection=o,this.selectionsAfter=f}setSelAfter(r){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,r)}toJSON(){var r,a,s;return{changes:(r=this.changes)===null||r===void 0?void 0:r.toJSON(),mapped:(a=this.mapped)===null||a===void 0?void 0:a.toJSON(),startSelection:(s=this.startSelection)===null||s===void 0?void 0:s.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(r){return new HistEvent(r.changes&&ChangeSet.fromJSON(r.changes),[],r.mapped&&ChangeDesc.fromJSON(r.mapped),r.startSelection&&EditorSelection.fromJSON(r.startSelection),r.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(r,a){let s=none$1;for(let o of r.startState.facet(invertedEffects)){let f=o(r);f.length&&(s=s.concat(f))}return!s.length&&r.changes.empty?null:new HistEvent(r.changes.invert(r.startState.doc),s,void 0,a||r.startState.selection,none$1)}static selection(r){return new HistEvent(void 0,none$1,void 0,void 0,r)}}function updateBranch(l,r,a,s){let o=r+1>a+20?r-a-1:0,f=l.slice(o,r);return f.push(s),f}function isAdjacent(l,r){let a=[],s=!1;return l.iterChangedRanges((o,f)=>a.push(o,f)),r.iterChangedRanges((o,f,h,d)=>{for(let g=0;g<a.length;){let m=a[g++],y=a[g++];d>=m&&h<=y&&(s=!0)}}),s}function eqSelectionShape(l,r){return l.ranges.length==r.ranges.length&&l.ranges.filter((a,s)=>a.empty!=r.ranges[s].empty).length===0}function conc(l,r){return l.length?r.length?l.concat(r):l:r}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(l,r){if(l.length){let a=l[l.length-1],s=a.selectionsAfter.slice(Math.max(0,a.selectionsAfter.length-MaxSelectionsPerEvent));return s.length&&s[s.length-1].eq(r)?l:(s.push(r),updateBranch(l,l.length-1,1e9,a.setSelAfter(s)))}else return[HistEvent.selection([r])]}function popSelection(l){let r=l[l.length-1],a=l.slice();return a[l.length-1]=r.setSelAfter(r.selectionsAfter.slice(0,r.selectionsAfter.length-1)),a}function addMappingToBranch(l,r){if(!l.length)return l;let a=l.length,s=none$1;for(;a;){let o=mapEvent(l[a-1],r,s);if(o.changes&&!o.changes.empty||o.effects.length){let f=l.slice(0,a);return f[a-1]=o,f}else r=o.mapped,a--,s=o.selectionsAfter}return s.length?[HistEvent.selection(s)]:none$1}function mapEvent(l,r,a){let s=conc(l.selectionsAfter.length?l.selectionsAfter.map(d=>d.map(r)):none$1,a);if(!l.changes)return HistEvent.selection(s);let o=l.changes.map(r),f=r.mapDesc(l.changes,!0),h=l.mapped?l.mapped.composeDesc(f):f;return new HistEvent(o,StateEffect.mapEffects(l.effects,r),h,l.startSelection.map(f),s)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(r,a,s=0,o=void 0){this.done=r,this.undone=a,this.prevTime=s,this.prevUserEvent=o}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(r,a,s,o,f){let h=this.done,d=h[h.length-1];return d&&d.changes&&!d.changes.empty&&r.changes&&(!s||joinableUserEvent.test(s))&&(!d.selectionsAfter.length&&a-this.prevTime<o.newGroupDelay&&o.joinToEvent(f,isAdjacent(d.changes,r.changes))||s=="input.type.compose")?h=updateBranch(h,h.length-1,o.minDepth,new HistEvent(r.changes.compose(d.changes),conc(StateEffect.mapEffects(r.effects,d.changes),d.effects),d.mapped,d.startSelection,none$1)):h=updateBranch(h,h.length,o.minDepth,r),new HistoryState(h,none$1,a,s)}addSelection(r,a,s,o){let f=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return f.length>0&&a-this.prevTime<o&&s==this.prevUserEvent&&s&&/^select($|\.)/.test(s)&&eqSelectionShape(f[f.length-1],r)?this:new HistoryState(addSelection(this.done,r),this.undone,a,s)}addMapping(r){return new HistoryState(addMappingToBranch(this.done,r),addMappingToBranch(this.undone,r),this.prevTime,this.prevUserEvent)}pop(r,a,s){let o=r==0?this.done:this.undone;if(o.length==0)return null;let f=o[o.length-1],h=f.selectionsAfter[0]||(f.startSelection?f.startSelection.map(f.changes.invertedDesc,1):a.selection);if(s&&f.selectionsAfter.length)return a.update({selection:f.selectionsAfter[f.selectionsAfter.length-1],annotations:fromHistory.of({side:r,rest:popSelection(o),selection:h}),userEvent:r==0?"select.undo":"select.redo",scrollIntoView:!0});if(f.changes){let d=o.length==1?none$1:o.slice(0,o.length-1);return f.mapped&&(d=addMappingToBranch(d,f.mapped)),a.update({changes:f.changes,selection:f.startSelection,effects:f.effects,annotations:fromHistory.of({side:r,rest:d,selection:h}),filter:!1,userEvent:r==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(l,r){return EditorSelection.create(l.ranges.map(r),l.mainIndex)}function setSel(l,r){return l.update({selection:r,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:l,dispatch:r},a){let s=updateSel(l.selection,a);return s.eq(l.selection,!0)?!1:(r(setSel(l,s)),!0)}function rangeEnd(l,r){return EditorSelection.cursor(r?l.to:l.from)}function cursorByChar(l,r){return moveSel(l,a=>a.empty?l.moveByChar(a,r):rangeEnd(a,r))}function ltrAtCursor(l){return l.textDirectionAt(l.state.selection.main.head)==Direction.LTR}const cursorCharLeft=l=>cursorByChar(l,!ltrAtCursor(l)),cursorCharRight=l=>cursorByChar(l,ltrAtCursor(l));function cursorByGroup(l,r){return moveSel(l,a=>a.empty?l.moveByGroup(a,r):rangeEnd(a,r))}const cursorGroupLeft=l=>cursorByGroup(l,!ltrAtCursor(l)),cursorGroupRight=l=>cursorByGroup(l,ltrAtCursor(l));function interestingNode(l,r,a){if(r.type.prop(a))return!0;let s=r.to-r.from;return s&&(s>2||/[^\s,.;:]/.test(l.sliceDoc(r.from,r.to)))||r.firstChild}function moveBySyntax(l,r,a){let s=syntaxTree(l).resolveInner(r.head),o=a?NodeProp.closedBy:NodeProp.openedBy;for(let g=r.head;;){let m=a?s.childAfter(g):s.childBefore(g);if(!m)break;interestingNode(l,m,o)?s=m:g=a?m.to:m.from}let f=s.type.prop(o),h,d;return f&&(h=a?matchBrackets(l,s.from,1):matchBrackets(l,s.to,-1))&&h.matched?d=a?h.end.to:h.end.from:d=a?s.to:s.from,EditorSelection.cursor(d,a?-1:1)}const cursorSyntaxLeft=l=>moveSel(l,r=>moveBySyntax(l.state,r,!ltrAtCursor(l))),cursorSyntaxRight=l=>moveSel(l,r=>moveBySyntax(l.state,r,ltrAtCursor(l)));function cursorByLine(l,r){return moveSel(l,a=>{if(!a.empty)return rangeEnd(a,r);let s=l.moveVertically(a,r);return s.head!=a.head?s:l.moveToLineBoundary(a,r)})}const cursorLineUp=l=>cursorByLine(l,!1),cursorLineDown=l=>cursorByLine(l,!0);function pageInfo(l){let r=l.scrollDOM.clientHeight<l.scrollDOM.scrollHeight-2,a=0,s=0,o;if(r){for(let f of l.state.facet(EditorView.scrollMargins)){let h=f(l);h?.top&&(a=Math.max(h?.top,a)),h?.bottom&&(s=Math.max(h?.bottom,s))}o=l.scrollDOM.clientHeight-a-s}else o=(l.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:a,marginBottom:s,selfScroll:r,height:Math.max(l.defaultLineHeight,o-5)}}function cursorByPage(l,r){let a=pageInfo(l),{state:s}=l,o=updateSel(s.selection,h=>h.empty?l.moveVertically(h,r,a.height):rangeEnd(h,r));if(o.eq(s.selection))return!1;let f;if(a.selfScroll){let h=l.coordsAtPos(s.selection.main.head),d=l.scrollDOM.getBoundingClientRect(),g=d.top+a.marginTop,m=d.bottom-a.marginBottom;h&&h.top>g&&h.bottom<m&&(f=EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:h.top-g}))}return l.dispatch(setSel(s,o),{effects:f}),!0}const cursorPageUp=l=>cursorByPage(l,!1),cursorPageDown=l=>cursorByPage(l,!0);function moveByLineBoundary(l,r,a){let s=l.lineBlockAt(r.head),o=l.moveToLineBoundary(r,a);if(o.head==r.head&&o.head!=(a?s.to:s.from)&&(o=l.moveToLineBoundary(r,a,!1)),!a&&o.head==s.from&&s.length){let f=/^\s*/.exec(l.state.sliceDoc(s.from,Math.min(s.from+100,s.to)))[0].length;f&&r.head!=s.from+f&&(o=EditorSelection.cursor(s.from+f))}return o}const cursorLineBoundaryForward=l=>moveSel(l,r=>moveByLineBoundary(l,r,!0)),cursorLineBoundaryBackward=l=>moveSel(l,r=>moveByLineBoundary(l,r,!1)),cursorLineBoundaryLeft=l=>moveSel(l,r=>moveByLineBoundary(l,r,!ltrAtCursor(l))),cursorLineBoundaryRight=l=>moveSel(l,r=>moveByLineBoundary(l,r,ltrAtCursor(l))),cursorLineStart=l=>moveSel(l,r=>EditorSelection.cursor(l.lineBlockAt(r.head).from,1)),cursorLineEnd=l=>moveSel(l,r=>EditorSelection.cursor(l.lineBlockAt(r.head).to,-1));function toMatchingBracket(l,r,a){let s=!1,o=updateSel(l.selection,f=>{let h=matchBrackets(l,f.head,-1)||matchBrackets(l,f.head,1)||f.head>0&&matchBrackets(l,f.head-1,1)||f.head<l.doc.length&&matchBrackets(l,f.head+1,-1);if(!h||!h.end)return f;s=!0;let d=h.start.from==f.head?h.end.to:h.end.from;return EditorSelection.cursor(d)});return s?(r(setSel(l,o)),!0):!1}const cursorMatchingBracket=({state:l,dispatch:r})=>toMatchingBracket(l,r);function extendSel(l,r){let a=updateSel(l.state.selection,s=>{let o=r(s);return EditorSelection.range(s.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return a.eq(l.state.selection)?!1:(l.dispatch(setSel(l.state,a)),!0)}function selectByChar(l,r){return extendSel(l,a=>l.moveByChar(a,r))}const selectCharLeft=l=>selectByChar(l,!ltrAtCursor(l)),selectCharRight=l=>selectByChar(l,ltrAtCursor(l));function selectByGroup(l,r){return extendSel(l,a=>l.moveByGroup(a,r))}const selectGroupLeft=l=>selectByGroup(l,!ltrAtCursor(l)),selectGroupRight=l=>selectByGroup(l,ltrAtCursor(l)),selectSyntaxLeft=l=>extendSel(l,r=>moveBySyntax(l.state,r,!ltrAtCursor(l))),selectSyntaxRight=l=>extendSel(l,r=>moveBySyntax(l.state,r,ltrAtCursor(l)));function selectByLine(l,r){return extendSel(l,a=>l.moveVertically(a,r))}const selectLineUp=l=>selectByLine(l,!1),selectLineDown=l=>selectByLine(l,!0);function selectByPage(l,r){return extendSel(l,a=>l.moveVertically(a,r,pageInfo(l).height))}const selectPageUp=l=>selectByPage(l,!1),selectPageDown=l=>selectByPage(l,!0),selectLineBoundaryForward=l=>extendSel(l,r=>moveByLineBoundary(l,r,!0)),selectLineBoundaryBackward=l=>extendSel(l,r=>moveByLineBoundary(l,r,!1)),selectLineBoundaryLeft=l=>extendSel(l,r=>moveByLineBoundary(l,r,!ltrAtCursor(l))),selectLineBoundaryRight=l=>extendSel(l,r=>moveByLineBoundary(l,r,ltrAtCursor(l))),selectLineStart=l=>extendSel(l,r=>EditorSelection.cursor(l.lineBlockAt(r.head).from)),selectLineEnd=l=>extendSel(l,r=>EditorSelection.cursor(l.lineBlockAt(r.head).to)),cursorDocStart=({state:l,dispatch:r})=>(r(setSel(l,{anchor:0})),!0),cursorDocEnd=({state:l,dispatch:r})=>(r(setSel(l,{anchor:l.doc.length})),!0),selectDocStart=({state:l,dispatch:r})=>(r(setSel(l,{anchor:l.selection.main.anchor,head:0})),!0),selectDocEnd=({state:l,dispatch:r})=>(r(setSel(l,{anchor:l.selection.main.anchor,head:l.doc.length})),!0),selectAll=({state:l,dispatch:r})=>(r(l.update({selection:{anchor:0,head:l.doc.length},userEvent:"select"})),!0),selectLine=({state:l,dispatch:r})=>{let a=selectedLineBlocks(l).map(({from:s,to:o})=>EditorSelection.range(s,Math.min(o+1,l.doc.length)));return r(l.update({selection:EditorSelection.create(a),userEvent:"select"})),!0},selectParentSyntax=({state:l,dispatch:r})=>{let a=updateSel(l.selection,s=>{let o=syntaxTree(l),f=o.resolveStack(s.from,1);if(s.empty){let h=o.resolveStack(s.from,-1);h.node.from>=f.node.from&&h.node.to<=f.node.to&&(f=h)}for(let h=f;h;h=h.next){let{node:d}=h;if((d.from<s.from&&d.to>=s.to||d.to>s.to&&d.from<=s.from)&&h.next)return EditorSelection.range(d.to,d.from)}return s});return a.eq(l.selection)?!1:(r(setSel(l,a)),!0)};function addCursorVertically(l,r){let{state:a}=l,s=a.selection,o=a.selection.ranges.slice();for(let f of a.selection.ranges){let h=a.doc.lineAt(f.head);if(r?h.to<l.state.doc.length:h.from>0)for(let d=f;;){let g=l.moveVertically(d,r);if(g.head<h.from||g.head>h.to){o.some(m=>m.head==g.head)||o.push(g);break}else{if(g.head==d.head)break;d=g}}}return o.length==s.ranges.length?!1:(l.dispatch(setSel(a,EditorSelection.create(o,o.length-1))),!0)}const addCursorAbove=l=>addCursorVertically(l,!1),addCursorBelow=l=>addCursorVertically(l,!0),simplifySelection=({state:l,dispatch:r})=>{let a=l.selection,s=null;return a.ranges.length>1?s=EditorSelection.create([a.main]):a.main.empty||(s=EditorSelection.create([EditorSelection.cursor(a.main.head)])),s?(r(setSel(l,s)),!0):!1};function deleteBy(l,r){if(l.state.readOnly)return!1;let a="delete.selection",{state:s}=l,o=s.changeByRange(f=>{let{from:h,to:d}=f;if(h==d){let g=r(f);g<h?(a="delete.backward",g=skipAtomic(l,g,!1)):g>h&&(a="delete.forward",g=skipAtomic(l,g,!0)),h=Math.min(h,g),d=Math.max(d,g)}else h=skipAtomic(l,h,!1),d=skipAtomic(l,d,!0);return h==d?{range:f}:{changes:{from:h,to:d},range:EditorSelection.cursor(h,h<f.head?-1:1)}});return o.changes.empty?!1:(l.dispatch(s.update(o,{scrollIntoView:!0,userEvent:a,effects:a=="delete.selection"?EditorView.announce.of(s.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(l,r,a){if(l instanceof EditorView)for(let s of l.state.facet(EditorView.atomicRanges).map(o=>o(l)))s.between(r,r,(o,f)=>{o<r&&f>r&&(r=a?f:o)});return r}const deleteByChar=(l,r,a)=>deleteBy(l,s=>{let o=s.from,{state:f}=l,h=f.doc.lineAt(o),d,g;if(a&&!r&&o>h.from&&o<h.from+200&&!/[^ \t]/.test(d=h.text.slice(0,o-h.from))){if(d[d.length-1]=="	")return o-1;let m=countColumn(d,f.tabSize),y=m%getIndentUnit(f)||getIndentUnit(f);for(let v=0;v<y&&d[d.length-1-v]==" ";v++)o--;g=o}else g=findClusterBreak(h.text,o-h.from,r,r)+h.from,g==o&&h.number!=(r?f.doc.lines:1)?g+=r?1:-1:!r&&/[\ufe00-\ufe0f]/.test(h.text.slice(g-h.from,o-h.from))&&(g=findClusterBreak(h.text,g-h.from,!1,!1)+h.from);return g}),deleteCharBackward=l=>deleteByChar(l,!1,!0),deleteCharForward=l=>deleteByChar(l,!0,!1),deleteByGroup=(l,r)=>deleteBy(l,a=>{let s=a.head,{state:o}=l,f=o.doc.lineAt(s),h=o.charCategorizer(s);for(let d=null;;){if(s==(r?f.to:f.from)){s==a.head&&f.number!=(r?o.doc.lines:1)&&(s+=r?1:-1);break}let g=findClusterBreak(f.text,s-f.from,r)+f.from,m=f.text.slice(Math.min(s,g)-f.from,Math.max(s,g)-f.from),y=h(m);if(d!=null&&y!=d)break;(m!=" "||s!=a.head)&&(d=y),s=g}return s}),deleteGroupBackward=l=>deleteByGroup(l,!1),deleteGroupForward=l=>deleteByGroup(l,!0),deleteToLineEnd=l=>deleteBy(l,r=>{let a=l.lineBlockAt(r.head).to;return r.head<a?a:Math.min(l.state.doc.length,r.head+1)}),deleteLineBoundaryBackward=l=>deleteBy(l,r=>{let a=l.moveToLineBoundary(r,!1).head;return r.head>a?a:Math.max(0,r.head-1)}),deleteLineBoundaryForward=l=>deleteBy(l,r=>{let a=l.moveToLineBoundary(r,!0).head;return r.head<a?a:Math.min(l.state.doc.length,r.head+1)}),splitLine=({state:l,dispatch:r})=>{if(l.readOnly)return!1;let a=l.changeByRange(s=>({changes:{from:s.from,to:s.to,insert:Text.of(["",""])},range:EditorSelection.cursor(s.from)}));return r(l.update(a,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:l,dispatch:r})=>{if(l.readOnly)return!1;let a=l.changeByRange(s=>{if(!s.empty||s.from==0||s.from==l.doc.length)return{range:s};let o=s.from,f=l.doc.lineAt(o),h=o==f.from?o-1:findClusterBreak(f.text,o-f.from,!1)+f.from,d=o==f.to?o+1:findClusterBreak(f.text,o-f.from,!0)+f.from;return{changes:{from:h,to:d,insert:l.doc.slice(o,d).append(l.doc.slice(h,o))},range:EditorSelection.cursor(d)}});return a.changes.empty?!1:(r(l.update(a,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(l){let r=[],a=-1;for(let s of l.selection.ranges){let o=l.doc.lineAt(s.from),f=l.doc.lineAt(s.to);if(!s.empty&&s.to==f.from&&(f=l.doc.lineAt(s.to-1)),a>=o.number){let h=r[r.length-1];h.to=f.to,h.ranges.push(s)}else r.push({from:o.from,to:f.to,ranges:[s]});a=f.number+1}return r}function moveLine(l,r,a){if(l.readOnly)return!1;let s=[],o=[];for(let f of selectedLineBlocks(l)){if(a?f.to==l.doc.length:f.from==0)continue;let h=l.doc.lineAt(a?f.to+1:f.from-1),d=h.length+1;if(a){s.push({from:f.to,to:h.to},{from:f.from,insert:h.text+l.lineBreak});for(let g of f.ranges)o.push(EditorSelection.range(Math.min(l.doc.length,g.anchor+d),Math.min(l.doc.length,g.head+d)))}else{s.push({from:h.from,to:f.from},{from:f.to,insert:l.lineBreak+h.text});for(let g of f.ranges)o.push(EditorSelection.range(g.anchor-d,g.head-d))}}return s.length?(r(l.update({changes:s,scrollIntoView:!0,selection:EditorSelection.create(o,l.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:l,dispatch:r})=>moveLine(l,r,!1),moveLineDown=({state:l,dispatch:r})=>moveLine(l,r,!0);function copyLine(l,r,a){if(l.readOnly)return!1;let s=[];for(let f of selectedLineBlocks(l))a?s.push({from:f.from,insert:l.doc.slice(f.from,f.to)+l.lineBreak}):s.push({from:f.to,insert:l.lineBreak+l.doc.slice(f.from,f.to)});let o=l.changes(s);return r(l.update({changes:o,selection:l.selection.map(o,a?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:l,dispatch:r})=>copyLine(l,r,!1),copyLineDown=({state:l,dispatch:r})=>copyLine(l,r,!0),deleteLine=l=>{if(l.state.readOnly)return!1;let{state:r}=l,a=r.changes(selectedLineBlocks(r).map(({from:o,to:f})=>(o>0?o--:f<r.doc.length&&f++,{from:o,to:f}))),s=updateSel(r.selection,o=>{let f;if(l.lineWrapping){let h=l.lineBlockAt(o.head),d=l.coordsAtPos(o.head,o.assoc||1);d&&(f=h.bottom+l.documentTop-d.bottom+l.defaultLineHeight/2)}return l.moveVertically(o,!0,f)}).map(a);return l.dispatch({changes:a,selection:s,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(l,r){if(/\(\)|\[\]|\{\}/.test(l.sliceDoc(r-1,r+1)))return{from:r,to:r};let a=syntaxTree(l).resolveInner(r),s=a.childBefore(r),o=a.childAfter(r),f;return s&&o&&s.to<=r&&o.from>=r&&(f=s.type.prop(NodeProp.closedBy))&&f.indexOf(o.name)>-1&&l.doc.lineAt(s.to).from==l.doc.lineAt(o.from).from&&!/\S/.test(l.sliceDoc(s.to,o.from))?{from:s.to,to:o.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(l){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let s=r.changeByRange(o=>{let{from:f,to:h}=o,d=r.doc.lineAt(f),g=!l&&f==h&&isBetweenBrackets(r,f);l&&(f=h=(h<=d.to?d:r.doc.lineAt(h)).to);let m=new IndentContext(r,{simulateBreak:f,simulateDoubleBreak:!!g}),y=getIndentation(m,f);for(y==null&&(y=countColumn(/^\s*/.exec(r.doc.lineAt(f).text)[0],r.tabSize));h<d.to&&/\s/.test(d.text[h-d.from]);)h++;g?{from:f,to:h}=g:f>d.from&&f<d.from+100&&!/\S/.test(d.text.slice(0,f))&&(f=d.from);let v=["",indentString(r,y)];return g&&v.push(indentString(r,m.lineIndent(d.from,-1))),{changes:{from:f,to:h,insert:Text.of(v)},range:EditorSelection.cursor(f+1+v[1].length)}});return a(r.update(s,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(l,r){let a=-1;return l.changeByRange(s=>{let o=[];for(let h=s.from;h<=s.to;){let d=l.doc.lineAt(h);d.number>a&&(s.empty||s.to>d.from)&&(r(d,o,s),a=d.number),h=d.to+1}let f=l.changes(o);return{changes:o,range:EditorSelection.range(f.mapPos(s.anchor,1),f.mapPos(s.head,1))}})}const indentSelection=({state:l,dispatch:r})=>{if(l.readOnly)return!1;let a=Object.create(null),s=new IndentContext(l,{overrideIndentation:f=>{let h=a[f];return h??-1}}),o=changeBySelectedLine(l,(f,h,d)=>{let g=getIndentation(s,f.from);if(g==null)return;/\S/.test(f.text)||(g=0);let m=/^\s*/.exec(f.text)[0],y=indentString(l,g);(m!=y||d.from<f.from+m.length)&&(a[f.from]=g,h.push({from:f.from,to:f.from+m.length,insert:y}))});return o.changes.empty||r(l.update(o,{userEvent:"indent"})),!0},indentMore=({state:l,dispatch:r})=>l.readOnly?!1:(r(l.update(changeBySelectedLine(l,(a,s)=>{s.push({from:a.from,insert:l.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:l,dispatch:r})=>l.readOnly?!1:(r(l.update(changeBySelectedLine(l,(a,s)=>{let o=/^\s*/.exec(a.text)[0];if(!o)return;let f=countColumn(o,l.tabSize),h=0,d=indentString(l,Math.max(0,f-getIndentUnit(l)));for(;h<o.length&&h<d.length&&o.charCodeAt(h)==d.charCodeAt(h);)h++;s.push({from:a.from+h,to:a.from+o.length,insert:d.slice(h)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=l=>(l.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward,preventDefault:!0},{key:"Delete",run:deleteCharForward,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward,preventDefault:!0},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward,preventDefault:!0},{mac:"Mod-Delete",run:deleteLineBoundaryForward,preventDefault:!0}].concat(emacsStyleKeymap.map(l=>({mac:l.key,run:l.run,shift:l.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Mod-Alt-ArrowUp",run:addCursorAbove},{key:"Mod-Alt-ArrowDown",run:addCursorBelow},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess},basicNormalize=typeof String.prototype.normalize=="function"?l=>l.normalize("NFKD"):l=>l;class SearchCursor{constructor(r,a,s=0,o=r.length,f,h){this.test=h,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=r.iterRange(s,o),this.bufferStart=s,this.normalize=f?d=>f(basicNormalize(d)):basicNormalize,this.query=this.normalize(a)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let r=this.peek();if(r<0)return this.done=!0,this;let a=fromCodePoint(r),s=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(r);let o=this.normalize(a);if(o.length)for(let f=0,h=s;;f++){let d=o.charCodeAt(f),g=this.match(d,h,this.bufferPos+this.bufferStart);if(f==o.length-1){if(g)return this.value=g,this;break}h==s&&f<a.length&&a.charCodeAt(f)==d&&h++}}}match(r,a,s){let o=null;for(let f=0;f<this.matches.length;f+=2){let h=this.matches[f],d=!1;this.query.charCodeAt(h)==r&&(h==this.query.length-1?o={from:this.matches[f+1],to:s}:(this.matches[f]++,d=!0)),d||(this.matches.splice(f,2),f-=2)}return this.query.charCodeAt(0)==r&&(this.query.length==1?o={from:a,to:s}:this.matches.push(1,a)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(r,a,s,o=0,f=r.length){if(this.text=r,this.to=f,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(a))return new MultilineRegExpCursor(r,a,s,o,f);this.re=new RegExp(a,baseFlags+(s?.ignoreCase?"i":"")),this.test=s?.test,this.iter=r.iter();let h=r.lineAt(o);this.curLineStart=h.from,this.matchPos=toCharEnd(r,o),this.getLine(this.curLineStart)}getLine(r){this.iter.next(r),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let r=this.matchPos-this.curLineStart;;){this.re.lastIndex=r;let a=this.matchPos<=this.to&&this.re.exec(this.curLine);if(a){let s=this.curLineStart+a.index,o=s+a[0].length;if(this.matchPos=toCharEnd(this.text,o+(s==o?1:0)),s==this.curLineStart+this.curLine.length&&this.nextLine(),(s<o||s>this.value.to)&&(!this.test||this.test(s,o,a)))return this.value={from:s,to:o,match:a},this;r=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),r=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(r,a){this.from=r,this.text=a}get to(){return this.from+this.text.length}static get(r,a,s){let o=flattened.get(r);if(!o||o.from>=s||o.to<=a){let d=new FlattenedDoc(a,r.sliceString(a,s));return flattened.set(r,d),d}if(o.from==a&&o.to==s)return o;let{text:f,from:h}=o;return h>a&&(f=r.sliceString(a,h)+f,h=a),o.to<s&&(f+=r.sliceString(o.to,s)),flattened.set(r,new FlattenedDoc(h,f)),new FlattenedDoc(a,f.slice(a-h,s-h))}}class MultilineRegExpCursor{constructor(r,a,s,o,f){this.text=r,this.to=f,this.done=!1,this.value=empty,this.matchPos=toCharEnd(r,o),this.re=new RegExp(a,baseFlags+(s?.ignoreCase?"i":"")),this.test=s?.test,this.flat=FlattenedDoc.get(r,o,this.chunkEnd(o+5e3))}chunkEnd(r){return r>=this.to?this.to:this.text.lineAt(r).to}next(){for(;;){let r=this.re.lastIndex=this.matchPos-this.flat.from,a=this.re.exec(this.flat.text);if(a&&!a[0]&&a.index==r&&(this.re.lastIndex=r+1,a=this.re.exec(this.flat.text)),a){let s=this.flat.from+a.index,o=s+a[0].length;if((this.flat.to>=this.to||a.index+a[0].length<=this.flat.text.length-10)&&(!this.test||this.test(s,o,a)))return this.value={from:s,to:o,match:a},this.matchPos=toCharEnd(this.text,o+(s==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(l){try{return new RegExp(l,baseFlags),!0}catch{return!1}}function toCharEnd(l,r){if(r>=l.length)return r;let a=l.lineAt(r),s;for(;r<a.to&&(s=a.text.charCodeAt(r-a.from))>=56320&&s<57344;)r++;return r}const gotoLine=l=>{let{state:r}=l,a=String(r.doc.lineAt(l.state.selection.main.head).number),{close:s,result:o}=showDialog(l,{label:r.phrase("Go to line"),input:{type:"text",name:"line",value:a},focus:!0,submitLabel:r.phrase("go")});return o.then(f=>{let h=f&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(f.elements.line.value);if(!h){l.dispatch({effects:s});return}let d=r.doc.lineAt(r.selection.main.head),[,g,m,y,v]=h,x=y?+y.slice(1):0,k=m?+m:d.number;if(m&&v){let M=k/100;g&&(M=M*(g=="-"?-1:1)+d.number/r.doc.lines),k=Math.round(r.doc.lines*M)}else m&&g&&(k=k*(g=="-"?-1:1)+d.number);let Q=r.doc.line(Math.max(1,Math.min(r.doc.lines,k))),A=EditorSelection.cursor(Q.from+Math.max(0,Math.min(x,Q.length)));l.dispatch({effects:[s,EditorView.scrollIntoView(A.from,{y:"center"})],selection:A})}),!0},defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(l){return combineConfig(l,defaultHighlightOptions,{highlightWordAroundCursor:(r,a)=>r||a,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(l){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(l,r,a,s){return(a==0||l(r.sliceDoc(a-1,a))!=CharCategory.Word)&&(s==r.doc.length||l(r.sliceDoc(s,s+1))!=CharCategory.Word)}function insideWord(l,r,a,s){return l(r.sliceDoc(a,a+1))==CharCategory.Word&&l(r.sliceDoc(s-1,s))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(l){this.decorations=this.getDeco(l)}update(l){(l.selectionSet||l.docChanged||l.viewportChanged)&&(this.decorations=this.getDeco(l.view))}getDeco(l){let r=l.state.facet(highlightConfig),{state:a}=l,s=a.selection;if(s.ranges.length>1)return Decoration.none;let o=s.main,f,h=null;if(o.empty){if(!r.highlightWordAroundCursor)return Decoration.none;let g=a.wordAt(o.head);if(!g)return Decoration.none;h=a.charCategorizer(o.head),f=a.sliceDoc(g.from,g.to)}else{let g=o.to-o.from;if(g<r.minSelectionLength||g>200)return Decoration.none;if(r.wholeWords){if(f=a.sliceDoc(o.from,o.to),h=a.charCategorizer(o.head),!(insideWordBoundaries(h,a,o.from,o.to)&&insideWord(h,a,o.from,o.to)))return Decoration.none}else if(f=a.sliceDoc(o.from,o.to),!f)return Decoration.none}let d=[];for(let g of l.visibleRanges){let m=new SearchCursor(a.doc,f,g.from,g.to);for(;!m.next().done;){let{from:y,to:v}=m.value;if((!h||insideWordBoundaries(h,a,y,v))&&(o.empty&&y<=o.from&&v>=o.to?d.push(mainMatchDeco.range(y,v)):(y>=o.to||v<=o.from)&&d.push(matchDeco.range(y,v)),d.length>r.maxMatches))return Decoration.none}}return Decoration.set(d)}},{decorations:l=>l.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:l,dispatch:r})=>{let{selection:a}=l,s=EditorSelection.create(a.ranges.map(o=>l.wordAt(o.head)||EditorSelection.cursor(o.head)),a.mainIndex);return s.eq(a)?!1:(r(l.update({selection:s})),!0)};function findNextOccurrence(l,r){let{main:a,ranges:s}=l.selection,o=l.wordAt(a.head),f=o&&o.from==a.from&&o.to==a.to;for(let h=!1,d=new SearchCursor(l.doc,r,s[s.length-1].to);;)if(d.next(),d.done){if(h)return null;d=new SearchCursor(l.doc,r,0,Math.max(0,s[s.length-1].from-1)),h=!0}else{if(h&&s.some(g=>g.from==d.value.from))continue;if(f){let g=l.wordAt(d.value.from);if(!g||g.from!=d.value.from||g.to!=d.value.to)continue}return d.value}}const selectNextOccurrence=({state:l,dispatch:r})=>{let{ranges:a}=l.selection;if(a.some(f=>f.from===f.to))return selectWord({state:l,dispatch:r});let s=l.sliceDoc(a[0].from,a[0].to);if(l.selection.ranges.some(f=>l.sliceDoc(f.from,f.to)!=s))return!1;let o=findNextOccurrence(l,s);return o?(r(l.update({selection:l.selection.addRange(EditorSelection.range(o.from,o.to),!1),effects:EditorView.scrollIntoView(o.to)})),!0):!1},searchConfigFacet=Facet.define({combine(l){return combineConfig(l,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:r=>new SearchPanel(r),scrollToMatch:r=>EditorView.scrollIntoView(r)})}});class SearchQuery{constructor(r){this.search=r.search,this.caseSensitive=!!r.caseSensitive,this.literal=!!r.literal,this.regexp=!!r.regexp,this.replace=r.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!r.wholeWord,this.test=r.test}unquote(r){return this.literal?r:r.replace(/\\([nrt\\])/g,(a,s)=>s=="n"?`
`:s=="r"?"\r":s=="t"?"	":"\\")}eq(r){return this.search==r.search&&this.replace==r.replace&&this.caseSensitive==r.caseSensitive&&this.regexp==r.regexp&&this.wholeWord==r.wholeWord&&this.test==r.test}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(r,a=0,s){let o=r.doc?r:EditorState.create({doc:r});return s==null&&(s=o.doc.length),this.regexp?regexpCursor(this,o,a,s):stringCursor(this,o,a,s)}}class QueryType{constructor(r){this.spec=r}}function wrapStringTest(l,r,a){return(s,o,f,h)=>{if(a&&!a(s,o,f,h))return!1;let d=s>=h&&o<=h+f.length?f.slice(s-h,o-h):r.doc.sliceString(s,o);return l(d,r,s,o)}}function stringCursor(l,r,a,s){let o;return l.wholeWord&&(o=stringWordTest(r.doc,r.charCategorizer(r.selection.main.head))),l.test&&(o=wrapStringTest(l.test,r,o)),new SearchCursor(r.doc,l.unquoted,a,s,l.caseSensitive?void 0:f=>f.toLowerCase(),o)}function stringWordTest(l,r){return(a,s,o,f)=>((f>a||f+o.length<s)&&(f=Math.max(0,a-2),o=l.sliceString(f,Math.min(l.length,s+2))),(r(charBefore(o,a-f))!=CharCategory.Word||r(charAfter(o,a-f))!=CharCategory.Word)&&(r(charAfter(o,s-f))!=CharCategory.Word||r(charBefore(o,s-f))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(r){super(r)}nextMatch(r,a,s){let o=stringCursor(this.spec,r,s,r.doc.length).nextOverlapping();if(o.done){let f=Math.min(r.doc.length,a+this.spec.unquoted.length);o=stringCursor(this.spec,r,0,f).nextOverlapping()}return o.done||o.value.from==a&&o.value.to==s?null:o.value}prevMatchInRange(r,a,s){for(let o=s;;){let f=Math.max(a,o-1e4-this.spec.unquoted.length),h=stringCursor(this.spec,r,f,o),d=null;for(;!h.nextOverlapping().done;)d=h.value;if(d)return d;if(f==a)return null;o-=1e4}}prevMatch(r,a,s){let o=this.prevMatchInRange(r,0,a);return o||(o=this.prevMatchInRange(r,Math.max(0,s-this.spec.unquoted.length),r.doc.length)),o&&(o.from!=a||o.to!=s)?o:null}getReplacement(r){return this.spec.unquote(this.spec.replace)}matchAll(r,a){let s=stringCursor(this.spec,r,0,r.doc.length),o=[];for(;!s.next().done;){if(o.length>=a)return null;o.push(s.value)}return o}highlight(r,a,s,o){let f=stringCursor(this.spec,r,Math.max(0,a-this.spec.unquoted.length),Math.min(s+this.spec.unquoted.length,r.doc.length));for(;!f.next().done;)o(f.value.from,f.value.to)}}function wrapRegexpTest(l,r,a){return(s,o,f)=>(!a||a(s,o,f))&&l(f[0],r,s,o)}function regexpCursor(l,r,a,s){let o;return l.wholeWord&&(o=regexpWordTest(r.charCategorizer(r.selection.main.head))),l.test&&(o=wrapRegexpTest(l.test,r,o)),new RegExpCursor(r.doc,l.search,{ignoreCase:!l.caseSensitive,test:o},a,s)}function charBefore(l,r){return l.slice(findClusterBreak(l,r,!1),r)}function charAfter(l,r){return l.slice(r,findClusterBreak(l,r))}function regexpWordTest(l){return(r,a,s)=>!s[0].length||(l(charBefore(s.input,s.index))!=CharCategory.Word||l(charAfter(s.input,s.index))!=CharCategory.Word)&&(l(charAfter(s.input,s.index+s[0].length))!=CharCategory.Word||l(charBefore(s.input,s.index+s[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(r,a,s){let o=regexpCursor(this.spec,r,s,r.doc.length).next();return o.done&&(o=regexpCursor(this.spec,r,0,a).next()),o.done?null:o.value}prevMatchInRange(r,a,s){for(let o=1;;o++){let f=Math.max(a,s-o*1e4),h=regexpCursor(this.spec,r,f,s),d=null;for(;!h.next().done;)d=h.value;if(d&&(f==a||d.from>f+10))return d;if(f==a)return null}}prevMatch(r,a,s){return this.prevMatchInRange(r,0,a)||this.prevMatchInRange(r,s,r.doc.length)}getReplacement(r){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(a,s)=>{if(s=="&")return r.match[0];if(s=="$")return"$";for(let o=s.length;o>0;o--){let f=+s.slice(0,o);if(f>0&&f<r.match.length)return r.match[f]+s.slice(o)}return a})}matchAll(r,a){let s=regexpCursor(this.spec,r,0,r.doc.length),o=[];for(;!s.next().done;){if(o.length>=a)return null;o.push(s.value)}return o}highlight(r,a,s,o){let f=regexpCursor(this.spec,r,Math.max(0,a-250),Math.min(s+250,r.doc.length));for(;!f.next().done;)o(f.value.from,f.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(l){return new SearchState(defaultQuery(l).create(),null)},update(l,r){for(let a of r.effects)a.is(setSearchQuery)?l=new SearchState(a.value.create(),l.panel):a.is(togglePanel$1)&&(l=new SearchState(l.query,a.value?createSearchPanel:null));return l},provide:l=>showPanel.from(l,r=>r.panel)});class SearchState{constructor(r,a){this.query=r,this.panel=a}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.decorations=this.highlight(l.state.field(searchState))}update(l){let r=l.state.field(searchState);(r!=l.startState.field(searchState)||l.docChanged||l.selectionSet||l.viewportChanged)&&(this.decorations=this.highlight(r))}highlight({query:l,panel:r}){if(!r||!l.spec.valid)return Decoration.none;let{view:a}=this,s=new RangeSetBuilder;for(let o=0,f=a.visibleRanges,h=f.length;o<h;o++){let{from:d,to:g}=f[o];for(;o<h-1&&g>f[o+1].from-500;)g=f[++o].to;l.highlight(a.state,d,g,(m,y)=>{let v=a.state.selection.ranges.some(x=>x.from==m&&x.to==y);s.add(m,y,v?selectedMatchMark:matchMark)})}return s.finish()}},{decorations:l=>l.decorations});function searchCommand(l){return r=>{let a=r.state.field(searchState,!1);return a&&a.query.spec.valid?l(r,a):openSearchPanel(r)}}const findNext=searchCommand((l,{query:r})=>{let{to:a}=l.state.selection.main,s=r.nextMatch(l.state,a,a);if(!s)return!1;let o=EditorSelection.single(s.from,s.to),f=l.state.facet(searchConfigFacet);return l.dispatch({selection:o,effects:[announceMatch(l,s),f.scrollToMatch(o.main,l)],userEvent:"select.search"}),selectSearchInput(l),!0}),findPrevious=searchCommand((l,{query:r})=>{let{state:a}=l,{from:s}=a.selection.main,o=r.prevMatch(a,s,s);if(!o)return!1;let f=EditorSelection.single(o.from,o.to),h=l.state.facet(searchConfigFacet);return l.dispatch({selection:f,effects:[announceMatch(l,o),h.scrollToMatch(f.main,l)],userEvent:"select.search"}),selectSearchInput(l),!0}),selectMatches=searchCommand((l,{query:r})=>{let a=r.matchAll(l.state,1e3);return!a||!a.length?!1:(l.dispatch({selection:EditorSelection.create(a.map(s=>EditorSelection.range(s.from,s.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:l,dispatch:r})=>{let a=l.selection;if(a.ranges.length>1||a.main.empty)return!1;let{from:s,to:o}=a.main,f=[],h=0;for(let d=new SearchCursor(l.doc,l.sliceDoc(s,o));!d.next().done;){if(f.length>1e3)return!1;d.value.from==s&&(h=f.length),f.push(EditorSelection.range(d.value.from,d.value.to))}return r(l.update({selection:EditorSelection.create(f,h),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((l,{query:r})=>{let{state:a}=l,{from:s,to:o}=a.selection.main;if(a.readOnly)return!1;let f=r.nextMatch(a,s,s);if(!f)return!1;let h=f,d=[],g,m,y=[];h.from==s&&h.to==o&&(m=a.toText(r.getReplacement(h)),d.push({from:h.from,to:h.to,insert:m}),h=r.nextMatch(a,h.from,h.to),y.push(EditorView.announce.of(a.phrase("replaced match on line $",a.doc.lineAt(s).number)+".")));let v=l.state.changes(d);return h&&(g=EditorSelection.single(h.from,h.to).map(v),y.push(announceMatch(l,h)),y.push(a.facet(searchConfigFacet).scrollToMatch(g.main,l))),l.dispatch({changes:v,selection:g,effects:y,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((l,{query:r})=>{if(l.state.readOnly)return!1;let a=r.matchAll(l.state,1e9).map(o=>{let{from:f,to:h}=o;return{from:f,to:h,insert:r.getReplacement(o)}});if(!a.length)return!1;let s=l.state.phrase("replaced $ matches",a.length)+".";return l.dispatch({changes:a,effects:EditorView.announce.of(s),userEvent:"input.replace.all"}),!0});function createSearchPanel(l){return l.state.facet(searchConfigFacet).createPanel(l)}function defaultQuery(l,r){var a,s,o,f,h;let d=l.selection.main,g=d.empty||d.to>d.from+100?"":l.sliceDoc(d.from,d.to);if(r&&!g)return r;let m=l.facet(searchConfigFacet);return new SearchQuery({search:((a=r?.literal)!==null&&a!==void 0?a:m.literal)?g:g.replace(/\n/g,"\\n"),caseSensitive:(s=r?.caseSensitive)!==null&&s!==void 0?s:m.caseSensitive,literal:(o=r?.literal)!==null&&o!==void 0?o:m.literal,regexp:(f=r?.regexp)!==null&&f!==void 0?f:m.regexp,wholeWord:(h=r?.wholeWord)!==null&&h!==void 0?h:m.wholeWord})}function getSearchInput(l){let r=getPanel(l,createSearchPanel);return r&&r.dom.querySelector("[main-field]")}function selectSearchInput(l){let r=getSearchInput(l);r&&r==l.root.activeElement&&r.select()}const openSearchPanel=l=>{let r=l.state.field(searchState,!1);if(r&&r.panel){let a=getSearchInput(l);if(a&&a!=l.root.activeElement){let s=defaultQuery(l.state,r.query.spec);s.valid&&l.dispatch({effects:setSearchQuery.of(s)}),a.focus(),a.select()}}else l.dispatch({effects:[togglePanel$1.of(!0),r?setSearchQuery.of(defaultQuery(l.state,r.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=l=>{let r=l.state.field(searchState,!1);if(!r||!r.panel)return!1;let a=getPanel(l,createSearchPanel);return a&&a.dom.contains(l.root.activeElement)&&l.focus(),l.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(r){this.view=r;let a=this.query=r.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:a.search,placeholder:phrase(r,"Find"),"aria-label":phrase(r,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:a.replace,placeholder:phrase(r,"Replace"),"aria-label":phrase(r,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:a.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:a.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:a.wholeWord,onchange:this.commit});function s(o,f,h){return crelt("button",{class:"cm-button",name:o,onclick:f,type:"button"},h)}this.dom=crelt("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,s("next",()=>findNext(r),[phrase(r,"next")]),s("prev",()=>findPrevious(r),[phrase(r,"previous")]),s("select",()=>selectMatches(r),[phrase(r,"all")]),crelt("label",null,[this.caseField,phrase(r,"match case")]),crelt("label",null,[this.reField,phrase(r,"regexp")]),crelt("label",null,[this.wordField,phrase(r,"by word")]),...r.state.readOnly?[]:[crelt("br"),this.replaceField,s("replace",()=>replaceNext(r),[phrase(r,"replace")]),s("replaceAll",()=>replaceAll(r),[phrase(r,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(r),"aria-label":phrase(r,"close"),type:"button"},[""])])}commit(){let r=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});r.eq(this.query)||(this.query=r,this.view.dispatch({effects:setSearchQuery.of(r)}))}keydown(r){runScopeHandlers(this.view,r,"search-panel")?r.preventDefault():r.keyCode==13&&r.target==this.searchField?(r.preventDefault(),(r.shiftKey?findPrevious:findNext)(this.view)):r.keyCode==13&&r.target==this.replaceField&&(r.preventDefault(),replaceNext(this.view))}update(r){for(let a of r.transactions)for(let s of a.effects)s.is(setSearchQuery)&&!s.value.eq(this.query)&&this.setQuery(s.value)}setQuery(r){this.query=r,this.searchField.value=r.search,this.replaceField.value=r.replace,this.caseField.checked=r.caseSensitive,this.reField.checked=r.regexp,this.wordField.checked=r.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(l,r){return l.state.phrase(r)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(l,{from:r,to:a}){let s=l.state.doc.lineAt(r),o=l.state.doc.lineAt(a).to,f=Math.max(s.from,r-AnnounceMargin),h=Math.min(o,a+AnnounceMargin),d=l.state.sliceDoc(f,h);if(f!=s.from){for(let g=0;g<AnnounceMargin;g++)if(!Break.test(d[g+1])&&Break.test(d[g])){d=d.slice(g);break}}if(h!=o){for(let g=d.length-1;g>d.length-AnnounceMargin;g--)if(!Break.test(d[g-1])&&Break.test(d[g])){d=d.slice(0,g);break}}return EditorView.announce.of(`${l.state.phrase("current match")}. ${d} ${l.state.phrase("on line")} ${s.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(r,a,s,o){this.state=r,this.pos=a,this.explicit=s,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(r){let a=syntaxTree(this.state).resolveInner(this.pos,-1);for(;a&&r.indexOf(a.name)<0;)a=a.parent;return a?{from:a.from,to:this.pos,text:this.state.sliceDoc(a.from,this.pos),type:a.type}:null}matchBefore(r){let a=this.state.doc.lineAt(this.pos),s=Math.max(a.from,this.pos-250),o=a.text.slice(s-a.from,this.pos-a.from),f=o.search(ensureAnchor(r,!1));return f<0?null:{from:s+f,to:this.pos,text:o.slice(f)}}get aborted(){return this.abortListeners==null}addEventListener(r,a,s){r=="abort"&&this.abortListeners&&(this.abortListeners.push(a),s&&s.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(l){let r=Object.keys(l).join(""),a=/\w/.test(r);return a&&(r=r.replace(/\w/g,"")),`[${a?"\\w":""}${r.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(l){let r=Object.create(null),a=Object.create(null);for(let{label:o}of l){r[o[0]]=!0;for(let f=1;f<o.length;f++)a[o[f]]=!0}let s=toSet(r)+toSet(a)+"*$";return[new RegExp("^"+s),new RegExp(s)]}function completeFromList(l){let r=l.map(o=>typeof o=="string"?{label:o}:o),[a,s]=r.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:prefixMatch(r);return o=>{let f=o.matchBefore(s);return f||o.explicit?{from:f?f.from:o.pos,options:r,validFor:a}:null}}function ifNotIn(l,r){return a=>{for(let s=syntaxTree(a.state).resolveInner(a.pos,-1);s;s=s.parent){if(l.indexOf(s.name)>-1)return null;if(s.type.isTop)break}return r(a)}}class Option{constructor(r,a,s,o){this.completion=r,this.source=a,this.match=s,this.score=o}}function cur(l){return l.selection.main.from}function ensureAnchor(l,r){var a;let{source:s}=l,o=r&&s[0]!="^",f=s[s.length-1]!="$";return!o&&!f?l:new RegExp(`${o?"^":""}(?:${s})${f?"$":""}`,(a=l.flags)!==null&&a!==void 0?a:l.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(l,r,a,s){let{main:o}=l.selection,f=a-o.from,h=s-o.from;return{...l.changeByRange(d=>{if(d!=o&&a!=s&&l.sliceDoc(d.from+f,d.from+h)!=l.sliceDoc(a,s))return{range:d};let g=l.toText(r);return{changes:{from:d.from+f,to:s==o.from?d.to:d.from+h,insert:g},range:EditorSelection.cursor(d.from+f+g.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SourceCache=new WeakMap;function asSource(l){if(!Array.isArray(l))return l;let r=SourceCache.get(l);return r||SourceCache.set(l,r=completeFromList(l)),r}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(r){this.pattern=r,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let a=0;a<r.length;){let s=codePointAt(r,a),o=codePointSize(s);this.chars.push(s);let f=r.slice(a,a+o),h=f.toUpperCase();this.folded.push(codePointAt(h==f?f.toLowerCase():h,0)),a+=o}this.astral=r.length!=this.chars.length}ret(r,a){return this.score=r,this.matched=a,this}match(r){if(this.pattern.length==0)return this.ret(-100,[]);if(r.length<this.pattern.length)return null;let{chars:a,folded:s,any:o,precise:f,byWord:h}=this;if(a.length==1){let B=codePointAt(r,0),X=codePointSize(B),V=X==r.length?0:-100;if(B!=a[0])if(B==s[0])V+=-200;else return null;return this.ret(V,[0,X])}let d=r.indexOf(this.pattern);if(d==0)return this.ret(r.length==this.pattern.length?0:-100,[0,this.pattern.length]);let g=a.length,m=0;if(d<0){for(let B=0,X=Math.min(r.length,200);B<X&&m<g;){let V=codePointAt(r,B);(V==a[m]||V==s[m])&&(o[m++]=B),B+=codePointSize(V)}if(m<g)return null}let y=0,v=0,x=!1,k=0,Q=-1,A=-1,M=/[a-z]/.test(r),L=!0;for(let B=0,X=Math.min(r.length,200),V=0;B<X&&v<g;){let z=codePointAt(r,B);d<0&&(y<g&&z==a[y]&&(f[y++]=B),k<g&&(z==a[k]||z==s[k]?(k==0&&(Q=B),A=B+1,k++):k=0));let I,P=z<255?z>=48&&z<=57||z>=97&&z<=122?2:z>=65&&z<=90?1:0:(I=fromCodePoint(z))!=I.toLowerCase()?1:I!=I.toUpperCase()?2:0;(!B||P==1&&M||V==0&&P!=0)&&(a[v]==z||s[v]==z&&(x=!0)?h[v++]=B:h.length&&(L=!1)),V=P,B+=codePointSize(z)}return v==g&&h[0]==0&&L?this.result(-100+(x?-200:0),h,r):k==g&&Q==0?this.ret(-200-r.length+(A==r.length?0:-100),[0,A]):d>-1?this.ret(-700-r.length,[d,d+this.pattern.length]):k==g?this.ret(-900-r.length,[Q,A]):v==g?this.result(-100+(x?-200:0)+-700+(L?0:-1100),h,r):a.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,r)}result(r,a,s){let o=[],f=0;for(let h of a){let d=h+(this.astral?codePointSize(codePointAt(s,h)):1);f&&o[f-1]==h?o[f-1]=d:(o[f++]=h,o[f++]=d)}return this.ret(r-s.length,o)}}class StrictMatcher{constructor(r){this.pattern=r,this.matched=[],this.score=0,this.folded=r.toLowerCase()}match(r){if(r.length<this.pattern.length)return null;let a=r.slice(0,this.pattern.length),s=a==this.pattern?0:a.toLowerCase()==this.folded?-200:null;return s==null?null:(this.matched=[0,a.length],this.score=s+(r.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(l){return combineConfig(l,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(r,a)=>(r.sortText||r.label).localeCompare(a.sortText||a.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(r,a)=>r&&a,closeOnBlur:(r,a)=>r&&a,icons:(r,a)=>r&&a,tooltipClass:(r,a)=>s=>joinClass(r(s),a(s)),optionClass:(r,a)=>s=>joinClass(r(s),a(s)),addToOptions:(r,a)=>r.concat(a),filterStrict:(r,a)=>r||a})}});function joinClass(l,r){return l?r?l+" "+r:l:r}function defaultPositionInfo(l,r,a,s,o,f){let h=l.textDirection==Direction.RTL,d=h,g=!1,m="top",y,v,x=r.left-o.left,k=o.right-r.right,Q=s.right-s.left,A=s.bottom-s.top;if(d&&x<Math.min(Q,k)?d=!1:!d&&k<Math.min(Q,x)&&(d=!0),Q<=(d?x:k))y=Math.max(o.top,Math.min(a.top,o.bottom-A))-r.top,v=Math.min(400,d?x:k);else{g=!0,v=Math.min(400,(h?r.right:o.right-r.left)-30);let B=o.bottom-r.bottom;B>=A||B>r.top?y=a.bottom-r.top:(m="bottom",y=r.bottom-a.top)}let M=(r.bottom-r.top)/f.offsetHeight,L=(r.right-r.left)/f.offsetWidth;return{style:`${m}: ${y/M}px; max-width: ${v/L}px`,class:"cm-completionInfo-"+(g?h?"left-narrow":"right-narrow":d?"left":"right")}}function optionContent(l){let r=l.addToOptions.slice();return l.icons&&r.push({render(a){let s=document.createElement("div");return s.classList.add("cm-completionIcon"),a.type&&s.classList.add(...a.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),s.setAttribute("aria-hidden","true"),s},position:20}),r.push({render(a,s,o,f){let h=document.createElement("span");h.className="cm-completionLabel";let d=a.displayLabel||a.label,g=0;for(let m=0;m<f.length;){let y=f[m++],v=f[m++];y>g&&h.appendChild(document.createTextNode(d.slice(g,y)));let x=h.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(d.slice(y,v))),x.className="cm-completionMatchedText",g=v}return g<d.length&&h.appendChild(document.createTextNode(d.slice(g))),h},position:50},{render(a){if(!a.detail)return null;let s=document.createElement("span");return s.className="cm-completionDetail",s.textContent=a.detail,s},position:80}),r.sort((a,s)=>a.position-s.position).map(a=>a.render)}function rangeAroundSelected(l,r,a){if(l<=a)return{from:0,to:l};if(r<0&&(r=0),r<=l>>1){let o=Math.floor(r/a);return{from:o*a,to:(o+1)*a}}let s=Math.floor((l-r)/a);return{from:l-(s+1)*a,to:l-s*a}}class CompletionTooltip{constructor(r,a,s){this.view=r,this.stateField=a,this.applyCompletion=s,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:g=>this.placeInfo(g),key:this},this.space=null,this.currentClass="";let o=r.state.field(a),{options:f,selected:h}=o.open,d=r.state.facet(completionConfig);this.optionContent=optionContent(d),this.optionClass=d.optionClass,this.tooltipClass=d.tooltipClass,this.range=rangeAroundSelected(f.length,h,d.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(r.state),this.dom.addEventListener("mousedown",g=>{let{options:m}=r.state.field(a).open;for(let y=g.target,v;y&&y!=this.dom;y=y.parentNode)if(y.nodeName=="LI"&&(v=/-(\d+)$/.exec(y.id))&&+v[1]<m.length){this.applyCompletion(r,m[+v[1]]),g.preventDefault();return}}),this.dom.addEventListener("focusout",g=>{let m=r.state.field(this.stateField,!1);m&&m.tooltip&&r.state.facet(completionConfig).closeOnBlur&&g.relatedTarget!=r.contentDOM&&r.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(f,o.id)}mount(){this.updateSel()}showOptions(r,a){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r,a,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(r){var a;let s=r.state.field(this.stateField),o=r.startState.field(this.stateField);if(this.updateTooltipClass(r.state),s!=o){let{options:f,selected:h,disabled:d}=s.open;(!o.open||o.open.options!=f)&&(this.range=rangeAroundSelected(f.length,h,r.state.facet(completionConfig).maxRenderedOptions),this.showOptions(f,s.id)),this.updateSel(),d!=((a=o.open)===null||a===void 0?void 0:a.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!d)}}updateTooltipClass(r){let a=this.tooltipClass(r);if(a!=this.currentClass){for(let s of this.currentClass.split(" "))s&&this.dom.classList.remove(s);for(let s of a.split(" "))s&&this.dom.classList.add(s);this.currentClass=a}}positioned(r){this.space=r,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let r=this.view.state.field(this.stateField),a=r.open;(a.selected>-1&&a.selected<this.range.from||a.selected>=this.range.to)&&(this.range=rangeAroundSelected(a.options.length,a.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(a.options,r.id));let s=this.updateSelectedOption(a.selected);if(s){this.destroyInfo();let{completion:o}=a.options[a.selected],{info:f}=o;if(!f)return;let h=typeof f=="string"?document.createTextNode(f):f(o);if(!h)return;"then"in h?h.then(d=>{d&&this.view.state.field(this.stateField,!1)==r&&this.addInfoPane(d,o)}).catch(d=>logException(this.view.state,d,"completion info")):(this.addInfoPane(h,o),s.setAttribute("aria-describedby",this.info.id))}}addInfoPane(r,a){this.destroyInfo();let s=this.info=document.createElement("div");if(s.className="cm-tooltip cm-completionInfo",s.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),r.nodeType!=null)s.appendChild(r),this.infoDestroy=null;else{let{dom:o,destroy:f}=r;s.appendChild(o),this.infoDestroy=f||null}this.dom.appendChild(s),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(r){let a=null;for(let s=this.list.firstChild,o=this.range.from;s;s=s.nextSibling,o++)s.nodeName!="LI"||!s.id?o--:o==r?s.hasAttribute("aria-selected")||(s.setAttribute("aria-selected","true"),a=s):s.hasAttribute("aria-selected")&&(s.removeAttribute("aria-selected"),s.removeAttribute("aria-describedby"));return a&&scrollIntoView(this.list,a),a}measureInfo(){let r=this.dom.querySelector("[aria-selected]");if(!r||!this.info)return null;let a=this.dom.getBoundingClientRect(),s=this.info.getBoundingClientRect(),o=r.getBoundingClientRect(),f=this.space;if(!f){let h=this.dom.ownerDocument.documentElement;f={left:0,top:0,right:h.clientWidth,bottom:h.clientHeight}}return o.top>Math.min(f.bottom,a.bottom)-10||o.bottom<Math.max(f.top,a.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,a,o,s,f,this.dom)}placeInfo(r){this.info&&(r?(r.style&&(this.info.style.cssText=r.style),this.info.className="cm-tooltip cm-completionInfo "+(r.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(r,a,s){const o=document.createElement("ul");o.id=a,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions")),o.addEventListener("mousedown",h=>{h.target==o&&h.preventDefault()});let f=null;for(let h=s.from;h<s.to;h++){let{completion:d,match:g}=r[h],{section:m}=d;if(m){let x=typeof m=="string"?m:m.name;if(x!=f&&(h>s.from||s.from==0))if(f=x,typeof m!="string"&&m.header)o.appendChild(m.header(m));else{let k=o.appendChild(document.createElement("completion-section"));k.textContent=x}}const y=o.appendChild(document.createElement("li"));y.id=a+"-"+h,y.setAttribute("role","option");let v=this.optionClass(d);v&&(y.className=v);for(let x of this.optionContent){let k=x(d,this.view.state,this.view,g);k&&y.appendChild(k)}}return s.from&&o.classList.add("cm-completionListIncompleteTop"),s.to<r.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(l,r){return a=>new CompletionTooltip(a,l,r)}function scrollIntoView(l,r){let a=l.getBoundingClientRect(),s=r.getBoundingClientRect(),o=a.height/l.offsetHeight;s.top<a.top?l.scrollTop-=(a.top-s.top)/o:s.bottom>a.bottom&&(l.scrollTop+=(s.bottom-a.bottom)/o)}function score(l){return(l.boost||0)*100+(l.apply?10:0)+(l.info?5:0)+(l.type?1:0)}function sortOptions(l,r){let a=[],s=null,o=null,f=y=>{a.push(y);let{section:v}=y.completion;if(v){s||(s=[]);let x=typeof v=="string"?v:v.name;s.some(k=>k.name==x)||s.push(typeof v=="string"?{name:x}:v)}},h=r.facet(completionConfig);for(let y of l)if(y.hasResult()){let v=y.result.getMatch;if(y.result.filter===!1)for(let x of y.result.options)f(new Option(x,y.source,v?v(x):[],1e9-a.length));else{let x=r.sliceDoc(y.from,y.to),k,Q=h.filterStrict?new StrictMatcher(x):new FuzzyMatcher(x);for(let A of y.result.options)if(k=Q.match(A.label)){let M=A.displayLabel?v?v(A,k.matched):[]:k.matched,L=k.score+(A.boost||0);if(f(new Option(A,y.source,M,L)),typeof A.section=="object"&&A.section.rank==="dynamic"){let{name:B}=A.section;o||(o=Object.create(null)),o[B]=Math.max(L,o[B]||-1e9)}}}}if(s){let y=Object.create(null),v=0,x=(k,Q)=>(k.rank==="dynamic"&&Q.rank==="dynamic"?o[Q.name]-o[k.name]:0)||(typeof k.rank=="number"?k.rank:1e9)-(typeof Q.rank=="number"?Q.rank:1e9)||(k.name<Q.name?-1:1);for(let k of s.sort(x))v-=1e5,y[k.name]=v;for(let k of a){let{section:Q}=k.completion;Q&&(k.score+=y[typeof Q=="string"?Q:Q.name])}}let d=[],g=null,m=h.compareCompletions;for(let y of a.sort((v,x)=>x.score-v.score||m(v.completion,x.completion))){let v=y.completion;!g||g.label!=v.label||g.detail!=v.detail||g.type!=null&&v.type!=null&&g.type!=v.type||g.apply!=v.apply||g.boost!=v.boost?d.push(y):score(y.completion)>score(g)&&(d[d.length-1]=y),g=y.completion}return d}class CompletionDialog{constructor(r,a,s,o,f,h){this.options=r,this.attrs=a,this.tooltip=s,this.timestamp=o,this.selected=f,this.disabled=h}setSelected(r,a){return r==this.selected||r>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(a,r),this.tooltip,this.timestamp,r,this.disabled)}static build(r,a,s,o,f,h){if(o&&!h&&r.some(m=>m.isPending))return o.setDisabled();let d=sortOptions(r,a);if(!d.length)return o&&r.some(m=>m.isPending)?o.setDisabled():null;let g=a.facet(completionConfig).selectOnOpen?0:-1;if(o&&o.selected!=g&&o.selected!=-1){let m=o.options[o.selected].completion;for(let y=0;y<d.length;y++)if(d[y].completion==m){g=y;break}}return new CompletionDialog(d,makeAttrs(s,g),{pos:r.reduce((m,y)=>y.hasResult()?Math.min(m,y.from):m,1e8),create:createTooltip,above:f.aboveCursor},o?o.timestamp:Date.now(),g,!1)}map(r){return new CompletionDialog(this.options,this.attrs,{...this.tooltip,pos:r.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(r,a,s){this.active=r,this.id=a,this.open=s}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(r){let{state:a}=r,s=a.facet(completionConfig),f=(s.override||a.languageDataAt("autocomplete",cur(a)).map(asSource)).map(g=>(this.active.find(y=>y.source==g)||new ActiveSource(g,this.active.some(y=>y.state!=0)?1:0)).update(r,s));f.length==this.active.length&&f.every((g,m)=>g==this.active[m])&&(f=this.active);let h=this.open,d=r.effects.some(g=>g.is(setActiveEffect));h&&r.docChanged&&(h=h.map(r.changes)),r.selection||f.some(g=>g.hasResult()&&r.changes.touchesRange(g.from,g.to))||!sameResults(f,this.active)||d?h=CompletionDialog.build(f,a,this.id,h,s,d):h&&h.disabled&&!f.some(g=>g.isPending)&&(h=null),!h&&f.every(g=>!g.isPending)&&f.some(g=>g.hasResult())&&(f=f.map(g=>g.hasResult()?new ActiveSource(g.source,0):g));for(let g of r.effects)g.is(setSelectedEffect)&&(h=h&&h.setSelected(g.value,this.id));return f==this.active&&h==this.open?this:new CompletionState(f,this.id,h)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(l,r){if(l==r)return!0;for(let a=0,s=0;;){for(;a<l.length&&!l[a].hasResult();)a++;for(;s<r.length&&!r[s].hasResult();)s++;let o=a==l.length,f=s==r.length;if(o||f)return o==f;if(l[a++].result!=r[s++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(l,r){let a={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":l};return r>-1&&(a["aria-activedescendant"]=l+"-"+r),a}const none=[];function getUpdateType(l,r){if(l.isUserEvent("input.complete")){let s=l.annotation(pickedCompletion);if(s&&r.activateOnCompletion(s))return 12}let a=l.isUserEvent("input.type");return a&&r.activateOnTyping?5:a?1:l.isUserEvent("delete.backward")?2:l.selection?8:l.docChanged?16:0}class ActiveSource{constructor(r,a,s=!1){this.source=r,this.state=a,this.explicit=s}hasResult(){return!1}get isPending(){return this.state==1}update(r,a){let s=getUpdateType(r,a),o=this;(s&8||s&16&&this.touches(r))&&(o=new ActiveSource(o.source,0)),s&4&&o.state==0&&(o=new ActiveSource(this.source,1)),o=o.updateFor(r,s);for(let f of r.effects)if(f.is(startCompletionEffect))o=new ActiveSource(o.source,1,f.value);else if(f.is(closeCompletionEffect))o=new ActiveSource(o.source,0);else if(f.is(setActiveEffect))for(let h of f.value)h.source==o.source&&(o=h);return o}updateFor(r,a){return this.map(r.changes)}map(r){return this}touches(r){return r.changes.touchesRange(cur(r.state))}}class ActiveResult extends ActiveSource{constructor(r,a,s,o,f,h){super(r,3,a),this.limit=s,this.result=o,this.from=f,this.to=h}hasResult(){return!0}updateFor(r,a){var s;if(!(a&3))return this.map(r.changes);let o=this.result;o.map&&!r.changes.empty&&(o=o.map(o,r.changes));let f=r.changes.mapPos(this.from),h=r.changes.mapPos(this.to,1),d=cur(r.state);if(d>h||!o||a&2&&(cur(r.startState)==this.from||d<this.limit))return new ActiveSource(this.source,a&4?1:0);let g=r.changes.mapPos(this.limit);return checkValid(o.validFor,r.state,f,h)?new ActiveResult(this.source,this.explicit,g,o,f,h):o.update&&(o=o.update(o,f,h,new CompletionContext(r.state,d,!1)))?new ActiveResult(this.source,this.explicit,g,o,o.from,(s=o.to)!==null&&s!==void 0?s:cur(r.state)):new ActiveSource(this.source,1,this.explicit)}map(r){return r.empty?this:(this.result.map?this.result.map(this.result,r):this.result)?new ActiveResult(this.source,this.explicit,r.mapPos(this.limit),this.result,r.mapPos(this.from),r.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(r){return r.changes.touchesRange(this.from,this.to)}}function checkValid(l,r,a,s){if(!l)return!1;let o=r.sliceDoc(a,s);return typeof l=="function"?l(o,a,s,r):ensureAnchor(l,!0).test(o)}const setActiveEffect=StateEffect.define({map(l,r){return l.map(a=>a.map(r))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(l,r){return l.update(r)},provide:l=>[showTooltip.from(l,r=>r.tooltip),EditorView.contentAttributes.from(l,r=>r.attrs)]});function applyCompletion(l,r){const a=r.completion.apply||r.completion.label;let s=l.state.field(completionState).active.find(o=>o.source==r.source);return s instanceof ActiveResult?(typeof a=="string"?l.dispatch({...insertCompletionText(l.state,a,s.from,s.to),annotations:pickedCompletion.of(r.completion)}):a(l,r.completion,s.from,s.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(l,r="option"){return a=>{let s=a.state.field(completionState,!1);if(!s||!s.open||s.open.disabled||Date.now()-s.open.timestamp<a.state.facet(completionConfig).interactionDelay)return!1;let o=1,f;r=="page"&&(f=getTooltip(a,s.open.tooltip))&&(o=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:h}=s.open.options,d=s.open.selected>-1?s.open.selected+o*(l?1:-1):l?0:h-1;return d<0?d=r=="page"?0:h-1:d>=h&&(d=r=="page"?h-1:0),a.dispatch({effects:setSelectedEffect.of(d)}),!0}}const acceptCompletion=l=>{let r=l.state.field(completionState,!1);return l.state.readOnly||!r||!r.open||r.open.selected<0||r.open.disabled||Date.now()-r.open.timestamp<l.state.facet(completionConfig).interactionDelay?!1:applyCompletion(l,r.open.options[r.open.selected])},startCompletion=l=>l.state.field(completionState,!1)?(l.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=l=>{let r=l.state.field(completionState,!1);return!r||!r.active.some(a=>a.state!=0)?!1:(l.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(r,a){this.active=r,this.context=a,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(l){this.view=l,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let r of l.state.field(completionState).active)r.isPending&&this.startQuery(r)}update(l){let r=l.state.field(completionState),a=l.state.facet(completionConfig);if(!l.selectionSet&&!l.docChanged&&l.startState.field(completionState)==r)return;let s=l.transactions.some(f=>{let h=getUpdateType(f,a);return h&8||(f.selection||f.docChanged)&&!(h&3)});for(let f=0;f<this.running.length;f++){let h=this.running[f];if(s||h.context.abortOnDocChange&&l.docChanged||h.updates.length+l.transactions.length>MaxUpdateCount&&Date.now()-h.time>MinAbortTime){for(let d of h.context.abortListeners)try{d()}catch(g){logException(this.view.state,g)}h.context.abortListeners=null,this.running.splice(f--,1)}else h.updates.push(...l.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),l.transactions.some(f=>f.effects.some(h=>h.is(startCompletionEffect)))&&(this.pendingStart=!0);let o=this.pendingStart?50:a.activateOnTypingDelay;if(this.debounceUpdate=r.active.some(f=>f.isPending&&!this.running.some(h=>h.active.source==f.source))?setTimeout(()=>this.startUpdate(),o):-1,this.composing!=0)for(let f of l.transactions)f.isUserEvent("input.type")?this.composing=2:this.composing==2&&f.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:l}=this.view,r=l.field(completionState);for(let a of r.active)a.isPending&&!this.running.some(s=>s.active.source==a.source)&&this.startQuery(a);this.running.length&&r.open&&r.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(l){let{state:r}=this.view,a=cur(r),s=new CompletionContext(r,a,l.explicit,this.view),o=new RunningQuery(l,s);this.running.push(o),Promise.resolve(l.source(s)).then(f=>{o.context.aborted||(o.done=f||null,this.scheduleAccept())},f=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,f)})}scheduleAccept(){this.running.every(l=>l.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var l;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let r=[],a=this.view.state.facet(completionConfig),s=this.view.state.field(completionState);for(let o=0;o<this.running.length;o++){let f=this.running[o];if(f.done===void 0)continue;if(this.running.splice(o--,1),f.done){let d=cur(f.updates.length?f.updates[0].startState:this.view.state),g=Math.min(d,f.done.from+(f.active.explicit?0:1)),m=new ActiveResult(f.active.source,f.active.explicit,g,f.done,f.done.from,(l=f.done.to)!==null&&l!==void 0?l:d);for(let y of f.updates)m=m.update(y,a);if(m.hasResult()){r.push(m);continue}}let h=s.active.find(d=>d.source==f.active.source);if(h&&h.isPending)if(f.done==null){let d=new ActiveSource(f.active.source,0);for(let g of f.updates)d=d.update(g,a);d.isPending||r.push(d)}else this.startQuery(h)}(r.length||s.open&&s.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(r)})}},{eventHandlers:{blur(l){let r=this.view.state.field(completionState,!1);if(r&&r.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let a=r.open&&getTooltip(this.view,r.open.tooltip);(!a||!a.dom.contains(l.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(l,r){let a=r.state.field(completionState,!1);if(!a||!a.open||a.open.disabled||a.open.selected<0||l.key.length>1||l.ctrlKey&&!(windows&&l.altKey)||l.metaKey)return!1;let s=a.open.options[a.open.selected],o=a.active.find(h=>h.source==s.source),f=s.completion.commitCharacters||o.result.commitCharacters;return f&&f.indexOf(l.key)>-1&&applyCompletion(r,s),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(r,a,s,o){this.field=r,this.line=a,this.from=s,this.to=o}}class FieldRange{constructor(r,a,s){this.field=r,this.from=a,this.to=s}map(r){let a=r.mapPos(this.from,-1,MapMode.TrackDel),s=r.mapPos(this.to,1,MapMode.TrackDel);return a==null||s==null?null:new FieldRange(this.field,a,s)}}class Snippet{constructor(r,a){this.lines=r,this.fieldPositions=a}instantiate(r,a){let s=[],o=[a],f=r.doc.lineAt(a),h=/^\s*/.exec(f.text)[0];for(let g of this.lines){if(s.length){let m=h,y=/^\t*/.exec(g)[0].length;for(let v=0;v<y;v++)m+=r.facet(indentUnit);o.push(a+m.length-y),g=m+g.slice(y)}s.push(g),a+=g.length+1}let d=this.fieldPositions.map(g=>new FieldRange(g.field,o[g.line]+g.from,o[g.line]+g.to));return{text:s,ranges:d}}static parse(r){let a=[],s=[],o=[],f;for(let h of r.split(/\r\n?|\n/)){for(;f=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(h);){let d=f[1]?+f[1]:null,g=f[2]||f[3]||"",m=-1,y=g.replace(/\\[{}]/g,v=>v[1]);for(let v=0;v<a.length;v++)(d!=null?a[v].seq==d:y&&a[v].name==y)&&(m=v);if(m<0){let v=0;for(;v<a.length&&(d==null||a[v].seq!=null&&a[v].seq<d);)v++;a.splice(v,0,{seq:d,name:y}),m=v;for(let x of o)x.field>=m&&x.field++}for(let v of o)if(v.line==s.length&&v.from>f.index){let x=f[2]?3+(f[1]||"").length:2;v.from-=x,v.to-=x}o.push(new FieldPos(m,s.length,f.index,f.index+y.length)),h=h.slice(0,f.index)+g+h.slice(f.index+f[0].length)}h=h.replace(/\\([{}])/g,(d,g,m)=>{for(let y of o)y.line==s.length&&y.from>m&&(y.from--,y.to--);return g}),s.push(h)}return new Snippet(s,o)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let l=document.createElement("span");return l.className="cm-snippetFieldPosition",l}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(r,a){this.ranges=r,this.active=a,this.deco=Decoration.set(r.map(s=>(s.from==s.to?fieldMarker:fieldRange).range(s.from,s.to)),!0)}map(r){let a=[];for(let s of this.ranges){let o=s.map(r);if(!o)return null;a.push(o)}return new ActiveSnippet(a,this.active)}selectionInsideField(r){return r.ranges.every(a=>this.ranges.some(s=>s.field==this.active&&s.from<=a.from&&s.to>=a.to))}}const setActive=StateEffect.define({map(l,r){return l&&l.map(r)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(l,r){for(let a of r.effects){if(a.is(setActive))return a.value;if(a.is(moveToField)&&l)return new ActiveSnippet(l.ranges,a.value)}return l&&r.docChanged&&(l=l.map(r.changes)),l&&r.selection&&!l.selectionInsideField(r.selection)&&(l=null),l},provide:l=>EditorView.decorations.from(l,r=>r?r.deco:Decoration.none)});function fieldSelection(l,r){return EditorSelection.create(l.filter(a=>a.field==r).map(a=>EditorSelection.range(a.from,a.to)))}function snippet(l){let r=Snippet.parse(l);return(a,s,o,f)=>{let{text:h,ranges:d}=r.instantiate(a.state,o),{main:g}=a.state.selection,m={changes:{from:o,to:f==g.from?g.to:f,insert:Text.of(h)},scrollIntoView:!0,annotations:s?[pickedCompletion.of(s),Transaction.userEvent.of("input.complete")]:void 0};if(d.length&&(m.selection=fieldSelection(d,0)),d.some(y=>y.field>0)){let y=new ActiveSnippet(d,0),v=m.effects=[setActive.of(y)];a.state.field(snippetState,!1)===void 0&&v.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}a.dispatch(a.state.update(m))}}function moveField(l){return({state:r,dispatch:a})=>{let s=r.field(snippetState,!1);if(!s||l<0&&s.active==0)return!1;let o=s.active+l,f=l>0&&!s.ranges.some(h=>h.field==o+l);return a(r.update({selection:fieldSelection(s.ranges,o),effects:setActive.of(f?null:new ActiveSnippet(s.ranges,o)),scrollIntoView:!0})),!0}}const clearSnippet=({state:l,dispatch:r})=>l.field(snippetState,!1)?(r(l.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(l){return l.length?l[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],l=>l.facet(snippetKeymap)));function snippetCompletion(l,r){return{...r,apply:snippet(l)}}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(l,r){let a=r.state.field(snippetState,!1),s;if(!a||(s=r.posAtCoords({x:l.clientX,y:l.clientY}))==null)return!1;let o=a.ranges.find(f=>f.from<=s&&f.to>=s);return!o||o.field==a.active?!1:(r.dispatch({selection:fieldSelection(a.ranges,o.field),effects:setActive.of(a.ranges.some(f=>f.field>o.field)?new ActiveSnippet(a.ranges,o.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(l,r){let a=r.mapPos(l,-1,MapMode.TrackAfter);return a??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(l,r){if(l=l.map(r.changes),r.selection){let a=r.state.doc.lineAt(r.selection.main.head);l=l.update({filter:s=>s>=a.from&&s<=a.to})}for(let a of r.effects)a.is(closeBracketEffect)&&(l=l.update({add:[closedBracket.range(a.value,a.value+1)]}));return l}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(l){for(let r=0;r<definedClosing.length;r+=2)if(definedClosing.charCodeAt(r)==l)return definedClosing.charAt(r+1);return fromCodePoint(l<128?l:l+1)}function config(l,r){return l.languageDataAt("closeBrackets",r)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((l,r,a,s)=>{if((android$1?l.composing:l.compositionStarted)||l.state.readOnly)return!1;let o=l.state.selection.main;if(s.length>2||s.length==2&&codePointSize(codePointAt(s,0))==1||r!=o.from||a!=o.to)return!1;let f=insertBracket(l.state,s);return f?(l.dispatch(f),!0):!1}),deleteBracketPair=({state:l,dispatch:r})=>{if(l.readOnly)return!1;let s=config(l,l.selection.main.head).brackets||defaults.brackets,o=null,f=l.changeByRange(h=>{if(h.empty){let d=prevChar(l.doc,h.head);for(let g of s)if(g==d&&nextChar(l.doc,h.head)==closing(codePointAt(g,0)))return{changes:{from:h.head-g.length,to:h.head+g.length},range:EditorSelection.cursor(h.head-g.length)}}return{range:o=h}});return o||r(l.update(f,{scrollIntoView:!0,userEvent:"delete.backward"})),!o},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(l,r){let a=config(l,l.selection.main.head),s=a.brackets||defaults.brackets;for(let o of s){let f=closing(codePointAt(o,0));if(r==o)return f==o?handleSame(l,o,s.indexOf(o+o+o)>-1,a):handleOpen(l,o,f,a.before||defaults.before);if(r==f&&closedBracketAt(l,l.selection.main.from))return handleClose(l,o,f)}return null}function closedBracketAt(l,r){let a=!1;return l.field(bracketState).between(0,l.doc.length,s=>{s==r&&(a=!0)}),a}function nextChar(l,r){let a=l.sliceString(r,r+2);return a.slice(0,codePointSize(codePointAt(a,0)))}function prevChar(l,r){let a=l.sliceString(r-2,r);return codePointSize(codePointAt(a,0))==a.length?a:a.slice(1)}function handleOpen(l,r,a,s){let o=null,f=l.changeByRange(h=>{if(!h.empty)return{changes:[{insert:r,from:h.from},{insert:a,from:h.to}],effects:closeBracketEffect.of(h.to+r.length),range:EditorSelection.range(h.anchor+r.length,h.head+r.length)};let d=nextChar(l.doc,h.head);return!d||/\s/.test(d)||s.indexOf(d)>-1?{changes:{insert:r+a,from:h.head},effects:closeBracketEffect.of(h.head+r.length),range:EditorSelection.cursor(h.head+r.length)}:{range:o=h}});return o?null:l.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(l,r,a){let s=null,o=l.changeByRange(f=>f.empty&&nextChar(l.doc,f.head)==a?{changes:{from:f.head,to:f.head+a.length,insert:a},range:EditorSelection.cursor(f.head+a.length)}:s={range:f});return s?null:l.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(l,r,a,s){let o=s.stringPrefixes||defaults.stringPrefixes,f=null,h=l.changeByRange(d=>{if(!d.empty)return{changes:[{insert:r,from:d.from},{insert:r,from:d.to}],effects:closeBracketEffect.of(d.to+r.length),range:EditorSelection.range(d.anchor+r.length,d.head+r.length)};let g=d.head,m=nextChar(l.doc,g),y;if(m==r){if(nodeStart(l,g))return{changes:{insert:r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)};if(closedBracketAt(l,g)){let x=a&&l.sliceDoc(g,g+r.length*3)==r+r+r?r+r+r:r;return{changes:{from:g,to:g+x.length,insert:x},range:EditorSelection.cursor(g+x.length)}}}else{if(a&&l.sliceDoc(g-2*r.length,g)==r+r&&(y=canStartStringAt(l,g-2*r.length,o))>-1&&nodeStart(l,y))return{changes:{insert:r+r+r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)};if(l.charCategorizer(g)(m)!=CharCategory.Word&&canStartStringAt(l,g,o)>-1&&!probablyInString(l,g,r,o))return{changes:{insert:r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)}}return{range:f=d}});return f?null:l.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(l,r){let a=syntaxTree(l).resolveInner(r+1);return a.parent&&a.from==r}function probablyInString(l,r,a,s){let o=syntaxTree(l).resolveInner(r,-1),f=s.reduce((h,d)=>Math.max(h,d.length),0);for(let h=0;h<5;h++){let d=l.sliceDoc(o.from,Math.min(o.to,o.from+a.length+f)),g=d.indexOf(a);if(!g||g>-1&&s.indexOf(d.slice(0,g))>-1){let y=o.firstChild;for(;y&&y.from==o.from&&y.to-y.from>a.length+g;){if(l.sliceDoc(y.to-a.length,y.to)==a)return!1;y=y.firstChild}return!0}let m=o.to==r&&o.parent;if(!m)break;o=m}return!1}function canStartStringAt(l,r,a){let s=l.charCategorizer(r);if(s(l.sliceDoc(r-1,r))!=CharCategory.Word)return r;for(let o of a){let f=r-o.length;if(l.sliceDoc(f,r)==o&&s(l.sliceDoc(f-1,f))!=CharCategory.Word)return f}return-1}function autocompletion(l={}){return[commitCharacters,completionState,completionConfig.of(l),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{mac:"Alt-i",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],l=>l.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(r,a,s){this.from=r,this.to=a,this.diagnostic=s}}class LintState{constructor(r,a,s){this.diagnostics=r,this.panel=a,this.selected=s}static init(r,a,s){let o=s.facet(lintConfig).markerFilter;o&&(r=o(r,s));let f=r.slice().sort((k,Q)=>k.from-Q.from||k.to-Q.to),h=new RangeSetBuilder,d=[],g=0,m=s.doc.iter(),y=0,v=s.doc.length;for(let k=0;;){let Q=k==f.length?null:f[k];if(!Q&&!d.length)break;let A,M;if(d.length)A=g,M=d.reduce((X,V)=>Math.min(X,V.to),Q&&Q.from>A?Q.from:1e8);else{if(A=Q.from,A>v)break;M=Q.to,d.push(Q),k++}for(;k<f.length;){let X=f[k];if(X.from==A&&(X.to>X.from||X.to==A))d.push(X),k++,M=Math.min(X.to,M);else{M=Math.min(X.from,M);break}}M=Math.min(M,v);let L=!1;if(d.some(X=>X.from==A&&(X.to==M||M==v))&&(L=A==M,!L&&M-A<10)){let X=A-(y+m.value.length);X>0&&(m.next(X),y=A);for(let V=A;;){if(V>=M){L=!0;break}if(!m.lineBreak&&y+m.value.length>V)break;V=y+m.value.length,y+=m.value.length,m.next()}}let B=maxSeverity(d);if(L)h.add(A,A,Decoration.widget({widget:new DiagnosticWidget(B),diagnostics:d.slice()}));else{let X=d.reduce((V,z)=>z.markClass?V+" "+z.markClass:V,"");h.add(A,M,Decoration.mark({class:"cm-lintRange cm-lintRange-"+B+X,diagnostics:d.slice(),inclusiveEnd:d.some(V=>V.to>M)}))}if(g=M,g==v)break;for(let X=0;X<d.length;X++)d[X].to<=g&&d.splice(X--,1)}let x=h.finish();return new LintState(x,a,findDiagnostic(x))}}function findDiagnostic(l,r=null,a=0){let s=null;return l.between(a,1e9,(o,f,{spec:h})=>{if(!(r&&h.diagnostics.indexOf(r)<0))if(!s)s=new SelectedDiagnostic(o,f,r||h.diagnostics[0]);else{if(h.diagnostics.indexOf(s.diagnostic)<0)return!1;s=new SelectedDiagnostic(s.from,f,s.diagnostic)}}),s}function hideTooltip(l,r){let a=r.pos,s=r.end||a,o=l.state.facet(lintConfig).hideOn(l,a,s);if(o!=null)return o;let f=l.startState.doc.lineAt(r.pos);return!!(l.effects.some(h=>h.is(setDiagnosticsEffect))||l.changes.touchesRange(f.from,Math.max(f.to,s)))}function maybeEnableLint(l,r){return l.field(lintState,!1)?r:r.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(l,r){if(r.docChanged&&l.diagnostics.size){let a=l.diagnostics.map(r.changes),s=null,o=l.panel;if(l.selected){let f=r.changes.mapPos(l.selected.from,1);s=findDiagnostic(a,l.selected.diagnostic,f)||findDiagnostic(a,null,f)}!a.size&&o&&r.state.facet(lintConfig).autoPanel&&(o=null),l=new LintState(a,o,s)}for(let a of r.effects)if(a.is(setDiagnosticsEffect)){let s=r.state.facet(lintConfig).autoPanel?a.value.length?LintPanel.open:null:l.panel;l=LintState.init(a.value,s,r.state)}else a.is(togglePanel)?l=new LintState(l.diagnostics,a.value?LintPanel.open:null,l.selected):a.is(movePanelSelection)&&(l=new LintState(l.diagnostics,l.panel,a.value));return l},provide:l=>[showPanel.from(l,r=>r.panel),EditorView.decorations.from(l,r=>r.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(l,r,a){let{diagnostics:s}=l.state.field(lintState),o,f=-1,h=-1;s.between(r-(a<0?1:0),r+(a>0?1:0),(g,m,{spec:y})=>{if(r>=g&&r<=m&&(g==m||(r>g||a>0)&&(r<m||a<0)))return o=y.diagnostics,f=g,h=m,!1});let d=l.state.facet(lintConfig).tooltipFilter;return o&&d&&(o=d(o,l.state)),o?{pos:f,end:h,above:l.state.doc.lineAt(f).to<h,create(){return{dom:diagnosticsTooltip(l,o)}}}:null}function diagnosticsTooltip(l,r){return crelt("ul",{class:"cm-tooltip-lint"},r.map(a=>renderDiagnostic(l,a,!1)))}const openLintPanel=l=>{let r=l.state.field(lintState,!1);(!r||!r.panel)&&l.dispatch({effects:maybeEnableLint(l.state,[togglePanel.of(!0)])});let a=getPanel(l,LintPanel.open);return a&&a.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=l=>{let r=l.state.field(lintState,!1);return!r||!r.panel?!1:(l.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=l=>{let r=l.state.field(lintState,!1);if(!r)return!1;let a=l.state.selection.main,s=r.diagnostics.iter(a.to+1);return!s.value&&(s=r.diagnostics.iter(0),!s.value||s.from==a.from&&s.to==a.to)?!1:(l.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(l){return{sources:l.map(r=>r.source).filter(r=>r!=null),...combineConfig(l.map(r=>r.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:combineFilter,tooltipFilter:combineFilter,needsRefresh:(r,a)=>r?a?s=>r(s)||a(s):r:a,hideOn:(r,a)=>r?a?(s,o,f)=>r(s,o,f)||a(s,o,f):r:a,autoPanel:(r,a)=>r||a})}}});function combineFilter(l,r){return l?r?(a,s)=>r(l(a,s),s):l:r}function assignKeys(l){let r=[];if(l)e:for(let{name:a}of l){for(let s=0;s<a.length;s++){let o=a[s];if(/[a-zA-Z]/.test(o)&&!r.some(f=>f.toLowerCase()==o.toLowerCase())){r.push(o);continue e}}r.push("")}return r}function renderDiagnostic(l,r,a){var s;let o=a?assignKeys(r.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+r.severity},crelt("span",{class:"cm-diagnosticText"},r.renderMessage?r.renderMessage(l):r.message),(s=r.actions)===null||s===void 0?void 0:s.map((f,h)=>{let d=!1,g=k=>{if(k.preventDefault(),d)return;d=!0;let Q=findDiagnostic(l.state.field(lintState).diagnostics,r);Q&&f.apply(l,Q.from,Q.to)},{name:m}=f,y=o[h]?m.indexOf(o[h]):-1,v=y<0?m:[m.slice(0,y),crelt("u",m.slice(y,y+1)),m.slice(y+1)],x=f.markClass?" "+f.markClass:"";return crelt("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:g,onmousedown:g,"aria-label":` Action: ${m}${y<0?"":` (access key "${o[h]})"`}.`},v)}),r.source&&crelt("div",{class:"cm-diagnosticSource"},r.source))}class DiagnosticWidget extends WidgetType{constructor(r){super(),this.sev=r}eq(r){return r.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(r,a){this.diagnostic=a,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(r,a,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(r){this.view=r,this.items=[];let a=o=>{if(!(o.ctrlKey||o.altKey||o.metaKey)){if(o.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:f}=this.items[this.selectedIndex],h=assignKeys(f.actions);for(let d=0;d<h.length;d++)if(h[d].toUpperCase().charCodeAt(0)==o.keyCode){let g=findDiagnostic(this.view.state.field(lintState).diagnostics,f);g&&f.actions[d].apply(r,g.from,g.to)}}else return;o.preventDefault()}},s=o=>{for(let f=0;f<this.items.length;f++)this.items[f].dom.contains(o.target)&&this.moveSelection(f)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a,onclick:s}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let r=this.view.state.field(lintState).selected;if(!r)return-1;for(let a=0;a<this.items.length;a++)if(this.items[a].diagnostic==r.diagnostic)return a;return-1}update(){let{diagnostics:r,selected:a}=this.view.state.field(lintState),s=0,o=!1,f=null,h=new Set;for(r.between(0,this.view.state.doc.length,(d,g,{spec:m})=>{for(let y of m.diagnostics){if(h.has(y))continue;h.add(y);let v=-1,x;for(let k=s;k<this.items.length;k++)if(this.items[k].diagnostic==y){v=k;break}v<0?(x=new PanelItem(this.view,y),this.items.splice(s,0,x),o=!0):(x=this.items[v],v>s&&(this.items.splice(s,v-s),o=!0)),a&&x.diagnostic==a.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),f=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),s++}});s<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),f?(this.list.setAttribute("aria-activedescendant",f.id),this.view.requestMeasure({key:this,read:()=>({sel:f.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:d,panel:g})=>{let m=g.height/this.list.offsetHeight;d.top<g.top?this.list.scrollTop-=(g.top-d.top)/m:d.bottom>g.bottom&&(this.list.scrollTop+=(d.bottom-g.bottom)/m)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let r=this.list.firstChild;function a(){let s=r;r=s.nextSibling,s.remove()}for(let s of this.items)if(s.dom.parentNode==this.list){for(;r!=s.dom;)a();r=s.dom.nextSibling}else this.list.insertBefore(s.dom,r);for(;r;)a()}moveSelection(r){if(this.selectedIndex<0)return;let a=this.view.state.field(lintState),s=findDiagnostic(a.diagnostics,this.items[r].diagnostic);s&&this.view.dispatch({selection:{anchor:s.from,head:s.to},scrollIntoView:!0,effects:movePanelSelection.of(s)})}static open(r){return new LintPanel(r)}}function svg(l,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(l)}</svg>')`}function underline$1(l){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${l}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline$1("#d11")},".cm-lintRange-warning":{backgroundImage:underline$1("orange")},".cm-lintRange-info":{backgroundImage:underline$1("#999")},".cm-lintRange-hint":{backgroundImage:underline$1("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(l){return l=="error"?4:l=="warning"?3:l=="info"?2:1}function maxSeverity(l){let r="hint",a=1;for(let s of l){let o=severityWeight(s.severity);o>a&&(a=o,r=s.severity)}return r}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],l=>{let{selected:r,panel:a}=l.field(lintState);return!r||!a||r.from==r.to?Decoration.none:Decoration.set([activeMark.range(r.from,r.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function(r){r===void 0&&(r={});var{crosshairCursor:a=!1}=r,s=[];r.closeBracketsKeymap!==!1&&(s=s.concat(closeBracketsKeymap)),r.defaultKeymap!==!1&&(s=s.concat(defaultKeymap)),r.searchKeymap!==!1&&(s=s.concat(searchKeymap)),r.historyKeymap!==!1&&(s=s.concat(historyKeymap)),r.foldKeymap!==!1&&(s=s.concat(foldKeymap)),r.completionKeymap!==!1&&(s=s.concat(completionKeymap)),r.lintKeymap!==!1&&(s=s.concat(lintKeymap));var o=[];return r.lineNumbers!==!1&&o.push(lineNumbers()),r.highlightActiveLineGutter!==!1&&o.push(highlightActiveLineGutter()),r.highlightSpecialChars!==!1&&o.push(highlightSpecialChars()),r.history!==!1&&o.push(history()),r.foldGutter!==!1&&o.push(foldGutter()),r.drawSelection!==!1&&o.push(drawSelection()),r.dropCursor!==!1&&o.push(dropCursor()),r.allowMultipleSelections!==!1&&o.push(EditorState.allowMultipleSelections.of(!0)),r.indentOnInput!==!1&&o.push(indentOnInput()),r.syntaxHighlighting!==!1&&o.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),r.bracketMatching!==!1&&o.push(bracketMatching()),r.closeBrackets!==!1&&o.push(closeBrackets()),r.autocompletion!==!1&&o.push(autocompletion()),r.rectangularSelection!==!1&&o.push(rectangularSelection()),a!==!1&&o.push(crosshairCursor()),r.highlightActiveLine!==!1&&o.push(highlightActiveLine()),r.highlightSelectionMatches!==!1&&o.push(highlightSelectionMatches()),r.tabSize&&typeof r.tabSize=="number"&&o.push(indentUnit.of(" ".repeat(r.tabSize))),o.concat([keymap.of(s.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan$1="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan$1},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function(r){r===void 0&&(r={});var{indentWithTab:a=!0,editable:s=!0,readOnly:o=!1,theme:f="light",placeholder:h="",basicSetup:d=!0}=r,g=[];switch(a&&g.unshift(keymap.of([indentWithTab])),d&&(typeof d=="boolean"?g.unshift(basicSetup()):g.unshift(basicSetup(d))),h&&g.unshift(placeholder(h)),f){case"light":g.push(defaultLightThemeOption);break;case"dark":g.push(oneDark);break;case"none":break;default:g.push(f);break}return s===!1&&g.push(EditorView.editable.of(!1)),o&&g.push(EditorState.readOnly.of(!0)),[...g]},getStatistics=l=>({line:l.state.doc.lineAt(l.state.selection.main.from),lineCount:l.state.doc.lines,lineBreak:l.state.lineBreak,length:l.state.doc.length,readOnly:l.state.readOnly,tabSize:l.state.tabSize,selection:l.state.selection,selectionAsSingle:l.state.selection.asSingle().main,ranges:l.state.selection.ranges,selectionCode:l.state.sliceDoc(l.state.selection.main.from,l.state.selection.main.to),selections:l.state.selection.ranges.map(r=>l.state.sliceDoc(r.from,r.to)),selectedText:l.state.selection.ranges.some(r=>!r.empty)});class TimeoutLatch{constructor(r,a){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=a,this.timeoutMS=a,this.callbacks.push(r)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var r=this.callbacks.slice();this.callbacks.length=0,r.forEach(a=>{try{a()}catch(s){console.error("TimeoutLatch callback error:",s)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Scheduler{constructor(){this.interval=null,this.latches=new Set}add(r){this.latches.add(r),this.start()}remove(r){this.latches.delete(r),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(r=>{r.tick(),r.isDone&&this.remove(r)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var globalScheduler=null,getScheduler=()=>typeof window>"u"?new Scheduler:(globalScheduler||(globalScheduler=new Scheduler),globalScheduler),ExternalChange=Annotation.define(),TYPING_TIMOUT=200,emptyExtensions=[];function useCodeMirror(l){var{value:r,selection:a,onChange:s,onStatistics:o,onCreateEditor:f,onUpdate:h,extensions:d=emptyExtensions,autoFocus:g,theme:m="light",height:y=null,minHeight:v=null,maxHeight:x=null,width:k=null,minWidth:Q=null,maxWidth:A=null,placeholder:M="",editable:L=!0,readOnly:B=!1,indentWithTab:X=!0,basicSetup:V=!0,root:z,initialState:I}=l,[P,F]=reactExports.useState(),[ee,fe]=reactExports.useState(),[j,J]=reactExports.useState(),le=reactExports.useState(()=>({current:null}))[0],Se=reactExports.useState(()=>({current:null}))[0],we=EditorView.theme({"&":{height:y,minHeight:v,maxHeight:x,width:k,minWidth:Q,maxWidth:A},"& .cm-scroller":{height:"100% !important"}}),W=EditorView.updateListener.of(ge=>{if(ge.docChanged&&typeof s=="function"&&!ge.transactions.some(G=>G.annotation(ExternalChange))){le.current?le.current.reset():(le.current=new TimeoutLatch(()=>{if(Se.current){var G=Se.current;Se.current=null,G()}le.current=null},TYPING_TIMOUT),getScheduler().add(le.current));var Z=ge.state.doc,N=Z.toString();s(N,ge)}o&&o(getStatistics(ge))}),ue=getDefaultExtensions({theme:m,editable:L,readOnly:B,placeholder:M,indentWithTab:X,basicSetup:V}),ke=[W,we,...ue];return h&&typeof h=="function"&&ke.push(EditorView.updateListener.of(h)),ke=ke.concat(d),reactExports.useLayoutEffect(()=>{if(P&&!j){var ge={doc:r,selection:a,extensions:ke},Z=I?EditorState.fromJSON(I.json,ge,I.fields):EditorState.create(ge);if(J(Z),!ee){var N=new EditorView({state:Z,parent:P,root:z});fe(N),f&&f(N,Z)}}return()=>{ee&&(J(void 0),fe(void 0))}},[P,j]),reactExports.useEffect(()=>{l.container&&F(l.container)},[l.container]),reactExports.useEffect(()=>()=>{ee&&(ee.destroy(),fe(void 0)),le.current&&(le.current.cancel(),le.current=null)},[ee]),reactExports.useEffect(()=>{g&&ee&&ee.focus()},[g,ee]),reactExports.useEffect(()=>{ee&&ee.dispatch({effects:StateEffect.reconfigure.of(ke)})},[m,d,y,v,x,k,Q,A,M,L,B,X,V,s,h]),reactExports.useEffect(()=>{if(r!==void 0){var ge=ee?ee.state.doc.toString():"";if(ee&&r!==ge){var Z=le.current&&!le.current.isDone,N=()=>{ee&&r!==ee.state.doc.toString()&&ee.dispatch({changes:{from:0,to:ee.state.doc.toString().length,insert:r||""},annotations:[ExternalChange.of(!0)]})};Z?Se.current=N:N()}}},[r,ee]),{state:j,setState:J,view:ee,setView:fe,container:P,setContainer:F}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((l,r)=>{var{className:a,value:s="",selection:o,extensions:f=[],onChange:h,onStatistics:d,onCreateEditor:g,onUpdate:m,autoFocus:y,theme:v="light",height:x,minHeight:k,maxHeight:Q,width:A,minWidth:M,maxWidth:L,basicSetup:B,placeholder:X,indentWithTab:V,editable:z,readOnly:I,root:P,initialState:F}=l,ee=_objectWithoutPropertiesLoose(l,_excluded),fe=reactExports.useRef(null),{state:j,view:J,container:le,setContainer:Se}=useCodeMirror({root:P,value:s,autoFocus:y,theme:v,height:x,minHeight:k,maxHeight:Q,width:A,minWidth:M,maxWidth:L,basicSetup:B,placeholder:X,indentWithTab:V,editable:z,readOnly:I,selection:o,onChange:h,onStatistics:d,onCreateEditor:g,onUpdate:m,extensions:f,initialState:F});reactExports.useImperativeHandle(r,()=>({editor:fe.current,state:j,view:J}),[fe,le,j,J]);var we=reactExports.useCallback(ue=>{fe.current=ue,Se(ue)},[Se]);if(typeof s!="string")throw new Error("value must be typeof string but got "+typeof s);var W=typeof v=="string"?"cm-theme-"+v:"cm-theme";return jsxRuntimeExports.jsx("div",_extends({ref:we,className:""+W+(a?" "+a:"")},ee))});ReactCodeMirror.displayName="CodeMirror";var define_process_env_default={};class Stack{constructor(r,a,s,o,f,h,d,g,m,y=0,v){this.p=r,this.stack=a,this.state=s,this.reducePos=o,this.pos=f,this.score=h,this.buffer=d,this.bufferBase=g,this.curContext=m,this.lookAhead=y,this.parent=v}toString(){return`[${this.stack.filter((r,a)=>a%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(r,a,s=0){let o=r.parser.context;return new Stack(r,[],a,s,s,0,[],0,o?new StackContext(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(r,a){this.stack.push(this.state,a,this.bufferBase+this.buffer.length),this.state=r}reduce(r){var a;let s=r>>19,o=r&65535,{parser:f}=this.p,h=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),d=f.dynamicPrecedence(o);if(d&&(this.score+=d),s==0){this.pushState(f.getGoto(this.state,o,!0),this.reducePos),o<f.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,h?8:4,!0),this.reduceContext(o,this.reducePos);return}let g=this.stack.length-(s-1)*3-(r&262144?6:0),m=g?this.stack[g-2]:this.p.ranges[0].from,y=this.reducePos-m;y>=2e3&&!(!((a=this.p.parser.nodeSet.types[o])===null||a===void 0)&&a.isAnonymous)&&(m==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=y):this.p.lastBigReductionSize<y&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=m,this.p.lastBigReductionSize=y));let v=g?this.stack[g-1]:0,x=this.bufferBase+this.buffer.length-v;if(o<f.minRepeatTerm||r&131072){let k=f.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,m,k,x+4,!0)}if(r&262144)this.state=this.stack[g];else{let k=this.stack[g-3];this.state=f.getGoto(k,o,!0)}for(;this.stack.length>g;)this.stack.pop();this.reduceContext(o,m)}storeNode(r,a,s,o=4,f=!1){if(r==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let h=this,d=this.buffer.length;if(d==0&&h.parent&&(d=h.bufferBase-h.parent.bufferBase,h=h.parent),d>0&&h.buffer[d-4]==0&&h.buffer[d-1]>-1){if(a==s)return;if(h.buffer[d-2]>=a){h.buffer[d-2]=s;return}}}if(!f||this.pos==s)this.buffer.push(r,a,s,o);else{let h=this.buffer.length;if(h>0&&(this.buffer[h-4]!=0||this.buffer[h-1]<0)){let d=!1;for(let g=h;g>0&&this.buffer[g-2]>s;g-=4)if(this.buffer[g-1]>=0){d=!0;break}if(d)for(;h>0&&this.buffer[h-2]>s;)this.buffer[h]=this.buffer[h-4],this.buffer[h+1]=this.buffer[h-3],this.buffer[h+2]=this.buffer[h-2],this.buffer[h+3]=this.buffer[h-1],h-=4,o>4&&(o-=4)}this.buffer[h]=r,this.buffer[h+1]=a,this.buffer[h+2]=s,this.buffer[h+3]=o}}shift(r,a,s,o){if(r&131072)this.pushState(r&65535,this.pos);else if((r&262144)==0){let f=r,{parser:h}=this.p;this.pos=o;let d=h.stateFlag(f,1);!d&&(o>s||a<=h.maxNode)&&(this.reducePos=o),this.pushState(f,d?s:Math.min(s,this.reducePos)),this.shiftContext(a,s),a<=h.maxNode&&this.buffer.push(a,s,o,4)}else this.pos=o,this.shiftContext(a,s),a<=this.p.parser.maxNode&&this.buffer.push(a,s,o,4)}apply(r,a,s,o){r&65536?this.reduce(r):this.shift(r,a,s,o)}useNode(r,a){let s=this.p.reused.length-1;(s<0||this.p.reused[s]!=r)&&(this.p.reused.push(r),s++);let o=this.pos;this.reducePos=this.pos=o+r.length,this.pushState(a,o),this.buffer.push(s,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,r,this,this.p.stream.reset(this.pos-r.length)))}split(){let r=this,a=r.buffer.length;for(;a>0&&r.buffer[a-2]>r.reducePos;)a-=4;let s=r.buffer.slice(a),o=r.bufferBase+a;for(;r&&o==r.bufferBase;)r=r.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,s,o,this.curContext,this.lookAhead,r)}recoverByDelete(r,a){let s=r<=this.p.parser.maxNode;s&&this.storeNode(r,this.pos,a,4),this.storeNode(0,this.pos,a,s?8:4),this.pos=this.reducePos=a,this.score-=190}canShift(r){for(let a=new SimulatedStack(this);;){let s=this.p.parser.stateSlot(a.state,4)||this.p.parser.hasAction(a.state,r);if(s==0)return!1;if((s&65536)==0)return!0;a.reduce(s)}}recoverByInsert(r){if(this.stack.length>=300)return[];let a=this.p.parser.nextStates(this.state);if(a.length>8||this.stack.length>=120){let o=[];for(let f=0,h;f<a.length;f+=2)(h=a[f+1])!=this.state&&this.p.parser.hasAction(h,r)&&o.push(a[f],h);if(this.stack.length<120)for(let f=0;o.length<8&&f<a.length;f+=2){let h=a[f+1];o.some((d,g)=>g&1&&d==h)||o.push(a[f],h)}a=o}let s=[];for(let o=0;o<a.length&&s.length<4;o+=2){let f=a[o+1];if(f==this.state)continue;let h=this.split();h.pushState(f,this.pos),h.storeNode(0,h.pos,h.pos,4,!0),h.shiftContext(a[o],this.pos),h.reducePos=this.pos,h.score-=200,s.push(h)}return s}forceReduce(){let{parser:r}=this.p,a=r.stateSlot(this.state,5);if((a&65536)==0)return!1;if(!r.validAction(this.state,a)){let s=a>>19,o=a&65535,f=this.stack.length-s*3;if(f<0||r.getGoto(this.stack[f],o,!1)<0){let h=this.findForcedReduction();if(h==null)return!1;a=h}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(a),!0}findForcedReduction(){let{parser:r}=this.p,a=[],s=(o,f)=>{if(!a.includes(o))return a.push(o),r.allActions(o,h=>{if(!(h&393216))if(h&65536){let d=(h>>19)-f;if(d>1){let g=h&65535,m=this.stack.length-d*3;if(m>=0&&r.getGoto(this.stack[m],g,!1)>=0)return d<<19|65536|g}}else{let d=s(h,f+1);if(d!=null)return d}})};return s(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:r}=this.p;return r.data[r.stateSlot(this.state,1)]==65535&&!r.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(r){if(this.state!=r.state||this.stack.length!=r.stack.length)return!1;for(let a=0;a<this.stack.length;a+=3)if(this.stack[a]!=r.stack[a])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(r){return this.p.parser.dialect.flags[r]}shiftContext(r,a){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,r,this,this.p.stream.reset(a)))}reduceContext(r,a){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,r,this,this.p.stream.reset(a)))}emitContext(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(r){if(r!=this.curContext.context){let a=new StackContext(this.curContext.tracker,r);a.hash!=this.curContext.hash&&this.emitContext(),this.curContext=a}}setLookAhead(r){return r<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=r,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(r,a){this.tracker=r,this.context=a,this.hash=r.strict?r.hash(a):0}}class SimulatedStack{constructor(r){this.start=r,this.state=r.state,this.stack=r.stack,this.base=this.stack.length}reduce(r){let a=r&65535,s=r>>19;s==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(s-1)*3;let o=this.start.p.parser.getGoto(this.stack[this.base-3],a,!0);this.state=o}}class StackBufferCursor{constructor(r,a,s){this.stack=r,this.pos=a,this.index=s,this.buffer=r.buffer,this.index==0&&this.maybeNext()}static create(r,a=r.bufferBase+r.buffer.length){return new StackBufferCursor(r,a,a-r.bufferBase)}maybeNext(){let r=this.stack.parent;r!=null&&(this.index=this.stack.bufferBase-r.bufferBase,this.stack=r,this.buffer=r.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(l,r=Uint16Array){if(typeof l!="string")return l;let a=null;for(let s=0,o=0;s<l.length;){let f=0;for(;;){let h=l.charCodeAt(s++),d=!1;if(h==126){f=65535;break}h>=92&&h--,h>=34&&h--;let g=h-32;if(g>=46&&(g-=46,d=!0),f+=g,d)break;f*=46}a?a[o++]=f:a=new r(f)}return a}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(r,a){this.input=r,this.ranges=a,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=a[0].from,this.range=a[0],this.end=a[a.length-1].to,this.readNext()}resolveOffset(r,a){let s=this.range,o=this.rangeIndex,f=this.pos+r;for(;f<s.from;){if(!o)return null;let h=this.ranges[--o];f-=s.from-h.to,s=h}for(;a<0?f>s.to:f>=s.to;){if(o==this.ranges.length-1)return null;let h=this.ranges[++o];f+=h.from-s.to,s=h}return f}clipPos(r){if(r>=this.range.from&&r<this.range.to)return r;for(let a of this.ranges)if(a.to>r)return Math.max(r,a.from);return this.end}peek(r){let a=this.chunkOff+r,s,o;if(a>=0&&a<this.chunk.length)s=this.pos+r,o=this.chunk.charCodeAt(a);else{let f=this.resolveOffset(r,1);if(f==null)return-1;if(s=f,s>=this.chunk2Pos&&s<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(s-this.chunk2Pos);else{let h=this.rangeIndex,d=this.range;for(;d.to<=s;)d=this.ranges[++h];this.chunk2=this.input.chunk(this.chunk2Pos=s),s+this.chunk2.length>d.to&&(this.chunk2=this.chunk2.slice(0,d.to-s)),o=this.chunk2.charCodeAt(0)}}return s>=this.token.lookAhead&&(this.token.lookAhead=s+1),o}acceptToken(r,a=0){let s=a?this.resolveOffset(a,-1):this.pos;if(s==null||s<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=r,this.token.end=s}acceptTokenTo(r,a){this.token.value=r,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:r,chunkPos:a}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=r,this.chunk2Pos=a,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let r=this.input.chunk(this.pos),a=this.pos+r.length;this.chunk=a>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(r=1){for(this.chunkOff+=r;this.pos+r>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();r-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=r,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(r,a){if(a?(this.token=a,a.start=r,a.lookAhead=r+1,a.value=a.extended=-1):this.token=nullToken,this.pos!=r){if(this.pos=r,r==this.end)return this.setDone(),this;for(;r<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;r>=this.range.to;)this.range=this.ranges[++this.rangeIndex];r>=this.chunkPos&&r<this.chunkPos+this.chunk.length?this.chunkOff=r-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(r,a){if(r>=this.chunkPos&&a<=this.chunkPos+this.chunk.length)return this.chunk.slice(r-this.chunkPos,a-this.chunkPos);if(r>=this.chunk2Pos&&a<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(r-this.chunk2Pos,a-this.chunk2Pos);if(r>=this.range.from&&a<=this.range.to)return this.input.read(r,a);let s="";for(let o of this.ranges){if(o.from>=a)break;o.to>r&&(s+=this.input.read(Math.max(o.from,r),Math.min(o.to,a)))}return s}}class TokenGroup{constructor(r,a){this.data=r,this.id=a}token(r,a){let{parser:s}=a.p;readToken(this.data,r,a,this.id,s.data,s.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(r,a,s){this.precTable=a,this.elseToken=s,this.data=typeof r=="string"?decodeArray(r):r}token(r,a){let s=r.pos,o=0;for(;;){let f=r.next<0,h=r.resolveOffset(1,1);if(readToken(this.data,r,a,0,this.data,this.precTable),r.token.value>-1)break;if(this.elseToken==null)return;if(f||o++,h==null)break;r.reset(h,r.token)}o&&(r.reset(s,r.token),r.acceptToken(this.elseToken,o))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(r,a={}){this.token=r,this.contextual=!!a.contextual,this.fallback=!!a.fallback,this.extend=!!a.extend}}function readToken(l,r,a,s,o,f){let h=0,d=1<<s,{dialect:g}=a.p.parser;e:for(;(d&l[h])!=0;){let m=l[h+1];for(let k=h+3;k<m;k+=2)if((l[k+1]&d)>0){let Q=l[k];if(g.allows(Q)&&(r.token.value==-1||r.token.value==Q||overrides(Q,r.token.value,o,f))){r.acceptToken(Q);break}}let y=r.next,v=0,x=l[h+2];if(r.next<0&&x>v&&l[m+x*3-3]==65535){h=l[m+x*3-1];continue e}for(;v<x;){let k=v+x>>1,Q=m+k+(k<<1),A=l[Q],M=l[Q+1]||65536;if(y<A)x=k;else if(y>=M)v=k+1;else{h=l[Q+2],r.advance();continue e}}break}}function findOffset(l,r,a){for(let s=r,o;(o=l[s])!=65535;s++)if(o==a)return s-r;return-1}function overrides(l,r,a,s){let o=findOffset(a,s,r);return o<0||findOffset(a,s,l)<o}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(l,r,a){let s=l.cursor(IterMode.IncludeAnonymous);for(s.moveTo(r);;)if(!(a<0?s.childBefore(r):s.childAfter(r)))for(;;){if((a<0?s.to<r:s.from>r)&&!s.type.isError)return a<0?Math.max(0,Math.min(s.to-1,r-25)):Math.min(l.length,Math.max(s.from+1,r+25));if(a<0?s.prevSibling():s.nextSibling())break;if(!s.parent())return a<0?0:l.length}}class FragmentCursor{constructor(r,a){this.fragments=r,this.nodeSet=a,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let r=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(r){for(this.safeFrom=r.openStart?cutAt(r.tree,r.from+r.offset,1)-r.offset:r.from,this.safeTo=r.openEnd?cutAt(r.tree,r.to+r.offset,-1)-r.offset:r.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(r.tree),this.start.push(-r.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(r){if(r<this.nextStart)return null;for(;this.fragment&&this.safeTo<=r;)this.nextFragment();if(!this.fragment)return null;for(;;){let a=this.trees.length-1;if(a<0)return this.nextFragment(),null;let s=this.trees[a],o=this.index[a];if(o==s.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let f=s.children[o],h=this.start[a]+s.positions[o];if(h>r)return this.nextStart=h,null;if(f instanceof Tree){if(h==r){if(h<this.safeFrom)return null;let d=h+f.length;if(d<=this.safeTo){let g=f.prop(NodeProp.lookAhead);if(!g||d+g<this.fragment.to)return f}}this.index[a]++,h+f.length>=Math.max(this.safeFrom,r)&&(this.trees.push(f),this.start.push(h),this.index.push(0))}else this.index[a]++,this.nextStart=h+f.length}}}class TokenCache{constructor(r,a){this.stream=a,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=r.tokenizers.map(s=>new CachedToken)}getActions(r){let a=0,s=null,{parser:o}=r.p,{tokenizers:f}=o,h=o.stateSlot(r.state,3),d=r.curContext?r.curContext.hash:0,g=0;for(let m=0;m<f.length;m++){if((1<<m&h)==0)continue;let y=f[m],v=this.tokens[m];if(!(s&&!y.fallback)&&((y.contextual||v.start!=r.pos||v.mask!=h||v.context!=d)&&(this.updateCachedToken(v,y,r),v.mask=h,v.context=d),v.lookAhead>v.end+25&&(g=Math.max(v.lookAhead,g)),v.value!=0)){let x=a;if(v.extended>-1&&(a=this.addActions(r,v.extended,v.end,a)),a=this.addActions(r,v.value,v.end,a),!y.extend&&(s=v,a>x))break}}for(;this.actions.length>a;)this.actions.pop();return g&&r.setLookAhead(g),!s&&r.pos==this.stream.end&&(s=new CachedToken,s.value=r.p.parser.eofTerm,s.start=s.end=r.pos,a=this.addActions(r,s.value,s.end,a)),this.mainToken=s,this.actions}getMainToken(r){if(this.mainToken)return this.mainToken;let a=new CachedToken,{pos:s,p:o}=r;return a.start=s,a.end=Math.min(s+1,o.stream.end),a.value=s==o.stream.end?o.parser.eofTerm:0,a}updateCachedToken(r,a,s){let o=this.stream.clipPos(s.pos);if(a.token(this.stream.reset(o,r),s),r.value>-1){let{parser:f}=s.p;for(let h=0;h<f.specialized.length;h++)if(f.specialized[h]==r.value){let d=f.specializers[h](this.stream.read(r.start,r.end),s);if(d>=0&&s.p.parser.dialect.allows(d>>1)){(d&1)==0?r.value=d>>1:r.extended=d>>1;break}}}else r.value=0,r.end=this.stream.clipPos(o+1)}putAction(r,a,s,o){for(let f=0;f<o;f+=3)if(this.actions[f]==r)return o;return this.actions[o++]=r,this.actions[o++]=a,this.actions[o++]=s,o}addActions(r,a,s,o){let{state:f}=r,{parser:h}=r.p,{data:d}=h;for(let g=0;g<2;g++)for(let m=h.stateSlot(f,g?2:1);;m+=3){if(d[m]==65535)if(d[m+1]==1)m=pair(d,m+2);else{o==0&&d[m+1]==2&&(o=this.putAction(pair(d,m+2),a,s,o));break}d[m]==a&&(o=this.putAction(pair(d,m+1),a,s,o))}return o}}class Parse{constructor(r,a,s,o){this.parser=r,this.input=a,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(a,o),this.tokens=new TokenCache(r,this.stream),this.topTerm=r.top[1];let{from:f}=o[0];this.stacks=[Stack.start(this,r.top[0],f)],this.fragments=s.length&&this.stream.end-f>r.bufferLength*4?new FragmentCursor(s,r.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r=this.stacks,a=this.minStackPos,s=this.stacks=[],o,f;if(this.bigReductionCount>300&&r.length==1){let[h]=r;for(;h.forceReduce()&&h.stack.length&&h.stack[h.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let h=0;h<r.length;h++){let d=r[h];for(;;){if(this.tokens.mainToken=null,d.pos>a)s.push(d);else{if(this.advanceStack(d,s,r))continue;{o||(o=[],f=[]),o.push(d);let g=this.tokens.getMainToken(d);f.push(g.value,g.end)}}break}}if(!s.length){let h=o&&findFinished(o);if(h)return verbose&&console.log("Finish with "+this.stackID(h)),this.stackToTree(h);if(this.parser.strict)throw verbose&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+a);this.recovering||(this.recovering=5)}if(this.recovering&&o){let h=this.stoppedAt!=null&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,f,s);if(h)return verbose&&console.log("Force-finish "+this.stackID(h)),this.stackToTree(h.forceAll())}if(this.recovering){let h=this.recovering==1?1:this.recovering*3;if(s.length>h)for(s.sort((d,g)=>g.score-d.score);s.length>h;)s.pop();s.some(d=>d.reducePos>a)&&this.recovering--}else if(s.length>1){e:for(let h=0;h<s.length-1;h++){let d=s[h];for(let g=h+1;g<s.length;g++){let m=s[g];if(d.sameState(m)||d.buffer.length>500&&m.buffer.length>500)if((d.score-m.score||d.buffer.length-m.buffer.length)>0)s.splice(g--,1);else{s.splice(h--,1);continue e}}}s.length>12&&(s.sort((h,d)=>d.score-h.score),s.splice(12,s.length-12))}this.minStackPos=s[0].pos;for(let h=1;h<s.length;h++)s[h].pos<this.minStackPos&&(this.minStackPos=s[h].pos);return null}stopAt(r){if(this.stoppedAt!=null&&this.stoppedAt<r)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=r}advanceStack(r,a,s){let o=r.pos,{parser:f}=this,h=verbose?this.stackID(r)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return r.forceReduce()?r:null;if(this.fragments){let m=r.curContext&&r.curContext.tracker.strict,y=m?r.curContext.hash:0;for(let v=this.fragments.nodeAt(o);v;){let x=this.parser.nodeSet.types[v.type.id]==v.type?f.getGoto(r.state,v.type.id):-1;if(x>-1&&v.length&&(!m||(v.prop(NodeProp.contextHash)||0)==y))return r.useNode(v,x),verbose&&console.log(h+this.stackID(r)+` (via reuse of ${f.getName(v.type.id)})`),!0;if(!(v instanceof Tree)||v.children.length==0||v.positions[0]>0)break;let k=v.children[0];if(k instanceof Tree&&v.positions[0]==0)v=k;else break}}let d=f.stateSlot(r.state,4);if(d>0)return r.reduce(d),verbose&&console.log(h+this.stackID(r)+` (via always-reduce ${f.getName(d&65535)})`),!0;if(r.stack.length>=8400)for(;r.stack.length>6e3&&r.forceReduce(););let g=this.tokens.getActions(r);for(let m=0;m<g.length;){let y=g[m++],v=g[m++],x=g[m++],k=m==g.length||!s,Q=k?r:r.split(),A=this.tokens.mainToken;if(Q.apply(y,v,A?A.start:Q.pos,x),verbose&&console.log(h+this.stackID(Q)+` (via ${(y&65536)==0?"shift":`reduce of ${f.getName(y&65535)}`} for ${f.getName(v)} @ ${o}${Q==r?"":", split"})`),k)return!0;Q.pos>o?a.push(Q):s.push(Q)}return!1}advanceFully(r,a){let s=r.pos;for(;;){if(!this.advanceStack(r,null,null))return!1;if(r.pos>s)return pushStackDedup(r,a),!0}}runRecovery(r,a,s){let o=null,f=!1;for(let h=0;h<r.length;h++){let d=r[h],g=a[h<<1],m=a[(h<<1)+1],y=verbose?this.stackID(d)+" -> ":"";if(d.deadEnd&&(f||(f=!0,d.restart(),verbose&&console.log(y+this.stackID(d)+" (restarted)"),this.advanceFully(d,s))))continue;let v=d.split(),x=y;for(let k=0;k<10&&v.forceReduce()&&(verbose&&console.log(x+this.stackID(v)+" (via force-reduce)"),!this.advanceFully(v,s));k++)verbose&&(x=this.stackID(v)+" -> ");for(let k of d.recoverByInsert(g))verbose&&console.log(y+this.stackID(k)+" (via recover-insert)"),this.advanceFully(k,s);this.stream.end>d.pos?(m==d.pos&&(m++,g=0),d.recoverByDelete(g,m),verbose&&console.log(y+this.stackID(d)+` (via recover-delete ${this.parser.getName(g)})`),pushStackDedup(d,s)):(!o||o.score<v.score)&&(o=v)}return o}stackToTree(r){return r.close(),Tree.build({buffer:StackBufferCursor.create(r),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:r.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(r){let a=(stackIDs||(stackIDs=new WeakMap)).get(r);return a||stackIDs.set(r,a=String.fromCodePoint(this.nextStackID++)),a+r}}function pushStackDedup(l,r){for(let a=0;a<r.length;a++){let s=r[a];if(s.pos==l.pos&&s.sameState(l)){r[a].score<l.score&&(r[a]=l);return}}r.push(l)}class Dialect{constructor(r,a,s){this.source=r,this.flags=a,this.disabled=s}allows(r){return!this.disabled||this.disabled[r]==0}}const id=l=>l;class ContextTracker{constructor(r){this.start=r.start,this.shift=r.shift||id,this.reduce=r.reduce||id,this.reuse=r.reuse||id,this.hash=r.hash||(()=>0),this.strict=r.strict!==!1}}class LRParser extends Parser{constructor(r){if(super(),this.wrappers=[],r.version!=14)throw new RangeError(`Parser version (${r.version}) doesn't match runtime version (14)`);let a=r.nodeNames.split(" ");this.minRepeatTerm=a.length;for(let d=0;d<r.repeatNodeCount;d++)a.push("");let s=Object.keys(r.topRules).map(d=>r.topRules[d][1]),o=[];for(let d=0;d<a.length;d++)o.push([]);function f(d,g,m){o[d].push([g,g.deserialize(String(m))])}if(r.nodeProps)for(let d of r.nodeProps){let g=d[0];typeof g=="string"&&(g=NodeProp[g]);for(let m=1;m<d.length;){let y=d[m++];if(y>=0)f(y,g,d[m++]);else{let v=d[m+-y];for(let x=-y;x>0;x--)f(d[m++],g,v);m++}}}this.nodeSet=new NodeSet(a.map((d,g)=>NodeType.define({name:g>=this.minRepeatTerm?void 0:d,id:g,props:o[g],top:s.indexOf(g)>-1,error:g==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(g)>-1}))),r.propSources&&(this.nodeSet=this.nodeSet.extend(...r.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let h=decodeArray(r.tokenData);this.context=r.context,this.specializerSpecs=r.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let d=0;d<this.specializerSpecs.length;d++)this.specialized[d]=this.specializerSpecs[d].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(r.states,Uint32Array),this.data=decodeArray(r.stateData),this.goto=decodeArray(r.goto),this.maxTerm=r.maxTerm,this.tokenizers=r.tokenizers.map(d=>typeof d=="number"?new TokenGroup(h,d):d),this.topRules=r.topRules,this.dialects=r.dialects||{},this.dynamicPrecedences=r.dynamicPrecedences||null,this.tokenPrecTable=r.tokenPrec,this.termNames=r.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(r,a,s){let o=new Parse(this,r,a,s);for(let f of this.wrappers)o=f(o,r,a,s);return o}getGoto(r,a,s=!1){let o=this.goto;if(a>=o[0])return-1;for(let f=o[a+1];;){let h=o[f++],d=h&1,g=o[f++];if(d&&s)return g;for(let m=f+(h>>1);f<m;f++)if(o[f]==r)return g;if(d)return-1}}hasAction(r,a){let s=this.data;for(let o=0;o<2;o++)for(let f=this.stateSlot(r,o?2:1),h;;f+=3){if((h=s[f])==65535)if(s[f+1]==1)h=s[f=pair(s,f+2)];else{if(s[f+1]==2)return pair(s,f+2);break}if(h==a||h==0)return pair(s,f+1)}return 0}stateSlot(r,a){return this.states[r*6+a]}stateFlag(r,a){return(this.stateSlot(r,0)&a)>0}validAction(r,a){return!!this.allActions(r,s=>s==a?!0:null)}allActions(r,a){let s=this.stateSlot(r,4),o=s?a(s):void 0;for(let f=this.stateSlot(r,1);o==null;f+=3){if(this.data[f]==65535)if(this.data[f+1]==1)f=pair(this.data,f+2);else break;o=a(pair(this.data,f+1))}return o}nextStates(r){let a=[];for(let s=this.stateSlot(r,1);;s+=3){if(this.data[s]==65535)if(this.data[s+1]==1)s=pair(this.data,s+2);else break;if((this.data[s+2]&1)==0){let o=this.data[s+1];a.some((f,h)=>h&1&&f==o)||a.push(this.data[s],o)}}return a}configure(r){let a=Object.assign(Object.create(LRParser.prototype),this);if(r.props&&(a.nodeSet=this.nodeSet.extend(...r.props)),r.top){let s=this.topRules[r.top];if(!s)throw new RangeError(`Invalid top rule name ${r.top}`);a.top=s}return r.tokenizers&&(a.tokenizers=this.tokenizers.map(s=>{let o=r.tokenizers.find(f=>f.from==s);return o?o.to:s})),r.specializers&&(a.specializers=this.specializers.slice(),a.specializerSpecs=this.specializerSpecs.map((s,o)=>{let f=r.specializers.find(d=>d.from==s.external);if(!f)return s;let h=Object.assign(Object.assign({},s),{external:f.to});return a.specializers[o]=getSpecializer(h),h})),r.contextTracker&&(a.context=r.contextTracker),r.dialect&&(a.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(a.strict=r.strict),r.wrap&&(a.wrappers=a.wrappers.concat(r.wrap)),r.bufferLength!=null&&(a.bufferLength=r.bufferLength),a}hasWrappers(){return this.wrappers.length>0}getName(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(r){let a=this.dynamicPrecedences;return a==null?0:a[r]||0}parseDialect(r){let a=Object.keys(this.dialects),s=a.map(()=>!1);if(r)for(let f of r.split(" ")){let h=a.indexOf(f);h>=0&&(s[h]=!0)}let o=null;for(let f=0;f<a.length;f++)if(!s[f])for(let h=this.dialects[a[f]],d;(d=this.data[h++])!=65535;)(o||(o=new Uint8Array(this.maxTerm+1)))[d]=1;return new Dialect(r,s,o)}static deserialize(r){return new LRParser(r)}}function pair(l,r){return l[r]|l[r+1]<<16}function findFinished(l){let r=null;for(let a of l){let s=a.p.stoppedAt;(a.pos==a.p.stream.end||s!=null&&a.pos>s)&&a.p.parser.stateFlag(a.state,2)&&(!r||r.score<a.score)&&(r=a)}return r}function getSpecializer(l){if(l.external){let r=l.extend?1:0;return(a,s)=>l.external(a,s)<<1|r}return l.get}const noSemi=316,noSemiType=317,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=318,spaces=320,newline=321,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(l,r){return r==LineComment||r==BlockComment||r==spaces?l:r==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((l,r)=>{let{next:a}=l;(a==braceR||a==-1||r.context)&&l.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((l,r)=>{let{next:a}=l,s;space.indexOf(a)>-1||a==slash&&((s=l.peek(1))==slash||s==star)||a!=braceR&&a!=semicolon&&a!=-1&&!r.context&&l.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((l,r)=>{l.next==bracketL&&!r.context&&l.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((l,r)=>{let{next:a}=l;if(a==plus||a==minus){if(l.advance(),a==l.next){l.advance();let s=!r.context&&r.canShift(incdec);l.acceptToken(s?incdec:incdecPrefix)}}else a==question&&l.peek(1)==dot&&(l.advance(),l.advance(),(l.next<48||l.next>57)&&l.acceptToken(questionDot))},{contextual:!0});function identifierChar(l,r){return l>=65&&l<=90||l>=97&&l<=122||l==95||l>=192||!r&&l>=48&&l<=57}const jsx=new ExternalTokenizer((l,r)=>{if(l.next!=lt||!r.dialectEnabled(Dialect_jsx)||(l.advance(),l.next==slash))return;let a=0;for(;space.indexOf(l.next)>-1;)l.advance(),a++;if(identifierChar(l.next,!0)){for(l.advance(),a++;identifierChar(l.next,!1);)l.advance(),a++;for(;space.indexOf(l.next)>-1;)l.advance(),a++;if(l.next==comma)return;for(let s=0;;s++){if(s==7){if(!identifierChar(l.next,!0))return;break}if(l.next!="extends".charCodeAt(s))break;l.advance(),a++}}l.acceptToken(JSXStartTag,-a)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case defer":tags.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser=LRParser.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new LocalTokenGroup("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:l=>spec_identifier[l]||-1},{term:343,get:l=>spec_word[l]||-1},{term:95,get:l=>spec_LessThan[l]||-1}],tokenPrec:15201}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(l){return(r,a)=>{let s=r.node.getChild("VariableDefinition");return s&&a(s,l),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(l,r){l.matchContext(functionContext)||r(l,"variable")},TypeDefinition(l,r){r(l,"type")},__proto__:null};function getScope(l,r){let a=cache.get(r);if(a)return a;let s=[],o=!0;function f(h,d){let g=l.sliceString(h.from,h.to);s.push({label:g,type:d})}return r.cursor(IterMode.IncludeAnonymous).iterate(h=>{if(o)o=!1;else if(h.name){let d=gatherCompletions[h.name];if(d&&d(h,f)||ScopeNodes.has(h.name))return!1}else if(h.to-h.from>8192){for(let d of getScope(l,h.node))s.push(d);return!1}}),cache.set(r,s),s}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(l){let r=syntaxTree(l.state).resolveInner(l.pos,-1);if(dontComplete.indexOf(r.name)>-1)return null;let a=r.name=="VariableName"||r.to-r.from<20&&Identifier.test(l.state.sliceDoc(r.from,r.to));if(!a&&!l.explicit)return null;let s=[];for(let o=r;o;o=o.parent)ScopeNodes.has(o.name)&&(s=s.concat(getScope(l.state.doc,o)));return{options:s,from:a?r.from:l.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:l=>{let r=l.textAfter,a=/^\s*\}/.test(r),s=/^\s*(case|default)\b/.test(r);return l.baseIndent+(a?0:s?1:2)*l.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:l=>l.baseIndent+l.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(l){let r=/^\s*<\//.test(l.textAfter);return l.lineIndent(l.node.from)+(r?0:l.unit)},JSXEscape(l){let r=/\s*\}/.test(l.textAfter);return l.lineIndent(l.node.from)+(r?0:l.unit)},"JSXOpenTag JSXSelfClosingTag"(l){return l.column(l.node.from)+l.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(l){return{from:l.from+2,to:l.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:l=>/^JSX/.test(l.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(l=>l.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(l=>l.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=l=>({label:l,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(l={}){let r=l.jsx?l.typescript?tsxLanguage:jsxLanguage:l.typescript?typescriptLanguage:javascriptLanguage,a=l.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(r,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(a))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),l.jsx?autoCloseTags:[]])}function findOpenTag(l){for(;;){if(l.name=="JSXOpenTag"||l.name=="JSXSelfClosingTag"||l.name=="JSXFragmentTag")return l;if(l.name=="JSXEscape"||!l.parent)return null;l=l.parent}}function elementName(l,r,a=l.length){for(let s=r?.firstChild;s;s=s.nextSibling)if(s.name=="JSXIdentifier"||s.name=="JSXBuiltin"||s.name=="JSXNamespacedName"||s.name=="JSXMemberExpression")return l.sliceString(s.from,Math.min(s.to,a));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((l,r,a,s,o)=>{if((android?l.composing:l.compositionStarted)||l.state.readOnly||r!=a||s!=">"&&s!="/"||!javascriptLanguage.isActiveAt(l.state,r,-1))return!1;let f=o(),{state:h}=f,d=h.changeByRange(g=>{var m;let{head:y}=g,v=syntaxTree(h).resolveInner(y-1,-1),x;if(v.name=="JSXStartTag"&&(v=v.parent),!(h.doc.sliceString(y-1,y)!=s||v.name=="JSXAttributeValue"&&v.to>y)){if(s==">"&&v.name=="JSXFragmentTag")return{range:g,changes:{from:y,insert:"</>"}};if(s=="/"&&v.name=="JSXStartCloseTag"){let k=v.parent,Q=k.parent;if(Q&&k.from==y-2&&((x=elementName(h.doc,Q.firstChild,y))||((m=Q.firstChild)===null||m===void 0?void 0:m.name)=="JSXFragmentTag")){let A=`${x}>`;return{range:EditorSelection.cursor(y+A.length,-1),changes:{from:y,insert:A}}}}else if(s==">"){let k=findOpenTag(v);if(k&&k.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(h.doc.sliceString(y,y+2))&&(x=elementName(h.doc,k,y)))return{range:g,changes:{from:y,insert:`</${x}>`}}}}return{range:g}});return d.changes.empty?!1:(l.dispatch([f,h.update(d,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});const mergeClasses=(...l)=>l.filter((r,a,s)=>!!r&&r.trim()!==""&&s.indexOf(r)===a).join(" ").trim();const toKebabCase=l=>l.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const toCamelCase=l=>l.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,s)=>s?s.toUpperCase():a.toLowerCase());const toPascalCase=l=>{const r=toCamelCase(l);return r.charAt(0).toUpperCase()+r.slice(1)};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hasA11yProp=l=>{for(const r in l)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};const Icon=reactExports.forwardRef(({color:l="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:o="",children:f,iconNode:h,...d},g)=>reactExports.createElement("svg",{ref:g,...defaultAttributes,width:r,height:r,stroke:l,strokeWidth:s?Number(a)*24/Number(r):a,className:mergeClasses("lucide",o),...!f&&!hasA11yProp(d)&&{"aria-hidden":"true"},...d},[...h.map(([m,y])=>reactExports.createElement(m,y)),...Array.isArray(f)?f:[f]]));const createLucideIcon=(l,r)=>{const a=reactExports.forwardRef(({className:s,...o},f)=>reactExports.createElement(Icon,{ref:f,iconNode:r,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(l))}`,`lucide-${l}`,s),...o}));return a.displayName=toPascalCase(l),a};const __iconNode$c=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$c);const __iconNode$b=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$b);const __iconNode$a=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$a);const __iconNode$9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$9);const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$8);const __iconNode$7=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Code=createLucideIcon("code",__iconNode$7);const __iconNode$6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$6);const __iconNode$5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$4);const __iconNode$3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$3);const __iconNode$2=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],TreePine=createLucideIcon("tree-pine",__iconNode$2);const __iconNode$1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$1);const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);var peggy_min$1={exports:{}},peggy_min=peggy_min$1.exports,hasRequiredPeggy_min;function requirePeggy_min(){return hasRequiredPeggy_min||(hasRequiredPeggy_min=1,(function(module,exports$1){function _array_like_to_array(l,r){(r==null||r>l.length)&&(r=l.length);for(var a=0,s=new Array(r);a<r;a++)s[a]=l[a];return s}function _array_with_holes(l){if(Array.isArray(l))return l}function _array_without_holes(l){if(Array.isArray(l))return _array_like_to_array(l)}function _assert_this_initialized(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function _call_super(l,r,a){return r=_get_prototype_of(r),_possible_constructor_return(l,_is_native_reflect_construct()?Reflect.construct(r,a||[],_get_prototype_of(l).constructor):r.apply(l,a))}function _class_call_check(l,r){if(!(l instanceof r))throw new TypeError("Cannot call a class as a function")}function _construct(l,r,a){return _is_native_reflect_construct()?_construct=Reflect.construct:_construct=function(s,o,f){var h=[null];h.push.apply(h,o);var d=Function.bind.apply(s,h),g=new d;return f&&_set_prototype_of(g,f.prototype),g},_construct.apply(null,arguments)}function _defineProperties(l,r){for(var a=0;a<r.length;a++){var s=r[a];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(l,s.key,s)}}function _create_class(l,r,a){return r&&_defineProperties(l.prototype,r),a&&_defineProperties(l,a),l}function _define_property(l,r,a){return r in l?Object.defineProperty(l,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):l[r]=a,l}function _get(l,r,a){return typeof Reflect<"u"&&Reflect.get?_get=Reflect.get:_get=function(s,o,f){var h=_super_prop_base(s,o);if(h){var d=Object.getOwnPropertyDescriptor(h,o);return d.get?d.get.call(f||s):d.value}},_get(l,r,a||l)}function _get_prototype_of(l){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_get_prototype_of(l)}function _inherits(l,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");l.prototype=Object.create(r&&r.prototype,{constructor:{value:l,writable:!0,configurable:!0}}),r&&_set_prototype_of(l,r)}function _instanceof(l,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](l):l instanceof r}function _is_native_function(l){return Function.toString.call(l).indexOf("[native code]")!==-1}function _iterable_to_array(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function _iterable_to_array_limit(l,r){var a=l==null?null:typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(a!=null){var s=[],o=!0,f=!1,h,d;try{for(a=a.call(l);!(o=(h=a.next()).done)&&(s.push(h.value),!(r&&s.length===r));o=!0);}catch(g){f=!0,d=g}finally{try{!o&&a.return!=null&&a.return()}finally{if(f)throw d}}return s}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(l){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{},s=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(s=s.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),s.forEach(function(o){_define_property(l,o,a[o])})}return l}function ownKeys(l,r){var a=Object.keys(l);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(l);a.push.apply(a,s)}return a}function _object_spread_props(l,r){return r=r??{},Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(a){Object.defineProperty(l,a,Object.getOwnPropertyDescriptor(r,a))}),l}function _possible_constructor_return(l,r){return r&&(_type_of(r)==="object"||typeof r=="function")?r:_assert_this_initialized(l)}function _set_prototype_of(l,r){return _set_prototype_of=Object.setPrototypeOf||function(a,s){return a.__proto__=s,a},_set_prototype_of(l,r)}function _sliced_to_array(l,r){return _array_with_holes(l)||_iterable_to_array_limit(l,r)||_unsupported_iterable_to_array(l,r)||_non_iterable_rest()}function _super_prop_base(l,r){for(;!Object.prototype.hasOwnProperty.call(l,r)&&(l=_get_prototype_of(l),l!==null););return l}function _to_consumable_array(l){return _array_without_holes(l)||_iterable_to_array(l)||_unsupported_iterable_to_array(l)||_non_iterable_spread()}function _type_of(l){"@swc/helpers - typeof";return l&&typeof Symbol<"u"&&l.constructor===Symbol?"symbol":typeof l}function _unsupported_iterable_to_array(l,r){if(l){if(typeof l=="string")return _array_like_to_array(l,r);var a=Object.prototype.toString.call(l).slice(8,-1);if(a==="Object"&&l.constructor&&(a=l.constructor.name),a==="Map"||a==="Set")return Array.from(a);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _array_like_to_array(l,r)}}function _wrap_native_super(l){var r=typeof Map=="function"?new Map:void 0;return _wrap_native_super=function(a){if(a===null||!_is_native_function(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(a))return r.get(a);r.set(a,s)}function s(){return _construct(a,arguments,_get_prototype_of(this).constructor)}return s.prototype=Object.create(a.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(s,a)},_wrap_native_super(l)}function _is_native_reflect_construct(){try{var l=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_is_native_reflect_construct=function(){return!!l})()}(function(l,r){_type_of(exports$1)=="object"&&_type_of(module)<"u"?module.exports=r():l.peggy=r()})((typeof globalThis>"u"?"undefined":_type_of(globalThis))<"u"?globalThis:(typeof self>"u"?"undefined":_type_of(self))<"u"?self:peggy_min,function(){var exports$1={},__exports=exports$1,module={exports:exports$1},U=function(l,r){return function(){return r||l((r={exports:{}}).exports,r),r.exports}},Ve=U(function(l,r){var a=(function(){function s(o,f){_class_call_check(this,s),this.source=o,this.start=f}return _create_class(s,[{key:"toString",value:function(){return String(this.source)}},{key:"offset",value:function(o){return{line:o.line+this.start.line-1,column:o.line===1?o.column+this.start.column-1:o.column,offset:o.offset+this.start.offset}}}],[{key:"offsetStart",value:function(o){return o.source&&typeof o.source.offset=="function"?o.source.offset(o.start):o.start}},{key:"offsetEnd",value:function(o){return o.source&&typeof o.source.offset=="function"?o.source.offset(o.end):o.end}}]),s})();r.exports=a}),ft=U(function(l,r){var a=Ve(),s=(function(o){_inherits(f,o);function f(h,d,g){_class_call_check(this,f);var m;return m=_call_super(this,f,[h]),m.name="GrammarError",m.location=d,g===void 0&&(g=[]),m.diagnostics=g,m.stage=null,m.problems=[["error",h,d,g]],m}return _create_class(f,[{key:"toString",value:function(){var d=_get(_get_prototype_of(f.prototype),"toString",this).call(this);this.location&&(d+=`
 at `,this.location.source!==void 0&&this.location.source!==null&&(d+="".concat(this.location.source,":")),d+="".concat(this.location.start.line,":").concat(this.location.start.column));var g=!0,m=!1,y=void 0;try{for(var v=this.diagnostics[Symbol.iterator](),x;!(g=(x=v.next()).done);g=!0){var k=x.value;d+=`
 from `,k.location.source!==void 0&&k.location.source!==null&&(d+="".concat(k.location.source,":")),d+="".concat(k.location.start.line,":").concat(k.location.start.column,": ").concat(k.message)}}catch(Q){m=!0,y=Q}finally{try{!g&&v.return!=null&&v.return()}finally{if(m)throw y}}return d}},{key:"format",value:function(h){var d=h.map(function(y){var v=y.source,x=y.text;return{source:v,text:x!=null?String(x).split(/\r\n|\n|\r/g):[]}});function g(y,v){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",k="",Q=d.find(function(V){var z=V.source;return z===y.source}),A=y.start,M=a.offsetStart(y);if(Q){var L=y.end,B=Q.text[A.line-1],X=(A.line===L.line?L.column:B.length+1)-A.column||1;x&&(k+=`
note: `.concat(x)),k+=`
 --> `.concat(y.source,":").concat(M.line,":").concat(M.column,`
`).concat("".padEnd(v),` |
`).concat(M.line.toString().padStart(v)," | ").concat(B,`
`).concat("".padEnd(v)," | ").concat("".padEnd(A.column-1)).concat("".padEnd(X,"^"))}else k+=`
 at `.concat(y.source,":").concat(M.line,":").concat(M.column),x&&(k+=": ".concat(x));return k}function m(y,v,x){var k=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],Q=-1/0;x?Q=k.reduce(function(I,P){var F=P.location;return Math.max(I,a.offsetStart(F).line)},x.start.line):Q=Math.max.apply(null,k.map(function(I){return I.location.start.line})),Q=Q.toString().length;var A="".concat(y,": ").concat(v);x&&(A+=g(x,Q));var M=!0,L=!1,B=void 0;try{for(var X=k[Symbol.iterator](),V;!(M=(V=X.next()).done);M=!0){var z=V.value;A+=g(z.location,Q,z.message)}}catch(I){L=!0,B=I}finally{try{!M&&X.return!=null&&X.return()}finally{if(L)throw B}}return A}return this.problems.filter(function(y){return y[0]!=="info"}).map(function(y){return m.apply(void 0,_to_consumable_array(y))}).join(`

`)}}]),f})(_wrap_native_super(SyntaxError));r.exports=s}),K=U(function(l,r){var a={build:function(s){function o(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];var k;return(k=s)[m.type].apply(k,[m].concat(_to_consumable_array(v)))}function f(){}function h(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];return o.apply(void 0,[m.expression].concat(_to_consumable_array(v)))}function d(m){return function(y){for(var v=arguments.length,x=new Array(v>1?v-1:0),k=1;k<v;k++)x[k-1]=arguments[k];y[m].forEach(function(Q){return o.apply(void 0,[Q].concat(_to_consumable_array(x)))})}}var g={grammar:function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];var k=!0,Q=!1,A=void 0;try{for(var M=m.imports[Symbol.iterator](),L;!(k=(L=M.next()).done);k=!0){var B=L.value;o.apply(void 0,[B].concat(_to_consumable_array(v)))}}catch(we){Q=!0,A=we}finally{try{!k&&M.return!=null&&M.return()}finally{if(Q)throw A}}var X=!0,V=!1,z=void 0;if(m.topLevelInitializer)if(Array.isArray(m.topLevelInitializer))try{for(var I=m.topLevelInitializer[Symbol.iterator](),P;!(X=(P=I.next()).done);X=!0){var F=P.value;o.apply(void 0,[F].concat(_to_consumable_array(v)))}}catch(we){V=!0,z=we}finally{try{!X&&I.return!=null&&I.return()}finally{if(V)throw z}}else o.apply(void 0,[m.topLevelInitializer].concat(_to_consumable_array(v)));var ee=!0,fe=!1,j=void 0;if(m.initializer)if(Array.isArray(m.initializer))try{for(var J=m.initializer[Symbol.iterator](),le;!(ee=(le=J.next()).done);ee=!0){var Se=le.value;o.apply(void 0,[Se].concat(_to_consumable_array(v)))}}catch(we){fe=!0,j=we}finally{try{!ee&&J.return!=null&&J.return()}finally{if(fe)throw j}}else o.apply(void 0,[m.initializer].concat(_to_consumable_array(v)));m.rules.forEach(function(we){return o.apply(void 0,[we].concat(_to_consumable_array(v)))})},grammar_import:f,top_level_initializer:f,initializer:f,rule:h,named:h,choice:d("alternatives"),action:h,sequence:d("elements"),labeled:h,text:h,simple_and:h,simple_not:h,optional:h,zero_or_more:h,one_or_more:h,repeated:function(m){for(var y=arguments.length,v=new Array(y>1?y-1:0),x=1;x<y;x++)v[x-1]=arguments[x];return m.delimiter&&o.apply(void 0,[m.delimiter].concat(_to_consumable_array(v))),o.apply(void 0,[m.expression].concat(_to_consumable_array(v)))},group:h,semantic_and:f,semantic_not:f,rule_ref:f,library_ref:f,literal:f,class:f,any:f};return Object.keys(g).forEach(function(m){Object.prototype.hasOwnProperty.call(s,m)||(s[m]=g[m])}),o}};r.exports=a}),he=U(function(l,r){var a=function(f,h){if(!(f&&h))return f||h;var d=Array.isArray(f)?f:[f];return d.push(h),d},s=K(),o={findRule:function(f,h){for(var d=0;d<f.rules.length;d++)if(f.rules[d].name===h)return f.rules[d]},indexOfRule:function(f,h){for(var d=0;d<f.rules.length;d++)if(f.rules[d].name===h)return d;return-1},alwaysConsumesOnSuccess:function(f,h){function d(){return!0}function g(){return!1}var m=s.build({choice:function(y){return y.alternatives.every(m)},sequence:function(y){return y.elements.some(m)},simple_and:g,simple_not:g,optional:g,zero_or_more:g,repeated:function(y){var v=y.min?y.min:y.max;return v.type!=="constant"||v.value===0?!1:!!(m(y.expression)||v.value>1&&y.delimiter&&m(y.delimiter))},semantic_and:g,semantic_not:g,rule_ref:function(y){var v=o.findRule(f,y.name);return v?m(v):void 0},library_ref:g,literal:function(y){return y.value!==""},class:d,any:d});return m(h)},combine:function(f){return f.reduce(function(h,d){return h.topLevelInitializer=a(h.topLevelInitializer,d.topLevelInitializer),h.initializer=a(h.initializer,d.initializer),h.rules=h.rules.concat(d.rules),h})}};r.exports=o}),Xs=U(function(l,r){var a=function(s){var o=0,f=!0,h=!1,d=void 0;try{for(var g=s.imports[Symbol.iterator](),m;!(f=(m=g.next()).done);f=!0){var y=m.value,v=!0,x=!1,k=void 0;try{for(var Q=y.what[Symbol.iterator](),A;!(v=(A=Q.next()).done);v=!0){var M=A.value,L=void 0;switch(M.type){case"import_binding_all":continue;case"import_binding_default":break;case"import_binding":L=M.binding;break;case"import_binding_rename":L=M.rename;break;default:throw new TypeError("Unknown binding type")}s.rules.push({type:"rule",name:M.binding,nameLocation:M.location,expression:{type:"library_ref",name:L,library:y.from.module,libraryNumber:o,location:M.location},location:y.from.location})}}catch(B){x=!0,k=B}finally{try{!v&&Q.return!=null&&Q.return()}finally{if(x)throw k}}o++}}catch(B){h=!0,d=B}finally{try{!f&&g.return!=null&&g.return()}finally{if(h)throw d}}};r.exports=a}),Ks=U(function(l,r){var a=function(f,h){var d=0,g=!0,m=!1,y=void 0;try{for(var v=f.imports[Symbol.iterator](),x;!(g=(x=v.next()).done);g=!0){var k=x.value,Q=!0,A=!1,M=void 0;try{for(var L=k.what[Symbol.iterator](),B;!(Q=(B=L.next()).done);Q=!0){var X=B.value;if(X.type==="import_binding_all"&&X.binding===h)return d}}catch(V){A=!0,M=V}finally{try{!Q&&L.return!=null&&L.return()}finally{if(A)throw M}}d++}}catch(V){m=!0,y=V}finally{try{!g&&v.return!=null&&v.return()}finally{if(m)throw y}}return-1},s=function(f,h,d){o.build({library_ref:function(g){g.libraryNumber===-1&&(g.libraryNumber=a(f,g.library),g.libraryNumber===-1&&d.error('Unknown module "'.concat(g.library,'"'),g.location))}})(f)},o=K();r.exports=s}),Ht=U(function(l,r){var a={PUSH:0,PUSH_EMPTY_STRING:35,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,PLUCK:36,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,IF_LT:30,IF_GE:31,IF_LT_DYNAMIC:32,IF_GE_DYNAMIC:33,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_CHAR_CLASS:20,MATCH_UNICODE_CLASS:42,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,LIBRARY_RULE:41,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29,SOURCE_MAP_PUSH:37,SOURCE_MAP_POP:38,SOURCE_MAP_LABEL_PUSH:39,SOURCE_MAP_LABEL_POP:40};r.exports=a}),tr=U(function(l,r){var a=(function(){function s(o){_class_call_check(this,s),this.options=_object_spread({stringify:String,convert:function(f){return f}},o),this.items=[],this.offsets=Object.create(null)}return _create_class(s,[{key:"add",value:function(o){var f=this.options.convert(o);if(!f)return-1;var h=this.options.stringify(f),d=this.offsets[h];return d===void 0&&(d=this.items.push(f)-1,this.offsets[h]=d),d}},{key:"get",value:function(o){return this.items[o]}},{key:"map",value:function(o){return this.items.map(o)}}]),s})();r.exports=a}),ht=U(function(l,r){var a=function(m){function y(A){return A.match=d}function v(A){return Q(A.expression),A.match=h}function x(A){return A.match=Q(A.expression)}function k(A,M){for(var L=A.length,B=0,X=0,V=0;V<L;++V){var z=Q(A[V]);z===h&&++B,z===g&&++X}return B===L?h:M?X===L?g:d:X>0?g:d}var Q=s.build({rule:function(A){var M,L=0;if(_type_of(A.match)>"u"){A.match=d;do if(M=A.match,A.match=Q(A.expression),++L>6)throw new f("Infinity cycle detected when trying to evaluate node match result",A.location);while(M!==A.match)}return A.match},named:x,choice:function(A){return A.match=k(A.alternatives,!0)},action:x,sequence:function(A){return A.match=k(A.elements,!1)},labeled:x,text:x,simple_and:x,simple_not:function(A){return A.match=-Q(A.expression)},optional:v,zero_or_more:v,one_or_more:x,repeated:function(A){var M=Q(A.expression),L=A.delimiter?Q(A.delimiter):g,B=A.min?A.min:A.max;return B.type!=="constant"||A.max.type!=="constant"?A.match=d:A.max.value===0||A.max.value!==null&&B.value>A.max.value?A.match=g:M===g?A.match=B.value===0?h:g:M===h?A.delimiter&&B.value>=2?A.match=L:A.match=h:A.delimiter&&B.value>=2?A.match=L===g?g:d:A.match=B.value===0?h:d},group:x,semantic_and:y,semantic_not:y,rule_ref:function(A){var M=o.findRule(m,A.name);return M?A.match=Q(M):d},library_ref:function(){return 0},literal:function(A){var M=A.value.length===0?h:d;return A.match=M},class:function(A){var M=A.parts.length===0?g:d;return A.match=M},any:y});Q(m)},s=K(),o=he(),f=ft(),h=1,d=0,g=-1;a.ALWAYS_MATCH=h,a.SOMETIMES_MATCH=d,a.NEVER_MATCH=g,r.exports=a}),ir=U(function(l,r){var a=function(v,x){var k=new h,Q=new h({stringify:JSON.stringify,convert:function(Z){return{value:Z.parts,inverted:Z.inverted,ignoreCase:Z.ignoreCase,unicode:Z.unicode}}}),A=new h({stringify:JSON.stringify}),M=new h,L=[],B=[];function X(Z,N,G){var re={predicate:Z,params:N,body:G.code,location:G.codeLocation},pe=JSON.stringify(re),Te=L.findIndex(function($e){return JSON.stringify($e)===pe});return Te===-1?L.push(re)-1:Te}function V(Z){return B.push(Z)-1}function z(Z){var N={};return Object.keys(Z).forEach(function(G){N[G]=Z[G]}),N}function I(Z){for(var N=arguments.length,G=new Array(N>1?N-1:0),re=1;re<N;re++)G[re-1]=arguments[re];var pe;return(pe=Z).concat.apply(pe,_to_consumable_array(G))}function P(Z,N,G,re){return Z===g?G:Z===y?re:N.concat([G.length,re.length],G,re)}function F(Z,N){return Z.concat([N.length],N)}function ee(Z,N,G,re){var pe=Object.keys(G).map(function(Te){return re-G[Te]});return[o.CALL,Z,N,pe.length].concat(pe)}function fe(Z,N,G){var re=Z.match||0;return I([o.PUSH_CURR_POS],[o.SILENT_FAILS_ON],ge(Z,{sp:G.sp+1,env:z(G.env),action:null}),[o.SILENT_FAILS_OFF],P(N?-re:re,[N?o.IF_ERROR:o.IF_NOT_ERROR],I([o.POP],[N?o.POP:o.POP_CURR_POS],[o.PUSH_UNDEFINED]),I([o.POP],[N?o.POP_CURR_POS:o.POP],[o.PUSH_FAILED])))}function j(Z,N,G){var re=X(!0,Object.keys(G.env),Z);return I([o.UPDATE_SAVED_POS],ee(re,0,G.env,G.sp),P(Z.match||0,[o.IF],I([o.POP],N?[o.PUSH_FAILED]:[o.PUSH_UNDEFINED]),I([o.POP],N?[o.PUSH_UNDEFINED]:[o.PUSH_FAILED])))}function J(Z){return F([o.WHILE_NOT_ERROR],I([o.APPEND],Z))}function le(Z){var N=Z;return new Error('Unknown boundary type "'.concat(N.type,'" for the "repeated" node'))}function Se(Z,N,G,re){switch(Z.type){case"constant":return{pre:[],post:[],sp:G};case"variable":return Z.sp=re+G-N[Z.value],{pre:[],post:[],sp:G};case"function":{Z.sp=re;var pe=X(!0,Object.keys(N),{code:Z.value,codeLocation:Z.codeLocation});return{pre:ee(pe,0,N,G),post:[o.NIP],sp:G+1}}default:throw le(Z)}}function we(Z,N){if(N.value!==null){var G=N.type==="constant"?[o.IF_GE,N.value]:[o.IF_GE_DYNAMIC,N.sp||0];return P(m,G,[o.PUSH_FAILED],Z)}return Z}function W(Z,N){var G=N.type==="constant"?[o.IF_LT,N.value]:[o.IF_LT_DYNAMIC,N.sp||0];return I(Z,P(m,G,[o.POP,o.POP_CURR_POS,o.PUSH_FAILED],[o.NIP]))}function ue(Z,N,G,re,pe){return Z?I([o.PUSH_CURR_POS],ge(Z,{sp:re.sp+pe+1,env:z(re.env),action:null}),P(Z.match||0,[o.IF_NOT_ERROR],I([o.POP],G,P(-N,[o.IF_ERROR],[o.POP,o.POP_CURR_POS,o.PUSH_FAILED],[o.NIP])),[o.NIP])):G}function ke(Z){return x&&x.output==="source-and-map"&&Object.keys(Z).forEach(function(N){var G=Z[N];Z[N]=function(re){for(var pe=arguments.length,Te=new Array(pe>1?pe-1:0),$e=1;$e<pe;$e++)Te[$e-1]=arguments[$e];var Oe=G.apply(void 0,[re].concat(_to_consumable_array(Te)));return Oe===void 0||!re.location?Oe:I([o.SOURCE_MAP_PUSH,V(re.location)],Oe,[o.SOURCE_MAP_POP])}}),f.build(Z)}var ge=ke({grammar:function(Z){Z.rules.forEach(ge),Z.literals=k.items,Z.classes=Q.items,Z.expectations=A.items,Z.importedNames=M.items,Z.functions=L,Z.locations=B},rule:function(Z){Z.bytecode=ge(Z.expression,{sp:-1,env:{},pluck:[],action:null})},named:function(Z,N){var G=Z.match||0,re=G===g?-1:A.add({type:"rule",value:Z.name});return I([o.SILENT_FAILS_ON],ge(Z.expression,N),[o.SILENT_FAILS_OFF],P(-G,[o.IF_ERROR],[o.FAIL,re],[]))},choice:function(Z,N){function G(re,pe){var Te=re[0].match||0,$e=ge(re[0],{sp:pe.sp,env:z(pe.env),action:null});return Te===g?$e:I($e,re.length>1?P(m,[o.IF_ERROR],I([o.POP],G(re.slice(1),pe)),[]):[])}return G(Z.alternatives,N)},action:function(Z,N){var G=z(N.env),re=Z.expression.type!=="sequence"||Z.expression.elements.length===0,pe=ge(Z.expression,{sp:N.sp+(re?1:0),env:G,action:Z}),Te=Z.expression.match||0,$e=re&&Te!==y?X(!1,Object.keys(G),Z):-1;return re?I([o.PUSH_CURR_POS],pe,P(Te,[o.IF_NOT_ERROR],I([o.LOAD_SAVED_POS,1],ee($e,1,G,N.sp+2)),[]),[o.NIP]):pe},sequence:function(Z,N){function G(re,pe){if(re.length>0){var Te=Z.elements.length-re.length+1;return I(ge(re[0],{sp:pe.sp,env:pe.env,pluck:pe.pluck,action:null}),P(re[0].match||0,[o.IF_NOT_ERROR],G(re.slice(1),{sp:pe.sp+1,env:pe.env,pluck:pe.pluck,action:pe.action}),I(Te>1?[o.POP_N,Te]:[o.POP],[o.POP_CURR_POS],[o.PUSH_FAILED])))}else{if(pe.pluck&&pe.pluck.length>0)return I([o.PLUCK,Z.elements.length+1,pe.pluck.length],pe.pluck.map(function(Oe){return pe.sp-Oe}));if(pe.action){var $e=X(!1,Object.keys(pe.env),pe.action);return I([o.LOAD_SAVED_POS,Z.elements.length],ee($e,Z.elements.length+1,pe.env,pe.sp))}else return I([o.WRAP,Z.elements.length],[o.NIP])}}return I([o.PUSH_CURR_POS],G(Z.elements,{sp:N.sp+1,env:N.env,pluck:[],action:N.action}))},labeled:function(Z,N){var G=N.env,re=Z.label,pe=N.sp+1;re&&(G=z(N.env),N.env[re]=pe),Z.pick&&N.pluck.push(pe);var Te=ge(Z.expression,{sp:N.sp,env:G,action:null});return re&&Z.labelLocation&&x&&x.output==="source-and-map"?I([o.SOURCE_MAP_LABEL_PUSH,pe,k.add(re),V(Z.labelLocation)],Te,[o.SOURCE_MAP_LABEL_POP,pe]):Te},text:function(Z,N){return I([o.PUSH_CURR_POS],ge(Z.expression,{sp:N.sp+1,env:z(N.env),action:null}),P(Z.match||0,[o.IF_NOT_ERROR],I([o.POP],[o.TEXT]),[o.NIP]))},simple_and:function(Z,N){return fe(Z.expression,!1,N)},simple_not:function(Z,N){return fe(Z.expression,!0,N)},optional:function(Z,N){return I(ge(Z.expression,{sp:N.sp,env:z(N.env),action:null}),P(-(Z.expression.match||0),[o.IF_ERROR],I([o.POP],[o.PUSH_NULL]),[]))},zero_or_more:function(Z,N){var G=ge(Z.expression,{sp:N.sp+1,env:z(N.env),action:null});return I([o.PUSH_EMPTY_ARRAY],G,J(G),[o.POP])},one_or_more:function(Z,N){var G=ge(Z.expression,{sp:N.sp+1,env:z(N.env),action:null});return I([o.PUSH_EMPTY_ARRAY],G,P(Z.expression.match||0,[o.IF_NOT_ERROR],I(J(G),[o.POP]),I([o.POP],[o.POP],[o.PUSH_FAILED])))},repeated:function(Z,N){var G=Z.min?Z.min:Z.max,re=G.type!=="constant"||G.value>0,pe=Z.max.type!=="constant"&&Z.max.value!==null,Te=re?2:1,$e=Z.min?Se(Z.min,N.env,N.sp,2+(Z.max.type==="function"?1:0)):{pre:[],post:[],sp:N.sp},Oe=Se(Z.max,N.env,$e.sp,Te),Me=ge(Z.expression,{sp:Oe.sp+Te,env:z(N.env),action:null}),Pe=Z.delimiter!==null?ge(Z.expression,{sp:Oe.sp+Te+1,env:z(N.env),action:null}):Me,rt=ue(Z.delimiter,Z.expression.match||0,Pe,N,Te),_e=we(rt,Z.max),je=pe?we(Me,Z.max):Me,Ce=I(re?[o.PUSH_CURR_POS]:[],[o.PUSH_EMPTY_ARRAY],je,J(_e),[o.POP]);return I($e.pre,Oe.pre,re?W(Ce,G):Ce,Oe.post,$e.post)},group:function(Z,N){return ge(Z.expression,{sp:N.sp,env:z(N.env),action:null})},semantic_and:function(Z,N){return j(Z,!1,N)},semantic_not:function(Z,N){return j(Z,!0,N)},rule_ref:function(Z){return[o.RULE,s.indexOfRule(v,Z.name)]},library_ref:function(Z){return[o.LIBRARY_RULE,Z.libraryNumber,M.add(Z.name)]},literal:function(Z){if(Z.value.length>0){var N=Z.match||0,G=N===m||N===g&&!Z.ignoreCase?k.add(Z.ignoreCase?Z.value.toLowerCase():Z.value):-1,re=N!==g?A.add({type:"literal",value:Z.value,ignoreCase:Z.ignoreCase}):-1;return P(N,Z.ignoreCase?[o.MATCH_STRING_IC,G]:[o.MATCH_STRING,G],Z.ignoreCase?[o.ACCEPT_N,Z.value.length]:[o.ACCEPT_STRING,G],[o.FAIL,re])}return[o.PUSH_EMPTY_STRING]},class:function(Z){var N=Z.match||0,G=N===m?Q.add(Z):-1,re=N!==g?A.add({type:"class",value:Z.parts,inverted:Z.inverted,ignoreCase:Z.ignoreCase,unicode:Z.unicode}):-1;return P(N,[Z.unicode?o.MATCH_UNICODE_CLASS:o.MATCH_CHAR_CLASS,G],[o.ACCEPT_N,Z.unicode?-1:1],[o.FAIL,re])},any:function(Z){var N=Z.match||0,G=N!==g?A.add({type:"any"}):-1;return P(N,[o.MATCH_ANY],[o.ACCEPT_N,1],[o.FAIL,G])}});ge(v)},s=he(),o=Ht(),f=K(),h=tr(),d=ht(),g=d.ALWAYS_MATCH,m=d.SOMETIMES_MATCH,y=d.NEVER_MATCH;r.exports=a}),lr=U(function(l){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");l.encode=function(a){if(0<=a&&a<r.length)return r[a];throw new TypeError("Must be between 0 and 63: "+a)}}),pr=U(function(l){var r=function(d){return d<0?(-d<<1)+1:(d<<1)+0},a=lr(),s=5,o=1<<s,f=o-1,h=o;l.encode=function(d){var g="",m,y=r(d);do m=y&f,y>>>=s,y>0&&(m|=h),g+=a.encode(m);while(y>0);return g}}),mt=U(function(l){var r=function(P,F,ee){if(F in P)return P[F];if(arguments.length===3)return ee;throw new Error('"'+F+'" is a required argument.')},a=function(P){return P},s=function(P){return f(P)?"$"+P:P},o=function(P){return f(P)?P.slice(1):P},f=function(P){if(!P)return!1;var F=P.length;if(F<9||P.charCodeAt(F-1)!==95||P.charCodeAt(F-2)!==95||P.charCodeAt(F-3)!==111||P.charCodeAt(F-4)!==116||P.charCodeAt(F-5)!==111||P.charCodeAt(F-6)!==114||P.charCodeAt(F-7)!==112||P.charCodeAt(F-8)!==95||P.charCodeAt(F-9)!==95)return!1;for(var ee=F-10;ee>=0;ee--)if(P.charCodeAt(ee)!==36)return!1;return!0},h=function(P,F){return P===F?0:P===null?1:F===null?-1:P>F?1:-1},d=function(P,F){var ee=P.generatedLine-F.generatedLine;return ee!==0||(ee=P.generatedColumn-F.generatedColumn,ee!==0)||(ee=h(P.source,F.source),ee!==0)||(ee=P.originalLine-F.originalLine,ee!==0)||(ee=P.originalColumn-F.originalColumn,ee!==0)?ee:h(P.name,F.name)},g=function(P){return function(F){var ee=x(F),fe=v(F),j=new URL(F,fe);P(j);var J=j.toString();return ee==="absolute"?J:ee==="scheme-relative"?J.slice(B.length):ee==="path-absolute"?J.slice(X.length):k(fe,J)}},m=function(P,F){return new URL(P,F).toString()},y=function(P,F){var ee=0;do{var fe=P+ee++;if(F.indexOf(fe)===-1)return fe}while(!0)},v=function(P){for(var F=P.split("..").length-1,ee=y("p",P),fe="".concat(X,"/"),j=0;j<F;j++)fe+="".concat(ee,"/");return fe},x=function(P){return P[0]==="/"?P[1]==="/"?"scheme-relative":"path-absolute":V.test(P)?"absolute":"path-relative"},k=function(P,F){typeof P=="string"&&(P=new URL(P)),typeof F=="string"&&(F=new URL(F));var ee=F.pathname.split("/"),fe=P.pathname.split("/");for(fe.length>0&&!fe[fe.length-1]&&fe.pop();ee.length>0&&fe.length>0&&ee[0]===fe[0];)ee.shift(),fe.shift();return fe.map(function(){return".."}).concat(ee).join("/")+F.search+F.hash},Q=function(P,F){var ee=x(F),fe=x(P);if(P=z(P),ee==="absolute")return m(F,void 0);if(fe==="absolute")return m(F,P);if(ee==="scheme-relative")return I(F);if(fe==="scheme-relative")return m(F,m(P,X)).slice(B.length);if(ee==="path-absolute")return I(F);if(fe==="path-absolute")return m(F,m(P,X)).slice(X.length);var j=v(F+P),J=m(F,m(P,j));return k(j,J)},A=function(P,F){var ee=M(P,F);return typeof ee=="string"?ee:I(F)},M=function(P,F){if(x(P)!==x(F))return null;var ee=v(P+F),fe=new URL(P,ee),j=new URL(F,ee);try{new URL("",j.toString())}catch{return null}return j.protocol!==fe.protocol||j.user!==fe.user||j.password!==fe.password||j.hostname!==fe.hostname||j.port!==fe.port?null:k(fe,j)};l.getArg=r;var L=(function(){return!("__proto__"in Object.create(null))})();l.toSetString=L?a:s,l.fromSetString=L?a:o,l.compareByGeneratedPositionsInflated=d;var B="http:",X="".concat(B,"//host"),V=/^[A-Za-z0-9\+\-\.]+:/,z=g(function(P){P.pathname=P.pathname.replace(/\/?$/,"/")}),I=g(function(P){});l.normalize=I,l.join=Q,l.relative=A}),yr=U(function(l){var r=(function(){function a(){_class_call_check(this,a),this._array=[],this._set=new Map}return _create_class(a,[{key:"size",value:function(){return this._set.size}},{key:"add",value:function(s,o){var f=this.has(s),h=this._array.length;(!f||o)&&this._array.push(s),f||this._set.set(s,h)}},{key:"has",value:function(s){return this._set.has(s)}},{key:"indexOf",value:function(s){var o=this._set.get(s);if(o>=0)return o;throw new Error('"'+s+'" is not in the set.')}},{key:"at",value:function(s){if(s>=0&&s<this._array.length)return this._array[s];throw new Error("No element indexed by "+s)}},{key:"toArray",value:function(){return this._array.slice()}}],[{key:"fromArray",value:function(s,o){for(var f=new a,h=0,d=s.length;h<d;h++)f.add(s[h],o);return f}}]),a})();l.ArraySet=r}),xr=U(function(l){var r=function(o,f){var h=o.generatedLine,d=f.generatedLine,g=o.generatedColumn,m=f.generatedColumn;return d>h||d==h&&m>=g||a.compareByGeneratedPositionsInflated(o,f)<=0},a=mt(),s=(function(){function o(){_class_call_check(this,o),this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return _create_class(o,[{key:"unsortedForEach",value:function(f,h){this._array.forEach(f,h)}},{key:"add",value:function(f){r(this._last,f)?(this._last=f,this._array.push(f)):(this._sorted=!1,this._array.push(f))}},{key:"toArray",value:function(){return this._sorted||(this._array.sort(a.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}]),o})();l.MappingList=s}),Jt=U(function(l){var r=pr(),a=mt(),s=yr().ArraySet,o=xr().MappingList,f=(function(){function h(d){_class_call_check(this,h),d||(d={}),this._file=a.getArg(d,"file",null),this._sourceRoot=a.getArg(d,"sourceRoot",null),this._skipValidation=a.getArg(d,"skipValidation",!1),this._sources=new s,this._names=new s,this._mappings=new o,this._sourcesContents=null}return _create_class(h,[{key:"addMapping",value:function(d){var g=a.getArg(d,"generated"),m=a.getArg(d,"original",null),y=a.getArg(d,"source",null),v=a.getArg(d,"name",null);this._skipValidation||this._validateMapping(g,m,y,v),y!=null&&(y=String(y),this._sources.has(y)||this._sources.add(y)),v!=null&&(v=String(v),this._names.has(v)||this._names.add(v)),this._mappings.add({generatedLine:g.line,generatedColumn:g.column,originalLine:m&&m.line,originalColumn:m&&m.column,source:y,name:v})}},{key:"setSourceContent",value:function(d,g){var m=d;this._sourceRoot!=null&&(m=a.relative(this._sourceRoot,m)),g!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(m)]=g):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(m)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}},{key:"applySourceMap",value:function(d,g,m){var y=g;if(g==null){if(d.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);y=d.file}var v=this._sourceRoot;v!=null&&(y=a.relative(v,y));var x=this._mappings.toArray().length>0?new s:this._sources,k=new s;this._mappings.unsortedForEach(function(Q){if(Q.source===y&&Q.originalLine!=null){var A=d.originalPositionFor({line:Q.originalLine,column:Q.originalColumn});A.source!=null&&(Q.source=A.source,m!=null&&(Q.source=a.join(m,Q.source)),v!=null&&(Q.source=a.relative(v,Q.source)),Q.originalLine=A.line,Q.originalColumn=A.column,A.name!=null&&(Q.name=A.name))}var M=Q.source;M!=null&&!x.has(M)&&x.add(M);var L=Q.name;L!=null&&!k.has(L)&&k.add(L)},this),this._sources=x,this._names=k,d.sources.forEach(function(Q){var A=d.sourceContentFor(Q);A!=null&&(m!=null&&(Q=a.join(m,Q)),v!=null&&(Q=a.relative(v,Q)),this.setSourceContent(Q,A))},this)}},{key:"_validateMapping",value:function(d,g,m,y){if(g&&typeof g.line!="number"&&typeof g.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0&&!g&&!m&&!y)&&!(d&&"line"in d&&"column"in d&&g&&"line"in g&&"column"in g&&d.line>0&&d.column>=0&&g.line>0&&g.column>=0&&m))throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:m,original:g,name:y}))}},{key:"_serializeMappings",value:function(){for(var g=0,m=1,y=0,v=0,x=0,k=0,Q="",A,M,L,B,X=this._mappings.toArray(),V=0,z=X.length;V<z;V++){if(M=X[V],A="",M.generatedLine!==m)for(g=0;M.generatedLine!==m;)A+=";",m++;else if(V>0){if(!a.compareByGeneratedPositionsInflated(M,X[V-1]))continue;A+=","}A+=r.encode(M.generatedColumn-g),g=M.generatedColumn,M.source!=null&&(B=this._sources.indexOf(M.source),A+=r.encode(B-k),k=B,A+=r.encode(M.originalLine-1-v),v=M.originalLine-1,A+=r.encode(M.originalColumn-y),y=M.originalColumn,M.name!=null&&(L=this._names.indexOf(M.name),A+=r.encode(L-x),x=L)),Q+=A}return Q}},{key:"_generateSourcesContent",value:function(d,g){return d.map(function(m){if(!this._sourcesContents)return null;g!=null&&(m=a.relative(g,m));var y=a.toSetString(m);return Object.prototype.hasOwnProperty.call(this._sourcesContents,y)?this._sourcesContents[y]:null},this)}},{key:"toJSON",value:function(){var g={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(g.file=this._file),this._sourceRoot!=null&&(g.sourceRoot=this._sourceRoot),this._sourcesContents&&(g.sourcesContent=this._generateSourcesContent(g.sources,g.sourceRoot)),g}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}],[{key:"fromSourceMap",value:function(d){var g=d.sourceRoot,m=new h({file:d.file,sourceRoot:g});return d.eachMapping(function(y){var v={generated:{line:y.generatedLine,column:y.generatedColumn}};y.source!=null&&(v.source=y.source,g!=null&&(v.source=a.relative(g,v.source)),v.original={line:y.originalLine,column:y.originalColumn},y.name!=null&&(v.name=y.name)),m.addMapping(v)}),d.sources.forEach(function(y){var v=y;g!=null&&(v=a.relative(g,y)),m._sources.has(v)||m._sources.add(v);var x=d.sourceContentFor(y);x!=null&&m.setSourceContent(y,x)}),m}}]),h})();f.prototype._version=3,l.SourceMapGenerator=f}),Ar=U(function(l){var r=Jt().SourceMapGenerator,a=mt(),s=/(\r?\n)/,o=10,f="$$$isSourceNode$$$",h=(function(){function d(g,m,y,v,x){_class_call_check(this,d),this.children=[],this.sourceContents={},this.line=g??null,this.column=m??null,this.source=y??null,this.name=x??null,this[f]=!0,v!=null&&this.add(v)}return _create_class(d,[{key:"add",value:function(g){if(Array.isArray(g))g.forEach(function(m){this.add(m)},this);else if(g[f]||typeof g=="string")g&&this.children.push(g);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+g);return this}},{key:"prepend",value:function(g){if(Array.isArray(g))for(var m=g.length-1;m>=0;m--)this.prepend(g[m]);else if(g[f]||typeof g=="string")this.children.unshift(g);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+g);return this}},{key:"walk",value:function(g){for(var m,y=0,v=this.children.length;y<v;y++)m=this.children[y],m[f]?m.walk(g):m!==""&&g(m,{source:this.source,line:this.line,column:this.column,name:this.name})}},{key:"join",value:function(g){var m,y,v=this.children.length;if(v>0){for(m=[],y=0;y<v-1;y++)m.push(this.children[y]),m.push(g);m.push(this.children[y]),this.children=m}return this}},{key:"replaceRight",value:function(g,m){var y=this.children[this.children.length-1];return y[f]?y.replaceRight(g,m):typeof y=="string"?this.children[this.children.length-1]=y.replace(g,m):this.children.push("".replace(g,m)),this}},{key:"setSourceContent",value:function(g,m){this.sourceContents[a.toSetString(g)]=m}},{key:"walkSourceContents",value:function(g){for(var m=0,y=this.children.length;m<y;m++)this.children[m][f]&&this.children[m].walkSourceContents(g);for(var v=Object.keys(this.sourceContents),x=0,k=v.length;x<k;x++)g(a.fromSetString(v[x]),this.sourceContents[v[x]])}},{key:"toString",value:function(){var m="";return this.walk(function(y){m+=y}),m}},{key:"toStringWithSourceMap",value:function(g){var m={code:"",line:1,column:0},y=new r(g),v=!1,x=null,k=null,Q=null,A=null;return this.walk(function(M,L){m.code+=M,L.source!==null&&L.line!==null&&L.column!==null?((x!==L.source||k!==L.line||Q!==L.column||A!==L.name)&&y.addMapping({source:L.source,original:{line:L.line,column:L.column},generated:{line:m.line,column:m.column},name:L.name}),x=L.source,k=L.line,Q=L.column,A=L.name,v=!0):v&&(y.addMapping({generated:{line:m.line,column:m.column}}),x=null,v=!1);for(var B=0,X=M.length;B<X;B++)M.charCodeAt(B)===o?(m.line++,m.column=0,B+1===X?(x=null,v=!1):v&&y.addMapping({source:L.source,original:{line:L.line,column:L.column},generated:{line:m.line,column:m.column},name:L.name})):m.column++}),this.walkSourceContents(function(M,L){y.setSourceContent(M,L)}),{code:m.code,map:y}}}],[{key:"fromStringWithSourceMap",value:function(g,m,y){var v=new d,x=g.split(s),k=0,Q=function(){var z=P(),I=P()||"";return z+I;function P(){return k<x.length?x[k++]:void 0}},A=1,M=0,L=null,B;return m.eachMapping(function(V){if(L!==null)if(A<V.generatedLine)X(L,Q()),A++,M=0;else{B=x[k]||"";var z=B.substr(0,V.generatedColumn-M);x[k]=B.substr(V.generatedColumn-M),M=V.generatedColumn,X(L,z),L=V;return}for(;A<V.generatedLine;)v.add(Q()),A++;M<V.generatedColumn&&(B=x[k]||"",v.add(B.substr(0,V.generatedColumn)),x[k]=B.substr(V.generatedColumn),M=V.generatedColumn),L=V},this),k<x.length&&(L&&X(L,Q()),v.add(x.splice(k).join(""))),m.sources.forEach(function(V){var z=m.sourceContentFor(V);z!=null&&(y!=null&&(V=a.join(y,V)),v.setSourceContent(V,z))}),v;function X(V,z){if(V===null||V.source===void 0)v.add(z);else{var I=y?a.join(y,V.source):V.source;v.add(new d(V.originalLine,V.originalColumn,I,z,V.name))}}}}]),d})();l.SourceNode=h}),Kt=U(function(l){l.SourceMapGenerator=Jt().SourceMapGenerator,l.SourceNode=Ar().SourceNode}),Rr=U(function(l,r){var a=Kt(),s=a.SourceNode,o=Ve(),f=(function(){function h(d,g,m,y){_class_call_check(this,h),this.sp=-1,this.maxSp=-1,this.varName=g,this.ruleName=d,this.type=m,this.bytecode=y,this.labels={},this.sourceMapStack=[]}return _create_class(h,[{key:"name",value:function(d){if(d<0)throw new RangeError("Rule '".concat(this.ruleName,"': The variable stack underflow: attempt to use a variable '").concat(this.varName,"<x>' at an index ").concat(d,`.
Bytecode: `).concat(this.bytecode));return this.varName+d}},{key:"push",value:function(d){++this.sp>this.maxSp&&(this.maxSp=this.sp);var g=this.labels[this.sp],m=[this.name(this.sp)," = ",d,";"];if(g)if(this.sourceMapStack.length){var y=h.sourceNode(g.location,m.splice(0,2),g.label),v=this.sourceMapPopInternal(),x=v.parts,k=v.location,Q=k.start.offset<g.location.end.offset?{start:g.location.end,end:k.end,source:k.source}:k,A=h.sourceNode(Q,m.concat(`
`));return this.sourceMapStack.push([x,x.length+1,k]),new s(null,null,g.location.source,[y,A])}else return h.sourceNode(g.location,m.concat(`
`));return m.join("")}},{key:"pop",value:function(d){var g=this;return d!==void 0?(this.sp-=d,Array.from({length:d},function(m,y){return g.name(g.sp+1+y)})):this.name(this.sp--)}},{key:"top",value:function(){return this.name(this.sp)}},{key:"index",value:function(d){if(d<0)throw new RangeError("Rule '".concat(this.ruleName,"': The variable stack overflow: attempt to get a variable at a negative index ").concat(d,`.
Bytecode: `).concat(this.bytecode));return this.name(this.sp-d)}},{key:"result",value:function(){if(this.maxSp<0)throw new RangeError("Rule '".concat(this.ruleName,`': The variable stack is empty, can't get the result.
Bytecode: `).concat(this.bytecode));return this.name(0)}},{key:"defines",value:function(){var g=this;return this.maxSp<0?"":this.type+" "+Array.from({length:this.maxSp+1},function(m,y){return g.name(y)}).join(", ")+";"}},{key:"checkedIf",value:function(d,g,m){var y=this.sp,v=g();if(!m)return[v];var x=this.sp;this.sp=y;var k=m();if(x!==this.sp)throw new Error("Rule '"+this.ruleName+"', position "+d+": Branches of a condition can't move the stack pointer differently (before: "+y+", after then: "+x+", after else: "+this.sp+"). Bytecode: "+this.bytecode);return[v,k]}},{key:"checkedLoop",value:function(d,g){var m=this.sp,y=g();if(m!==this.sp)throw new Error("Rule '"+this.ruleName+"', position "+d+": Body of a loop can't move the stack pointer (before: "+m+", after: "+this.sp+"). Bytecode: "+this.bytecode);return y}},{key:"sourceMapPush",value:function(d,g){if(this.sourceMapStack.length){var m=this.sourceMapStack[this.sourceMapStack.length-1];m[2].start.offset===g.start.offset&&m[2].end.offset>g.end.offset&&(m[2]={start:g.end,end:m[2].end,source:m[2].source})}this.sourceMapStack.push([d,d.length,g])}},{key:"sourceMapPopInternal",value:function(){var g=this.sourceMapStack.pop();if(!g)throw new RangeError("Rule '".concat(this.ruleName,`': Attempting to pop an empty source map stack.
Bytecode: `).concat(this.bytecode));var m=_sliced_to_array(g,3),y=m[0],v=m[1],x=m[2],k=y.splice(v).map(function(A){return _instanceof(A,s)?A:A+`
`});if(k.length){var Q=o.offsetStart(x);y.push(new s(Q.line,Q.column-1,String(x.source),k))}return{parts:y,location:x}}},{key:"sourceMapPop",value:function(d){var g=this.sourceMapPopInternal(),m=g.location;if(this.sourceMapStack.length&&m.end.offset<this.sourceMapStack[this.sourceMapStack.length-1][2].end.offset){var y=this.sourceMapPopInternal(),v=y.parts,x=y.location,k=x.start.offset<m.end.offset?{start:m.end,end:x.end,source:x.source}:x;this.sourceMapStack.push([v,v.length+(d||0),k])}}}],[{key:"sourceNode",value:function(d,g,m){var y=o.offsetStart(d);return new s(y.line,y.column?y.column-1:null,String(d.source),g,m)}}]),h})();r.exports=f}),es=U(function(l){l.version="5.0.6"}),Qe=U(function(l){var r=function(h){return h.codePointAt(0).toString(16).toUpperCase()},a=function(h){return(typeof h>"u"?"undefined":_type_of(h))=="object"?"\\\\".concat(h.value):h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\v").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(RegExp("[\\u{10000}-\\u{10FFFF}]","gu"),function(d){return"\\u{".concat(r(d),"}")}).replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(d){return"\\x"+r(d)}).replace(/[\u0100-\u0FFF]/g,function(d){return"\\u0"+r(d)}).replace(/[\u1000-\uFFFF]/g,function(d){return"\\u"+r(d)})},s=function(h){return(typeof h>"u"?"undefined":_type_of(h))=="object"?"\\".concat(h.value):h.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\v").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(d){return"\\x"+r(d)}).replace(RegExp("[\\u{10000}-\\u{10FFFF}]","gu"),function(d){return"\\u{"+r(d)+"}"}).replace(/[\u0100-\u0FFF]/g,function(d){return"\\u0"+r(d)}).replace(/[\u1000-\uFFFF]/g,function(d){return"\\u"+r(d)})},o=function(h){for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=h.length%3,m=h.length-g,y="",v=0;v<m;v+=3)y+=d[h[v]>>2],y+=d[(h[v]&3)<<4|h[v+1]>>4],y+=d[(h[v+1]&15)<<2|h[v+2]>>6],y+=d[h[v+2]&63];return g===1?(y+=d[h[m]>>2],y+=d[(h[m]&3)<<4],y+="=="):g===2&&(y+=d[h[m]>>2],y+=d[(h[m]&3)<<4|h[m+1]>>4],y+=d[(h[m+1]&15)<<2],y+="="),y},f=function(h){var d=h[Symbol.iterator](),g=d.next();return g.done||!d.next().done?-1:g.value.codePointAt(0)};l.hex=r,l.stringEscape=a,l.regexpClassEscape=s,l.base64=o,l.codePointLen1=f}),ts=U(function(l,r){var a=function(d,g){g=g!==void 0?g:{};var m={},y=g.grammarSource,v={Grammar:ln,ImportsAndSource:Kr},x=ln,k="import",Q=";",A=",",M="*",L="as",B="{",X="}",V="from",z="=",I="/",P="@",F=":",ee="|",fe="..",j="(",J=")",le=".",Se=`
`,we=`\r
`,W="/*",ue="*/",ke="//",ge="\\",Z="i",N='"',G="'",re="[",pe="^",Te="]",$e="p",Oe="_",Me="u",Pe="-",rt="0",_e="b",je="f",Ce="n",Ee="r",Be="t",Ae="v",st="x",xe=/^[!$&]/,Ft=/^[*-+?]/,Xe=/^[!&]/,kt=/^[\0-\uD7FF\uE000-\uFFFF]/,en=/^[\uD800-\uDBFF]/,gi=/^[\uDC00-\uDFFF]/,Ct=/^[\uD800-\uDFFF]/,Un=RegExp("^[\\t\\v-\\f \\p{Zs}\\xA0\\uFEFF]","u"),Zi=/^[\n\r\u2028\u2029]/,zi=/^[\r\u2028-\u2029]/,Ot=RegExp("^[\\p{ID_Start}_]","u"),Et=RegExp("^[$\\p{ID_Continue}]","u"),At=/^[\n\r"\\\u2028-\u2029]/,Ut=/^[\n\r'\\\u2028-\u2029]/,Vt=/^[a-z]/i,Dt=/^[\n\r\\-\]\u2028-\u2029]/,bt=/^["'\\]/,Je=/^[0-9pux]/,Tt=/^[0-9]/,qt=/^[0-9a-f]/i,ri=/^[{}]/,is=Il(),Pr=qe("import",!1),Oi=qe(";",!1),yi=qe(",",!1),vi=qe("*",!1),Mr=qe("as",!1),dn=qe("{",!1),ai=qe("}",!1),gl=qe("from",!1),Dr=qe("=",!1),ji=qe("/",!1),ic=qe("@",!1),Ol=qe(":",!1),yl=vt(["!","$","&"],!1,!1,!1),vl=vt([["*","+"],"?"],!1,!1,!1),ya=qe("|",!1),rs=qe("..",!1),Sl=qe("(",!1),bl=qe(")",!1),Vn=qe(".",!1),zt=vt(["!","&"],!1,!1,!1),nn=vt([["\0",""],["",""]],!1,!1,!1),Xi=vt([["\uD800","\uDBFF"]],!1,!1,!1),as=vt([["\uDC00","\uDFFF"]],!1,!1,!1),rc=vt([["\uD800","\uDFFF"]],!1,!1,!1),ac=Hn("whitespace"),xl=vt(["	",["\v","\f"]," ","\\p{Zs}","","\uFEFF"],!1,!1,!0),Lr=vt([`
`,"\r","\u2028","\u2029"],!1,!1,!1),ss=Hn("end of line"),Ui=qe(`
`,!1),Vi=qe(`\r
`,!1),zr=vt(["\r",["\u2028","\u2029"]],!1,!1,!1),qi=Hn("comment"),$t=qe("/*",!1),Si=qe("*/",!1),wl=qe("//",!1),bi=Hn("identifier"),Yi=vt(["\\p{ID_Start}","_"],!1,!1,!0),Gi=qe("\\",!1),kl=vt(["$","\\p{ID_Continue}"],!1,!1,!0),Tl=Hn("literal"),Cl=qe("i",!1),va=Hn("string"),Xr=qe('"',!1),Mn=qe("'",!1),pn=vt([`
`,"\r",'"',"\\",["\u2028","\u2029"]],!1,!1,!1),El=vt([`
`,"\r","'","\\",["\u2028","\u2029"]],!1,!1,!1),sc=Hn("character class"),ls=qe("[",!1),_l=qe("^",!1),Sa=qe("]",!1),lc=qe("p",!0),mn=qe("_",!1),os=vt([["a","z"]],!1,!0,!1),ba=qe("u",!1),cs=qe("-",!1),Ii=vt([`
`,"\r",["\\","]"],["\u2028","\u2029"]],!1,!1,!1),Al=qe("0",!1),$l=vt(['"',"'","\\"],!1,!1,!1),Hi=qe("b",!1),oc=qe("f",!1),Rl=qe("n",!1),Pl=qe("r",!1),us=qe("t",!1),cc=qe("v",!1),uc=vt([["0","9"],"p","u","x"],!1,!1,!1),xa=qe("x",!1),qn=vt([["0","9"]],!1,!1,!1),fs=vt([["0","9"],["a","f"]],!1,!0,!1),hs=Hn("code block"),Yn=vt(["{","}"],!1,!1,!1);function Wi(b,E,$,R){return{type:"grammar",imports:b,topLevelInitializer:E,initializer:$,rules:R,location:Ie()}}function Ml(b,E){return[b,E]}function ds(b){return{type:"top_level_initializer",code:b,codeLocation:Ie()}}function Dl(b){return{type:"top_level_initializer",code:b,codeLocation:Ie()}}function Ur(b,E){return{type:"grammar_import",what:b,from:E,location:Ie()}}function Gn(b){return{type:"grammar_import",what:[],from:b,location:Ie()}}function ps(b,E){return E?(E.unshift(b),E):[b]}function Vr(b){return{type:"import_binding_default",binding:b[0],location:b[1]}}function si(b){return[{type:"import_binding_all",binding:b[0],location:b[1]}]}function ms(){return[]}function wa(b,E){return{type:"import_binding_rename",rename:b[0],renameLocation:b[1],binding:E[0],location:E[1]}}function Nl(b){return{type:"import_binding",binding:b[0],location:b[1]}}function ka(b){return{type:"import_module_specifier",module:b,location:Ie()}}function Ta(b){return[b,Ie()]}function Ll(b){return[b,Ie()]}function sn(b){return di.has(b[0])&&li(`Binding identifier can't be a reserved word "`.concat(b[0],'"'),b[1]),b[0]}function xi(b){return{type:"top_level_initializer",code:b[0],codeLocation:b[1],location:Ie()}}function Ca(b){return{type:"initializer",code:b[0],codeLocation:b[1],location:Ie()}}function qr(b,E,$){return{type:"rule",name:b[0],nameLocation:b[1],expression:E!==null?{type:"named",name:E,expression:$,location:Ie()}:$,location:Ie()}}function fc(b,E){return E.length>0?{type:"choice",alternatives:[b].concat(E),location:Ie()}:b}function gs(b,E){return E!==null?{type:"action",expression:b,code:E[0],codeLocation:E[1],location:Ie()}:b}function Os(b,E){return E.length>0||b.type==="labeled"&&b.pick?{type:"sequence",elements:[b].concat(E),location:Ie()}:b}function Ir(b,E,$){return $.type.startsWith("semantic_")&&li('"@" cannot be used on a semantic predicate',b),{type:"labeled",label:E!==null?E[0]:null,labelLocation:E!==null?E[1]:b,pick:!0,expression:$,location:Ie()}}function Ea(b,E){return{type:"labeled",label:b[0],labelLocation:b[1],expression:E,location:Ie()}}function Bl(){return Ie()}function hc(b){return di.has(b[0])&&li(`Label can't be a reserved word "`.concat(b[0],'"'),b[1]),b}function dc(b,E){return{type:s[b],expression:E,location:Ie()}}function pc(b,E){return{type:o[E],expression:b,location:Ie()}}function ys(b,E,$){var R=E[0],q=E[1];return q.type==="constant"&&q.value===0&&li("The maximum count of repetitions of the rule must be > 0",q.location),{type:"repeated",min:R,max:q,expression:b,delimiter:$,location:Ie()}}function mc(b,E){return[b!==null?b:{type:"constant",value:0},E!==null?E:{type:"constant",value:null}]}function gc(b){return[null,b]}function Oc(b){return{type:"constant",value:b,location:Ie()}}function yc(b){return{type:"variable",value:b[0],location:Ie()}}function vc(b){return{type:"function",value:b[0],codeLocation:b[1],location:Ie()}}function zl(b){return b.type==="labeled"||b.type==="sequence"?{type:"group",expression:b,location:Ie()}:b}function Sc(b,E){return{type:"library_ref",name:E[0],library:b[0],libraryNumber:-1,location:Ie()}}function bc(b){return{type:"rule_ref",name:b[0],location:Ie()}}function xc(b,E){return{type:f[b],code:E[0],codeLocation:E[1],location:Ie()}}function wc(b,E){return[b+E.join(""),Ie()]}function vs(b,E){return{type:"literal",value:b,ignoreCase:E!==null,location:Ie()}}function kc(b){return b.join("")}function Tc(b){return b.join("")}function Cc(b,E,$){if(b&&E.length===0)if($.unicode)E=[["\uD800","\uDFFF"]];else return{type:"any",location:Ie()};return{type:"class",parts:E.filter(function(R){return R!==""}),inverted:!!b,ignoreCase:!!$.ignoreCase,location:Ie(),unicode:!!$.unicode||E.flat().some(function(R){return(typeof R>"u"?"undefined":_type_of(R))=="object"&&R.unicode||R.codePointAt(0)>65535})}}function jl(b){try{new RegExp("[\\".concat(b,"]"),"u")}catch{li("Invalid Unicode property escape")}return{type:"classEscape",value:b,unicode:!0,location:Ie()}}function Ec(b){var E=Object.fromEntries(b);return Object.keys(E).length!==b.length&&li("Invalid flags"),E}function Qc(){return["ignoreCase",!0]}function _c(){return["unicode",!0]}function Ac(b,E){return b.codePointAt(0)>E.codePointAt(0)&&li("Invalid character range: "+Lc()+"."),[b,E]}function $c(){return""}function Rc(){return"\0"}function Pc(){return"\b"}function Mc(){return"\f"}function Dc(){return`
`}function Ss(){return"\r"}function Hr(){return"	"}function Nc(){return"\v"}function Ul(b){return String.fromCharCode(parseInt(b,16))}function Vl(b){return String.fromCharCode(parseInt(b,16))}function ql(b){return String.fromCodePoint(parseInt(b,16))}function Yl(){return{type:"any",location:Ie()}}function Gl(b){return[b,Ie()]}function Fi(b){return parseInt(b,10)}var T=g.peg$currPos|0,Re=T,Ki=[{line:1,column:1}],gn=T,Wr=g.peg$maxFailExpected||[],ne=g.peg$silentFails|0,In;if(g.startRule){if(!(g.startRule in v))throw new Error(`Can't start parsing from rule "`+g.startRule+'".');x=v[g.startRule]}function Lc(){return d.substring(Re,T)}function Ie(){return Qa(Re,T)}function li(b,E){throw E=E!==void 0?E:Qa(Re,T),Bc(b,E)}function Fr(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T,E=d.codePointAt(b);return E===void 0?"":String.fromCodePoint(E)}function qe(b,E){return{type:"literal",text:b,ignoreCase:E}}function vt(b,E,$,R){return{type:"class",parts:b,inverted:E,ignoreCase:$,unicode:R}}function Il(){return{type:"any"}}function Hl(){return{type:"end"}}function Hn(b){return{type:"other",description:b}}function Wl(b){var E=Ki[b],$;if(E)return E;if(b>=Ki.length)$=Ki.length-1;else for($=b;!Ki[--$];);for(E=Ki[$],E={line:E.line,column:E.column};$<b;)d.charCodeAt($)===10?(E.line++,E.column=1):E.column++,$++;return Ki[b]=E,E}function Qa(b,E,$){var R=Wl(b),q=Wl(E),oe={source:y,start:{offset:b,line:R.line,column:R.column},end:{offset:E,line:q.line,column:q.column}};return oe}function ye(b){T<gn||(T>gn&&(gn=T,Wr=[]),Wr.push(b))}function Bc(b,E){return new h(b,null,null,E)}function Zc(b,E,$){return new h(h.buildMessage(b,E),b,E,$)}function ln(){var b,E,$,R,q,oe,Ue,xt;if(b=T,E=bs(),$=T,R=Le(),q=ki(),q!==m?$=q:(T=$,$=m),$===m&&($=null),R=T,q=Le(),oe=no(),oe!==m?R=oe:(T=R,R=m),R===m&&(R=null),q=Le(),oe=[],Ue=T,xt=Es(),xt!==m?(Le(),Ue=xt):(T=Ue,Ue=m),Ue!==m)for(;Ue!==m;)oe.push(Ue),Ue=T,xt=Es(),xt!==m?(Le(),Ue=xt):(T=Ue,Ue=m);else oe=m;return oe!==m?(Re=b,b=Wi(E,$,R,oe)):(T=b,b=m),b}function Kr(){var b,E,$;return b=T,E=eo(),$=Fl(),Re=b,b=Ml(E,$),b}function Fl(){var b,E,$,R;for(b=T,E=T,$=[],d.length>T?(R=d.charAt(T),T++):(R=m,ne===0&&ye(is));R!==m;)$.push(R),d.length>T?(R=d.charAt(T),T++):(R=m,ne===0&&ye(is));return E=d.substring(E,T),Re=b,E=ds(E),b=E,b}function eo(){var b,E;return b=T,E=T,bs(),E=d.substring(E,T),Re=b,E=Dl(E),b=E,b}function bs(){var b,E;for(b=[],E=xs();E!==m;)b.push(E),E=xs();return b}function xs(){var b,E,$,R,q,oe,Ue,xt;return b=T,Le(),d.substr(T,6)===k?(E=k,T+=6):(E=m,ne===0&&ye(Pr)),E!==m?(Le(),$=ws(),$!==m?(R=Le(),q=na(),q!==m?(oe=T,Ue=Le(),d.charCodeAt(T)===59?(xt=Q,T++):(xt=m,ne===0&&ye(Oi)),xt!==m?(Ue=[Ue,xt],oe=Ue):(T=oe,oe=m),oe===m&&(oe=null),Re=b,b=Ur($,q)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,Le(),d.substr(T,6)===k?(E=k,T+=6):(E=m,ne===0&&ye(Pr)),E!==m?(Le(),$=oi(),$!==m?(R=T,q=Le(),d.charCodeAt(T)===59?(oe=Q,T++):(oe=m,ne===0&&ye(Oi)),oe!==m?(q=[q,oe],R=q):(T=R,R=m),R===m&&(R=null),Re=b,b=Gn($)):(T=b,b=m)):(T=b,b=m)),b}function ws(){var b,E,$,R,q;return b=wi(),b===m&&(b=Aa(),b===m&&(b=T,E=zc(),E!==m?($=T,Le(),d.charCodeAt(T)===44?(R=A,T++):(R=m,ne===0&&ye(yi)),R!==m?(Le(),q=wi(),q===m&&(q=Aa()),q!==m?$=q:(T=$,$=m)):(T=$,$=m),$===m&&($=null),Re=b,b=ps(E,$)):(T=b,b=m))),b}function zc(){var b,E;return b=T,E=Wn(),E!==m&&(Re=b,E=Vr(E)),b=E,b}function wi(){var b,E,$,R;return b=T,d.charCodeAt(T)===42?(E=M,T++):(E=m,ne===0&&ye(vi)),E!==m?(Le(),d.substr(T,2)===L?($=L,T+=2):($=m,ne===0&&ye(Mr)),$!==m?(Le(),R=Wn(),R!==m?(Re=b,b=si(R)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function Aa(){var b,E,$,R,q,oe;return b=T,d.charCodeAt(T)===123?(E=B,T++):(E=m,ne===0&&ye(dn)),E!==m?(Le(),d.charCodeAt(T)===125?($=X,T++):($=m,ne===0&&ye(ai)),$!==m?(Re=b,b=ms()):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,d.charCodeAt(T)===123?(E=B,T++):(E=m,ne===0&&ye(dn)),E!==m?(Le(),$=ks(),$!==m?(Le(),R=T,d.charCodeAt(T)===44?(q=A,T++):(q=m,ne===0&&ye(yi)),q!==m?(oe=Le(),q=[q,oe],R=q):(T=R,R=m),R===m&&(R=null),d.charCodeAt(T)===125?(q=X,T++):(q=m,ne===0&&ye(ai)),q!==m?b=$:(T=b,b=m)):(T=b,b=m)):(T=b,b=m)),b}function na(){var b,E,$;return b=T,d.substr(T,4)===V?(E=V,T+=4):(E=m,ne===0&&ye(gl)),E!==m?(Le(),$=oi(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b}function ks(){var b,E,$,R,q,oe,Ue;for(b=T,E=[],$=Ts();$!==m;)E.push($),$=T,R=T,q=Le(),d.charCodeAt(T)===44?(oe=A,T++):(oe=m,ne===0&&ye(yi)),oe!==m?(Ue=Le(),q=[q,oe,Ue],R=q):(T=R,R=m),R!==m?(R=Ts(),R===m?(T=$,$=m):$=R):$=R;return E.length<1?(T=b,b=m):b=E,b}function Ts(){var b,E,$,R;return b=T,E=Cs(),E!==m?(Le(),d.substr(T,2)===L?($=L,T+=2):($=m,ne===0&&ye(Mr)),$!==m?(Le(),R=Wn(),R!==m?(Re=b,b=wa(E,R)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=Wn(),E!==m&&(Re=b,E=Nl(E)),b=E),b}function oi(){var b,E;return b=T,E=Dn(),E!==m&&(Re=b,E=ka(E)),b=E,b}function Wn(){var b,E;return b=T,E=to(),E!==m&&(Re=b,E=Ta(E)),b=E,b}function Cs(){var b,E;return b=Fn(),b===m&&(b=T,E=Dn(),E!==m&&(Re=b,E=Ll(E)),b=E),b}function to(){var b,E;return b=T,E=Fn(),E!==m&&(Re=b,E=sn(E)),b=E,b}function ki(){var b,E,$,R,q;return b=T,d.charCodeAt(T)===123?(E=B,T++):(E=m,ne===0&&ye(dn)),E!==m?($=Qn(),$!==m?(d.charCodeAt(T)===125?(R=X,T++):(R=m,ne===0&&ye(ai)),R!==m?(q=hi(),q!==m?(Re=b,b=xi($)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function no(){var b,E,$;return b=T,E=Qn(),E!==m?($=hi(),$!==m?(Re=b,b=Ca(E)):(T=b,b=m)):(T=b,b=m),b}function Es(){var b,E,$,R,q,oe;return b=T,E=Fn(),E!==m?(Le(),$=T,R=Dn(),R!==m?(Le(),$=R):(T=$,$=m),$===m&&($=null),d.charCodeAt(T)===61?(R=z,T++):(R=m,ne===0&&ye(Dr)),R!==m?(Le(),q=$a(),q!==m?(oe=hi(),oe!==m?(Re=b,b=qr(E,$,q)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function $a(){var b,E,$,R,q,oe;if(b=T,E=Qs(),E!==m){for($=[],R=T,Le(),d.charCodeAt(T)===47?(q=I,T++):(q=m,ne===0&&ye(ji)),q!==m?(Le(),oe=Qs(),oe!==m?R=oe:(T=R,R=m)):(T=R,R=m);R!==m;)$.push(R),R=T,Le(),d.charCodeAt(T)===47?(q=I,T++):(q=m,ne===0&&ye(ji)),q!==m?(Le(),oe=Qs(),oe!==m?R=oe:(T=R,R=m)):(T=R,R=m);Re=b,b=fc(E,$)}else T=b,b=m;return b}function Qs(){var b,E,$,R;return b=T,E=jc(),E!==m?($=T,Le(),R=Qn(),R!==m?$=R:(T=$,$=m),$===m&&($=null),Re=b,b=gs(E,$)):(T=b,b=m),b}function jc(){var b,E,$,R,q;if(b=T,E=_s(),E!==m){for($=[],R=T,Le(),q=_s(),q!==m?R=q:(T=R,R=m);R!==m;)$.push(R),R=T,Le(),q=_s(),q!==m?R=q:(T=R,R=m);Re=b,b=Os(E,$)}else T=b,b=m;return b}function _s(){var b,E,$,R;return b=T,E=io(),E!==m?($=As(),$===m&&($=null),R=ia(),R!==m?(Re=b,b=Ir(E,$,R)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=As(),E!==m?($=ia(),$!==m?(Re=b,b=Ea(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=ia())),b}function io(){var b,E;return b=T,d.charCodeAt(T)===64?(E=P,T++):(E=m,ne===0&&ye(ic)),E!==m&&(Re=b,E=Bl()),b=E,b}function As(){var b,E,$;return b=T,E=Fn(),E!==m?(Le(),d.charCodeAt(T)===58?($=F,T++):($=m,ne===0&&ye(Ol)),$!==m?(Le(),Re=b,b=hc(E)):(T=b,b=m)):(T=b,b=m),b}function ia(){var b,E,$;return b=T,E=En(),E!==m?(Le(),$=ra(),$!==m?(Re=b,b=dc(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=ra()),b}function En(){var b;return b=d.charAt(T),xe.test(b)?T++:(b=m,ne===0&&ye(yl)),b}function ra(){var b,E,$;return b=T,E=nr(),E!==m?(Le(),$=On(),$!==m?(Re=b,b=pc(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=Ji(),b===m&&(b=nr())),b}function On(){var b;return b=d.charAt(T),Ft.test(b)?T++:(b=m,ne===0&&ye(vl)),b}function Ji(){var b,E,$,R,q,oe,Ue;return b=T,E=nr(),E!==m?(Le(),d.charCodeAt(T)===124?($=ee,T++):($=m,ne===0&&ye(ya)),$!==m?(Le(),R=$s(),R!==m?(Le(),q=T,d.charCodeAt(T)===44?(oe=A,T++):(oe=m,ne===0&&ye(yi)),oe!==m?(Le(),Ue=$a(),Ue!==m?(Le(),q=Ue):(T=q,q=m)):(T=q,q=m),q===m&&(q=null),d.charCodeAt(T)===124?(oe=ee,T++):(oe=m,ne===0&&ye(ya)),oe!==m?(Re=b,b=ys(E,R,q)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function $s(){var b,E,$,R;return b=T,E=er(),E===m&&(E=null),Le(),d.substr(T,2)===fe?($=fe,T+=2):($=m,ne===0&&ye(rs)),$!==m?(Le(),R=er(),R===m&&(R=null),Re=b,b=mc(E,R)):(T=b,b=m),b===m&&(b=T,E=er(),E!==m&&(Re=b,E=gc(E)),b=E),b}function er(){var b,E;return b=T,E=ti(),E!==m&&(Re=b,E=Oc(E)),b=E,b===m&&(b=T,E=Fn(),E!==m&&(Re=b,E=yc(E)),b=E,b===m&&(b=T,E=Qn(),E!==m&&(Re=b,E=vc(E)),b=E)),b}function nr(){var b,E,$,R;return b=vn(),b===m&&(b=sa(),b===m&&(b=Bs(),b===m&&(b=Rs(),b===m&&(b=Ti(),b===m&&(b=T,d.charCodeAt(T)===40?(E=j,T++):(E=m,ne===0&&ye(Sl)),E!==m?(Le(),$=$a(),$!==m?(Le(),d.charCodeAt(T)===41?(R=J,T++):(R=m,ne===0&&ye(bl)),R!==m?(Re=b,b=zl($)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)))))),b}function Rs(){var b,E,$,R,q,oe,Ue,xt;return b=T,E=Fn(),E!==m?(d.charCodeAt(T)===46?($=le,T++):($=m,ne===0&&ye(Vn)),$!==m?(R=Fn(),R!==m?(Re=b,b=Sc(E,R)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=Fn(),E!==m?($=T,ne++,R=T,q=Le(),oe=T,Ue=Dn(),Ue!==m?(xt=Le(),Ue=[Ue,xt],oe=Ue):(T=oe,oe=m),oe===m&&(oe=null),d.charCodeAt(T)===61?(Ue=z,T++):(Ue=m,ne===0&&ye(Dr)),Ue!==m?(q=[q,oe,Ue],R=q):(T=R,R=m),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(Re=b,b=bc(E)):(T=b,b=m)):(T=b,b=m)),b}function Ti(){var b,E,$;return b=T,E=ro(),E!==m?(Le(),$=Qn(),$!==m?(Re=b,b=xc(E,$)):(T=b,b=m)):(T=b,b=m),b}function ro(){var b;return b=d.charAt(T),Xe.test(b)?T++:(b=m,ne===0&&ye(zt)),b}function jt(){var b;return b=rr(),b===m&&(b=Xc()),b}function rr(){var b;return b=d.charAt(T),kt.test(b)?T++:(b=m,ne===0&&ye(nn)),b}function Xc(){var b,E,$,R;return b=T,E=T,$=d.charAt(T),en.test($)?T++:($=m,ne===0&&ye(Xi)),$!==m?(R=d.charAt(T),gi.test(R)?T++:(R=m,ne===0&&ye(as)),R!==m?($=[$,R],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=d.charAt(T),Ct.test(b)?T++:(b=m,ne===0&&ye(rc))),b}function Yt(){var b;return ne++,b=Fr(),Un.test(b)?T+=b.length:(b=m,ne===0&&ye(xl)),ne--,b===m&&ne===0&&ye(ac),b}function Ci(){var b;return b=d.charAt(T),Zi.test(b)?T++:(b=m,ne===0&&ye(Lr)),b}function yn(){var b;return ne++,d.charCodeAt(T)===10?(b=Se,T++):(b=m,ne===0&&ye(Ui)),b===m&&(d.substr(T,2)===we?(b=we,T+=2):(b=m,ne===0&&ye(Vi)),b===m&&(b=d.charAt(T),zi.test(b)?T++:(b=m,ne===0&&ye(zr)))),ne--,b===m&&ne===0&&ye(ss),b}function Ps(){var b;return ne++,b=Ra(),b===m&&(b=Pa()),ne--,b===m&&ne===0&&ye(qi),b}function Ra(){var b,E,$,R,q,oe;if(b=T,d.substr(T,2)===W?(E=W,T+=2):(E=m,ne===0&&ye($t)),E!==m){for($=[],R=T,q=T,ne++,d.substr(T,2)===ue?(oe=ue,T+=2):(oe=m,ne===0&&ye(Si)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);R!==m;)$.push(R),R=T,q=T,ne++,d.substr(T,2)===ue?(oe=ue,T+=2):(oe=m,ne===0&&ye(Si)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);d.substr(T,2)===ue?(R=ue,T+=2):(R=m,ne===0&&ye(Si)),R!==m?(E=[E,$,R],b=E):(T=b,b=m)}else T=b,b=m;return b}function ci(){var b,E,$,R,q,oe;if(b=T,d.substr(T,2)===W?(E=W,T+=2):(E=m,ne===0&&ye($t)),E!==m){for($=[],R=T,q=T,ne++,d.substr(T,2)===ue?(oe=ue,T+=2):(oe=m,ne===0&&ye(Si)),oe===m&&(oe=Ci()),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);R!==m;)$.push(R),R=T,q=T,ne++,d.substr(T,2)===ue?(oe=ue,T+=2):(oe=m,ne===0&&ye(Si)),oe===m&&(oe=Ci()),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);d.substr(T,2)===ue?(R=ue,T+=2):(R=m,ne===0&&ye(Si)),R!==m?(E=[E,$,R],b=E):(T=b,b=m)}else T=b,b=m;return b}function Pa(){var b,E,$,R,q,oe;if(b=T,d.substr(T,2)===ke?(E=ke,T+=2):(E=m,ne===0&&ye(wl)),E!==m){for($=[],R=T,q=T,ne++,oe=Ci(),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);R!==m;)$.push(R),R=T,q=T,ne++,oe=Ci(),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);E=[E,$],b=E}else T=b,b=m;return b}function Fn(){var b,E,$,R;if(ne++,b=T,E=Ms(),E!==m){for($=[],R=Ds();R!==m;)$.push(R),R=Ds();Re=b,b=wc(E,$)}else T=b,b=m;return ne--,b===m&&(E=m,ne===0&&ye(bi)),b}function Ms(){var b,E,$;return b=Fr(),Ot.test(b)?T+=b.length:(b=m,ne===0&&ye(Yi)),b===m&&(b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=fi(),$!==m?b=$:(T=b,b=m)):(T=b,b=m)),b}function Ds(){var b;return b=Fr(),Et.test(b)?T+=b.length:(b=m,ne===0&&ye(kl)),b}function vn(){var b,E,$;return ne++,b=T,E=Dn(),E!==m?(d.charCodeAt(T)===105?($=Z,T++):($=m,ne===0&&ye(Cl)),$===m&&($=null),Re=b,b=vs(E,$)):(T=b,b=m),ne--,b===m&&(E=m,ne===0&&ye(Tl)),b}function Dn(){var b,E,$,R;if(ne++,b=T,d.charCodeAt(T)===34?(E=N,T++):(E=m,ne===0&&ye(Xr)),E!==m){for($=[],R=Ei();R!==m;)$.push(R),R=Ei();d.charCodeAt(T)===34?(R=N,T++):(R=m,ne===0&&ye(Xr)),R!==m?(Re=b,b=kc($)):(T=b,b=m)}else T=b,b=m;if(b===m)if(b=T,d.charCodeAt(T)===39?(E=G,T++):(E=m,ne===0&&ye(Mn)),E!==m){for($=[],R=aa();R!==m;)$.push(R),R=aa();d.charCodeAt(T)===39?(R=G,T++):(R=m,ne===0&&ye(Mn)),R!==m?(Re=b,b=Tc($)):(T=b,b=m)}else T=b,b=m;return ne--,b===m&&(E=m,ne===0&&ye(va)),b}function Ei(){var b,E,$,R;return b=T,E=T,$=T,ne++,R=d.charAt(T),At.test(R)?T++:(R=m,ne===0&&ye(pn)),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(R=jt(),R!==m?($=[$,R],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Bn())),b}function aa(){var b,E,$,R;return b=T,E=T,$=T,ne++,R=d.charAt(T),Ut.test(R)?T++:(R=m,ne===0&&ye(El)),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(R=jt(),R!==m?($=[$,R],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Bn())),b}function sa(){var b,E,$,R,q,oe;if(ne++,b=T,d.charCodeAt(T)===91?(E=re,T++):(E=m,ne===0&&ye(ls)),E!==m){for(d.charCodeAt(T)===94?($=pe,T++):($=m,ne===0&&ye(_l)),$===m&&($=null),R=[],q=fn(),q===m&&(q=ut(),q===m&&(q=He()));q!==m;)R.push(q),q=fn(),q===m&&(q=ut(),q===m&&(q=He()));d.charCodeAt(T)===93?(q=Te,T++):(q=m,ne===0&&ye(Sa)),q!==m?(oe=ao(),Re=b,b=Cc($,R,oe)):(T=b,b=m)}else T=b,b=m;return ne--,b===m&&(E=m,ne===0&&ye(sc)),b}function fn(){var b,E,$;return b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=Sn(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b}function Sn(){var b,E,$,R,q,oe,Ue;return b=T,E=T,$=T,R=d.charAt(T),R.toLowerCase()===$e?T++:(R=m,ne===0&&ye(lc)),R!==m?(d.charCodeAt(T)===123?(q=B,T++):(q=m,ne===0&&ye(dn)),q!==m?(oe=ui(),oe!==m?(d.charCodeAt(T)===125?(Ue=X,T++):(Ue=m,ne===0&&ye(ai)),Ue!==m?(R=[R,q,oe,Ue],$=R):(T=$,$=m)):(T=$,$=m)):(T=$,$=m)):(T=$,$=m),$!==m?E=d.substring(E,T):E=$,E!==m&&(Re=b,E=jl(E)),b=E,b}function ui(){var b,E,$,R;return b=T,E=Nn(),E!==m?(d.charCodeAt(T)===61?($=z,T++):($=m,ne===0&&ye(Dr)),$!==m?(R=Ln(),R!==m?(E=[E,$,R],b=E):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=Kn()),b}function Nn(){var b,E,$;if(b=T,E=[],$=oa(),$!==m)for(;$!==m;)E.push($),$=oa();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function Ln(){var b,E,$;if(b=T,E=[],$=la(),$!==m)for(;$!==m;)E.push($),$=la();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function Kn(){var b,E,$;if(b=T,E=[],$=la(),$!==m)for(;$!==m;)E.push($),$=la();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function la(){var b;return b=oa(),b===m&&(b=sr()),b}function oa(){var b;return b=Ns(),b===m&&(d.charCodeAt(T)===95?(b=Oe,T++):(b=m,ne===0&&ye(mn))),b}function Ns(){var b;return b=d.charAt(T),Vt.test(b)?T++:(b=m,ne===0&&ye(os)),b}function ao(){var b,E,$;for(b=T,E=[],$=Nt();$!==m;)E.push($),$=Nt();return Re=b,E=Ec(E),b=E,b}function Nt(){var b,E;return b=T,d.charCodeAt(T)===105?(E=Z,T++):(E=m,ne===0&&ye(Cl)),E!==m&&(Re=b,E=Qc()),b=E,b===m&&(b=T,d.charCodeAt(T)===117?(E=Me,T++):(E=m,ne===0&&ye(ba)),E!==m&&(Re=b,E=_c()),b=E),b}function ut(){var b,E,$,R;return b=T,E=He(),E!==m?(d.charCodeAt(T)===45?($=Pe,T++):($=m,ne===0&&ye(cs)),$!==m?(R=He(),R!==m?(Re=b,b=Ac(E,R)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function He(){var b,E,$,R;return b=T,E=T,$=T,ne++,R=d.charAt(T),Dt.test(R)?T++:(R=m,ne===0&&ye(Ii)),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(R=jt(),R!==m?($=[$,R],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Bn())),b}function Bn(){var b,E,$;return b=T,d.charCodeAt(T)===92?(E=ge,T++):(E=m,ne===0&&ye(Gi)),E!==m?($=yn(),$!==m?(Re=b,b=$c()):(T=b,b=m)):(T=b,b=m),b}function on(){var b,E,$,R;return b=Ls(),b===m&&(b=T,d.charCodeAt(T)===48?(E=rt,T++):(E=m,ne===0&&ye(Al)),E!==m?($=T,ne++,R=sr(),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(Re=b,b=Rc()):(T=b,b=m)):(T=b,b=m),b===m&&(b=ar(),b===m&&(b=fi()))),b}function Ls(){var b;return b=Jn(),b===m&&(b=so()),b}function Jn(){var b,E;return b=d.charAt(T),bt.test(b)?T++:(b=m,ne===0&&ye($l)),b===m&&(b=T,d.charCodeAt(T)===98?(E=_e,T++):(E=m,ne===0&&ye(Hi)),E!==m&&(Re=b,E=Pc()),b=E,b===m&&(b=T,d.charCodeAt(T)===102?(E=je,T++):(E=m,ne===0&&ye(oc)),E!==m&&(Re=b,E=Mc()),b=E,b===m&&(b=T,d.charCodeAt(T)===110?(E=Ce,T++):(E=m,ne===0&&ye(Rl)),E!==m&&(Re=b,E=Dc()),b=E,b===m&&(b=T,d.charCodeAt(T)===114?(E=Ee,T++):(E=m,ne===0&&ye(Pl)),E!==m&&(Re=b,E=Ss()),b=E,b===m&&(b=T,d.charCodeAt(T)===116?(E=Be,T++):(E=m,ne===0&&ye(us)),E!==m&&(Re=b,E=Hr()),b=E,b===m&&(b=T,d.charCodeAt(T)===118?(E=Ae,T++):(E=m,ne===0&&ye(cc)),E!==m&&(Re=b,E=Nc()),b=E)))))),b}function so(){var b,E,$,R;return b=T,E=T,$=T,ne++,R=lo(),R===m&&(R=Ci()),ne--,R===m?$=void 0:(T=$,$=m),$!==m?(R=jt(),R!==m?($=[$,R],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b}function lo(){var b;return b=Jn(),b===m&&(b=d.charAt(T),Je.test(b)?T++:(b=m,ne===0&&ye(uc))),b}function ar(){var b,E,$,R,q,oe;return b=T,d.charCodeAt(T)===120?(E=st,T++):(E=m,ne===0&&ye(xa)),E!==m?($=T,R=T,q=bn(),q!==m?(oe=bn(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m),R!==m?$=d.substring($,T):$=R,$!==m?(Re=b,b=Ul($)):(T=b,b=m)):(T=b,b=m),b}function fi(){var b,E,$,R,q,oe,Ue,xt;if(b=T,d.charCodeAt(T)===117?(E=Me,T++):(E=m,ne===0&&ye(ba)),E!==m?($=T,R=T,q=bn(),q!==m?(oe=bn(),oe!==m?(Ue=bn(),Ue!==m?(xt=bn(),xt!==m?(q=[q,oe,Ue,xt],R=q):(T=R,R=m)):(T=R,R=m)):(T=R,R=m)):(T=R,R=m),R!==m?$=d.substring($,T):$=R,$!==m?(Re=b,b=Vl($)):(T=b,b=m)):(T=b,b=m),b===m)if(b=T,d.charCodeAt(T)===117?(E=Me,T++):(E=m,ne===0&&ye(ba)),E!==m)if(d.charCodeAt(T)===123?($=B,T++):($=m,ne===0&&ye(dn)),$!==m){if(R=T,q=[],oe=bn(),oe!==m)for(;oe!==m;)q.push(oe),oe=bn();else q=m;q!==m?R=d.substring(R,T):R=q,R!==m?(d.charCodeAt(T)===125?(q=X,T++):(q=m,ne===0&&ye(ai)),q!==m?(Re=b,b=ql(R)):(T=b,b=m)):(T=b,b=m)}else T=b,b=m;else T=b,b=m;return b}function sr(){var b;return b=d.charAt(T),Tt.test(b)?T++:(b=m,ne===0&&ye(qn)),b}function bn(){var b;return b=d.charAt(T),qt.test(b)?T++:(b=m,ne===0&&ye(fs)),b}function Bs(){var b,E;return b=T,d.charCodeAt(T)===46?(E=le,T++):(E=m,ne===0&&ye(Vn)),E!==m&&(Re=b,E=Yl()),b=E,b}function Qn(){var b,E,$,R;return ne++,b=T,d.charCodeAt(T)===123?(E=B,T++):(E=m,ne===0&&ye(dn)),E!==m?($=ei(),d.charCodeAt(T)===125?(R=X,T++):(R=m,ne===0&&ye(ai)),R!==m?b=$:(T=b,b=m)):(T=b,b=m),ne--,b===m&&(E=m,ne===0&&ye(hs)),b}function ei(){var b,E;return b=T,E=Zn(),Re=b,E=Gl(E),b=E,b}function Zn(){var b,E,$,R,q,oe;if(b=T,E=[],$=[],R=T,q=T,ne++,oe=d.charAt(T),ri.test(oe)?T++:(oe=m,ne===0&&ye(Yn)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m),R!==m)for(;R!==m;)$.push(R),R=T,q=T,ne++,oe=d.charAt(T),ri.test(oe)?T++:(oe=m,ne===0&&ye(Yn)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);else $=m;for($===m&&($=T,d.charCodeAt(T)===123?(R=B,T++):(R=m,ne===0&&ye(dn)),R!==m?(q=Zn(),d.charCodeAt(T)===125?(oe=X,T++):(oe=m,ne===0&&ye(ai)),oe!==m?(R=[R,q,oe],$=R):(T=$,$=m)):(T=$,$=m));$!==m;){if(E.push($),$=[],R=T,q=T,ne++,oe=d.charAt(T),ri.test(oe)?T++:(oe=m,ne===0&&ye(Yn)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m),R!==m)for(;R!==m;)$.push(R),R=T,q=T,ne++,oe=d.charAt(T),ri.test(oe)?T++:(oe=m,ne===0&&ye(Yn)),ne--,oe===m?q=void 0:(T=q,q=m),q!==m?(oe=jt(),oe!==m?(q=[q,oe],R=q):(T=R,R=m)):(T=R,R=m);else $=m;$===m&&($=T,d.charCodeAt(T)===123?(R=B,T++):(R=m,ne===0&&ye(dn)),R!==m?(q=Zn(),d.charCodeAt(T)===125?(oe=X,T++):(oe=m,ne===0&&ye(ai)),oe!==m?(R=[R,q,oe],$=R):(T=$,$=m)):(T=$,$=m))}return b=d.substring(b,T),b}function ti(){var b,E,$,R;if(b=T,E=T,$=[],R=sr(),R!==m)for(;R!==m;)$.push(R),R=sr();else $=m;return $!==m?E=d.substring(E,T):E=$,E!==m&&(Re=b,E=Fi(E)),b=E,b}function Le(){var b,E;for(b=[],E=Yt(),E===m&&(E=yn(),E===m&&(E=Ps()));E!==m;)b.push(E),E=Yt(),E===m&&(E=yn(),E===m&&(E=Ps()));return b}function Zs(){var b,E;for(b=[],E=Yt(),E===m&&(E=ci());E!==m;)b.push(E),E=Yt(),E===m&&(E=ci());return b}function hi(){var b,E,$,R;if(b=[],E=T,$=Le(),d.charCodeAt(T)===59?(R=Q,T++):(R=m,ne===0&&ye(Oi)),R!==m?($=[$,R],E=$):(T=E,E=m),E!==m)for(;E!==m;)b.push(E),E=T,$=Le(),d.charCodeAt(T)===59?(R=Q,T++):(R=m,ne===0&&ye(Oi)),R!==m?($=[$,R],E=$):(T=E,E=m);else b=m;return b===m&&(b=T,E=Zs(),$=Pa(),$===m&&($=null),R=yn(),R!==m?(E=[E,$,R],b=E):(T=b,b=m),b===m&&(b=T,E=Le(),$=Ma(),$!==m?(E=[E,$],b=E):(T=b,b=m))),b}function Ma(){var b,E;return b=T,ne++,d.length>T?(E=d.charAt(T),T++):(E=m,ne===0&&ye(is)),ne--,E===m?b=void 0:(T=b,b=m),b}var di=new Set(g.reservedWords);In=x();var Rt=In!==m&&T===d.length;function ca(){throw In!==m&&T<d.length&&ye(Hl()),Zc(Wr,gn<d.length?Fr(gn):null,gn<d.length?Qa(gn,gn+1):Qa(gn,gn))}if(g.peg$library)return{peg$result:In,peg$currPos:T,peg$FAILED:m,peg$maxFailExpected:Wr,peg$maxFailPos:gn,peg$success:Rt,peg$throw:Rt?void 0:ca};if(Rt)return In;ca()},s={$:"text","&":"simple_and","!":"simple_not"},o={"?":"optional","*":"zero_or_more","+":"one_or_more"},f={"&":"semantic_and","!":"semantic_not"},h=(function(d){_inherits(g,d);function g(m,y,v,x){_class_call_check(this,g);var k;return k=_call_super(this,g,[m]),k.expected=y,k.found=v,k.location=x,k.name="SyntaxError",k}return _create_class(g,[{key:"format",value:function(m){var y=this,v="Error: "+this.message;if(this.location){var x=null,k=m.find(function(z){return z.source===y.location.source});k&&(x=k.text.split(/\r\n|\n|\r/g));var Q=this.location.start,A=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(Q):Q,M=this.location.source+":"+A.line+":"+A.column;if(x){var L=this.location.end,B="".padEnd(A.line.toString().length," "),X=x[Q.line-1],V=(Q.line===L.line?L.column:X.length+1)-Q.column||1;v+=`
 --> `+M+`
`+B+` |
`+A.line+" | "+X+`
`+B+" | "+"".padEnd(Q.column-1," ")+"".padEnd(V,"^")}else v+=`
 at `+M}return v}}],[{key:"buildMessage",value:function(m,y){function v(V){return V.codePointAt(0).toString(16).toUpperCase()}var x=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function k(V){return x?V.replace(x,function(z){return"\\u{"+v(z)+"}"}):V}function Q(V){return k(V.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(z){return"\\x0"+v(z)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(z){return"\\x"+v(z)}))}function A(V){return k(V.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(z){return"\\x0"+v(z)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(z){return"\\x"+v(z)}))}var M={literal:function(V){return'"'+Q(V.text)+'"'},class:function(V){var z=V.parts.map(function(I){return Array.isArray(I)?A(I[0])+"-"+A(I[1]):A(I)});return"["+(V.inverted?"^":"")+z.join("")+"]"+(V.unicode?"u":"")},any:function(){return"any character"},end:function(){return"end of input"},other:function(V){return V.description}};function L(V){return M[V.type](V)}function B(V){var z=V.map(L);if(z.sort(),z.length>0){for(var I=1,P=1;P<z.length;P++)z[P-1]!==z[P]&&(z[I]=z[P],I++);z.length=I}switch(z.length){case 1:return z[0];case 2:return z[0]+" or "+z[1];default:return z.slice(0,-1).join(", ")+", or "+z[z.length-1]}}function X(V){return V?'"'+Q(V)+'"':"end of input"}return"Expected "+B(m)+" but "+X(y)+" found."}}]),g})(_wrap_native_super(SyntaxError));r.exports={StartRules:["Grammar","ImportsAndSource"],SyntaxError:h,parse:a}}),Nr=U(function(l,r){var a=function(B,X,V){var z=A.offsetStart(X),I=z.line,P=z.column-1,F=B.split(`
`);return F.length===1?new Q(I,P,String(X.source),B,V):new Q(null,null,String(X.source),F.map(function(ee,fe){return new Q(I+fe,fe===0?P:0,String(X.source),fe===F.length-1?ee:[ee,`
`],V)}))},s=function(B,X,V,z,I){if(V){var P=A.offsetEnd(V);return new Q(null,null,String(V.source),[B,a(X,V,I),new Q(P.line,P.column-1,String(V.source),z)])}return new Q(null,null,null,[B,X,z])},o=function(B,X){if(!B.literals||!B.locations||!B.classes||!B.expectations||!B.functions||!B.importedNames)throw new Error("generateJS: generate bytecode was not called.");var V=B.literals,z=B.locations,I=B.classes,P=B.expectations,F=B.functions,ee=B.importedNames;if(!X.allowedStartRules)throw new Error("generateJS: options.allowedStartRules was not set.");var fe=X.allowedStartRules,j=X.dependencies||{};function J(Oe){var Me=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",Pe=Oe.match(/^\n*([ \t]+)/);return(Pe?Oe.replace(new RegExp("^".concat(Pe[1]),"gm"),Me):Oe).replace(/[ \t]+$/,"")}function le(Oe){var Me=!0,Pe=0;function rt(_e){return Array.isArray(_e)?_e.map(function(je){return rt(je)}):_instanceof(_e,Q)?(Pe++,_e.children=rt(_e.children),Pe--,_e):(Me?_e=_e.replace(/^(.+)$/gm,"  $1"):_e=_e.replace(/\n(\s*\S)/g,`
  $1`),Me=!Pe||_e.endsWith(`
`),_e)}return rt(Oe)}function Se(Oe){return"peg$c"+Oe}function we(Oe){return"peg$r"+Oe}function W(Oe){return"peg$e"+Oe}function ue(Oe){return"peg$f"+Oe}function ke(Oe){return"peg$import"+Oe}function ge(Oe){return"peg$parse"+Oe}function Z(){function Oe(_e){return'"'+v(_e)+'"'}function Me(_e){return"/^["+(_e.inverted?"^":"")+_e.value.map(function(je){return Array.isArray(je)?x(je[0])+"-"+x(je[1]):x(je)}).join("")+"]/"+(_e.ignoreCase?"i":"")+(_e.unicode?"u":"")}function Pe(_e){switch(_e.type){case"rule":return'peg$otherExpectation("'+v(_e.value)+'")';case"literal":return'peg$literalExpectation("'+v(_e.value)+'", '+_e.ignoreCase+")";case"class":return"peg$classExpectation(["+_e.value.map(function(je){return Array.isArray(je)?'["'+v(je[0])+'", "'+v(je[1])+'"]':'"'+v(je)+'"'}).join(", ")+"], "+_e.inverted+", "+_e.ignoreCase+", "+_e.unicode+")";case"any":return"peg$anyExpectation()";default:throw new Error("Unknown expectation type ("+JSON.stringify(_e)+")")}}function rt(_e,je){return s(`
  function `.concat(ue(je),"(").concat(_e.params.join(", "),") {"),J(_e.body,"    "),_e.location,"  }")}return new Q(null,null,X.grammarSource,[V.map(function(_e,je){return"  const "+Se(je)+" = "+Oe(_e)+";"}).concat("",I.map(function(_e,je){return"  const "+we(je)+" = "+Me(_e)+";"})).concat("",P.map(function(_e,je){return"  const "+W(je)+" = "+Pe(_e)+";"})).concat("").join(`
`)].concat(_to_consumable_array(F.map(rt))))}function N(Oe,Me){var Pe=[];return Pe.push(""),X.trace&&Pe.push("peg$tracer.trace({",'  type: "rule.enter",',"  rule: "+Oe+",","  location: peg$computeLocation(startPos, startPos, true)","});",""),X.cache&&(Pe.push("const key = peg$currPos * "+B.rules.length+" + "+Me+";","const cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""),X.trace&&Pe.push("if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type: "rule.match",',"    rule: "+Oe+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos, true)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+Oe+",","    location: peg$computeLocation(startPos, startPos, true)","  });","}",""),Pe.push("  return cached.result;","}","")),Pe}function G(Oe,Me){var Pe=[];return X.cache&&Pe.push("","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+Me+" };"),X.trace&&Pe.push("","if ("+Me+" !== peg$FAILED) {","  peg$tracer.trace({",'    type: "rule.match",',"    rule: "+Oe+",","    result: "+Me+",","    location: peg$computeLocation(startPos, peg$currPos, true)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+Oe+",","    location: peg$computeLocation(startPos, startPos, true)","  });","}"),Pe.push("","return "+Me+";"),Pe}function re(Oe){var Me,Pe,rt,_e=[],je=Oe.bytecode,Ce=new d(Oe.name,"s","let",je);function Ee(Ae){var st=function(){switch(Ae[xe]){case h.PUSH_EMPTY_STRING:Xe.push(Ce.push("''")),xe++;break;case h.PUSH_CURR_POS:Xe.push(Ce.push("peg$currPos")),xe++;break;case h.PUSH_UNDEFINED:Xe.push(Ce.push("undefined")),xe++;break;case h.PUSH_NULL:Xe.push(Ce.push("null")),xe++;break;case h.PUSH_FAILED:Xe.push(Ce.push("peg$FAILED")),xe++;break;case h.PUSH_EMPTY_ARRAY:Xe.push(Ce.push("[]")),xe++;break;case h.POP:Ce.pop(),xe++;break;case h.POP_CURR_POS:Xe.push("peg$currPos = "+Ce.pop()+";"),xe++;break;case h.POP_N:Ce.pop(Ae[xe+1]),xe+=2;break;case h.NIP:kt=Ce.pop(),Ce.pop(),Xe.push(Ce.push(kt)),xe++;break;case h.APPEND:kt=Ce.pop(),Xe.push(Ce.top()+".push("+kt+");"),xe++;break;case h.WRAP:Xe.push(Ce.push("["+Ce.pop(Ae[xe+1]).join(", ")+"]")),xe+=2;break;case h.TEXT:Xe.push(Ce.push("input.substring("+Ce.pop()+", peg$currPos)")),xe++;break;case h.PLUCK:{var Ot=Ae[xe+3-1],Et=3+Ot;kt=Ae.slice(xe+3,xe+Et),kt=Ot===1?Ce.index(kt[0]):"[ ".concat(kt.map(function(qt){return Ce.index(qt)}).join(", ")," ]"),Ce.pop(Ae[xe+1]),Xe.push(Ce.push(kt)),xe+=Et;break}case h.IF:en(Ce.top(),0);break;case h.IF_ERROR:en(Ce.top()+" === peg$FAILED",0);break;case h.IF_NOT_ERROR:en(Ce.top()+" !== peg$FAILED",0);break;case h.IF_LT:en(Ce.top()+".length < "+Ae[xe+1],1);break;case h.IF_GE:en(Ce.top()+".length >= "+Ae[xe+1],1);break;case h.IF_LT_DYNAMIC:en(Ce.top()+".length < ("+Ce.index(Ae[xe+1])+"|0)",1);break;case h.IF_GE_DYNAMIC:en(Ce.top()+".length >= ("+Ce.index(Ae[xe+1])+"|0)",1);break;case h.WHILE_NOT_ERROR:Zi(Ce.top()+" !== peg$FAILED");break;case h.MATCH_ANY:en("input.length > peg$currPos",0);break;case h.MATCH_STRING:{var At=Ae[xe+1],Ut=V[At];Un(function(qt,ri){return Ut.length>1?"".concat(qt," === ").concat(Se(At)):(qt=ri?"".concat(qt,".charCodeAt(0)"):"input.charCodeAt(peg$currPos)","".concat(qt," === ").concat(Ut.charCodeAt(0)))},1,Ut.length);break}case h.MATCH_STRING_IC:{var Vt=Ae[xe+1];Un(function(qt){return"".concat(qt,".toLowerCase() === ").concat(Se(Vt))},1,V[Vt].length);break}case h.MATCH_CHAR_CLASS:{var Dt=Ae[xe+1];Un(function(qt){return"".concat(we(Dt),".test(").concat(qt,")")},1,1);break}case h.MATCH_UNICODE_CLASS:{var bt=Ae[xe+1];Un(function(qt){return"".concat(we(bt),".test(").concat(qt,")")},1,-1);break}case h.ACCEPT_N:Xe.push(Ce.push(gi(Ae[xe+1]))),Xe.push(Ct(Ae[xe+1],Ce.top())),xe+=2;break;case h.ACCEPT_STRING:Xe.push(Ce.push(Se(Ae[xe+1]))),Xe.push(V[Ae[xe+1]].length>1?"peg$currPos += "+V[Ae[xe+1]].length+";":"peg$currPos++;"),xe+=2;break;case h.FAIL:Xe.push(Ce.push("peg$FAILED")),Xe.push("if (peg$silentFails === 0) { peg$fail("+W(Ae[xe+1])+"); }"),xe+=2;break;case h.LOAD_SAVED_POS:Xe.push("peg$savedPos = "+Ce.index(Ae[xe+1])+";"),xe+=2;break;case h.UPDATE_SAVED_POS:Xe.push("peg$savedPos = peg$currPos;"),xe++;break;case h.CALL:kt=zi(4),Ce.pop(Ae[xe+2]),Xe.push(Ce.push(kt)),xe+=4+Ae[xe+3];break;case h.RULE:Xe.push(Ce.push(ge(B.rules[Ae[xe+1]].name)+"()")),xe+=2;break;case h.LIBRARY_RULE:{var Je=Ae[xe+2],Tt=Je===-1?"":', "'+ee[Je]+'"';Xe.push(Ce.push("peg$callLibrary("+ke(Ae[xe+1])+Tt+")")),xe+=3;break}case h.SILENT_FAILS_ON:Xe.push("peg$silentFails++;"),xe++;break;case h.SILENT_FAILS_OFF:Xe.push("peg$silentFails--;"),xe++;break;case h.SOURCE_MAP_PUSH:Ce.sourceMapPush(Xe,z[Ae[xe+1]]),xe+=2;break;case h.SOURCE_MAP_POP:{Ce.sourceMapPop(),xe++;break}case h.SOURCE_MAP_LABEL_PUSH:Ce.labels[Ae[xe+1]]={label:V[Ae[xe+2]],location:z[Ae[xe+3]]},xe+=4;break;case h.SOURCE_MAP_LABEL_POP:delete Ce.labels[Ae[xe+1]],xe+=2;break;default:throw new Error("Invalid opcode: "+Ae[xe]+".")}},xe=0,Ft=Ae.length,Xe=[],kt;function en(Ot,Et,At){var Ut,Vt,Dt=Et+3,bt=Ae[xe+Dt-2],Je=Ae[xe+Dt-1],Tt=_sliced_to_array(Ce.checkedIf(xe,function(){return xe+=Dt+bt,(At||Ee)(Ae.slice(xe-bt,xe))},Je>0?function(){return xe+=Je,Ee(Ae.slice(xe-Je,xe))}:null),2),qt=Tt[0],ri=Tt[1];Xe.push("if ("+Ot+") {"),(Ut=Xe).push.apply(Ut,_to_consumable_array(le(qt))),Je>0&&(Xe.push("} else {"),(Vt=Xe).push.apply(Vt,_to_consumable_array(le(ri)))),Xe.push("}")}function gi(Ot){switch(Ot){case-1:return"peg$getUnicode()";case 1:return"input.charAt(peg$currPos)";default:return"input.substr(peg$currPos, ".concat(Ot,")")}}function Ct(Ot,Et){switch(Ot){case-1:return"peg$currPos += ".concat(Et,".length;");case 1:return"peg$currPos++;";default:return"peg$currPos += ("+Ot+");"}}function Un(Ot,Et,At){var Ut=Et+3,Vt=gi(At),Dt=null;Ae[xe+Ut]===h.ACCEPT_N&&Ae[xe+Ut+1]===At&&(Xe.push(Ce.push(Vt)),Vt=Ce.pop(),Dt=function(bt){Ce.sp++;var Je=Ee(bt.slice(2));return Je.unshift(Ct(At,Vt)),Je}),en(Ot(Vt,Dt!==null),Et,Dt)}function Zi(Ot){var Et,At=Ae[xe+2-1],Ut=Ce.checkedLoop(xe,function(){return xe+=2+At,Ee(Ae.slice(xe-At,xe))});Xe.push("while ("+Ot+") {"),(Et=Xe).push.apply(Et,_to_consumable_array(le(Ut))),Xe.push("}")}function zi(Ot){var Et=Ae[xe+Ot-1];return ue(Ae[xe+1])+"("+Ae.slice(xe+Ot,xe+Ot+Et).map(function(At){return Ce.index(At)}).join(", ")+")"}for(;xe<Ft;)st();return Xe}var Be=Ee(je);return _e.push(s("function ",ge(Oe.name),Oe.nameLocation,`() {
`,Oe.name)),X.trace&&_e.push("  var startPos = peg$currPos;"),_e.push(le(Ce.defines())),(Me=_e).push.apply(Me,_to_consumable_array(le(N('"'+v(Oe.name)+'"',f.indexOfRule(B,Oe.name))))),(Pe=_e).push.apply(Pe,_to_consumable_array(le(Be))),(rt=_e).push.apply(rt,_to_consumable_array(le(G('"'+v(Oe.name)+'"',Ce.result())))),_e.push("}"),_e.push(""),_e}function pe(Oe){return Oe.codeLocation?a(Oe.code,Oe.codeLocation,"$"+Oe.type):Oe.code}function Te(){var Oe=[],Me=B.topLevelInitializer;if(Me)if(Array.isArray(Me)){if(X.format==="es"){var Pe=[],rt=[],_e=!0,je=!1,Ce=void 0;try{for(var Ee=Me[Symbol.iterator](),Be;!(_e=(Be=Ee.next()).done);_e=!0){var Ae=Be.value,st=_sliced_to_array(L(Ae.code,{startRule:"ImportsAndSource",grammarSource:new A(Ae.codeLocation.source,Ae.codeLocation.start)}),2),xe=st[0],Ft=st[1];xe.code?(Pe.push(xe),rt.push(Ft)):rt.push(Ae)}}catch(Je){je=!0,Ce=Je}finally{try{!_e&&Ee.return!=null&&Ee.return()}finally{if(je)throw Ce}}Me=rt.concat(Pe)}var Xe=Me.slice(0).reverse(),kt=!0,en=!1,gi=void 0;try{for(var Ct=Xe[Symbol.iterator](),Un;!(kt=(Un=Ct.next()).done);kt=!0){var Zi=Un.value;Oe.push(pe(Zi)),Oe.push("")}}catch(Je){en=!0,gi=Je}finally{try{!kt&&Ct.return!=null&&Ct.return()}finally{if(en)throw gi}}}else Oe.push(pe(Me)),Oe.push("");Oe.push("class peg$SyntaxError extends SyntaxError {","  constructor(message, expected, found, location) {","    super(message);","    this.expected = expected;","    this.found = found;","    this.location = location;",'    this.name = "SyntaxError";',"  }","","  format(sources) {",'    let str = "Error: " + this.message;',"    if (this.location) {","      let src = null;","      const st = sources.find(s => s.source === this.location.source);","      if (st) {","        src = st.text.split(/\\r\\n|\\n|\\r/g);","      }","      const s = this.location.start;",'      const offset_s = (this.location.source && (typeof this.location.source.offset === "function"))',"        ? this.location.source.offset(s)","        : s;",'      const loc = this.location.source + ":" + offset_s.line + ":" + offset_s.column;',"      if (src) {","        const e = this.location.end;",'        const filler = "".padEnd(offset_s.line.toString().length, " ");',"        const line = src[s.line - 1];","        const last = s.line === e.line ? e.column : line.length + 1;","        const hatLen = (last - s.column) || 1;",'        str += "\\n --> " + loc + "\\n"','            + filler + " |\\n"','            + offset_s.line + " | " + line + "\\n"','            + filler + " | " + "".padEnd(s.column - 1, " ")','            + "".padEnd(hatLen, "^");',"      } else {",'        str += "\\n at " + loc;',"      }","    }","    return str;","  }","","  static buildMessage(expected, found) {","    function hex(ch) {","      return ch.codePointAt(0).toString(16).toUpperCase();","    }","",'    const nonPrintable = Object.prototype.hasOwnProperty.call(RegExp.prototype, "unicode")','      ? new RegExp("[\\\\p{C}\\\\p{Mn}\\\\p{Mc}]", "gu")',"      : null;","    function unicodeEscape(s) {","      if (nonPrintable) {",'        return s.replace(nonPrintable,  ch => "\\\\u{" + hex(ch) + "}");',"      }","      return s;","    }","","    function literalEscape(s) {","      return unicodeEscape(s",'        .replace(/\\\\/g, "\\\\\\\\")','        .replace(/"/g,  "\\\\\\"")','        .replace(/\\0/g, "\\\\0")','        .replace(/\\t/g, "\\\\t")','        .replace(/\\n/g, "\\\\n")','        .replace(/\\r/g, "\\\\r")','        .replace(/[\\x00-\\x0F]/g,          ch => "\\\\x0" + hex(ch))','        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, ch => "\\\\x"  + hex(ch)));',"    }","","    function classEscape(s) {","      return unicodeEscape(s",'        .replace(/\\\\/g, "\\\\\\\\")','        .replace(/\\]/g, "\\\\]")','        .replace(/\\^/g, "\\\\^")','        .replace(/-/g,  "\\\\-")','        .replace(/\\0/g, "\\\\0")','        .replace(/\\t/g, "\\\\t")','        .replace(/\\n/g, "\\\\n")','        .replace(/\\r/g, "\\\\r")','        .replace(/[\\x00-\\x0F]/g,          ch => "\\\\x0" + hex(ch))','        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, ch => "\\\\x"  + hex(ch)));',"    }","","    const DESCRIBE_EXPECTATION_FNS = {","      literal(expectation) {",'        return "\\"" + literalEscape(expectation.text) + "\\"";',"      },","","      class(expectation) {","        const escapedParts = expectation.parts.map(","          part => (Array.isArray(part)",'            ? classEscape(part[0]) + "-" + classEscape(part[1])',"            : classEscape(part))","        );","",'        return "[" + (expectation.inverted ? "^" : "") + escapedParts.join("") + "]" + (expectation.unicode ? "u" : "");',"      },","","      any() {",'        return "any character";',"      },","","      end() {",'        return "end of input";',"      },","","      other(expectation) {","        return expectation.description;","      },","    };","","    function describeExpectation(expectation) {","      return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","    }","","    function describeExpected(expected) {","      const descriptions = expected.map(describeExpectation);","      descriptions.sort();","","      if (descriptions.length > 0) {","        let j = 1;","        for (let i = 1; i < descriptions.length; i++) {","          if (descriptions[i - 1] !== descriptions[i]) {","            descriptions[j] = descriptions[i];","            j++;","          }","        }","        descriptions.length = j;","      }","","      switch (descriptions.length) {","        case 1:","          return descriptions[0];","","        case 2:",'          return descriptions[0] + " or " + descriptions[1];',"","        default:",'          return descriptions.slice(0, -1).join(", ")','            + ", or "',"            + descriptions[descriptions.length - 1];","      }","    }","","    function describeFound(found) {",'      return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"    }","",'    return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"  }","}",""),X.trace&&Oe.push("class peg$DefaultTracer {","  constructor() {","    this.indentLevel = 0;","  }","","  trace(event) {","    const that = this;","","    function log(event) {","      console?.log?.(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + event.type.padEnd(10, " ")','          + "".padEnd((that.indentLevel * 2) + 1, " ") + event.rule',"       );","    }","","    switch (event.type) {",'      case "rule.enter":',"        log(event);","        this.indentLevel++;","        break;","",'      case "rule.match":',"        this.indentLevel--;","        log(event);","        break;","",'      case "rule.fail":',"        this.indentLevel--;","        log(event);","        break;","","      default:",'        throw new Error("Invalid event type: " + event.type + ".");',"    }","  }","}","");var zi=`{
`+fe.map(function(Je){return"    ".concat(Je,": ").concat(ge(Je),`,
`)}).join("")+"  }",Ot=ge(fe[0]),Et=!0,At=!1,Ut=void 0;if(Oe.push("function peg$parse(input, options) {","  options = options !== undefined ? options : {};","","  const peg$FAILED = {};","  const peg$source = options.grammarSource;","","  const peg$startRuleFunctions = "+zi+";","  let peg$startRuleFunction = "+Ot+";","",Z(),"","  let peg$currPos = options.peg$currPos | 0;","  let peg$savedPos = peg$currPos;","  const peg$posDetailsCache = [{ line: 1, column: 1 }];","  let peg$maxFailPos = peg$currPos;","  let peg$maxFailExpected = options.peg$maxFailExpected || [];","  let peg$silentFails = options.peg$silentFails | 0;",""),X.cache&&Oe.push("  let peg$resultsCache = {};",""),X.trace&&Oe.push('  let peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer();',""),Oe.push("  let peg$result;","","  if (options.startRule) {","    if (!(options.startRule in peg$startRuleFunctions)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }","","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function offset() {","    return peg$savedPos;","  }","","  function range() {","    return {","      source: peg$source,","      start: peg$savedPos,","      end: peg$currPos,","    };","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== undefined","      ? location","      : peg$computeLocation(peg$savedPos, peg$currPos);","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== undefined","      ? location","      : peg$computeLocation(peg$savedPos, peg$currPos);","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$getUnicode(pos = peg$currPos) {","    const cp = input.codePointAt(pos);","    if (cp === undefined) {",'      return "";',"    }","    return String.fromCodePoint(cp);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text, ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase, unicode) {",'    return { type: "class", parts, inverted, ignoreCase, unicode };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description };',"  }","","  function peg$computePosDetails(pos) {","    let details = peg$posDetailsCache[pos];","    let p;","","    if (details) {","      return details;","    } else {","      if (pos >= peg$posDetailsCache.length) {","        p = peg$posDetailsCache.length - 1;","      } else {","        p = pos;","        while (!peg$posDetailsCache[--p]) {}","      }","","      details = peg$posDetailsCache[p];","      details = {","        line: details.line,","        column: details.column,","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos, offset) {","    const startPosDetails = peg$computePosDetails(startPos);","    const endPosDetails = peg$computePosDetails(endPos);","","    const res = {","      source: peg$source,","      start: {","        offset: startPos,","        line: startPosDetails.line,","        column: startPosDetails.column,","      },","      end: {","        offset: endPos,","        line: endPosDetails.line,","        column: endPosDetails.column,","      },","    };",'    if (offset && peg$source && (typeof peg$source.offset === "function")) {',"      res.start = peg$source.offset(res.start);","      res.end = peg$source.offset(res.end);","    }","    return res;","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""),B.imports.length>0&&Oe.push("  function peg$callLibrary(lib, startRule) {","    const opts = Object.assign({}, options, {","      startRule: startRule,","      peg$currPos: peg$currPos,","      peg$silentFails: peg$silentFails,","      peg$library: true,","      peg$maxFailExpected: peg$maxFailExpected","    });","    const res = lib.parse(input, opts);","    peg$currPos = res.peg$currPos;","    peg$maxFailPos = res.peg$maxFailPos;","    peg$maxFailExpected = res.peg$maxFailExpected;","    return (res.peg$result === res.peg$FAILED) ? peg$FAILED : res.peg$result;","  }",""),B.rules.forEach(function(Je){var Tt;(Tt=Oe).push.apply(Tt,_to_consumable_array(le(re(Je))))}),B.initializer)if(Array.isArray(B.initializer))try{for(var Vt=B.initializer[Symbol.iterator](),Dt;!(Et=(Dt=Vt.next()).done);Et=!0){var bt=Dt.value;Oe.push(pe(bt)),Oe.push("")}}catch(Je){At=!0,Ut=Je}finally{try{!Et&&Vt.return!=null&&Vt.return()}finally{if(At)throw Ut}}else Oe.push(pe(B.initializer)),Oe.push("");return Oe.push("  peg$result = peg$startRuleFunction();","","  const peg$success = (peg$result !== peg$FAILED && peg$currPos === input.length);","  function peg$throw() {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? peg$getUnicode(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","  if (options.peg$library) {","    return /** @type {any} */ ({","      peg$result,","      peg$currPos,","      peg$FAILED,","      peg$maxFailExpected,","      peg$maxFailPos,","      peg$success,","      peg$throw: peg$success ? undefined : peg$throw,","    });","  }","  if (peg$success) {","    return peg$result;","  } else {","    peg$throw();","  }","}"),new Q(null,null,X.grammarSource,Oe.map(function(Je){return _instanceof(Je,Q)?Je:Je+`
`}))}function $e(Oe){function Me(){return["// @generated by Peggy ".concat(m,"."),"//","// https://peggyjs.org/"]}function Pe(){var _e=["{"];return X.trace&&_e.push("  DefaultTracer: peg$DefaultTracer,"),X.allowedStartRules&&_e.push("  StartRules: ["+X.allowedStartRules.map(function(je){return'"'+je+'"'}).join(", ")+"],"),_e.push("  SyntaxError: peg$SyntaxError,","  parse: peg$parse,"),_e.push("}"),_e.join(`
`)}var rt={bare:function(){if(Object.keys(j).length>0||B.imports.length>0)throw new Error("Dependencies not supported in format 'bare'.");return _to_consumable_array(Me()).concat(["(function() {",'  "use strict";',Oe,le("return "+Pe()+";"),"})()"])},commonjs:function(){var je=Object.keys(j),Ce=Me();Ce.push("",'"use strict";'),je.length>0&&(je.forEach(function(Ae){Ce.push("const "+Ae+' = require("'+v(j[Ae])+'");')}),Ce.push(""));for(var Ee=B.imports.length,Be=0;Be<Ee;Be++)Ce.push("const "+ke(Be)+' = require("'+v(B.imports[Be].from.module)+'");');return Ce.push("",Oe,"","module.exports = "+Pe()+";"),Ce},es:function(){var je=Object.keys(j),Ce=Me();Ce.push(""),je.length>0&&(je.forEach(function(Be){Ce.push("import "+Be+' from "'+v(j[Be])+'";')}),Ce.push(""));for(var Ee=0;Ee<B.imports.length;Ee++)Ce.push("import * as "+ke(Ee)+' from "'+v(B.imports[Ee].from.module)+'";');return Ce.push("",Oe,""),Ce.push("const peg$allowedStartRules = [","  "+(X.allowedStartRules?X.allowedStartRules.map(function(Be){return'"'+Be+'"'}).join(`,
  `):""),"];",""),Ce.push("export {"),X.trace&&Ce.push("  peg$DefaultTracer as DefaultTracer,"),Ce.push("  peg$allowedStartRules as StartRules,","  peg$SyntaxError as SyntaxError,","  peg$parse as parse","};"),Ce},amd:function(){if(B.imports.length>0)throw new Error("Imports are not supported in format 'amd'.");var je=Object.keys(j),Ce="["+je.map(function(Be){return j[Be]}).map(function(Be){return'"'+v(Be)+'"'}).join(", ")+"]",Ee=je.join(", ");return _to_consumable_array(Me()).concat(["define("+Ce+", function("+Ee+") {",'  "use strict";',Oe,"",le("return "+Pe()+";"),"});"])},globals:function(){if(Object.keys(j).length>0||B.imports.length>0)throw new Error("Dependencies not supported in format 'globals'.");if(!X.exportVar)throw new Error("No export variable defined for format 'globals'.");return _to_consumable_array(Me()).concat(["(function(root) {",'  "use strict";',Oe,"",le("root."+X.exportVar+" = "+Pe()+";"),"})(this);"])},umd:function(){if(B.imports.length>0)throw new Error("Imports are not supported in format 'umd'.");var je=Object.keys(j),Ce=je.map(function(xe){return j[xe]}),Ee="["+Ce.map(function(xe){return'"'+v(xe)+'"'}).join(", ")+"]",Be=Ce.map(function(xe){return'require("'+v(xe)+'")'}).join(", "),Ae=je.join(", "),st=Me();return st.push("(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+Ee+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+Be+");"),X.exportVar&&st.push("  } else {","    root."+X.exportVar+" = factory();"),st.push("  }","})(this, function("+Ae+") {",'  "use strict";',Oe,"",le("return "+Pe()+";"),"});"),st}}[X.format||"bare"]();return new Q(null,null,X.grammarSource,rt.map(function(_e){return _instanceof(_e,Q)?_e:_e+`
`}))}B.code=$e(Te())},f=he(),h=Ht(),d=Rr(),g=es(),m=g.version,y=Qe(),v=y.stringEscape,x=y.regexpClassEscape,k=Kt(),Q=k.SourceNode,A=Ve(),M=ts(),L=M.parse;r.exports=o}),kr=U(function(l,r){var a=function(f,h,d){function g(y){return y.type==="rule"&&y.expression.type==="rule_ref"}function m(y,v,x){o.build({rule_ref:function(k){k.name===v&&(k.name=x,d.info('Proxy rule "'.concat(v,'" replaced by the rule "').concat(x,'"'),k.location,[{message:"This rule will be used",location:s.findRule(y,x).nameLocation}]))}})(y)}f.rules.forEach(function(y){g(y)&&m(f,y.name,y.expression.name)})},s=he(),o=K();r.exports=a}),jr=U(function(l,r){var a=function(A,M){var L=A,B=M;Object.keys(L).forEach(function(X){return delete L[X]}),Object.keys(B).forEach(function(X){L[X]=B[X]})},s=function(A){A.sort(function(P,F){var ee=_sliced_to_array(Array.isArray(P)?P:[P,P],2),fe=ee[0],j=ee[1],J=_sliced_to_array(Array.isArray(F)?F:[F,F],2),le=J[0],Se=J[1];return fe!==le?fe<le?-1:1:j!==Se?j>Se?-1:1:0});for(var M="",L="",B=0;B<A.length;B++){var X=A[B],V=_sliced_to_array(Array.isArray(X)?X:[X,X],2),z=V[0],I=V[1];if(typeof z=="string"&&typeof I=="string"&&typeof M=="string"&&typeof L=="string"){if(I<=L){A.splice(B--,1);continue}if(L.charCodeAt(0)+1>=z.charCodeAt(0)){A.splice(B--,1),A[B]=[M,L=I];continue}}M=z,L=I}return A},o=function(A,M){g.build({class:function(L){var B;if(L.unicode){var X=[],V=!0,z=!1,I=void 0;try{for(var P=L.parts[Symbol.iterator](),F;!(V=(F=P.next()).done);V=!0){var ee=F.value;if(Array.isArray(ee)){var fe=_sliced_to_array(ee.map(function(le){return le.codePointAt(0)}),2),j=fe[0],J=fe[1];j<x&&J>k&&(M.info("Removing surrogate range from [".concat(d(ee[0]),"-").concat(d(ee[1]),"]"),L.location),X.push([Q,ee[1]]),ee[1]=v)}}}catch(le){z=!0,I=le}finally{try{!V&&P.return!=null&&P.return()}finally{if(z)throw I}}(B=L.parts).push.apply(B,_to_consumable_array(X))}}})(A)},f=function(A,M,L){var B=Object.create(null);A.rules.forEach(function(P){return B[P.name]=P.expression});var X=new Set;o(A,L);var V=[function(P){var F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(P.type){case"class":if(P.inverted)break;return F?_object_spread_props(_object_spread({},P),{parts:_to_consumable_array(P.parts)}):P;case"literal":{var ee=y(P.value);if(ee<0)break;return{type:"class",parts:[P.value],inverted:!1,ignoreCase:P.ignoreCase,location:P.location,unicode:ee>65535}}case"rule_ref":{var fe=B[P.name];if(!fe)break;X.has(P.name)||(X.add(P.name),I(fe));var j=z(fe,!0);return j&&(j.location=P.location),j}}return null},g.build({choice:function(P){var F=null,ee=!1;P.alternatives.forEach(function(fe,j){var J;I(fe);var le=z(fe);if(!le){F=null;return}F&&F.ignoreCase===le.ignoreCase?((J=F.parts).push.apply(J,_to_consumable_array(le.parts)),P.alternatives[j-1]=F,P.alternatives[j]=F,F.unicode=F.unicode||le.unicode,F.location={source:F.location.source,start:F.location.start,end:le.location.end},ee=!0):F=le}),ee&&(P.alternatives=P.alternatives.filter(function(fe,j,J){return!j||fe!==J[j-1]}),P.alternatives.forEach(function(fe,j){fe.type==="class"&&(fe.parts=s(fe.parts),fe.parts.length===1&&!Array.isArray(fe.parts[0])&&typeof fe.parts[0]=="string"&&!fe.inverted&&(P.alternatives[j]={type:"literal",value:fe.parts[0],ignoreCase:fe.ignoreCase,location:fe.location}))}),P.alternatives.length===1&&a(P,P.alternatives[0]))},text:function(P){if(I(P.expression),P.expression.type==="class"||P.expression.type==="literal"){var F=P.location;a(P,P.expression),P.location=F}}})],z=V[0],I=V[1];A.rules.forEach(function(P){X.add(P.name),I(P.expression)})},h=Qe(),d=h.stringEscape,g=K(),m=Qe(),y=m.codePointLen1,v=String.fromCodePoint(55295),x=55296,k=57343,Q=String.fromCodePoint(57344);r.exports=f}),Br=U(function(l,r){var a=function(o,f,h){var d=Object.create(null);o.rules.forEach(function(x){d[x.name]=x});for(var g=_to_consumable_array(f.allowedStartRules),m=new Set,y=s.build({rule_ref:function(x){g.push(x.name)}});g.length;){var v=g.shift();m.has(v)||(m.add(v),y(d[v]))}o.rules=o.rules.filter(function(x){return m.has(x.name)?!0:(h.info('Removing unused rule: "'.concat(x.name,'"'),x.location),!1)})},s=K();r.exports=a}),Gr=U(function(l,r){var a=function(s,o,f){var h={},d=!0,g=!1,m=void 0,y=!0,v=!1,x=void 0;try{for(var k=s.imports[Symbol.iterator](),Q;!(y=(Q=k.next()).done);y=!0){var A=Q.value;try{for(var M=A.what[Symbol.iterator](),L;!(d=(L=M.next()).done);d=!0){var B=L.value;B.type==="import_binding_all"&&(Object.prototype.hasOwnProperty.call(h,B.binding)&&f.error('Module "'.concat(B.binding,'" is already imported'),B.location,[{message:"Original module location",location:h[B.binding]}]),h[B.binding]=B.location)}}catch(X){g=!0,m=X}finally{try{!d&&M.return!=null&&M.return()}finally{if(g)throw m}}}}catch(X){v=!0,x=X}finally{try{!y&&k.return!=null&&k.return()}finally{if(v)throw x}}};r.exports=a}),Yr=U(function(l,r){var a=function(o,f,h){function d(y){var v={};return Object.keys(y).forEach(function(x){v[x]=y[x]}),v}function g(y,v){m(y.expression,d(v))}var m=s.build({rule:function(y){m(y.expression,{})},choice:function(y,v){y.alternatives.forEach(function(x){m(x,d(v))})},action:g,labeled:function(y,v){var x=y.label;x&&Object.prototype.hasOwnProperty.call(v,x)&&h.error('Label "'.concat(y.label,'" is already defined'),y.labelLocation,[{message:"Original label location",location:v[x]}]),m(y.expression,v),v[y.label]=y.labelLocation},text:g,simple_and:g,simple_not:g,optional:g,zero_or_more:g,one_or_more:g,repeated:function(y,v){y.delimiter&&m(y.delimiter,d(v)),m(y.expression,d(v))},group:g});m(o)},s=K();r.exports=a}),Jr=U(function(l,r){var a=function(o,f,h){var d={};s.build({rule:function(g){if(Object.prototype.hasOwnProperty.call(d,g.name)){h.error('Rule "'.concat(g.name,'" is already defined'),g.nameLocation,[{message:"Original rule location",location:d[g.name]}]);return}d[g.name]=g.nameLocation}})(o)},s=K();r.exports=a}),Qr=U(function(l,r){var a=function(f,h,d){var g=[],m=[],y=new Set,v=o.build({rule:function(x){d.errors>0||y.has(x.name)||(y.add(x.name),g.push(x.name),v(x.expression),g.pop())},sequence:function(x){d.errors>0||x.elements.every(function(k){return v(k),d.errors>0?!1:!s.alwaysConsumesOnSuccess(f,k)})},repeated:function(x){d.errors>0||(v(x.expression),x.delimiter&&!s.alwaysConsumesOnSuccess(f,x.expression)&&v(x.delimiter))},rule_ref:function(x){if(!(d.errors>0)){m.push(x);var k=s.findRule(f,x.name);if(g.indexOf(x.name)!==-1){g.push(x.name),d.error("Possible infinite loop when parsing (left recursion: "+g.join(" -> ")+")",k.nameLocation,m.map(function(Q,A,M){return{message:A+1!==M.length?"Step ".concat(A+1,': call of the rule "').concat(Q.name,'" without input consumption'):"Step ".concat(A+1,": calls itself without input consumption - left recursion"),location:Q.location}}));return}k&&v(k),m.pop()}}});v(f)},s=he(),o=K();r.exports=a}),Zr=U(function(l,r){var a=function(f,h,d){var g=o.build({zero_or_more:function(m){s.alwaysConsumesOnSuccess(f,m.expression)||d.error("Possible infinite loop when parsing (repetition used with an expression that may not consume any input)",m.location)},one_or_more:function(m){s.alwaysConsumesOnSuccess(f,m.expression)||d.error("Possible infinite loop when parsing (repetition used with an expression that may not consume any input)",m.location)},repeated:function(m){if(m.delimiter&&g(m.delimiter),!(s.alwaysConsumesOnSuccess(f,m.expression)||m.delimiter&&s.alwaysConsumesOnSuccess(f,m.delimiter)))if(m.max.value===null)d.error("Possible infinite loop when parsing (unbounded range repetition used with an expression that may not consume any input)",m.location);else{var y=m.min?m.min:m.max;d.warning(y.type==="constant"&&m.max.type==="constant"?"An expression may not consume any input and may always match ".concat(m.max.value," times"):"An expression may not consume any input and may always match with a maximum repetition count",m.location)}}});g(f)},s=he(),o=K();r.exports=a}),tn=U(function(l,r){var a=function(f,h,d){o.build({rule_ref:function(g){s.findRule(f,g.name)||d.error('Rule "'.concat(g.name,'" is not defined'),g.location)}})(f)},s=he(),o=K();r.exports=a}),rn=U(function(l,r){var a=function(o,f,h){var d=s.build({action:function(g){d(g.expression,g)},labeled:function(g,m){g.pick&&m&&h.error('"@" cannot be used with an action block',g.labelLocation,[{message:"Action block location",location:m.codeLocation}]),d(g.expression)}});d(o)},s=K();r.exports=a}),cn=U(function(l,r){var a=function(d,g,m){var y=s.build({choice:function(v){v.alternatives.forEach(function(Q){return y(Q)});for(var x=0;x<v.alternatives.length-1;x++){var k=v.alternatives[x];k.match===f&&m.warning("Always matches.  Following alternatives may not be reachable.",k.location)}},simple_and:function(v){y(v.expression),v.expression.match===f?m.warning("Always matches, making the & predicate redundant.",v.expression.location):v.expression.match===h&&m.warning("Never matches, making the & predicate always fail.",v.expression.location)},simple_not:function(v){y(v.expression),v.expression.match===f?m.warning("Always matches, making the ! predicate always fail.",v.expression.location):v.expression.match===h&&m.warning("Never matches, making the ! predicate redundant.",v.expression.location)}});y(d)},s=K(),o=ht(),f=o.ALWAYS_MATCH,h=o.NEVER_MATCH;r.exports=a}),an=U(function(l,r){var a=ft(),s=(function(){function f(h){_class_call_check(this,f),h=(typeof h>"u"?"undefined":_type_of(h))<"u"?h:{},typeof h.error=="function"&&(this.error=h.error),typeof h.warning=="function"&&(this.warning=h.warning),typeof h.info=="function"&&(this.info=h.info)}return _create_class(f,[{key:"error",value:function(){}},{key:"warning",value:function(){}},{key:"info",value:function(){}}]),f})(),o=(function(){function f(h){_class_call_check(this,f),this._callbacks=new s(h),this._firstError=null,this.errors=0,this.problems=[],this.stage=null}return _create_class(f,[{key:"error",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;++this.errors,this._firstError===null&&(this._firstError=_construct(a,_to_consumable_array(g)),this._firstError.stage=this.stage,this._firstError.problems=this.problems),this.problems.push(["error"].concat(_to_consumable_array(g))),(y=this._callbacks).error.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"warning",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;this.problems.push(["warning"].concat(_to_consumable_array(g))),(y=this._callbacks).warning.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"info",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;this.problems.push(["info"].concat(_to_consumable_array(g))),(y=this._callbacks).info.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"checkErrors",value:function(){if(this.errors!==0)throw this._firstError}}]),f})();r.exports=o}),un=U(function(exports$1,module){var processOptions=function(l,r){var a={};return Object.keys(l).forEach(function(s){a[s]=l[s]}),Object.keys(r).forEach(function(s){Object.prototype.hasOwnProperty.call(a,s)||(a[s]=r[s])}),a},isSourceMapCapable=function(l){return typeof l=="string"?l.length>0:l&&typeof l.offset=="function"},addImportedRules=Xs(),fixLibraryNumbers=Ks(),generateBytecode=ir(),generateJS=Nr(),inferenceMatchResult=ht(),removeProxyRules=kr(),mergeCharacterClasses=jr(),removeUnusedRules=Br(),reportDuplicateImports=Gr(),reportDuplicateLabels=Yr(),reportDuplicateRules=Jr(),reportInfiniteRecursion=Qr(),reportInfiniteRepetition=Zr(),reportUndefinedRules=tn(),reportIncorrectPlucking=rn(),reportUnreachable=cn(),Session=an(),visitor=K(),base64=Qe().base64,compiler={visitor,passes:{prepare:[addImportedRules,reportInfiniteRecursion],check:[reportUndefinedRules,reportDuplicateRules,reportDuplicateLabels,reportInfiniteRepetition,reportIncorrectPlucking,reportDuplicateImports],transform:[fixLibraryNumbers,removeProxyRules,mergeCharacterClasses,removeUnusedRules,inferenceMatchResult],semantic:[reportUnreachable],generate:[generateBytecode,generateJS]},compile:function compile(ast,passes,options){options=options!==void 0?options:{};var defaultStartRules=[ast.rules[0].name];if(options=processOptions(options,{allowedStartRules:defaultStartRules,cache:!1,dependencies:{},exportVar:null,format:"bare",output:"parser",trace:!1}),(options.allowedStartRules===null||options.allowedStartRules===void 0)&&(options.allowedStartRules=defaultStartRules),!Array.isArray(options.allowedStartRules))throw new Error("allowedStartRules must be an array");options.allowedStartRules.length===0&&(options.allowedStartRules=defaultStartRules);var allRules=ast.rules.map(function(l){return l.name}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(options.allowedStartRules.some(function(l){return l==="*"}))options.allowedStartRules=allRules;else try{for(var _iterator=options.allowedStartRules[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;if(allRules.indexOf(i)===-1)throw new Error('Unknown start rule "'.concat(i,'"'))}}catch(l){_didIteratorError=!0,_iteratorError=l}finally{try{!_iteratorNormalCompletion&&_iterator.return!=null&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if((options.output==="source-and-map"||options.output==="source-with-inline-map")&&!isSourceMapCapable(options.grammarSource))throw new Error("Must provide grammarSource (as a string or GrammarLocation) in order to generate source maps");var session=new Session(options);switch(Object.keys(passes).forEach(function(l){session.stage=l,session.info("Process stage ".concat(l)),passes[l].forEach(function(r){session.info("Process pass ".concat(l,".").concat(r.name)),r(ast,options,session)}),session.checkErrors()}),options.output){case"parser":return eval(ast.code.toString());case"source":return ast.code.toString();case"source-and-map":return ast.code;case"source-with-inline-map":{if((typeof TextEncoder>"u"?"undefined":_type_of(TextEncoder))>"u")throw new Error("TextEncoder is not supported by this platform");var i=ast.code.toStringWithSourceMap(),n=new TextEncoder,e=base64(n.encode(JSON.stringify(i.map.toJSON())));return i.code+"//# sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e,`
`)}case"ast":return ast;default:throw new Error("Invalid output format: "+options.output+".")}}};module.exports=compiler}),Jl=ft(),Xl=Ve(),Ql=he(),Kl=un(),Zl=ts(),_es=es(),ea=_es.version,ta=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","null","true","false","enum","implements","interface","let","package","private","protected","public","static","yield","await","arguments","eval"],Ke={VERSION:ea,RESERVED_WORDS:ta,GrammarError:Jl,GrammarLocation:Xl,parser:Zl,compiler:Kl,generate:function l(l,r){r=r!==void 0?r:{};function a(h){var d={};return Object.keys(h).forEach(function(g){d[g]=h[g].slice()}),d}var s="plugins"in r?r.plugins:[],o={parser:Ke.parser,passes:a(Ke.compiler.passes),reservedWords:Ke.RESERVED_WORDS.slice()};s.forEach(function(h){h.use(o,r)}),Array.isArray(l)||(l=[{source:r.grammarSource,text:l}]);var f=Ql.combine(l.map(function(h){var d=h.source,g=h.text;return o.parser.parse(g,{grammarSource:d,reservedWords:o.reservedWords})}));return Ke.compiler.compile(f,o.passes,r)}};return module.exports=Ke,__exports!=exports$1&&(module.exports=exports$1),module.exports})})(peggy_min$1,peggy_min$1.exports)),peggy_min$1.exports}var peggy_minExports=requirePeggy_min();const PEG=getDefaultExportFromCjs(peggy_minExports),luminaGrammarRaw=`{
  function expectedStatementTokens() {
    return [
      "fn", "struct", "enum", "type", "extern", "import", "pub",
      "let", "if", "while", "match", "return",
      "identifier", "number", "string", "true", "false",
      "{", "}"
    ];
  }
}
Start
  = _ statements:TopStatementList _ { return { type: "Program", body: statements, location: location() }; }

TopStatementList
  = head:RecoverableTopStatement tail:(_ RecoverableTopStatement)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

RecoverableTopStatement
  = stmt:Statement { return stmt; }
  / error:InvalidStatement { return error; }
  / _ "}" {
      return {
        type: "ErrorNode",
        message: "Unexpected closing brace. Possible double-closing of a block or function.",
        expected: expectedStatementTokens(),
        location: location()
      };
    }

StatementList
  = head:RecoverableStatement tail:(_ RecoverableStatement)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

RecoverableStatement
  = stmt:Statement { return stmt; }
  / error:InvalidStatement { return error; }

SyncKeyword
  = "fn" / "struct" / "enum" / "type" / "extern" / "import" / "pub"

InvalidStatement
  = tokens:(!(";" / "}" / SyncKeyword) .)+ (";" / &"}" / &SyncKeyword / !.) {
      return {
        type: "ErrorNode",
        message: "Invalid syntax",
        expected: expectedStatementTokens(),
        location: location()
      };
    }

Statement
  = Import
  / StructDecl
  / EnumDecl
  / TypeDecl
  / ExternTypeDecl
  / FnDecl
  / ExternFnDecl
  / LetStmt
  / AssignStmt
  / IfStmt
  / WhileStmt
  / ReturnStmt
  / MatchStmt
  / ExprStmt
  / Block

Import
  = "import" _ spec:ImportSpec _ "from" _ source:String _ ";"? {
      return { type: "Import", spec, source, location: location() };
    }

ImportSpec
  = "{" _ list:ImportList _ "}" { return list; }
  / Identifier

ImportList
  = head:Identifier tail:(_ "," _ Identifier)* { return [head].concat(tail.map(t => t[3])); }

TypeDecl
  = visibility:Visibility? _ "type" _ node:IdName _ tparams:TypeParams? _ "=" _ body:TypeBody _ ";"? {
      return { type: "TypeDecl", name: node.name, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location };
    }

StructDecl
  = visibility:Visibility? _ "struct" _ node:IdName _ tparams:TypeParams? _ "{" _ fields:TypeFieldList? _ "}" _ ";"? {
      return { type: "StructDecl", name: node.name, body: fields || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location };
    }

EnumDecl
  = visibility:Visibility? _ "enum" _ node:IdName _ tparams:TypeParams? _ "{" _ variants:EnumVariantList? _ "}" _ ";"? {
      return { type: "EnumDecl", name: node.name, variants: variants || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location };
    }

ExternTypeDecl
  = visibility:Visibility? _ "extern" _ "type" _ node:IdName _ tparams:TypeParams? _ source:FromClause? _ ";"? {
      return { type: "TypeDecl", name: node.name, body: [], typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location };
    }

TypeBody
  = "{" _ fields:TypeFieldList? _ "}" { return fields || []; }

TypeFieldList
  = head:TypeField tail:(_ "," _ TypeField)* { return [head].concat(tail.map(t => t[3])); }

TypeField
  = node:IdName _ ":" _ typeName:TypeName { return { name: node.name, typeName, location: node.location }; }

TypeName
  = base:IdName _ args:TypeArgs? {
      return args ? \`\${base.name}<\${args.join(",")}>\` : base.name;
    }

FnDecl
  = visibility:Visibility? _ "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ body:Block {
      return { type: "FnDecl", name: node.name, params: params || [], returnType: ret || null, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location };
    }

ExternFnDecl
  = visibility:Visibility? _ "extern" _ "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ source:FromClause? _ ";"? {
      return { type: "FnDecl", name: node.name, params: params || [], returnType: ret || "any", body: { type: "Block", body: [] }, typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location };
    }

FromClause
  = _ "from" _ source:String { return source.value; }

ReturnType
  = "->" _ type:TypeName { return type; }

TypeArgs
  = "<" _ head:TypeName tail:(_ "," _ TypeName)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParams
  = "<" _ head:TypeParam tail:(_ "," _ TypeParam)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParam
  = name:IdName _ ":" _ bound:TypeBounds { return { name: name.name, bound }; }
  / name:IdName { return { name: name.name }; }

TypeBounds
  = head:TypeName tail:(_ "&" _ TypeName)* { return [head].concat(tail.map(t => t[3])); }

EnumVariantList
  = head:EnumVariant tail:(_ "," _ EnumVariant)* _ ","? { return [head].concat(tail.map(t => t[3])); }

EnumVariant
  = node:IdName _ params:EnumVariantParams? { return { name: node.name, params: params || [], location: node.location }; }

EnumVariantParams
  = "(" _ head:TypeName tail:(_ "," _ TypeName)* _ ")" { return [head].concat(tail.map(t => t[3])); }

ParamList
  = head:Param tail:(_ "," _ Param)* { return [head].concat(tail.map(t => t[3])); }

Param
  = ref:("ref" __)? node:IdName _ ":" _ typeName:TypeName { return { name: node.name, typeName, ref: !!ref, location: node.location }; }

Block
  = "{" _ statements:StatementList _ "}" { return { type: "Block", body: statements, location: location() }; }

LetStmt
  = "let" _ mut:("mut" __)? node:IdName _ typeAnn:(_ ":" _ typeName:TypeName { return typeName; })? _ "=" _ value:Expr _ ";"? {
      return { type: "Let", name: node.name, typeName: typeAnn || null, value, mutable: !!mut, location: node.location };
    }

ReturnStmt
  = "return" _ value:Expr _ ";"? { return { type: "Return", value, location: location() }; }

MatchStmt
  = "match" _ value:Expr _ "{" _ arms:MatchArmList? _ "}" {
      return { type: "MatchStmt", value, arms: arms || [], location: location() };
    }

WhileStmt
  = "while" _ "(" _ condition:Expr _ ")" _ body:Block {
      return { type: "While", condition, body, location: location() };
    }

AssignStmt
  = target:Identifier _ "=" _ value:Expr _ ";"? { return { type: "Assign", target, value, location: location() }; }

IfStmt
  = "if" _ "(" _ condition:Expr _ ")" _ thenBlock:Block _ elsePart:(_ "else" _ elseBlock:Block)? {
      return { type: "If", condition, thenBlock, elseBlock: elsePart ? elsePart[3] : null, location: location() };
    }

ExprStmt
  = expr:Expr _ ";"? { return { type: "ExprStmt", expr, location: location() }; }

Expr
  = LogicOr

LogicOr
  = head:LogicAnd tail:(_ "||" _ LogicAnd)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

LogicAnd
  = head:Pipe tail:(_ "&&" _ Pipe)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

Pipe
  = head:Equality tail:(_ "|>" _ PipeTarget)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: "|>", left: acc, right: t[3], location: location() }), head);
    }

PipeTarget
  = callee:IdName _ "(" _ args:ArgList? _ ")" {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: args || [], typeArgs: [], location: location() };
    }
  / callee:IdName {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: [], typeArgs: [], location: location() };
    }

Equality
  = head:IsExpr tail:(_ ("==" / "!=") _ IsExpr)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

IsExpr
  = head:Relational _ "is" _ qual:QualifiedVariant {
      return { type: "IsExpr", value: head, variant: qual.variant, enumName: qual.enumName, location: location() };
    }
  / Relational

Relational
  = head:Add tail:(_ ("<=" / ">=" / "<" / ">") _ Add)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

Add
  = head:Mul tail:(_ ("+" / "-") _ Mul)* {
      const loc = location();
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: loc }), head);
    }

Mul
  = head:Primary tail:(_ ("*" / "/") _ Primary)* {
      const loc = location();
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: loc }), head);
    }

Primary
  = MatchExpr
  / StructLiteral
  / Call
  / Member
  / Number
  / String
  / Boolean
  / Identifier
  / "(" _ expr:Expr _ ")" { return expr; }

StructLiteral
  = name:IdName _ targs:TypeArgs? _ "{" _ fields:StructLiteralFieldList? _ "}" {
      return { type: "StructLiteral", name: name.name, typeArgs: targs || [], fields: fields || [], location: location() };
    }

StructLiteralFieldList
  = head:StructLiteralField tail:(_ "," _ StructLiteralField)* _ ","? { return [head].concat(tail.map(t => t[3])); }

StructLiteralField
  = field:IdName _ ":" _ value:Expr { return { name: field.name, value, location: field.location }; }

IdName
  = name:$([a-zA-Z_][a-zA-Z0-9_]*) { return { name, location: location() }; }

Identifier
  = node:IdName { return { type: "Identifier", name: node.name, location: node.location }; }

Number
  = "0x" digits:$([0-9a-fA-F] [0-9a-fA-F_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 16), location: location() };
    }
  / "0b" digits:$([01] [01_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 2), location: location() };
    }
  / digits:$([0-9] [0-9_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 10), location: location() };
    }

Boolean
  = "true" { return { type: "Boolean", value: true, location: location() }; }
  / "false" { return { type: "Boolean", value: false, location: location() }; }

String
  = "\\"" chars:Char* "\\"" { return { type: "String", value: chars.join(""), location: location() }; }

Char
  = "\\\\\\\\" c:. { return c; }
  / !'"' .

_ = (WS / Comment)*
__ = (WS / Comment)+
WS = [ \\t\\r\\n]+
Comment = "//" [^\\n]* "\\n"?
  / "/*" (!"*/" .)* "*/"

MatchArmList
  = head:MatchArm tail:(_ "," _ MatchArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchArm
  = pattern:MatchPattern _ "=>" _ body:Block _ ";"? { return { pattern, body, location: location() }; }

MatchPattern
  = "_" { return { type: "WildcardPattern", location: location() }; }
  / qual:QualifiedVariant _ binds:MatchBindingList? { return { type: "EnumPattern", variant: qual.variant, enumName: qual.enumName, bindings: binds || [], location: qual.location }; }

QualifiedVariant
  = enumName:IdName _ "." _ variant:IdName { return { enumName: enumName.name, variant: variant.name, location: enumName.location }; }
  / variant:IdName { return { enumName: null, variant: variant.name, location: variant.location }; }

MatchBindingList
  = "(" _ head:MatchBinding tail:(_ "," _ MatchBinding)* _ ")" { return [head].concat(tail.map(t => t[3])); }

MatchBinding
  = name:IdName { return name.name; }
  / "_" { return "_"; }

MatchExpr
  = "match" _ value:Expr _ "{" _ arms:MatchExprArmList? _ "}" {
      return { type: "MatchExpr", value, arms: arms || [], location: location() };
    }

MatchExprArmList
  = head:MatchExprArm tail:(_ "," _ MatchExprArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchExprArm
  = pattern:MatchPattern _ "=>" _ body:Expr { return { pattern, body, location: location() }; }

Member
  = base:Identifier tail:(_ "." _ IdName)+ {
      return tail.reduce((acc, t) => ({ type: "Member", object: acc, property: t[3].name, location: location() }), base);
    }
Call
  = callee:IdName _ targs:TypeArgs? _ "(" _ args:ArgList? _ ")" {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: args || [], typeArgs: targs || [], location: location() };
    }

ArgList
  = head:Expr tail:(_ "," _ Expr)* { return [head].concat(tail.map(t => t[3])); }
Visibility
  = "pub" { return "public"; }
`,preludeRaw=`extern fn print(message: string) -> void from "console";
extern fn abs(value: int) -> int from "math";
extern fn max(a: int, b: int) -> int from "math";
extern fn min(a: int, b: int) -> int from "math";
extern fn len(value: string) -> int from "string";
extern fn upper(value: string) -> string from "string";
type List<T> = { length: int };
type Map<K, V> = { size: int };
`,__viteBrowserExternal={},tty=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),{env={},argv=[],platform=""}=typeof process>"u"?{}:process,isDisabled="NO_COLOR"in env||argv.includes("--no-color"),isForced="FORCE_COLOR"in env||argv.includes("--color"),isWindows=platform==="win32",isDumbTerminal=env.TERM==="dumb",isCompatibleTerminal=tty&&void 0,isCI="CI"in env&&("GITHUB_ACTIONS"in env||"GITLAB_CI"in env||"CIRCLECI"in env),isColorSupported=!isDisabled&&(isForced||isWindows&&!isDumbTerminal||isCompatibleTerminal||isCI),replaceClose=(l,r,a,s,o=r.substring(0,l)+s,f=r.substring(l+a.length),h=f.indexOf(a))=>o+(h<0?f:replaceClose(h,f,a,s)),clearBleed=(l,r,a,s,o)=>l<0?a+r+s:a+replaceClose(l,r,s,o)+s,filterEmpty=(l,r,a=l,s=l.length+1)=>o=>o||!(o===""||o===void 0)?clearBleed((""+o).indexOf(r,s),o,l,r,a):"",init=(l,r,a)=>filterEmpty(`\x1B[${l}m`,`\x1B[${r}m`,a),colors={reset:init(0,0),bold:init(1,22,"\x1B[22m\x1B[1m"),dim:init(2,22,"\x1B[22m\x1B[2m"),italic:init(3,23),underline:init(4,24),inverse:init(7,27),hidden:init(8,28),strikethrough:init(9,29),black:init(30,39),red:init(31,39),green:init(32,39),yellow:init(33,39),blue:init(34,39),magenta:init(35,39),cyan:init(36,39),white:init(37,39),gray:init(90,39),bgBlack:init(40,49),bgRed:init(41,49),bgGreen:init(42,49),bgYellow:init(43,49),bgBlue:init(44,49),bgMagenta:init(45,49),bgCyan:init(46,49),bgWhite:init(47,49),blackBright:init(90,39),redBright:init(91,39),greenBright:init(92,39),yellowBright:init(93,39),blueBright:init(94,39),magentaBright:init(95,39),cyanBright:init(96,39),whiteBright:init(97,39),bgBlackBright:init(100,49),bgRedBright:init(101,49),bgGreenBright:init(102,49),bgYellowBright:init(103,49),bgBlueBright:init(104,49),bgMagentaBright:init(105,49),bgCyanBright:init(106,49),bgWhiteBright:init(107,49)},createColors=({useColor:l=isColorSupported}={})=>l?colors:Object.keys(colors).reduce((r,a)=>({...r,[a]:String}),{}),{reset,bold,dim,italic,underline,inverse,hidden,strikethrough,black,red,green,yellow,blue,magenta,cyan,white,gray,bgBlack,bgRed,bgGreen,bgYellow,bgBlue,bgMagenta,bgCyan,bgWhite,blackBright,redBright,greenBright,yellowBright,blueBright,magentaBright,cyanBright,whiteBright,bgBlackBright,bgRedBright,bgGreenBright,bgYellowBright,bgBlueBright,bgMagentaBright,bgCyanBright,bgWhiteBright}=createColors();PEG.generate;function wrapGrammarWithExpectations(l){let r,a;return{...l,parse:(o,f)=>{try{return l.parse(o,f)}catch(h){const d=h;throw Array.isArray(d.expected)?r=d.expected.map(g=>g.description||g.text||g.toString()):r=void 0,d.found!==void 0&&d.found!==null?a=String(d.found):a=null,h}},getLastExpected:()=>r,getLastFound:()=>a}}let SymbolTable$1=class{constructor(){this.scopes=new Map,this.currentScope="global",this.scopeStack=["global"],this.scopes.set("global",new Map)}enterScope(r){this.currentScope=r,this.scopeStack.push(r),this.scopes.has(r)||this.scopes.set(r,new Map)}exitScope(){this.scopeStack.pop(),this.currentScope=this.scopeStack[this.scopeStack.length-1]||"global"}define(r){this.scopes.get(this.currentScope).set(r.name,r)}lookup(r){for(let a=this.scopeStack.length-1;a>=0;a--){const s=this.scopeStack[a],o=this.scopes.get(s);if(o?.has(r))return o.get(r)}}getAllSymbols(){const r=[];for(const a of this.scopes.values())r.push(...a.values());return r}getSymbolsInScope(r){return Array.from(this.scopes.get(r)?.values()||[])}getCurrentScope(){return this.currentScope}};function parseInput$1(l,r,a={}){try{const s=l.parse(r,a);return{result:s,success:!0,ast:s,symbols:a.enableSymbolTable?new SymbolTable$1:void 0,diagnostics:a.enableDiagnostics?[]:void 0}}catch(s){return createParseError(s,r)}}function createParseError(l,r,a){const s=l,o={success:!1,error:s.message||"Parse error",input:r};return s.location&&(o.location={start:{line:s.location.start.line,column:s.location.start.column,offset:s.location.start.offset},end:{line:s.location.end.line,column:s.location.end.column,offset:s.location.end.offset}}),s.expected&&(o.expected=s.expected.map(f=>f.description||f.text||f.toString())),s.found!==void 0&&s.found!==null?o.found=s.found.toString():o.found=null,o.stack=s.stack,o.location&&(o.snippet=generateErrorSnippet(r,o.location)),o}function generateErrorSnippet(l,r){const a=l.split(`
`),s=r.start.line,o=r.start.column;if(s>a.length)return"";const f=a[s-1],h=[];return s>1&&h.push(`${s-1}: ${a[s-2]}`),h.push(`${s}: ${f}`),h.push(`${" ".repeat(s.toString().length)}: ${" ".repeat(o-1)}^`),s<a.length&&h.push(`${s+1}: ${a[s]}`),h.join(`
`)}function toDiagnostic(l){const r=l.location??{start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},a=l.expected&&l.expected.length>0?` Expected: ${l.expected.join(", ")}`:"",s=l.found!==void 0&&l.found!==null?` Found: "${l.found}"`:"";return{severity:"error",message:`${l.error}${a}${s}`,location:r,code:"PARSE_ERROR",source:"parsergen"}}function replaceRangePreserveNewlines(l,r,a){const o=l.slice(r,a).replace(/[^\r\n]/g," ");return l.slice(0,r)+o+l.slice(a)}function findSyncOffsetWithLexer(l,r,a,s){for(const o of l)if(!(o.offset<r)&&(a.includes(o.type)||o.type==="keyword"&&s.includes(o.value)))return o.offset+o.value.length;return null}function findSyncOffsetByScan(l,r,a){for(let s=r;s<l.length;s++)if(a.includes(l[s]))return s+1;return null}function collectErrorNodes(l,r,a){const s=new Set,o=f=>{if(!(!f||typeof f!="object")&&!s.has(f)){if(s.add(f),"type"in f&&f.type==="ErrorNode"){const h=f,d=h.expected&&h.expected.length>0?h.expected:a?.(),g=d&&d.length>0?` Expected: ${d.join(", ")}`:"";r.push({severity:"error",message:`${h.message??"Invalid syntax"}${g}`,location:h.location??{start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},code:"PARSE_ERROR",source:"parsergen"})}if(Array.isArray(f)){f.forEach(o);return}for(const h of Object.values(f))o(h)}};o(l)}function parseWithPanicRecovery(l,r,a={}){const s=typeof l.getLastExpected=="function"?l:wrapGrammarWithExpectations(l),o=[],f=a.maxErrors??25,h=a.syncTokenTypes??["semicolon","rbrace"],d=a.syncKeywordValues??["fn","struct","enum","type","extern","import","pub","return","if","while","match"],g=[";","}"];let m=r;for(let y=0;y<f;y++){const v=parseInput$1(s,m);if(v&&typeof v=="object"&&"success"in v&&v.success===!1){o.push(toDiagnostic(v));const x=v.location?.start.offset??0;let k=null;if(a.lexer&&(k=findSyncOffsetWithLexer(a.lexer(m),x,h,d)),k===null&&(k=findSyncOffsetByScan(m,x,g)),k===null||k<=x)return{diagnostics:o};m=replaceRangePreserveNewlines(m,x,k)}else{const x=v?.result??v;return collectErrorNodes(x,o,s.getLastExpected),{result:v,diagnostics:o}}}return{diagnostics:o}}function extractImports(l){const r=[],a=/import\s+[^;]*?\s+from\s+["']([^"']+)["']/g,s=/import\s+["']([^"']+)["']/g;let o;for(;(o=a.exec(l))!==null;)r.push(o[1]);for(;(o=s.exec(l))!==null;)r.push(o[1]);return r}class SymbolTable{constructor(){this.symbols=new Map}define(r){this.symbols.set(r.name,r)}has(r){return this.symbols.has(r)}get(r){return this.symbols.get(r)}list(){return Array.from(this.symbols.values())}}const builtinTypes=new Set(["int","string","bool","void","any"]),defaultLocation={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},diagAt=(l,r,a="error",s,o)=>({severity:a,message:l,location:r??defaultLocation,code:s??(a==="warning"?"LINT":"TYPE_ERROR"),source:"lumina",relatedInformation:o}),getLValueBaseName=l=>{if(l.type==="Identifier")return l.name;if(l.type!=="Member")return null;let r=l.object;for(;r.type==="Member";)r=r.object;return r.type==="Identifier"?r.name:null};function analyzeLumina(l,r){const a=[],s=new SymbolTable,o=new Map,f=new Map;for(const v of builtinTypes)s.define({name:v,kind:"type",type:v});if(r?.externalSymbols)for(const v of r.externalSymbols)r.currentUri&&v.uri&&v.uri===r.currentUri||r.importedNames&&!r.importedNames.has(v.name)||s.has(v.name)||s.define(v);for(const v of l.body)if(v.type!=="ErrorNode"){if(v.type==="TypeDecl")s.define({name:v.name,kind:"type",type:v.name,location:v.location,visibility:v.visibility??"private",uri:r?.currentUri,typeParams:v.typeParams??[],extern:v.extern??!1,externModule:v.externModule??null});else if(v.type==="StructDecl"){const x=new Map;for(const k of v.body)x.set(k.name,k.typeName);s.define({name:v.name,kind:"type",type:v.name,location:v.location,visibility:v.visibility??"private",uri:r?.currentUri,typeParams:v.typeParams??[],structFields:x})}else if(v.type==="EnumDecl")s.define({name:v.name,kind:"type",type:v.name,location:v.location,visibility:v.visibility??"private",uri:r?.currentUri,typeParams:v.typeParams??[],enumVariants:v.variants.map(x=>({name:x.name,params:x.params??[]}))});else if(v.type==="FnDecl"){const x=r?.cachedFunctionReturns?.get(v.name);s.define({name:v.name,kind:"function",type:v.returnType??x??void 0,pendingReturn:v.returnType==null&&x==null,location:v.location,visibility:v.visibility??"private",extern:v.extern??!1,uri:r?.currentUri,typeParams:v.typeParams??[],paramTypes:v.params.map(k=>k.typeName),paramRefs:v.params.map(k=>!!k.ref),externModule:v.externModule??null})}}if(r?.indexingOnly)return{symbols:s,diagnostics:a,diGraphs:r?.diDebug?f:void 0};const h=new Scope,d=new Set;validateRecursiveStructs(s,a,r);for(const v of l.body)v.type!=="FnDecl"&&typeCheckStatement(v,s,a,null,h,r,void 0,d,o,void 0,void 0);const g=5;let m=!0,y=0;for(;m&&y<g;){m=!1,y+=1;for(const x of l.body){if(x.type!=="FnDecl"||r?.skipFunctionBodies?.has(x.name))continue;const k=s.get(x.name);if(!k||!k.pendingReturn||d.has(x.name))continue;d.add(x.name),o.set(x.name,new Set);const Q=resolveFunctionBody(x,s,a,r,d,o,h,f);d.delete(x.name),Q?(s.define({...k,type:Q,pendingReturn:!1}),m=!0):Q==="void"&&(s.define({...k,type:"void",pendingReturn:!1}),m=!0)}const v=detectPendingCycles(o);if(v.length>0){for(const x of v){a.push(diagAt(`Recursive inference detected for '${x}'`,l.location));const k=s.get(x);k&&s.define({...k,type:"any",pendingReturn:!1})}m=!1}}for(const v of l.body)if(v.type!=="ErrorNode"&&v.type==="FnDecl"){if(r?.skipFunctionBodies?.has(v.name))continue;resolveFunctionBody(v,s,a,r,d,o,h,f)}return collectUnusedBindingsLocal(h,a,l.location),{symbols:s,diagnostics:a,diGraphs:r?.diDebug?f:void 0}}function resolveFunctionBody(l,r,a,s,o,f,h,d){if(l.type!=="FnDecl")return null;if(s?.skipFunctionBodies?.has(l.name)){const Q=s.cachedFunctionReturns?.get(l.name);return Q||(l.returnType??null)}const g=l.returnType??null,m=new SymbolTable;for(const Q of r.list())m.define(Q);const y=new Map;for(const Q of l.typeParams??[])y.set(Q.name,Q.bound?.[0]);const v=new Scope(h);for(const Q of l.params){if(ensureKnownType(Q.typeName,r,new Set(y.keys()),a,Q.location??l.location)==="unknown"){const M=suggestName(Q.typeName,collectVisibleTypeSymbols(r,s)),L=M?[{location:Q.location??l.location??defaultLocation,message:`Did you mean '${M}'?`}]:void 0;a.push(diagAt(`Unknown type '${Q.typeName}' for parameter '${Q.name}'`,Q.location??l.location,"error","UNKNOWN_TYPE",L))}m.define({name:Q.name,kind:"variable",type:Q.typeName,location:Q.location??l.location}),v.define(Q.name,Q.location??l.location)}if(l.extern)return g??null;s?.diDebug&&d&&d.set(l.name,buildCfgDot(l.name,l.body.body));const x=g?void 0:{types:[]},k=new DefiniteAssignment;for(const Q of l.params)k.define(v,Q.name,!0);for(const Q of l.body.body)typeCheckStatement(Q,m,a,g,v,{...s,typeParams:y},x,o,f,l.name,k);if(collectUnusedBindings(v,a,l.location),g)return g;if(f.get(l.name)?.size)return null;if(x&&x.types.length>0){const[Q,...A]=x.types;return A.some(L=>L!==Q)?(a.push(diagAt(`Inconsistent return types for '${l.name}'`,l.location)),null):Q}return"void"}function detectPendingCycles(l){const r=new Set,a=new Set,s=new Set,o=f=>{if(a.has(f)){s.add(f);return}if(r.has(f))return;r.add(f),a.add(f);const h=l.get(f);if(h)for(const d of h)o(d);a.delete(f)};for(const f of l.keys())o(f);return Array.from(s)}function collectVisibleSymbols(l,r){const a=l.list(),s=[];for(const o of a)o.uri&&r?.currentUri&&o.uri!==r.currentUri&&o.visibility==="private"||s.push(o.name);return s}function collectVisibleTypeSymbols(l,r){const a=l.list(),s=[];for(const o of a)o.kind==="type"&&(o.uri&&r?.currentUri&&o.uri!==r.currentUri&&o.visibility==="private"||s.push(o.name));return s}function findEnumVariant(l,r,a){for(const s of l.list()){if(!s.enumVariants||s.uri&&a?.currentUri&&s.uri!==a.currentUri&&s.visibility==="private")continue;const o=s.enumVariants.find(f=>f.name===r);if(o)return{enumName:s.name,params:o.params}}return null}function findEnumVariantQualified(l,r,a,s){const o=l.get(r);if(!o||!o.enumVariants||o.uri&&s?.currentUri&&o.uri!==s.currentUri&&o.visibility==="private")return null;const f=o.enumVariants.find(h=>h.name===a);return f?{enumName:o.name,params:f.params}:null}function getEnumPayloadType(l,r,a){const s=findEnumVariant(l,r,a);return!s||s.params.length!==1?null:s.params[0]}function getEnumPayloadTypeQualified(l,r,a,s){const o=findEnumVariantQualified(l,r,a,s);return!o||o.params.length!==1?null:o.params[0]}function getNarrowingFromCondition(l,r,a){if(l.type==="IsExpr"){if(l.value.type!=="Identifier")return null;const f=l.enumName?getEnumPayloadTypeQualified(r,l.enumName,l.variant,a):getEnumPayloadType(r,l.variant,a);return f?{name:l.value.name,type:f,when:"then"}:null}if(l.type!=="Binary"||l.op!=="=="&&l.op!=="!=")return null;const s=(f,h,d)=>{if(f.type!=="Identifier"||h.type!=="Call")return null;const g=getEnumPayloadType(r,h.callee.name,a);return g?{name:f.name,type:g,when:d}:null},o=l.op==="=="?"then":"else";return s(l.left,l.right,o)??s(l.right,l.left,o)}function resolveEnumFromType(l,r){if(!r)return null;const s=parseTypeName(r)?.base??r,o=l.get(s);return!o||!o.enumVariants?null:{name:s,variants:o.enumVariants}}function levenshtein(l,r){const a=Array.from({length:l.length+1},()=>new Array(r.length+1).fill(0));for(let s=0;s<=l.length;s++)a[s][0]=s;for(let s=0;s<=r.length;s++)a[0][s]=s;for(let s=1;s<=l.length;s++)for(let o=1;o<=r.length;o++){const f=l[s-1]===r[o-1]?0:1;a[s][o]=Math.min(a[s-1][o]+1,a[s][o-1]+1,a[s-1][o-1]+f)}return a[l.length][r.length]}function suggestName(l,r){let a=null;for(const s of r){const o=levenshtein(l,s);(a===null||o<a.dist)&&(a={name:s,dist:o})}return a&&a.dist<=2?a.name:null}function typeCheckStatement(l,r,a,s,o,f,h,d,g,m,y){switch(l.type){case"ErrorNode":a.push(diagAt(l.message??"Invalid syntax",l.location));return;case"TypeDecl":if(l.extern)return;if(l.typeParams&&l.typeParams.length>0){for(const v of l.typeParams)if(isValidTypeParam(v.name)||a.push(diagAt(`Invalid type parameter '${v.name}'`,l.location)),v.bound)for(const x of v.bound)isKnownType(x,r,new Set(l.typeParams.map(k=>k.name)))||a.push(diagAt(`Unknown bound '${x}' for type parameter '${v.name}'`,l.location))}{const v=new Map;for(const x of l.typeParams??[])v.set(x.name,x.bound?.[0]);for(const x of l.body)if(ensureKnownType(x.typeName,r,new Set(v.keys()),a,l.location)==="unknown"){const Q=suggestName(x.typeName,collectVisibleTypeSymbols(r,f)),A=Q?[{location:l.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;a.push(diagAt(`Unknown type '${x.typeName}' for field '${x.name}'`,l.location,"error","UNKNOWN_TYPE",A))}}return;case"StructDecl":{if(l.typeParams&&l.typeParams.length>0){for(const v of l.typeParams)if(isValidTypeParam(v.name)||a.push(diagAt(`Invalid type parameter '${v.name}'`,l.location)),v.bound)for(const x of v.bound)isKnownType(x,r,new Set(l.typeParams.map(k=>k.name)))||a.push(diagAt(`Unknown bound '${x}' for type parameter '${v.name}'`,l.location))}{const v=new Map;for(const x of l.typeParams??[])v.set(x.name,x.bound?.[0]);for(const x of l.body)if(ensureKnownType(x.typeName,r,new Set(v.keys()),a,l.location)==="unknown"){const Q=suggestName(x.typeName,collectVisibleTypeSymbols(r,f)),A=Q?[{location:l.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;a.push(diagAt(`Unknown type '${x.typeName}' for field '${x.name}'`,l.location,"error","UNKNOWN_TYPE",A))}}return}case"EnumDecl":{for(const v of l.variants)for(const x of v.params??[])isKnownType(x,r,new Set(l.typeParams?.map(k=>k.name)??[]))||a.push(diagAt(`Unknown type '${x}' for enum variant '${v.name}'`,v.location??l.location));return}case"FnDecl":{resolveFunctionBody(l,r,a,f,d??new Set,g??new Map,o);return}case"Let":{const v=f?.typeParams??new Map,x=l.typeName??null;if(o){const A=o.parent,M=A?findDefScope(A,l.name):null;if(M){const L=M.locals.get(l.name),B=L?[{location:L,message:`Previous '${l.name}' declared here`}]:void 0;a.push(diagAt(`Binding '${l.name}' shadows a variable from an outer scope`,l.location,"warning","SHADOWED_BINDING",B))}}if(x&&ensureKnownType(x,r,new Set(v.keys()),a,l.location)==="unknown"){const M=suggestName(x,collectVisibleTypeSymbols(r,f)),L=M?[{location:l.location??defaultLocation,message:`Did you mean '${M}'?`}]:void 0;a.push(diagAt(`Unknown type '${x}' for variable '${l.name}'`,l.location,"error","UNKNOWN_TYPE",L))}o&&y&&y.define(o,l.name,!1),o&&o.define(l.name,l.location),r.define({name:l.name,kind:"variable",type:x??"any",location:l.location,mutable:l.mutable??!1});const k=typeCheckExpr(l.value,r,a,o,f,x??void 0,d,g,m,y);x&&k&&k!==x&&a.push(diagAt(`Type mismatch: '${l.name}' is '${x}' but value is '${k}'`,l.location));const Q=x??k;if(!Q){if(l.value.type==="Call"&&!x&&(()=>{const A=l.value.callee.name,M=r.get(A)??f?.externSymbols?.(A);return!!(M&&M.kind==="function"&&M.pendingReturn)})()){r.define({name:l.name,kind:"variable",type:"any",location:l.location}),o?.define(l.name,l.location);return}a.push(diagAt(`Could not infer type for '${l.name}'`,l.location))}r.define({name:l.name,kind:"variable",type:Q??"any",location:l.location,mutable:l.mutable??!1}),o&&y&&y.assign(o,l.name);return}case"If":{const v=typeCheckExpr(l.condition,r,a,o,f,void 0,d,g,m,y);v&&v!=="bool"&&a.push(diagAt("If condition must be 'bool'",l.location));const x=getNarrowingFromCondition(l.condition,r,f);let k=null;if(l.condition.type==="IsExpr"&&l.condition.value.type==="Identifier"){const Q=typeCheckExpr(l.condition.value,r,a,o,f,void 0,d,g,m,y),A=resolveEnumFromType(r,Q);if(A){const M=l.condition.variant,L=A.variants.filter(B=>B.name!==M);L.length===1&&L[0].params.length===1&&(k={name:l.condition.value.name,type:L[0].params[0]})}}if(y){const Q=y.clone(),A=y.clone(),M=new Scope(o),L=new Scope(o);x&&(x.when==="then"?M.narrow(x.name,x.type):L.narrow(x.name,x.type)),k&&L.narrow(k.name,k.type),typeCheckStatement(l.thenBlock,r,a,s,M,f,h,d,g,m,Q),l.elseBlock&&typeCheckStatement(l.elseBlock,r,a,s,L,f,h,d,g,m,A),y.mergeFromBranches([Q,A])}else{const Q=new Scope(o),A=new Scope(o);x&&(x.when==="then"?Q.narrow(x.name,x.type):A.narrow(x.name,x.type)),k&&A.narrow(k.name,k.type),typeCheckStatement(l.thenBlock,r,a,s,Q,f,h,d,g,m),l.elseBlock&&typeCheckStatement(l.elseBlock,r,a,s,A,f,h,d,g,m)}return}case"While":{const v=typeCheckExpr(l.condition,r,a,o,f,void 0,d,g,m,y);if(v&&v!=="bool"&&a.push(diagAt("While condition must be 'bool'",l.location)),y){const x=y.clone();typeCheckStatement(l.body,r,a,s,o,f,h,d,g,m,x)}else typeCheckStatement(l.body,r,a,s,o,f,h,d,g,m);return}case"Assign":{const v=l.target.name,x=r.get(v)??f?.externSymbols?.(v);if(!x){a.push(diagAt(`Unknown identifier '${v}'`,l.location));return}if(x.kind==="variable"&&x.mutable===!1){a.push(diagAt(`Cannot assign to immutable variable '${v}'`,l.location));return}o?.write(v);const k=typeCheckExpr(l.value,r,a,o,f,x.type,d,g,m,y);if(o&&y){const Q=findDefScope(o,v);Q&&y.assign(Q,v)}k&&x.type&&k!==x.type&&a.push(diagAt(`Type mismatch: '${v}' is '${x.type}' but value is '${k}'`,l.location));return}case"Return":{const v=typeCheckExpr(l.value,r,a,o,f,s??void 0,d,g,m,y);s&&v&&v!==s&&a.push(diagAt(`Return type '${v}' does not match '${s}'`,l.location)),!s&&v&&h&&h.types.push(v);return}case"ExprStmt":typeCheckExpr(l.expr,r,a,o,f,void 0,d,g,m,y);return;case"Block":{const v=new Scope(o),x=y??void 0;for(const k of l.body)typeCheckStatement(k,r,a,s,v,f,h,d,g,m,x);collectUnusedBindings(v,a,l.location);return}case"MatchStmt":{const v=typeCheckExpr(l.value,r,a,o,f,void 0,d,g,m,y),k=(v?parseTypeName(v):null)?.base??v??null,Q=k?r.get(k):void 0,A=Q?.enumVariants??[],M=new Set;let L=!1;const B=[],X=l.value.type==="Identifier"?l.value.name:null;for(const V of l.arms){const z=new Scope(o),I=new SymbolTable,P=y?y.clone():void 0;for(const ee of r.list())I.define(ee);const F=V.pattern;if(F.type==="WildcardPattern")L=!0;else if(F.type==="EnumPattern"){F.enumName&&k&&F.enumName!==k&&a.push(diagAt(`Match value is '${k}', not '${F.enumName}'`,V.location??l.location));const ee=F.enumName?findEnumVariantQualified(r,F.enumName,F.variant,f):A.find(fe=>fe.name===F.variant)?{params:A.find(fe=>fe.name===F.variant)?.params??[]}:null;if(!ee)a.push(diagAt(`Unknown enum variant '${F.variant}'`,V.location??l.location));else{const fe=F.variant;M.has(fe)&&a.push(diagAt(`Duplicate match arm for '${fe}'`,V.location??l.location)),M.add(fe),X&&ee.params.length===1&&z.narrow(X,ee.params[0]),F.bindings.length>0&&(ee.params.length===0?a.push(diagAt(`Variant '${fe}' has no payload`,V.location??l.location)):F.bindings.length!==ee.params.length&&a.push(diagAt(`Variant '${fe}' expects ${ee.params.length} bindings`,V.location??l.location)),F.bindings.forEach((j,J)=>{if(j==="_")return;const le=ee.params[J];le&&(z.define(j,V.location??l.location),I.define({name:j,kind:"variable",type:le,location:V.location??l.location}),P&&P.define(z,j,!0))}))}}typeCheckStatement(V.body,I,a,s,z,f,h,d,g,m,P),collectUnusedBindings(z,a,V.location??l.location),P&&B.push(P)}if(y&&B.length>0&&y.mergeFromBranches(B),v&&(!Q||!Q.enumVariants))a.push(diagAt("Match expression must be an enum",l.location));else if(!L&&Q?.enumVariants){const V=Q.enumVariants.map(z=>z.name).filter(z=>!M.has(z));if(V.length>0){const z=[{location:l.location??defaultLocation,message:`Covered variants: ${Array.from(M).join(", ")||"none"}`},{location:l.location??defaultLocation,message:`Missing variants: ${V.join(", ")}`}];a.push(diagAt(`Missing case${V.length>1?"s":""}: ${V.join(", ")}`,l.location,"error","MATCH_NOT_EXHAUSTIVE",z))}}return}case"Import":return}}function typeCheckExpr(l,r,a,s,o,f,h,d,g,m,y){if(l.type==="Number")return"int";if(l.type==="Boolean")return"bool";if(l.type==="String")return"string";if(l.type==="Binary"){if(l.op==="|>"){if(l.right.type!=="Call")return a.push(diagAt("Pipe target must be a function call",l.location)),null;const k=l.right,Q=typeCheckExpr(l.left,r,a,s,o,void 0,h,d,g,m),A=r.get(k.callee.name)??o?.externSymbols?.(k.callee.name);if(A?.kind==="function"&&A.paramRefs?.[0])if(!(B=>B.type==="Identifier"||B.type==="Member")(l.left))a.push(diagAt(`'${k.callee.name}' expects a reference for parameter 1`,l.left.location??l.location,"error","REF_LVALUE_REQUIRED"));else{const B=getLValueBaseName(l.left);if(B){const X=r.get(B)??o?.externSymbols?.(B);X?.kind==="variable"&&X.mutable===!1&&a.push(diagAt(`'${B}' should be mutable when passed by reference`,l.left.location??l.location,"warning","REF_MUT_REQUIRED"))}}return typeCheckExpr(k,r,a,s,o,void 0,h,d,g,m,Q??void 0)}const v=typeCheckExpr(l.left,r,a,s,o,void 0,h,d,g,m),x=typeCheckExpr(l.right,r,a,s,o,void 0,h,d,g,m);return!v||!x?null:l.op==="+"&&v==="string"&&x==="string"?"string":l.op==="&&"||l.op==="||"?v!=="bool"||x!=="bool"?(a.push(diagAt(`Operator '${l.op}' requires bool operands`,l.location)),null):"bool":l.op==="=="||l.op==="!="?v!==x?(a.push(diagAt(`Operator '${l.op}' requires matching operand types`,l.location)),null):"bool":l.op==="<"||l.op===">"||l.op==="<="||l.op===">="?v!=="int"||x!=="int"?(a.push(diagAt(`Operator '${l.op}' requires int operands`,l.location)),null):"bool":v!=="int"||x!=="int"?(a.push(diagAt(`Operator '${l.op}' requires int operands`,l.location)),null):"int"}if(l.type==="Identifier"){const v=l.name;s?.read(v);const x=s?.lookupNarrowed(v),k=r.get(v)??o?.externSymbols?.(v);if(!k){const Q=suggestName(v,collectVisibleSymbols(r,o)),A=Q?[{location:l.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;return a.push(diagAt(`Unknown identifier '${v}'`,l.location,"error","UNKNOWN_IDENTIFIER",A)),null}if(k.uri&&o?.currentUri&&k.uri!==o.currentUri&&k.visibility==="private")return a.push(diagAt(`'${v}' is private to ${k.uri}`,l.location)),null;if(s&&m){const Q=findDefScope(s,v);Q&&!m.isAssigned(Q,v)&&a.push(diagAt(`Variable '${v}' used before assignment`,l.location))}return x??k.type??null}if(l.type==="IsExpr"){const v=typeCheckExpr(l.value,r,a,s,o,void 0,h,d,g,m);if(!v)return"bool";const k=parseTypeName(v)?.base??v;if(l.enumName){const A=r.get(l.enumName);if(!A||!A.enumVariants){const L=suggestName(l.enumName,collectVisibleTypeSymbols(r,o)),B=L?[{location:l.location??defaultLocation,message:`Did you mean '${L}'?`}]:void 0;return a.push(diagAt(`Unknown enum '${l.enumName}'`,l.location,"error","UNKNOWN_QUALIFIER",B)),"bool"}return l.enumName!==k?(a.push(diagAt(`'${l.enumName}' does not match '${k}'`,l.location,"error","QUALIFIER_MISMATCH")),"bool"):(findEnumVariantQualified(r,l.enumName,l.variant,o)||a.push(diagAt(`Unknown enum variant '${l.variant}'`,l.location)),"bool")}return findEnumVariant(r,l.variant,o)||a.push(diagAt(`Unknown enum variant '${l.variant}'`,l.location)),"bool"}if(l.type==="Call"){const v=l.callee.name;s?.read(v);const x=r.get(v)??o?.externSymbols?.(v),k=z=>z.type==="Identifier"||z.type==="Member";if(!x||x.kind!=="function"){const z=findEnumVariant(r,v,o);if(z){const F=l.args.length+(y?1:0);if(z.params.length!==F)return a.push(diagAt(`Argument count mismatch for '${v}'`,l.location)),z.enumName;for(let ee=0;ee<F;ee++){const fe=y&&ee===0?y:typeCheckExpr(l.args[y?ee-1:ee],r,a,s,o,void 0,h,d,g,m),j=z.params[ee];fe&&j&&fe!==j&&a.push(diagAt(`Type mismatch: expected '${j}' for '${v}'`,l.location))}return z.enumName}const I=suggestName(v,collectVisibleSymbols(r,o)),P=I?[{location:l.location??defaultLocation,message:`Did you mean '${I}'?`}]:void 0;return a.push(diagAt(`Unknown function '${v}'`,l.location,"error","UNKNOWN_FUNCTION",P)),null}if(x.uri&&o?.currentUri&&x.uri!==o.currentUri&&x.visibility==="private")return a.push(diagAt(`'${v}' is private to ${x.uri}`,l.location)),null;if(x.pendingReturn){if(h?.has(v)&&a.push(diagAt(`Recursive inference detected for '${v}'`,l.location)),g&&d){const z=d.get(g)??new Set;z.add(v),d.set(g,z)}return null}const Q=x.typeParams??[],A=new Map;if(l.typeArgs&&l.typeArgs.length>0){if(l.typeArgs.length!==Q.length)return a.push(diagAt(`Type argument count mismatch for '${v}'`,l.location)),x.type??null;Q.forEach((z,I)=>{A.set(z.name,l.typeArgs[I])})}const M=x.paramTypes??[],L=x.paramRefs??[],B=l.args.length+(y?1:0);if(M.length!==B)return a.push(diagAt(`Argument count mismatch for '${v}'`,l.location)),x.type??null;for(let z=0;z<B;z++){if(L[z]??!1){const ee=y&&z===0?void 0:l.args[y?z-1:z];if(ee&&!k(ee))a.push(diagAt(`'${v}' expects a reference for parameter ${z+1}`,ee.location??l.location,"error","REF_LVALUE_REQUIRED"));else if(ee){const fe=getLValueBaseName(ee);if(fe){const j=r.get(fe)??o?.externSymbols?.(fe);j?.kind==="variable"&&j.mutable===!1&&a.push(diagAt(`'${fe}' should be mutable when passed by reference`,ee.location??l.location,"warning","REF_MUT_REQUIRED"))}}}const P=y&&z===0?y:typeCheckExpr(l.args[y?z-1:z],r,a,s,o,void 0,h,d,g,m),F=M[z];P&&unifyTypes(F,P,A)}if(f){const z=x.type??"any";unifyTypes(z,f,A)}Q.map(z=>z.name).filter(z=>!A.has(z)).length>0&&a.push(diagAt(`Could not infer type parameters for '${v}'`,l.location));for(const z of Q)if(z.bound&&A.has(z.name)){const I=A.get(z.name);for(const P of z.bound)isTypeAssignable(I,P,r,o?.typeParams)||a.push(diagAt(`Type argument '${I}' does not satisfy bound '${P}' for '${z.name}'`,l.location,"error","BOUND_MISMATCH",[{location:l.location??defaultLocation,message:`Expected: ${P}, Actual: ${I}`}]))}return substituteTypeParams(x.type??"any",A)}if(l.type==="StructLiteral"){const v=r.get(l.name);if(!v||!v.structFields)return a.push(diagAt(`Unknown struct '${l.name}'`,l.location)),null;const x=v.typeParams??[],k=new Map;l.typeArgs&&l.typeArgs.length>0&&(l.typeArgs.length!==x.length?a.push(diagAt(`Type argument count mismatch for '${l.name}'`,l.location)):x.forEach((L,B)=>{k.set(L.name,l.typeArgs[B])}));const Q=new Set;for(const L of l.fields){Q.add(L.name);const B=v.structFields.get(L.name);if(!B){a.push(diagAt(`Unknown field '${L.name}' on '${l.name}'`,L.location??l.location));continue}const X=typeCheckExpr(L.value,r,a,s,o,B,h,d,g,m);X&&unifyTypes(B,X,k);const V=substituteTypeParams(B,k);X&&!isTypeAssignable(X,V,r,o?.typeParams)&&a.push(diagAt(`Type mismatch for '${L.name}': expected '${V}', got '${X}'`,L.location??l.location))}for(const L of v.structFields.keys())Q.has(L)||a.push(diagAt(`Missing field '${L}' for '${l.name}'`,l.location));if(x.map(L=>L.name).filter(L=>!k.has(L)).length>0&&a.push(diagAt(`Could not infer type parameters for '${l.name}'`,l.location)),x.length===0)return l.name;const M=x.map(L=>k.get(L.name)??"any");return`${l.name}<${M.join(",")}>`}if(l.type==="Member"){const v=typeCheckExpr(l.object,r,a,s,o,void 0,h,d,g,m);if(!v)return null;const x=parseTypeName(v),k=x?.base??v,Q=r.get(k);if(!Q||!Q.structFields)return a.push(diagAt(`'${v}' has no fields`,l.location)),null;const A=Q.structFields.get(l.property);if(!A)return a.push(diagAt(`Unknown field '${l.property}' on '${v}'`,l.location)),null;if(!x||(Q.typeParams?.length??0)===0)return A;if((Q.typeParams?.length??0)!==x.args.length)return a.push(diagAt(`Type argument count mismatch for '${k}'`,l.location)),A;const M=new Map;return Q.typeParams?.forEach((L,B)=>{M.set(L.name,x.args[B])}),substituteTypeParams(A,M)}if(l.type==="MatchExpr"){const v=typeCheckExpr(l.value,r,a,s,o,void 0,h,d,g,m),k=(v?parseTypeName(v):null)?.base??v??null,Q=k?r.get(k):void 0,A=Q?.enumVariants??[],M=new Set;let L=!1,B=null;const X=l.value.type==="Identifier"?l.value.name:null;for(const V of l.arms){const z=new Scope(s),I=new SymbolTable;for(const ee of r.list())I.define(ee);const P=V.pattern;if(P.type==="WildcardPattern")L=!0;else if(P.type==="EnumPattern"){P.enumName&&k&&P.enumName!==k&&a.push(diagAt(`Match value is '${k}', not '${P.enumName}'`,V.location??l.location));const ee=P.enumName?findEnumVariantQualified(r,P.enumName,P.variant,o):A.find(fe=>fe.name===P.variant)?{params:A.find(fe=>fe.name===P.variant)?.params??[]}:null;if(!ee)a.push(diagAt(`Unknown enum variant '${P.variant}'`,V.location??l.location));else{const fe=P.variant;M.has(fe)&&a.push(diagAt(`Duplicate match arm for '${fe}'`,V.location??l.location)),M.add(fe),X&&ee.params.length===1&&z.narrow(X,ee.params[0]),P.bindings.length>0&&(ee.params.length===0?a.push(diagAt(`Variant '${fe}' has no payload`,V.location??l.location)):P.bindings.length!==ee.params.length&&a.push(diagAt(`Variant '${fe}' expects ${ee.params.length} bindings`,V.location??l.location)),P.bindings.forEach((j,J)=>{if(j==="_")return;const le=ee.params[J];le&&(z.define(j,V.location??l.location),I.define({name:j,kind:"variable",type:le,location:V.location??l.location}),m&&m.define(z,j,!0))}))}}const F=typeCheckExpr(V.body,I,a,z,o,void 0,h,d,g,m);F&&(B?B!==F&&a.push(diagAt("Match arms must return the same type",V.location??l.location)):B=F),collectUnusedBindings(z,a,V.location??l.location)}if(v&&(!Q||!Q.enumVariants))a.push(diagAt("Match expression must be an enum",l.location));else if(!L&&Q?.enumVariants){const V=Q.enumVariants.map(z=>z.name).filter(z=>!M.has(z));if(V.length>0){const z=[{location:l.location??defaultLocation,message:`Covered variants: ${Array.from(M).join(", ")||"none"}`},{location:l.location??defaultLocation,message:`Missing variants: ${V.join(", ")}`}];a.push(diagAt(`Missing case${V.length>1?"s":""}: ${V.join(", ")}`,l.location,"error","MATCH_NOT_EXHAUSTIVE",z))}}return B??null}return null}class Scope{constructor(r){this.locals=new Map,this.reads=new Set,this.writes=new Set,this.narrowed=new Map,this.children=[],this.parent=r,r&&r.children.push(this)}define(r,a){this.locals.set(r,a)}read(r){if(this.locals.has(r)){this.reads.add(r);return}this.parent?.read(r)}write(r){if(this.locals.has(r)){this.writes.add(r);return}this.parent?.write(r)}narrow(r,a){this.narrowed.set(r,a)}lookupNarrowed(r){return this.narrowed.has(r)?this.narrowed.get(r):this.parent?.lookupNarrowed(r)}}class DefiniteAssignment{constructor(){this.assigned=new Map}clone(){const r=new DefiniteAssignment;for(const[a,s]of this.entries())r.assigned.set(a,new Set(s));return r}define(r,a,s){const o=this.assigned.get(r)??new Set;s&&o.add(a),this.assigned.set(r,o)}assign(r,a){const s=this.assigned.get(r)??new Set;s.add(a),this.assigned.set(r,s)}isAssigned(r,a){const s=this.assigned.get(r);return!!s&&s.has(a)}mergeFromBranches(r){for(const[a,s]of this.entries()){const o=new Set;for(const f of s)r.every(h=>h.isAssigned(a,f))&&o.add(f);this.assigned.set(a,o)}}*entries(){for(const[r,a]of this.assigned.entries())yield[r,a]}}function findDefScope(l,r){let a=l;for(;a;){if(a.locals.has(r))return a;a=a.parent}return null}function collectUnusedBindings(l,r,a){for(const[s,o]of l.locals.entries())if(!s.startsWith("_")&&!l.reads.has(s)){const f=l.writes.has(s)?" (assigned but never read)":"";r.push(diagAt(`Unused binding '${s}'${f}`,o??a,"warning"))}for(const s of l.children)collectUnusedBindings(s,r,a)}function collectUnusedBindingsLocal(l,r,a){for(const[s,o]of l.locals.entries())if(!s.startsWith("_")&&!l.reads.has(s)){const f=l.writes.has(s)?" (assigned but never read)":"";r.push(diagAt(`Unused binding '${s}'${f}`,o??a,"warning"))}}function validateRecursiveStructs(l,r,a){const s=a?.recursiveWrappers??["Option","Box","Ref"],o=new Set(s),f=l.list().filter(m=>m.kind==="type"&&m.structFields),h=new Set,d=new Set,g=m=>{if(d.has(m)||h.has(m))return;h.add(m);const y=l.get(m);if(!y||!y.structFields){h.delete(m),d.add(m);return}for(const[v,x]of y.structFields.entries())if(hasUnwrappedRecursion(x,m,l,new Set,!1,o)){r.push(diagAt(`Recursive field '${v}' on '${m}' must be wrapped in an indirection type (Option/Box/Ref)`,y.location,"error","RECURSIVE_STRUCT",[{location:y.location??defaultLocation,message:`Suggested fix: wrap '${v}' in ${s.map(Q=>`${Q}<${m}>`).join(" / ")}`}]));break}h.delete(m),d.add(m)};for(const m of f)g(m.name)}function hasUnwrappedRecursion(l,r,a,s,o,f){const h=parseTypeName(l);if(!h){if(l===r)return!o;const y=a.get(l);if(!y||!y.structFields)return!1;const v=`${l}|${o?"w":"u"}`;if(s.has(v))return!1;s.add(v);for(const x of y.structFields.values())if(hasUnwrappedRecursion(x,r,a,s,o,f))return!0;return!1}if(h.base===r)return!o;const d=o||f.has(h.base);if(h.args.length>0){for(const y of h.args)if(hasUnwrappedRecursion(y,r,a,s,d,f))return!0;return!1}const g=a.get(h.base);if(!g||!g.structFields)return!1;const m=`${h.base}|${d?"w":"u"}`;if(s.has(m))return!1;s.add(m);for(const y of g.structFields.values())if(hasUnwrappedRecursion(y,r,a,s,d,f))return!0;return!1}function ensureKnownType(l,r,a,s,o){const f=parseTypeName(l);if(f&&f.args.length===0&&!a.has(f.base)){const h=r.get(f.base);if(h?.kind==="type"&&h.typeParams&&h.typeParams.length>0)return s.push(diagAt(`Missing type arguments for generic type '${f.base}'`,o)),"missingTypeArgs"}return isKnownType(l,r,a)?"ok":"unknown"}function isKnownType(l,r,a){if(builtinTypes.has(l)||a.has(l))return!0;const s=parseTypeName(l);if(!s)return!1;if(a.has(s.base))return!0;const o=r.get(s.base);if(o?.kind!=="type"||o.typeParams&&o.typeParams.length>0&&s.args.length===0)return!1;if(o.typeParams&&s.args.length>0){if(o.typeParams.length!==s.args.length)return!1;for(let f=0;f<o.typeParams.length;f++){const h=o.typeParams[f].bound??[];for(const d of h)if(!isTypeAssignable(s.args[f],d,r))return!1}}for(const f of s.args)if(!isKnownType(f,r,a))return!1;return!0}function parseTypeName(l){const r=l.indexOf("<");if(r===-1)return{base:l,args:[]};if(!l.endsWith(">"))return null;const a=l.slice(0,r),s=l.slice(r+1,-1),o=splitTypeArgs(s);return{base:a,args:o}}function splitTypeArgs(l){const r=[];let a=0,s="";for(const o of l){if(o==="<"&&a++,o===">"&&a--,o===","&&a===0){r.push(s.trim()),s="";continue}s+=o}return s.trim()&&r.push(s.trim()),r}function isValidTypeParam(l){return/^[A-Z][A-Za-z0-9_]*$/.test(l)}function isTypeAssignable(l,r,a,s){if(l===r||r==="any"||s&&s.has(r))return!0;const o=parseTypeName(l),f=parseTypeName(r);if(!o||!f||o.base!==f.base||o.args.length!==f.args.length)return!1;for(let h=0;h<o.args.length;h++)if(!isTypeAssignable(o.args[h],f.args[h],a,s))return!1;return!0}function unifyTypes(l,r,a){const s=parseTypeName(l),o=parseTypeName(r);if(!(!s||!o)&&!a.has(s.base)){if(isValidTypeParam(s.base)&&s.args.length===0){a.set(s.base,r);return}if(s.base===o.base)for(let f=0;f<Math.min(s.args.length,o.args.length);f++)unifyTypes(s.args[f],o.args[f],a)}}function substituteTypeParams(l,r){const a=parseTypeName(l);if(!a)return l;if(r.has(a.base)&&a.args.length===0)return r.get(a.base);if(a.args.length===0)return a.base;const s=a.args.map(o=>substituteTypeParams(o,r));return`${a.base}<${s.join(",")}>`}function buildCfgDot(l,r){const a=[],s=[];let o=0;const f=v=>{const x=o++;return a.push({id:x,label:v}),x},h=(v,x)=>{v===null||x===null||s.push([v,x])},d=v=>{let x=null,k=null;for(const Q of v){const{entry:A,exit:M}=g(Q);x===null&&(x=A),k!==null&&A!==null&&h(k,A),k=M??k}return{entry:x,exit:k}},g=v=>{switch(v.type){case"If":{const x=f("If"),k=d(v.thenBlock.body),Q=v.elseBlock?d(v.elseBlock.body):{entry:null,exit:null};h(x,k.entry??x),h(x,Q.entry??x);const A=f("IfEnd");return h(k.exit??x,A),h(Q.exit??x,A),{entry:x,exit:A}}case"While":{const x=f("While"),k=d(v.body.body);h(x,k.entry??x),h(k.exit??x,x);const Q=f("WhileEnd");return h(x,Q),{entry:x,exit:Q}}case"MatchStmt":{const x=f("Match"),k=[];for(const A of v.arms){const M=d(A.body.body);h(x,M.entry??x),M.exit!==null&&k.push(M.exit)}const Q=f("MatchEnd");for(const A of k)h(A,Q);return k.length===0&&h(x,Q),{entry:x,exit:Q}}case"Block":return d(v.body);case"ErrorNode":return{entry:null,exit:null};default:{const x=f(v.type);return{entry:x,exit:x}}}},m=d(r);if(m.entry===null){const v=f("Empty");m.entry=v,m.exit=v}const y=[`digraph ${l}_cfg {`];for(const v of a)y.push(`  n${v.id} [label="${v.label}"];`);for(const[v,x]of s)y.push(`  n${v} -> n${x};`);return y.push("}"),y.join(`
`)}var moo$2={exports:{}},moo$1=moo$2.exports,hasRequiredMoo;function requireMoo(){return hasRequiredMoo||(hasRequiredMoo=1,(function(l){(function(r,a){l.exports?l.exports=a():r.moo=a()})(moo$1,function(){var r=Object.prototype.hasOwnProperty,a=Object.prototype.toString,s=typeof new RegExp().sticky=="boolean";function o(j){return j&&a.call(j)==="[object RegExp]"}function f(j){return j&&typeof j=="object"&&!o(j)&&!Array.isArray(j)}function h(j){return j.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function d(j){var J=new RegExp("|"+j);return J.exec("").length-1}function g(j){return"("+j+")"}function m(j){if(!j.length)return"(?!)";var J=j.map(function(le){return"(?:"+le+")"}).join("|");return"(?:"+J+")"}function y(j){if(typeof j=="string")return"(?:"+h(j)+")";if(o(j)){if(j.ignoreCase)throw new Error("RegExp /i flag not allowed");if(j.global)throw new Error("RegExp /g flag is implied");if(j.sticky)throw new Error("RegExp /y flag is implied");if(j.multiline)throw new Error("RegExp /m flag is implied");return j.source}else throw new Error("Not a pattern: "+j)}function v(j,J){return j.length>J?j:Array(J-j.length+1).join(" ")+j}function x(j,J){for(var le=j.length,Se=0;;){var we=j.lastIndexOf(`
`,le-1);if(we===-1||(Se++,le=we,Se===J)||le===0)break}var W=Se<J?0:le+1;return j.substring(W).split(`
`)}function k(j){for(var J=Object.getOwnPropertyNames(j),le=[],Se=0;Se<J.length;Se++){var we=J[Se],W=j[we],ue=[].concat(W);if(we==="include"){for(var ke=0;ke<ue.length;ke++)le.push({include:ue[ke]});continue}var ge=[];ue.forEach(function(Z){f(Z)?(ge.length&&le.push(A(we,ge)),le.push(A(we,Z)),ge=[]):ge.push(Z)}),ge.length&&le.push(A(we,ge))}return le}function Q(j){for(var J=[],le=0;le<j.length;le++){var Se=j[le];if(Se.include){for(var we=[].concat(Se.include),W=0;W<we.length;W++)J.push({include:we[W]});continue}if(!Se.type)throw new Error("Rule has no type: "+JSON.stringify(Se));J.push(A(Se.type,Se))}return J}function A(j,J){if(f(J)||(J={match:J}),J.include)throw new Error("Matching rules cannot also include states");var le={defaultType:j,lineBreaks:!!J.error||!!J.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var Se in J)r.call(J,Se)&&(le[Se]=J[Se]);if(typeof le.type=="string"&&j!==le.type)throw new Error("Type transform cannot be a string (type '"+le.type+"' for token '"+j+"')");var we=le.match;return le.match=Array.isArray(we)?we:we?[we]:[],le.match.sort(function(W,ue){return o(W)&&o(ue)?0:o(ue)?-1:o(W)?1:ue.length-W.length}),le}function M(j){return Array.isArray(j)?Q(j):k(j)}var L=A("error",{lineBreaks:!0,shouldThrow:!0});function B(j,J){for(var le=null,Se=Object.create(null),we=!0,W=null,ue=[],ke=[],ge=0;ge<j.length;ge++)j[ge].fallback&&(we=!1);for(var ge=0;ge<j.length;ge++){var Z=j[ge];if(Z.include)throw new Error("Inheritance is not allowed in stateless lexers");if(Z.error||Z.fallback){if(le)throw!Z.fallback==!le.fallback?new Error("Multiple "+(Z.fallback?"fallback":"error")+" rules not allowed (for token '"+Z.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+Z.defaultType+"')");le=Z}var N=Z.match.slice();if(we)for(;N.length&&typeof N[0]=="string"&&N[0].length===1;){var G=N.shift();Se[G.charCodeAt(0)]=Z}if(Z.pop||Z.push||Z.next){if(!J)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+Z.defaultType+"')");if(Z.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+Z.defaultType+"')")}if(N.length!==0){we=!1,ue.push(Z);for(var re=0;re<N.length;re++){var pe=N[re];if(o(pe)){if(W===null)W=pe.unicode;else if(W!==pe.unicode&&Z.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Te=m(N.map(y)),$e=new RegExp(Te);if($e.test(""))throw new Error("RegExp matches empty string: "+$e);var Oe=d(Te);if(Oe>0)throw new Error("RegExp has capture groups: "+$e+`
Use (?:  ) instead`);if(!Z.lineBreaks&&$e.test(`
`))throw new Error("Rule should declare lineBreaks: "+$e);ke.push(g(Te))}}var Me=le&&le.fallback,Pe=s&&!Me?"ym":"gm",rt=s||Me?"":"|";W===!0&&(Pe+="u");var _e=new RegExp(m(ke)+rt,Pe);return{regexp:_e,groups:ue,fast:Se,error:le||L}}function X(j){var J=B(M(j));return new P({start:J},"start")}function V(j,J,le){var Se=j&&(j.push||j.next);if(Se&&!le[Se])throw new Error("Missing state '"+Se+"' (in token '"+j.defaultType+"' of state '"+J+"')");if(j&&j.pop&&+j.pop!=1)throw new Error("pop must be 1 (in token '"+j.defaultType+"' of state '"+J+"')")}function z(j,J){var le=j.$all?M(j.$all):[];delete j.$all;var Se=Object.getOwnPropertyNames(j);J||(J=Se[0]);for(var we=Object.create(null),W=0;W<Se.length;W++){var ue=Se[W];we[ue]=M(j[ue]).concat(le)}for(var W=0;W<Se.length;W++)for(var ue=Se[W],ke=we[ue],ge=Object.create(null),Z=0;Z<ke.length;Z++){var N=ke[Z];if(N.include){var G=[Z,1];if(N.include!==ue&&!ge[N.include]){ge[N.include]=!0;var re=we[N.include];if(!re)throw new Error("Cannot include nonexistent state '"+N.include+"' (in state '"+ue+"')");for(var pe=0;pe<re.length;pe++){var Te=re[pe];ke.indexOf(Te)===-1&&G.push(Te)}}ke.splice.apply(ke,G),Z--}}for(var $e=Object.create(null),W=0;W<Se.length;W++){var ue=Se[W];$e[ue]=B(we[ue],!0)}for(var W=0;W<Se.length;W++){for(var Oe=Se[W],Me=$e[Oe],Pe=Me.groups,Z=0;Z<Pe.length;Z++)V(Pe[Z],Oe,$e);for(var rt=Object.getOwnPropertyNames(Me.fast),Z=0;Z<rt.length;Z++)V(Me.fast[rt[Z]],Oe,$e)}return new P($e,J)}function I(j){for(var J=typeof Map<"u",le=J?new Map:Object.create(null),Se=Object.getOwnPropertyNames(j),we=0;we<Se.length;we++){var W=Se[we],ue=j[W],ke=Array.isArray(ue)?ue:[ue];ke.forEach(function(ge){if(typeof ge!="string")throw new Error("keyword must be string (in keyword '"+W+"')");J?le.set(ge,W):le[ge]=W})}return function(ge){return J?le.get(ge):le[ge]}}var P=function(j,J){this.startState=J,this.states=j,this.buffer="",this.stack=[],this.reset()};P.prototype.reset=function(j,J){return this.buffer=j||"",this.index=0,this.line=J?J.line:1,this.col=J?J.col:1,this.queuedToken=J?J.queuedToken:null,this.queuedText=J?J.queuedText:"",this.queuedThrow=J?J.queuedThrow:null,this.setState(J?J.state:this.startState),this.stack=J&&J.stack?J.stack.slice():[],this},P.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},P.prototype.setState=function(j){if(!(!j||this.state===j)){this.state=j;var J=this.states[j];this.groups=J.groups,this.error=J.error,this.re=J.regexp,this.fast=J.fast}},P.prototype.popState=function(){this.setState(this.stack.pop())},P.prototype.pushState=function(j){this.stack.push(this.state),this.setState(j)};var F=s?function(j,J){return j.exec(J)}:function(j,J){var le=j.exec(J);return le[0].length===0?null:le};P.prototype._getGroup=function(j){for(var J=this.groups.length,le=0;le<J;le++)if(j[le+1]!==void 0)return this.groups[le];throw new Error("Cannot find token type for matched text")};function ee(){return this.value}if(P.prototype.next=function(){var j=this.index;if(this.queuedGroup){var J=this._token(this.queuedGroup,this.queuedText,j);return this.queuedGroup=null,this.queuedText="",J}var le=this.buffer;if(j!==le.length){var ue=this.fast[le.charCodeAt(j)];if(ue)return this._token(ue,le.charAt(j),j);var Se=this.re;Se.lastIndex=j;var we=F(Se,le),W=this.error;if(we==null)return this._token(W,le.slice(j,le.length),j);var ue=this._getGroup(we),ke=we[0];return W.fallback&&we.index!==j?(this.queuedGroup=ue,this.queuedText=ke,this._token(W,le.slice(j,we.index),j)):this._token(ue,ke,j)}},P.prototype._token=function(j,J,le){var Se=0;if(j.lineBreaks){var we=/\n/g,W=1;if(J===`
`)Se=1;else for(;we.exec(J);)Se++,W=we.lastIndex}var ue={type:typeof j.type=="function"&&j.type(J)||j.defaultType,value:typeof j.value=="function"?j.value(J):J,text:J,toString:ee,offset:le,lineBreaks:Se,line:this.line,col:this.col},ke=J.length;if(this.index+=ke,this.line+=Se,Se!==0?this.col=ke-W+1:this.col+=ke,j.shouldThrow){var ge=new Error(this.formatError(ue,"invalid syntax"));throw ge}return j.pop?this.popState():j.push?this.pushState(j.push):j.next&&this.setState(j.next),ue},typeof Symbol<"u"&&Symbol.iterator){var fe=function(j){this.lexer=j};fe.prototype.next=function(){var j=this.lexer.next();return{value:j,done:!j}},fe.prototype[Symbol.iterator]=function(){return this},P.prototype[Symbol.iterator]=function(){return new fe(this)}}return P.prototype.formatError=function(j,J){if(j==null)var le=this.buffer.slice(this.index),j={text:le,offset:this.index,lineBreaks:le.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var Se=2,we=Math.max(j.line-Se,1),W=j.line+Se,ue=String(W).length,ke=x(this.buffer,this.line-j.line+Se+1).slice(0,5),ge=[];ge.push(J+" at line "+j.line+" col "+j.col+":"),ge.push("");for(var Z=0;Z<ke.length;Z++){var N=ke[Z],G=we+Z;ge.push(v(String(G),ue)+"  "+N),G===j.line&&ge.push(v("",ue+j.col+1)+"^")}return ge.join(`
`)},P.prototype.clone=function(){return new P(this.states,this.state)},P.prototype.has=function(j){return!0},{compile:X,states:z,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:I}})})(moo$2)),moo$2.exports}var mooExports=requireMoo();const moo=getDefaultExportFromCjs(mooExports),luminaSyncTokenTypes=["semicolon","rbrace"];function createLuminaLexer(){return moo.compile({ws:{match:/[ \t]+/,lineBreaks:!1},comment:[{match:/\/\*\*[\s\S]*?\*\//,lineBreaks:!0},{match:/\/\*[\s\S]*?\*\//,lineBreaks:!0},{match:/\/\/.*?$/,lineBreaks:!1}],newline:{match:/\r?\n/,lineBreaks:!0},lbrace:"{",rbrace:"}",lparen:"(",rparen:")",lbracket:"[",rbracket:"]",comma:",",semicolon:";",colon:":",arrow:"->",dot:".",op:["==","!=","<=",">=","&&","||","+","-","*","/","%","=","<",">"],keyword:["import","from","type","struct","enum","fn","let","return","if","else","for","while","match","true","false","pub","extern"],string:[{match:/"(?:\\.|[^"\\])*"/,lineBreaks:!1},{match:/'(?:\\.|[^'\\])*'/,lineBreaks:!1}],number:[{match:/0x[0-9a-fA-F_]+/},{match:/0b[01_]+/},{match:/[0-9][0-9_]*/}],identifier:/[A-Za-z_][A-Za-z0-9_]*/})}class BrowserProjectContext{constructor(r,a={}){this.documents=new Map,this.parser=null,this.luminaLexer=createLuminaLexer(),this.virtualFiles=new Map,this.preludeSymbols=null,this.preludeNames=new Set,this.preludeText=null,this.parser=r??null,this.preludeText=a.preludeText??null,this.recoveryOptions={syncTokenTypes:luminaSyncTokenTypes,syncKeywordValues:["import","type","struct","enum","fn","let","return","if","else","for","while","match","extern","pub"],lexer:s=>{const o=this.luminaLexer.reset(s);return{[Symbol.iterator]:function*(){for(const f of o)yield f}}},...a.recoveryOptions??{}},this.ensurePreludeLoaded()}setParser(r){this.parser=r,this.ensurePreludeLoaded()}registerVirtualFile(r,a,s=1){const o=this.normalizeVirtualSpec(r);this.virtualFiles.set(o,a);const f=this.virtualUriFor(o);this.addOrUpdateDocument(f,a,s)}addOrUpdateDocument(r,a,s=1){if(!this.parser)return;const o=this.toVirtualUri(r),f=extractImports(a),h=this.documents.get(o),d={uri:o,text:a,version:h?h.version+1:s,imports:f,diagnostics:[],signatures:h?.signatures,functionHashes:h?.functionHashes,inferredReturns:h?.inferredReturns};this.documents.set(o,d);for(const g of f.map(m=>this.resolveImport(o,m)))this.ensureDocumentLoaded(g);this.parseDocument(o)}getDiagnostics(r){return this.documents.get(this.toVirtualUri(r))?.diagnostics??[]}getSymbols(r){return this.documents.get(this.toVirtualUri(r))?.symbols}getDocumentAst(r){return this.documents.get(this.toVirtualUri(r))?.ast}parseDocument(r){const a=this.documents.get(this.toVirtualUri(r));if(!a||!this.parser)return;const s=parseWithPanicRecovery(this.parser,a.text,this.recoveryOptions);if(a.diagnostics=s.diagnostics,a.ast=void 0,a.importedNames=void 0,s.result&&typeof s.result=="object"&&"success"in s.result&&s.result.success){const o=s.result.result??s.result;if(o&&typeof o=="object"&&"type"in o){a.ast=o;const f=collectFunctionBodyHashes(o,a.text),h=a.functionHashes??new Map,d=new Set;for(const[x,k]of f.entries())h.get(x)===k&&d.add(x);const g=a.inferredReturns??new Map,m=collectImportNames(o),y=new Set(m);for(const x of this.preludeNames)y.add(x);a.importedNames=y;const v=analyzeLumina(o,{externSymbols:x=>{const k=this.preludeSymbols?.get(x);if(k)return k;if(m.has(x))return this.getExternalSymbol(x)},externalSymbols:[...this.preludeSymbols?this.preludeSymbols.list():[],...this.getExternalSymbols(m,r)],importedNames:y,skipFunctionBodies:d,cachedFunctionReturns:g});a.symbols=v.symbols,a.inferredReturns=new Map;for(const x of v.symbols.list())x.kind==="function"&&x.type&&a.inferredReturns.set(x.name,x.type);a.diagnostics.push(...v.diagnostics)}}}resolveImport(r,a){if(a.startsWith(".")){const h=this.normalizeVirtualSpec(r).split("/").slice(0,-1),d=a.split("/");for(const m of d)m==="."||m===""||(m===".."?h.pop():h.push(m));const g=h.join("/");return this.virtualUriFor(this.ensureVirtualExtension(g))}const s=this.normalizeVirtualSpec(a);if(this.virtualFiles.has(s))return this.virtualUriFor(s);const o=this.ensureVirtualExtension(s);return this.virtualFiles.has(o)?this.virtualUriFor(o):this.virtualUriFor(s)}ensureDocumentLoaded(r){const a=this.toVirtualUri(r);if(this.documents.has(a))return;const s=this.normalizeVirtualSpec(a),o=this.virtualFiles.get(s);o&&this.addOrUpdateDocument(a,o,1)}ensurePreludeLoaded(){if(!this.parser||!this.preludeText)return;const r=this.virtualUriFor("std/prelude.lm");this.virtualFiles.set("std/prelude.lm",this.preludeText),this.addOrUpdateDocument(r,this.preludeText,1);const a=this.documents.get(r);a?.symbols&&(this.preludeSymbols=a.symbols,this.preludeNames=new Set(a.symbols.list().map(s=>s.name)))}getExternalSymbol(r){for(const a of this.documents.values()){const s=a.symbols?.get(r);if(s)return s}}getExternalSymbols(r,a){const s=[];for(const o of r)for(const f of this.documents.values()){if(f.uri===a)continue;const h=f.symbols?.get(o);if(h){s.push(h);break}}return s}normalizeVirtualSpec(r){return r.startsWith("virtual://")?r.slice(10):r}virtualUriFor(r){return`virtual://${this.normalizeVirtualSpec(r)}`}toVirtualUri(r){return r.startsWith("virtual://")?r:`virtual://${r}`}ensureVirtualExtension(r){return r.endsWith(".lum")||r.endsWith(".lumina")?r:this.virtualFiles.has(`${r}.lum`)?`${r}.lum`:this.virtualFiles.has(`${r}.lumina`)?`${r}.lumina`:`${r}.lum`}}function collectImportNames(l){const r=new Set;if(!l||!Array.isArray(l.body))return r;for(const a of l.body){const s=a;if(s.type!=="Import")continue;const o=s.spec;if(Array.isArray(o)){for(const f of o)if(typeof f=="string")r.add(f);else if(f&&typeof f=="object"&&"name"in f){const h=f.name;h&&r.add(h)}}else if(typeof o=="string")r.add(o);else if(o&&typeof o=="object"&&"name"in o){const f=o.name;f&&r.add(f)}}return r}function collectFunctionBodyHashes(l,r){const a=new Map;if(!l||!Array.isArray(l.body))return a;for(const s of l.body){const o=s;if(o.type!=="FnDecl"||!o.name)continue;const f=o.body?.location;let h="";f?.start?.offset!==void 0&&f?.end?.offset!==void 0?h=r.slice(f.start.offset,f.end.offset):o.body&&(h=JSON.stringify(o.body)),a.set(o.name,hashString(h))}return a}function hashString(l){let r=5381;for(let a=0;a<l.length;a++)r=r*33^l.charCodeAt(a);return(r>>>0).toString(16)}function lowerLumina(l){const r=createLowerContext(l);return{kind:"Program",body:l.body.map(a=>lowerStatement(a,r)),location:l.location}}function createLowerContext(l){const r=new Map;for(const a of l.body)if(a.type==="EnumDecl")for(const s of a.variants)r.set(s.name,{enumName:a.name,name:s.name,hasPayload:(s.params??[]).length>0});return{variants:r,matchCounter:0}}function lowerStatement(l,r){switch(l.type){case"FnDecl":return{kind:"Function",name:l.name,params:l.params.map(s=>s.name),body:l.body.body.map(s=>lowerStatement(s,r)),location:l.location};case"Let":return{kind:"Let",name:l.name,value:lowerExpr(l.value,r),location:l.location};case"Return":return{kind:"Return",value:lowerExpr(l.value,r),location:l.location};case"ExprStmt":return{kind:"ExprStmt",expr:lowerExpr(l.expr,r),location:l.location};case"If":return{kind:"If",condition:lowerExpr(l.condition,r),thenBody:l.thenBlock.body.map(s=>lowerStatement(s,r)),elseBody:l.elseBlock?l.elseBlock.body.map(s=>lowerStatement(s,r)):void 0,location:l.location};case"While":return{kind:"While",condition:lowerExpr(l.condition,r),body:l.body.body.map(s=>lowerStatement(s,r)),location:l.location};case"Assign":return{kind:"Assign",target:l.target.name,value:lowerExpr(l.value,r),location:l.location};case"Block":return{kind:"Program",body:l.body.map(a=>lowerStatement(a,r)),location:l.location};case"MatchStmt":{const a=`__match${r.matchCounter++}`,s={kind:"Let",name:a,value:lowerExpr(l.value,r),location:l.location};let o=null,f=null,h=null;for(const g of l.arms){const m=[];if(g.pattern.type==="EnumPattern"&&r.variants.get(g.pattern.variant)?.hasPayload&&g.pattern.bindings.length>0&&g.pattern.bindings.forEach((k,Q)=>{k!=="_"&&m.push({kind:"Let",name:k,value:{kind:"Index",target:{kind:"Member",object:{kind:"Identifier",name:a},property:"values"},index:Q}})}),g.body.body.map(x=>lowerStatement(x,r)).forEach(x=>m.push(x)),g.pattern.type==="WildcardPattern"){h=m;continue}const v={kind:"If",condition:{kind:"Binary",op:"==",left:{kind:"Member",object:{kind:"Identifier",name:a},property:"tag"},right:{kind:"String",value:g.pattern.variant}},thenBody:m,elseBody:void 0};o?f&&(f.elseBody=[v],f=v):(o=v,f=v)}f&&h&&(f.elseBody=h);const d=[s];return o&&d.push(o),{kind:"Program",body:d,location:l.location}}case"Import":case"TypeDecl":case"StructDecl":case"EnumDecl":case"ErrorNode":return{kind:"Noop"};default:return{kind:"Noop"}}}function lowerExpr(l,r){switch(l.type){case"Binary":return l.op==="|>"?l.right.type==="Call"?{kind:"Call",callee:l.right.callee.name,args:[lowerExpr(l.left,r),...l.right.args.map(o=>lowerExpr(o,r))],location:l.location}:lowerExpr(l.left,r):{kind:"Binary",op:l.op,left:lowerExpr(l.left,r),right:lowerExpr(l.right,r),location:l.location};case"Call":{const a=r.variants.get(l.callee.name);return a?{kind:"Enum",tag:a.name,values:l.args.map(f=>lowerExpr(f,r)),location:l.location}:{kind:"Call",callee:l.callee.name,args:l.args.map(o=>lowerExpr(o,r)),location:l.location}}case"Number":return{kind:"Number",value:l.value,location:l.location};case"Boolean":return{kind:"Boolean",value:l.value,location:l.location};case"String":return{kind:"String",value:l.value,location:l.location};case"Identifier":return{kind:"Identifier",name:l.name,location:l.location};case"Member":return{kind:"Member",object:lowerExpr(l.object,r),property:l.property,location:l.location};case"StructLiteral":return{kind:"StructLiteral",name:l.name,fields:l.fields.map(s=>({name:s.name,value:lowerExpr(s.value,r)})),location:l.location};case"MatchExpr":return{kind:"MatchExpr",value:lowerExpr(l.value,r),arms:l.arms.map(s=>({variant:s.pattern.type==="WildcardPattern"?null:s.pattern.variant,bindings:s.pattern.type==="WildcardPattern"?[]:s.pattern.bindings,body:lowerExpr(s.body,r)})),location:l.location};default:return{kind:"Identifier",name:"__unknown__"}}}function optimizeIR(l){const r=new Map,a=convertToSSA(l);let s=optimizeWithConstants(a,r);return s&&s.kind==="Program"&&(s=removeUnusedFunctions(s)),s&&validateIR(s),s}function convertToSSA(l){switch(l.kind){case"Program":return{...l,body:l.body.map(r=>convertToSSA(r))};case"Function":return functionHasControlFlow(l)?l:convertFunctionToSSA(l);default:return l}}function functionHasControlFlow(l){const r=a=>{switch(a.kind){case"MatchExpr":case"Program":return!0;case"If":return r(a.condition)||a.thenBody.some(r)||(a.elseBody?a.elseBody.some(r):!1);case"While":return r(a.condition)||a.body.some(r);case"Let":return r(a.value);case"Phi":return r(a.condition)||r(a.thenValue)||r(a.elseValue);case"Assign":return r(a.value);case"Return":return r(a.value);case"ExprStmt":return r(a.expr);case"Binary":return r(a.left)||r(a.right);case"Call":return a.args.some(r);case"StructLiteral":return a.fields.some(s=>r(s.value));case"Member":return r(a.object);case"Index":return r(a.target);case"Enum":return a.values.some(r);default:return!1}};return l.body.some(r)}function convertFunctionToSSA(l){const r=new Map,a=new Map,s=d=>{if(!r.has(d))return r.set(d,0),a.set(d,d),d;const g=(r.get(d)??0)+1;r.set(d,g);const m=`${d}_${g}`;return a.set(d,m),m};l.params.forEach(d=>{r.set(d,0),a.set(d,d)});const o=d=>{switch(d.kind){case"Identifier":{const g=a.get(d.name)??d.name;return g===d.name?d:{...d,name:g}}case"Binary":return{...d,left:o(d.left),right:o(d.right)};case"Call":return{...d,args:d.args.map(o)};case"StructLiteral":return{...d,fields:d.fields.map(g=>({...g,value:o(g.value)}))};case"Member":return{...d,object:o(d.object)};case"Index":return{...d,target:o(d.target)};case"Enum":return{...d,values:d.values.map(o)};case"MatchExpr":return{...d,value:o(d.value),arms:d.arms.map(g=>({...g,body:o(g.body)}))};case"Phi":return{...d,condition:o(d.condition),thenValue:o(d.thenValue),elseValue:o(d.elseValue)};default:return d}},f=(d,g)=>{const m=new Map(a);a.clear();for(const[x,k]of g.entries())a.set(x,k);const y=[];for(const x of d)switch(x.kind){case"Let":{const k=o(x.value),Q=s(x.name);y.push({...x,name:Q,value:k});break}case"Assign":{const k=o(x.value),Q=s(x.target);y.push({kind:"Let",name:Q,value:k,location:x.location});break}case"Return":y.push({...x,value:o(x.value)});break;case"ExprStmt":y.push({...x,expr:o(x.expr)});break;case"If":{const k=o(x.condition),Q=f(x.thenBody,new Map(a)),A=x.elseBody?f(x.elseBody,new Map(a)):{body:[],mapping:new Map(a)},M={kind:"If",condition:k,thenBody:Q.body,elseBody:A.body,location:x.location};y.push(M);const L=new Set([...Q.mapping.keys(),...A.mapping.keys()]);for(const B of L){const X=Q.mapping.get(B)??a.get(B)??B,V=A.mapping.get(B)??a.get(B)??B;if(X===V){a.set(B,X);continue}const I={kind:"Phi",name:s(B),condition:k,thenValue:{kind:"Identifier",name:X},elseValue:{kind:"Identifier",name:V}};y.push(I)}break}case"While":{const k=o(x.condition),Q=f(x.body,new Map(a)),A={kind:"While",condition:k,body:Q.body,location:x.location};y.push(A);const M=new Set([...a.keys(),...Q.mapping.keys()]);for(const L of M){const B=a.get(L)??L,X=Q.mapping.get(L)??B;if(B===X){a.set(L,B);continue}const z={kind:"Phi",name:s(L),condition:k,thenValue:{kind:"Identifier",name:X},elseValue:{kind:"Identifier",name:B}};y.push(z)}break}default:y.push(x);break}const v=new Map(a);a.clear();for(const[x,k]of m.entries())a.set(x,k);return{body:y,mapping:v}},h=f(l.body,new Map(a));return{...l,body:h.body}}function optimizeWithConstants(l,r){switch(l.kind){case"Program":{const a=[];for(const o of l.body){const f=optimizeWithConstants(o,r);if(f&&f.kind!=="Noop"&&(a.push(f),f.kind==="Return"))break}const s={kind:"Program",body:a,location:l.location};return removeDeadStores(s,!0)}case"Function":{const a=[],s=new Map;for(const h of l.body){const d=optimizeWithConstants(h,s);if(d&&d.kind!=="Noop"&&(a.push(d),d.kind==="Return"))break}const o={...l,body:a,location:l.location},f=removeDeadStores({kind:"Program",body:o.body,location:o.location},!1);return{...o,body:f.body}}case"ExprStmt":{const a=optimizeWithConstants(l.expr,r);return!a||a.kind==="Noop"?null:{kind:"ExprStmt",expr:a,location:l.location}}case"Let":{const s=optimizeWithConstants(l.value,r)??l.value;return isLiteral(s)?r.set(l.name,s):r.delete(l.name),{kind:"Let",name:l.name,value:s,location:l.location}}case"Phi":{const a=optimizeWithConstants(l.condition,r)??l.condition,s=optimizeWithConstants(l.thenValue,r)??l.thenValue,o=optimizeWithConstants(l.elseValue,r)??l.elseValue;if(a.kind==="Boolean"){const h=a.value?s:o,d={kind:"Let",name:l.name,value:h,location:l.location};return isLiteral(h)?r.set(l.name,h):r.delete(l.name),d}return{kind:"Phi",name:l.name,condition:a,thenValue:s,elseValue:o,location:l.location}}case"Return":return{kind:"Return",value:optimizeWithConstants(l.value,r)??l.value,location:l.location};case"Binary":{const a=optimizeWithConstants(l.left,r)??l.left,s=optimizeWithConstants(l.right,r)??l.right;if(a.kind==="Number"&&s.kind==="Number"){const d=foldNumeric(l.op,a,s);if(d)return{...d,location:l.location}}if(a.kind==="String"&&s.kind==="String"&&l.op==="+")return{kind:"String",value:a.value+s.value,location:l.location};const o=foldBoolean(l.op,a,s);if(o)return{...o,location:l.location};const f=simplifyAlgebra(l.op,a,s);return f?{...f,location:l.location}:{kind:"Binary",op:l.op,left:a,right:s,location:l.location}}case"Call":{const a=l.args.map(o=>optimizeWithConstants(o,r)??o);return{kind:"Call",callee:l.callee,args:a,location:l.location}}case"StructLiteral":{const a=l.fields.map(o=>({...o,value:optimizeWithConstants(o.value,r)??o.value}));return{kind:"StructLiteral",name:l.name,fields:a,location:l.location}}case"Member":return{kind:"Member",object:optimizeWithConstants(l.object,r)??l.object,property:l.property,location:l.location};case"Index":return{kind:"Index",target:optimizeWithConstants(l.target,r)??l.target,index:l.index,location:l.location};case"Enum":{const a=l.values.map(o=>optimizeWithConstants(o,r)??o);return{kind:"Enum",tag:l.tag,values:a,location:l.location}}case"MatchExpr":{const a=optimizeWithConstants(l.value,r)??l.value,s=l.arms.map(f=>({...f,body:optimizeWithConstants(f.body,new Map(r))??f.body}));return{kind:"MatchExpr",value:a,arms:s,location:l.location}}case"If":{const a=optimizeWithConstants(l.condition,r)??l.condition,s=l.thenBody.map(h=>optimizeWithConstants(h,new Map(r))).filter(h=>h!==null&&h.kind!=="Noop"),o=l.elseBody?l.elseBody.map(h=>optimizeWithConstants(h,new Map(r))).filter(h=>h!==null&&h.kind!=="Noop"):void 0;return a.kind==="Boolean"?a.value?{kind:"Program",body:s,location:l.location}:{kind:"Program",body:o??[],location:l.location}:{kind:"If",condition:a,thenBody:s,elseBody:o,location:l.location}}case"While":{const a=optimizeWithConstants(l.condition,r)??l.condition,s=l.body.map(f=>optimizeWithConstants(f,new Map(r))).filter(f=>f!==null&&f.kind!=="Noop");return a.kind==="Boolean"&&a.value===!1?null:{kind:"While",condition:a,body:s,location:l.location}}case"Assign":{const a=optimizeWithConstants(l.value,r)??l.value;return isLiteral(a)?r.set(l.target,a):r.delete(l.target),{kind:"Assign",target:l.target,value:a,location:l.location}}case"Number":case"Boolean":case"String":return l;case"Identifier":if(l.name==="__noop__")return null;if(r.has(l.name)){const a=r.get(l.name);if(a)return a}return l;case"Noop":return null;default:return l}}function foldNumeric(l,r,a){switch(l){case"+":return{kind:"Number",value:r.value+a.value};case"-":return{kind:"Number",value:r.value-a.value};case"*":return{kind:"Number",value:r.value*a.value};case"/":return{kind:"Number",value:r.value/a.value};default:return null}}function foldBoolean(l,r,a){if(r.kind==="Boolean"&&a.kind==="Boolean")switch(l){case"&&":return{kind:"Boolean",value:r.value&&a.value};case"||":return{kind:"Boolean",value:r.value||a.value};case"==":return{kind:"Boolean",value:r.value===a.value};case"!=":return{kind:"Boolean",value:r.value!==a.value};default:return null}if(r.kind==="Number"&&a.kind==="Number")switch(l){case"==":return{kind:"Boolean",value:r.value===a.value};case"!=":return{kind:"Boolean",value:r.value!==a.value};case"<":return{kind:"Boolean",value:r.value<a.value};case"<=":return{kind:"Boolean",value:r.value<=a.value};case">":return{kind:"Boolean",value:r.value>a.value};case">=":return{kind:"Boolean",value:r.value>=a.value};default:return null}return null}function simplifyAlgebra(l,r,a){if(r.kind==="Number"&&a.kind==="Number")return null;if(l==="+"){if(a.kind==="Number"&&a.value===0)return r;if(r.kind==="Number"&&r.value===0)return a}if(l==="-"&&a.kind==="Number"&&a.value===0)return r;if(l==="*"){if(a.kind==="Number"&&a.value===1)return r;if(r.kind==="Number"&&r.value===1)return a;if(a.kind==="Number"&&a.value===0)return{kind:"Number",value:0};if(r.kind==="Number"&&r.value===0)return{kind:"Number",value:0}}return l==="/"&&a.kind==="Number"&&a.value===1?r:null}function isLiteral(l){return l.kind==="Number"||l.kind==="Boolean"||l.kind==="String"}function validateIR(l){const r=a=>{switch(a.kind){case"Program":a.body.forEach(r);return;case"Function":a.body.forEach(r);return;case"Let":r(a.value);return;case"Phi":r(a.condition),r(a.thenValue),r(a.elseValue);return;case"Assign":if(!a.target)throw new Error("IR validation: Assign target missing");r(a.value);return;case"Return":r(a.value);return;case"ExprStmt":r(a.expr);return;case"If":r(a.condition),a.thenBody.forEach(r),a.elseBody?.forEach(r);return;case"While":r(a.condition),a.body.forEach(r);return;case"Binary":if(!a.op)throw new Error("IR validation: Binary op missing");r(a.left),r(a.right);return;case"Call":if(!a.callee)throw new Error("IR validation: Call callee missing");a.args.forEach(r);return;case"Member":if(!a.property)throw new Error("IR validation: Member property missing");r(a.object);return;case"Index":if(a.index===void 0)throw new Error("IR validation: Index missing");r(a.target);return;case"Enum":if(!a.tag)throw new Error("IR validation: Enum tag missing");a.values.forEach(r);return;case"StructLiteral":a.fields.forEach(s=>r(s.value));return;case"MatchExpr":r(a.value),a.arms.forEach(s=>r(s.body));return;case"Identifier":if(!a.name)throw new Error("IR validation: Identifier name missing");return;case"Number":case"Boolean":case"String":case"Noop":return;default:return a}};r(l)}function removeDeadStores(l,r){const a=new Set,s=[...l.body].reverse(),o=[],f=d=>{switch(d.kind){case"Identifier":a.add(d.name);return;case"Binary":f(d.left),f(d.right);return;case"Call":d.args.forEach(f);return;case"Member":f(d.object);return;case"Index":f(d.target);return;case"Enum":d.values.forEach(f);return;case"StructLiteral":d.fields.forEach(g=>f(g.value));return;case"MatchExpr":f(d.value),d.arms.forEach(g=>f(g.body));return;case"If":f(d.condition),d.thenBody.forEach(h),d.elseBody?.forEach(h);return;case"While":f(d.condition),d.body.forEach(h);return;case"Assign":f(d.value),a.add(d.target);return;case"ExprStmt":f(d.expr);return;case"Return":f(d.value);return;case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;default:return}},h=d=>{switch(d.kind){case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;case"Assign":f(d.value),a.add(d.target);return;case"Return":f(d.value);return;case"ExprStmt":f(d.expr);return;case"If":f(d.condition),d.thenBody.forEach(h),d.elseBody?.forEach(h);return;case"While":f(d.condition),d.body.forEach(h);return;case"Program":d.body.forEach(h);return;default:return}};for(const d of s){if(d.kind==="Let"){if(r){o.push(d),f(d.value);continue}a.has(d.name)?(o.push(d),f(d.value),a.delete(d.name)):f(d.value);continue}if(d.kind==="Phi"){a.has(d.name)?(o.push(d),f(d.thenValue),f(d.elseValue),f(d.condition),a.delete(d.name)):(f(d.thenValue),f(d.elseValue),f(d.condition));continue}if(d.kind==="Assign"){a.has(d.target)?(o.push(d),f(d.value),a.delete(d.target)):f(d.value);continue}o.push(d),h(d)}return o.reverse(),{...l,body:o}}function removeUnusedFunctions(l){const r=new Map,a=[];for(const g of l.body)g.kind==="Function"?r.set(g.name,g):a.push(g);if(r.size===0)return l;const s=new Set,o=[],f=g=>{r.has(g)&&(s.has(g)||(s.add(g),o.push(g)))},h=g=>{switch(g.kind){case"Call":f(g.callee),g.args.forEach(h);return;case"Binary":h(g.left),h(g.right);return;case"Member":h(g.object);return;case"Index":h(g.target);return;case"Enum":g.values.forEach(h);return;case"StructLiteral":g.fields.forEach(m=>h(m.value));return;case"MatchExpr":h(g.value),g.arms.forEach(m=>h(m.body));return;case"If":h(g.condition),g.thenBody.forEach(h),g.elseBody?.forEach(h);return;case"While":h(g.condition),g.body.forEach(h);return;case"Assign":h(g.value);return;case"Let":h(g.value);return;case"Phi":h(g.condition),h(g.thenValue),h(g.elseValue);return;case"Return":h(g.value);return;case"ExprStmt":h(g.expr);return;case"Program":g.body.forEach(h);return;default:return}};for(const g of a)h(g);for(f("main");o.length>0;){const g=o.pop();if(!g)break;const m=r.get(g);m&&m.body.forEach(h)}if(s.size===0)return l;const d=l.body.filter(g=>g.kind!=="Function"?!0:s.has(g.name));return{...l,body:d}}function generateJS(l,r={}){const a=r.target??"esm",s=r.includeRuntime!==!1,o=new CodeBuilder(r.sourceMap===!0);s&&o.push("function print(...args) { console.log(...args); }","Runtime"),emit(l,0,o);let f=o.toString().trimEnd()+`
`;return a==="cjs"?f+=`module.exports = { print };
`:f+=`export { print };
`,{code:f,map:o.map}}function emit(l,r,a){const s="  ".repeat(r);switch(l.kind){case"Program":l.body.forEach(o=>emit(o,r,a));return;case"Function":{const o=l.params.join(", ");a.push(`${s}function ${l.name}(${o}) {`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0),l.body.forEach(f=>emit(f,r+1,a)),a.push(`${s}}`,l.kind,l.location?{line:l.location.end.line,column:l.location.end.column}:void 0);return}case"Let":a.push(`${s}let ${l.name} = ${emitExpr(l.value)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;case"Phi":a.push(`${s}let ${l.name} = (${emitExpr(l.condition)}) ? ${emitExpr(l.thenValue)} : ${emitExpr(l.elseValue)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;case"Return":a.push(`${s}return ${emitExpr(l.value)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;case"ExprStmt":a.push(`${s}${emitExpr(l.expr)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;case"If":{a.push(`${s}if (${emitExpr(l.condition)}) {`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0),l.thenBody.forEach(o=>emit(o,r+1,a)),l.elseBody&&l.elseBody.length>0&&(a.push(`${s}} else {`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0),l.elseBody.forEach(o=>emit(o,r+1,a))),a.push(`${s}}`,l.kind,l.location?{line:l.location.end.line,column:l.location.end.column}:void 0);return}case"While":{a.push(`${s}while (${emitExpr(l.condition)}) {`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0),l.body.forEach(o=>emit(o,r+1,a)),a.push(`${s}}`,l.kind,l.location?{line:l.location.end.line,column:l.location.end.column}:void 0);return}case"Assign":a.push(`${s}${l.target} = ${emitExpr(l.value)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;case"Binary":case"StructLiteral":case"Number":case"Boolean":case"String":case"Identifier":case"Call":case"Member":case"Index":case"Enum":case"MatchExpr":a.push(`${s}${emitExpr(l)};`,l.kind,l.location?{line:l.location.start.line,column:l.location.start.column}:void 0);return;default:a.push(`${s}// unsupported`,"Unsupported");return}}function emitExpr(l){switch(l.kind){case"Binary":return l.op==="+"&&(l.left.kind==="String"||l.right.kind==="String")?`(${emitExpr(l.left)} + ${emitExpr(l.right)})`:`(${emitExpr(l.left)} ${l.op} ${emitExpr(l.right)})`;case"Call":return`${l.callee}(${l.args.map(emitExpr).join(", ")})`;case"Member":return`${emitExpr(l.object)}.${l.property}`;case"Index":return`${emitExpr(l.target)}[${l.index}]`;case"Enum":return`{ tag: ${JSON.stringify(l.tag)}, values: [${l.values.map(emitExpr).join(", ")}] }`;case"StructLiteral":return`{ ${l.fields.map(a=>`${a.name}: ${emitExpr(a.value)}`).join(", ")} }`;case"MatchExpr":{const r=`__match_expr_${Math.random().toString(36).slice(2,8)}`;let a=`const ${r} = ${emitExpr(l.value)};
`;const s=h=>h.map((d,g)=>`const ${d} = ${r}.values[${g}];`).join(`
`),o=l.arms.map(h=>{if(h.variant===null)return`{
${h.bindings.length>0?s(h.bindings)+`
`:""}return ${emitExpr(h.body)};
}`;const d=h.bindings.length>0?s(h.bindings)+`
`:"";return`if (${r}.tag === ${JSON.stringify(h.variant)}) {
${d}return ${emitExpr(h.body)};
}`});let f="";for(let h=0;h<o.length;h++)h===0?f+=o[h]:f+=` else ${o[h]}`;return`(() => {
${a}${f}
})()`}case"Number":return String(l.value);case"Boolean":return l.value?"true":"false";case"String":return JSON.stringify(l.value);case"Identifier":return l.name;default:return"undefined"}}class CodeBuilder{constructor(r){this.lines=[],r&&(this.map={mappings:[]})}push(r,a,s){this.lines.push(r),this.map&&this.map.mappings.push({line:this.lines.length,kind:a,source:s})}toString(){return this.lines.join(`
`)+(this.lines.length?`
`:"")}}const defaultGrammar=`Expression
  = left:Term _ operator:("+" / "-") _ right:Expression {
      return { type: 'Expression', operator, left, right };
    }
  / Term

Term
  = left:Factor _ operator:("*" / "/") _ right:Term {
      return { type: 'Expression', operator, left, right };
    }
  / Factor

Factor
  = "(" _ expr:Expression _ ")" { return expr; }
  / Number

Number
  = _ [0-9]+ {
      return { type: 'Number', value: parseInt(text(), 10) };
    }

_ = [ \\t\\n\\r]*`,examples=[{name:"Simple Math",code:"3 + 4 * (2 - 1)",description:"Basic arithmetic expression"},{name:"Complex Expression",code:"((5 + 3) * 2) / (4 - 1)",description:"Nested parentheses"},{name:"Single Number",code:"42",description:"Just a number"},{name:"Error Case",code:"3 + error",description:"Demonstrates error handling"}],presets=[{name:"Math Calculator",grammar:defaultGrammar},{name:"JSON Parser",grammar:`Object
  = "{" pairs:Pair* "}" { return Object.fromEntries(pairs); }

Pair
  = key:String ":" value:Value { return [key, value]; }`},{name:"Simple Language",grammar:`Program
  = Statement*

Statement
  = Assignment / Expression`}],luminaSample=`import { io } from "@std";
import { add } from "lib/math.lm";

struct User { id: int, name: string }
enum Result { Ok(int), Err(string) }

fn total(cost: int, tax: int) {
  return cost + tax;
}

fn main() {
  let cost = 400;
  let tax = 20;
  let answer = add(total(cost, tax), 0);
  return answer;
}`,pegLanguage=StreamLanguage.define({token(l){return l.match(/\/\/.*/)?"comment":l.match(/"(?:\\.|[^"])*"/)||l.match(/'(?:\\.|[^'])*'/)||l.match(/\[[^\]]*\]/)?"string":l.match(/[_a-zA-Z][_a-zA-Z0-9]*/)?"variableName":l.match(/[:=(){}/*+?]|\/+/)?"operator":(l.next(),null)}}),transformToTree=(l,r=0)=>{if(typeof l!="object"||l===null)return{name:String(l),type:"literal"};if(Array.isArray(l))return{name:`Array[${l.length}]`,type:"array",children:l.map((o,f)=>({name:`[${f}]`,children:[transformToTree(o,r+1)]}))};const a=l,s=Object.entries(a).filter(([o])=>o!=="type").map(([o,f])=>({name:o,children:[transformToTree(f,r+1)]}));return{name:a.type||"Object",type:"object",children:s.length>0?s:void 0}},TreeVisualization=({data:l,onNodeClick:r})=>{const[a,s]=reactExports.useState(new Set),o=h=>{const d=new Set(a);d.has(h)?d.delete(h):d.add(h),s(d)},f=(h,d="",g=0)=>{const m=h.children&&h.children.length>0,y=a.has(d);return jsxRuntimeExports.jsxs("div",{className:"tree-node",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-gray-600 rounded cursor-pointer transition-colors",style:{marginLeft:`${g*20}px`},onClick:()=>{m&&o(d),r?.(h,d)},children:[m?y?jsxRuntimeExports.jsx(ChevronDown,{size:16}):jsxRuntimeExports.jsx(ChevronRight,{size:16}):jsxRuntimeExports.jsx("div",{className:"w-4"}),jsxRuntimeExports.jsx("span",{className:`ml-2 font-mono text-sm ${h.type==="literal"?"text-green-400":h.type==="array"?"text-blue-400":"text-yellow-400"}`,children:h.name})]}),m&&y&&jsxRuntimeExports.jsx("div",{className:"tree-children",children:h.children.map((v,x)=>f(v,`${d}/${x}`,g+1))})]},d)};return reactExports.useEffect(()=>{l&&s(new Set(["0"]))},[l]),jsxRuntimeExports.jsx("div",{className:"tree-container h-full overflow-auto text-sm",children:l?f(l):jsxRuntimeExports.jsx("p",{className:"text-gray-400 p-4",children:"No AST data"})})},PerformanceSparkline=({data:l})=>{if(l.length<2)return jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"No history"});const r=120,a=24,s=Math.max(...l,1),o=l.map((f,h)=>{const d=h/(l.length-1)*r,g=a-f/s*a;return`${d},${g}`}).join(" ");return jsxRuntimeExports.jsx("svg",{width:r,height:a,className:"block",children:jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#60A5FA",strokeWidth:"2",points:o})})},compileGrammar=l=>PEG.generate(l,{output:"parser",format:"bare",optimize:"speed"}),parseInput=(l,r)=>{try{return{result:l.parse(r)}}catch(a){if(typeof a=="object"&&a!==null&&"message"in a){const s=a;return{error:s.message,location:s.location,expected:s.expected,found:s.found??null,input:r}}return{error:"Unknown parse error",input:r}}},formatError=l=>{const r=[`Parse Error: ${l.error}`];if(l.location){const{start:a,end:s}=l.location;r.push(`At ${a.line}:${a.column}  ${s.line}:${s.column}`)}return l.expected&&l.expected.length>0&&r.push(`Expected: ${l.expected.join(", ")}`),l.found!==void 0&&l.found!==null&&r.push(`Found: "${l.found}"`),r.join(`
`)},getRouteFromHash=()=>{if(typeof window>"u")return"home";const l=window.location.hash.replace(/^#\/?/,"").trim();return l==="playground"||l==="lumina"?l:"home"};function App(){const[l,r]=reactExports.useState(()=>getRouteFromHash()),[a,s]=reactExports.useState("3 + 4 * (2 - 1)"),[o,f]=reactExports.useState(defaultGrammar),[h,d]=reactExports.useState(""),[g,m]=reactExports.useState(null),[y,v]=reactExports.useState("output"),[x,k]=reactExports.useState("examples"),[Q,A]=reactExports.useState("idle"),[M,L]=reactExports.useState(null),[B,X]=reactExports.useState(null),[V,z]=reactExports.useState(!1),[I,P]=reactExports.useState(!1),[F,ee]=reactExports.useState(null),[fe,j]=reactExports.useState([]),J=reactExports.useRef(null),[le,Se]=reactExports.useState(luminaSample),[we,W]=reactExports.useState(null),[ue,ke]=reactExports.useState([]),[ge,Z]=reactExports.useState(""),[N,G]=reactExports.useState("idle"),[re,pe]=reactExports.useState("diagnostics");reactExports.useEffect(()=>{const Ee=()=>r(getRouteFromHash());return window.addEventListener("hashchange",Ee),()=>window.removeEventListener("hashchange",Ee)},[]);const Te=Ee=>{Ee==="home"?window.location.hash="":window.location.hash=Ee,r(Ee)},$e=()=>{const Ee=window.performance.now();A("parsing"),L(null);try{const Be=compileGrammar(o),Ae=parseInput(Be,a),st=window.performance.now();if("result"in Ae){const xe=JSON.stringify(Ae.result,null,2);d(xe);const Ft=transformToTree(Ae.result);m(Ft),A("success");const Xe=st-Ee;ee({time:Xe,nodes:Me(Ae.result)}),j(kt=>[...kt,Xe].slice(-30))}else{d(formatError(Ae)),m(null),A("error");const xe=st-Ee;ee({time:xe,nodes:0}),j(Ft=>[...Ft,xe].slice(-30))}}catch(Be){Be instanceof Error?(d(`Error: ${Be.message}`),L(Be.message)):d("Unknown error occurred"),m(null),A("error");const Ae=window.performance.now()-Ee;ee({time:Ae,nodes:0}),j(st=>[...st,Ae].slice(-30))}},Oe=()=>{G("parsing"),ke([]),Z("");try{const Ee=compileGrammar(luminaGrammarRaw),Be=new BrowserProjectContext(Ee,{preludeText:preludeRaw});Be.registerVirtualFile("lib/math.lm","pub fn add(a: int, b: int) -> int { return a + b; }"),Be.addOrUpdateDocument("main.lm",le,1);const Ae=Be.getDiagnostics("main.lm"),st=Be.getDocumentAst("main.lm");if(W(st??null),ke(Ae),st&&typeof st=="object"){const xe=lowerLumina(st),Ft=optimizeIR(xe),Xe=Ft?generateJS(Ft).code:"// IR optimized away";Z(Xe)}else Z("");G(Ae.length>0?"error":"ok")}catch(Ee){const Be=Ee instanceof Error?Ee.message:"Unknown error";ke([{severity:"error",message:Be}]),G("error")}},Me=Ee=>typeof Ee!="object"||Ee===null?1:Array.isArray(Ee)?Ee.reduce((Be,Ae)=>Be+Me(Ae),0):1+Object.values(Ee).reduce((Be,Ae)=>Be+Me(Ae),0),Pe=Ee=>{s(Ee.code),V&&setTimeout($e,100)},rt=Ee=>{f(Ee.grammar),V&&setTimeout($e,100)},_e=()=>{const Ee={grammar:o,code:a,output:h,timestamp:new Date().toISOString()},Be=new Blob([JSON.stringify(Ee,null,2)],{type:"application/json"}),Ae=URL.createObjectURL(Be),st=document.createElement("a");st.href=Ae,st.download="parser-session.json",st.click(),URL.revokeObjectURL(Ae)},je=Ee=>{const Be=Ee.target.files?.[0];if(Be){const Ae=new FileReader;Ae.onload=st=>{try{const xe=JSON.parse(st.target?.result);xe.grammar&&f(xe.grammar),xe.code&&s(xe.code),xe.output&&d(xe.output)}catch(xe){console.error("Error importing data:",xe),alert("Invalid file format")}},Ae.readAsText(Be)}},Ce=()=>{switch(Q){case"success":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"text-green-400",size:16});case"error":return jsxRuntimeExports.jsx(CircleX,{className:"text-red-400",size:16});case"parsing":return jsxRuntimeExports.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full"});default:return jsxRuntimeExports.jsx(CircleAlert,{className:"text-gray-400",size:16})}};return reactExports.useEffect(()=>{if(V){const Ee=setTimeout($e,500);return()=>clearTimeout(Ee)}},[a,o,V]),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 text-white min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx("header",{className:"border-b border-gray-800 bg-gray-900/90 backdrop-blur",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(TreePine,{className:"text-blue-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:"Lumina Parser Studio"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"Interactive demo for the parser + tooling pipeline"})]})]}),jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Te("home"),className:`px-3 py-1.5 rounded text-sm ${l==="home"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Home"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te("playground"),className:`px-3 py-1.5 rounded text-sm ${l==="playground"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Playground"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te("lumina"),className:`px-3 py-1.5 rounded text-sm ${l==="lumina"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Lumina"})]})]})}),l==="home"&&jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[jsxRuntimeExports.jsxs("section",{className:"grid gap-8 lg:grid-cols-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Parsergen + Lumina"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-semibold leading-tight",children:"Build grammars, explore ASTs, and ship a compiler toolchain."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"This demo showcases the Lumina pipeline: lexer, PEG parser, semantic analysis, IR, and codegen. Use the playground to experiment with grammars, then switch to Lumina to see the language tooling stack."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>Te("playground"),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm font-medium",children:"Open Playground"}),jsxRuntimeExports.jsx("button",{onClick:()=>Te("lumina"),className:"bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded text-sm",children:"Lumina Overview"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-300",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Pipeline Snapshot"]}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`Lexer  Parser  Semantic  IR  Codegen

Features:
- Panic recovery
- Match exhaustiveness
- CFG + SSA utilities
- LSP diagnostics + rename`}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"PEG + Moo"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"Lumina CLI"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"LSP"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(Code,{size:16})," Grammar Studio"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Load PEG grammars, parse samples, inspect JSON output or AST trees."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(TreePine,{size:16})," Semantic Layer"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Track types, match exhaustiveness, DI, and SSA-ready IR."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(FileText,{size:16})," Tooling DX"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"CLI pipeline, LSP diagnostics, rename, references, and watch mode."})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300 text-sm mb-3",children:[jsxRuntimeExports.jsx(Play,{size:14})," Try It Quickly"]}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina repl
lumina compile examples/hello.lm --out dist/hello.js
lumina check examples/hello.lm`})]})]})}),l==="lumina"&&jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-10",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Lumina Toolchain"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Language pipeline and IDE features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Lumina ships a full compiler pipeline with panic recovery, SSA-ready IR, and diagnostics designed for LSP integrations."})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Compiler Pipeline"]}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Lexer with modern literals and comment support"}),jsxRuntimeExports.jsx("li",{children:"PEG parser with panic-mode recovery"}),jsxRuntimeExports.jsx("li",{children:"Semantic analysis with inference + DI checks"}),jsxRuntimeExports.jsx("li",{children:"IR passes with SSA + DCE hooks"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{size:14})," IDE + LSP"]}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Diagnostics with multi-error reporting"}),jsxRuntimeExports.jsx("li",{children:"Go-to-definition and references"}),jsxRuntimeExports.jsx("li",{children:"Rename with conflict checks"}),jsxRuntimeExports.jsx("li",{children:"Semantic tokens + completion"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"CLI"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina compile src/main.lm --out dist/main.js
lumina compile src/main.lm --sourcemap --debug-ir
lumina check src/main.lm
lumina watch examples`})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"Project Flow"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`ProjectContext
   std/prelude.lm
   user sources
   dependency graph
   diagnostics + IR`}),jsxRuntimeExports.jsx("div",{className:"mt-4 text-xs text-gray-300",children:"Virtual file demo:"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`project.registerVirtualFile("lib/math.lm", \`
  pub fn add(a: int, b: int) -> int { return a + b; }
\`);

// main.lm
import { add } from "lib/math.lm";`})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Lumina Playground"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"Runs the Lumina grammar + semantic analysis directly in the browser."})]}),jsxRuntimeExports.jsx("button",{onClick:Oe,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm",children:"Analyze"})]}),jsxRuntimeExports.jsx(ReactCodeMirror,{value:le,height:"12rem",theme:oneDark,extensions:[javascript()],onChange:Ee=>Se(Ee),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{children:"Status:"}),jsxRuntimeExports.jsx("span",{className:N==="ok"?"text-green-400":N==="error"?"text-red-400":"text-gray-400",children:N})]}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-900/60 border border-gray-700 rounded",children:[jsxRuntimeExports.jsx("button",{onClick:()=>pe("diagnostics"),className:`px-4 py-2 text-sm ${re==="diagnostics"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"Diagnostics"}),jsxRuntimeExports.jsx("button",{onClick:()=>pe("ast"),className:`px-4 py-2 text-sm ${re==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"AST"}),jsxRuntimeExports.jsx("button",{onClick:()=>pe("js"),className:`px-4 py-2 text-sm ${re==="js"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"JS Output"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[re==="diagnostics"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[ue.length===0&&jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"No diagnostics yet."}),ue.map((Ee,Be)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded p-3",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase text-gray-400",children:Ee.severity}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:Ee.message}),Ee.location&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[Ee.location.start.line,":",Ee.location.start.column]})]},Be))]}),re==="ast"&&jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:we?JSON.stringify(we,null,2):"No AST yet."}),re==="js"&&jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:ge||"No JS output yet."})]})]})]})}),l==="playground"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 flex",children:[jsxRuntimeExports.jsxs("div",{className:"w-80 bg-gray-800 flex flex-col border-r border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-700",children:jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(TreePine,{className:"text-blue-400"}),"Parser Studio"]})}),jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>k("examples"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${x==="examples"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(Play,{size:14})," Examples"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>k("presets"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${x==="presets"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(FileText,{size:14})," Grammars"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[x==="examples"&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:examples.map((Ee,Be)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>Pe(Ee),children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:Ee.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 mt-1",children:Ee.description}),jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-300 mt-1 font-mono",children:Ee.code})]},Be))}),x==="presets"&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:presets.map((Ee,Be)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>rt(Ee),children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:Ee.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1 font-mono overflow-hidden",children:[Ee.grammar.substring(0,60),"..."]})]},Be))})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:V,onChange:Ee=>z(Ee.target.checked),className:"rounded"}),jsxRuntimeExports.jsx("label",{className:"text-sm",children:"Auto-parse"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:_e,className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[jsxRuntimeExports.jsx(Download,{size:12})," Export"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>J.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[jsxRuntimeExports.jsx(Upload,{size:12})," Import"]})]}),jsxRuntimeExports.jsx("input",{ref:J,type:"file",accept:".json",onChange:je,className:"hidden"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>P(!I),className:"bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Code,{size:14})," ",I?"Hide":"Show"," Grammar"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[Ce(),jsxRuntimeExports.jsx("span",{className:"text-sm capitalize",children:Q}),F&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["(",F.time.toFixed(1),"ms, ",F.nodes," nodes)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"History"}),jsxRuntimeExports.jsx(PerformanceSparkline,{data:fe})]})]}),jsxRuntimeExports.jsxs("button",{onClick:$e,disabled:Q==="parsing",className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded flex items-center gap-2 transition-colors",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Parse"]})]}),I&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:[jsxRuntimeExports.jsx(ReactCodeMirror,{value:o,height:"8rem",theme:oneDark,extensions:[pegLanguage],onChange:Ee=>f(Ee),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),M&&jsxRuntimeExports.jsxs("div",{className:"mt-3 text-sm text-red-300 bg-red-900/30 border border-red-700 rounded p-2",children:["Grammar error: ",M]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-800 p-4",children:jsxRuntimeExports.jsx(ReactCodeMirror,{value:a,height:"10rem",theme:oneDark,extensions:[javascript()],onChange:Ee=>s(Ee),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"})}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-800 border-t border-gray-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>v("output"),className:`px-6 py-3 text-sm flex items-center gap-2 ${y==="output"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(FileText,{size:14})," JSON Output"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>v("ast"),className:`px-6 py-3 text-sm flex items-center gap-2 ${y==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(TreePine,{size:14})," AST Tree"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-gray-700 overflow-auto",children:[y==="output"&&jsxRuntimeExports.jsx("pre",{className:"p-4 text-sm font-mono h-full overflow-auto whitespace-pre-wrap",children:h||"No output yet - click Parse to generate"}),y==="ast"&&jsxRuntimeExports.jsx(TreeVisualization,{data:g,onNodeClick:(Ee,Be)=>X({node:Ee,path:Be})})]})]}),B&&jsxRuntimeExports.jsxs("div",{className:"w-80 bg-gray-800 border-l border-gray-700 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{size:14})," Node Inspector"]}),jsxRuntimeExports.jsx("button",{onClick:()=>X(null),className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(CircleX,{size:16})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Name"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:B.node.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Type"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:B.node.type||"unknown"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Path"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm text-blue-300",children:B.path})]}),B.node.children&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Children"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:B.node.children.length})]})]})})]})]})]})]})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
//# sourceMappingURL=index-DUdNCCYi.js.map
