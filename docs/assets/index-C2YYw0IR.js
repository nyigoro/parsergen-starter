import{r as dv,a as Le,g as Sp,b as mv,S as hv,j as z,R as Ks,o as Js,c as Ch}from"./codemirror-BCaMoVs8.js";import{r as pv}from"./react-CvWMfVN7.js";import{r as yv}from"./peggy-Duof1vHZ.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))u(s);new MutationObserver(s=>{for(const f of s)if(f.type==="childList")for(const m of f.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&u(m)}).observe(document,{childList:!0,subtree:!0});function i(s){const f={};return s.integrity&&(f.integrity=s.integrity),s.referrerPolicy&&(f.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?f.credentials="include":s.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function u(s){if(s.ep)return;s.ep=!0;const f=i(s);fetch(s.href,f)}})();var Is={exports:{}},qi={},Ws={exports:{}},Ps={};var Bh;function gv(){return Bh||(Bh=1,(function(a){function r(C,H){var F=C.length;C.push(H);e:for(;0<F;){var ne=F-1>>>1,ee=C[ne];if(0<s(ee,H))C[ne]=H,C[F]=ee,F=ne;else break e}}function i(C){return C.length===0?null:C[0]}function u(C){if(C.length===0)return null;var H=C[0],F=C.pop();if(F!==H){C[0]=F;e:for(var ne=0,ee=C.length,oe=ee>>>1;ne<oe;){var re=2*(ne+1)-1,ie=C[re],de=re+1,Ae=C[de];if(0>s(ie,F))de<ee&&0>s(Ae,ie)?(C[ne]=Ae,C[de]=F,ne=de):(C[ne]=ie,C[re]=F,ne=re);else if(de<ee&&0>s(Ae,F))C[ne]=Ae,C[de]=F,ne=de;else break e}}return H}function s(C,H){var F=C.sortIndex-H.sortIndex;return F!==0?F:C.id-H.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;a.unstable_now=function(){return f.now()}}else{var m=Date,d=m.now();a.unstable_now=function(){return m.now()-d}}var p=[],y=[],g=1,v=null,b=3,S=!1,E=!1,A=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,M=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function _(C){for(var H=i(y);H!==null;){if(H.callback===null)u(y);else if(H.startTime<=C)u(y),H.sortIndex=H.expirationTime,r(p,H);else break;H=i(y)}}function w(C){if(A=!1,_(C),!E)if(i(p)!==null)E=!0,k||(k=!0,$());else{var H=i(y);H!==null&&I(w,H.startTime-C)}}var k=!1,V=-1,Z=5,le=-1;function G(){return N?!0:!(a.unstable_now()-le<Z)}function x(){if(N=!1,k){var C=a.unstable_now();le=C;var H=!0;try{e:{E=!1,A&&(A=!1,M(V),V=-1),S=!0;var F=b;try{t:{for(_(C),v=i(p);v!==null&&!(v.expirationTime>C&&G());){var ne=v.callback;if(typeof ne=="function"){v.callback=null,b=v.priorityLevel;var ee=ne(v.expirationTime<=C);if(C=a.unstable_now(),typeof ee=="function"){v.callback=ee,_(C),H=!0;break t}v===i(p)&&u(p),_(C)}else u(p);v=i(p)}if(v!==null)H=!0;else{var oe=i(y);oe!==null&&I(w,oe.startTime-C),H=!1}}break e}finally{v=null,b=F,S=!1}H=void 0}}finally{H?$():k=!1}}}var $;if(typeof R=="function")$=function(){R(x)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,D=K.port2;K.port1.onmessage=x,$=function(){D.postMessage(null)}}else $=function(){B(x,0)};function I(C,H){V=B(function(){C(a.unstable_now())},H)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(C){C.callback=null},a.unstable_forceFrameRate=function(C){0>C||125<C?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Z=0<C?Math.floor(1e3/C):5},a.unstable_getCurrentPriorityLevel=function(){return b},a.unstable_next=function(C){switch(b){case 1:case 2:case 3:var H=3;break;default:H=b}var F=b;b=H;try{return C()}finally{b=F}},a.unstable_requestPaint=function(){N=!0},a.unstable_runWithPriority=function(C,H){switch(C){case 1:case 2:case 3:case 4:case 5:break;default:C=3}var F=b;b=C;try{return H()}finally{b=F}},a.unstable_scheduleCallback=function(C,H,F){var ne=a.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?ne+F:ne):F=ne,C){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=F+ee,C={id:g++,callback:H,priorityLevel:C,startTime:F,expirationTime:ee,sortIndex:-1},F>ne?(C.sortIndex=F,r(y,C),i(p)===null&&C===i(y)&&(A?(M(V),V=-1):A=!0,I(w,F-ne))):(C.sortIndex=ee,r(p,C),E||S||(E=!0,k||(k=!0,$()))),C},a.unstable_shouldYield=G,a.unstable_wrapCallback=function(C){var H=b;return function(){var F=b;b=H;try{return C.apply(this,arguments)}finally{b=F}}}})(Ps)),Ps}var Uh;function vv(){return Uh||(Uh=1,Ws.exports=gv()),Ws.exports}var $h;function bv(){if($h)return qi;$h=1;var a=vv(),r=dv(),i=pv();function u(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var n=2;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function m(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function d(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function p(e){if(f(e)!==e)throw Error(u(188))}function y(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(u(188));return t!==e?null:e}for(var n=e,l=t;;){var o=n.return;if(o===null)break;var c=o.alternate;if(c===null){if(l=o.return,l!==null){n=l;continue}break}if(o.child===c.child){for(c=o.child;c;){if(c===n)return p(o),e;if(c===l)return p(o),t;c=c.sibling}throw Error(u(188))}if(n.return!==l.return)n=o,l=c;else{for(var h=!1,T=o.child;T;){if(T===n){h=!0,n=o,l=c;break}if(T===l){h=!0,l=o,n=c;break}T=T.sibling}if(!h){for(T=c.child;T;){if(T===n){h=!0,n=c,l=o;break}if(T===l){h=!0,l=c,n=o;break}T=T.sibling}if(!h)throw Error(u(189))}}if(n.alternate!==l)throw Error(u(190))}if(n.tag!==3)throw Error(u(188));return n.stateNode.current===n?e:t}function g(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=g(e),t!==null)return t;e=e.sibling}return null}var v=Object.assign,b=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),E=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),M=Symbol.for("react.consumer"),R=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),k=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),Z=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),G=Symbol.for("react.memo_cache_sentinel"),x=Symbol.iterator;function $(e){return e===null||typeof e!="object"?null:(e=x&&e[x]||e["@@iterator"],typeof e=="function"?e:null)}var K=Symbol.for("react.client.reference");function D(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===K?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case A:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case w:return"Suspense";case k:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case E:return"Portal";case R:return e.displayName||"Context";case M:return(e._context.displayName||"Context")+".Consumer";case _:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:D(e.type)||"Memo";case Z:t=e._payload,e=e._init;try{return D(e(t))}catch{}}return null}var I=Array.isArray,C=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},ne=[],ee=-1;function oe(e){return{current:e}}function re(e){0>ee||(e.current=ne[ee],ne[ee]=null,ee--)}function ie(e,t){ee++,ne[ee]=e.current,e.current=t}var de=oe(null),Ae=oe(null),_e=oe(null),Me=oe(null);function ut(e,t){switch(ie(_e,t),ie(Ae,e),ie(de,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?ah(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=ah(t),e=lh(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}re(de),ie(de,e)}function Be(){re(de),re(Ae),re(_e)}function He(e){e.memoizedState!==null&&ie(Me,e);var t=de.current,n=lh(t,e.type);t!==n&&(ie(Ae,e),ie(de,n))}function Tt(e){Ae.current===e&&(re(de),re(Ae)),Me.current===e&&(re(Me),$i._currentValue=F)}var ct,tn;function wt(e){if(ct===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ct=t&&t[1]||"",tn=-1<n.stack.indexOf(`
    at`)?" (<anonymous>)":-1<n.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ct+e+tn}var nn=!1;function At(e,t){if(!e||nn)return"";nn=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var te=function(){throw Error()};if(Object.defineProperty(te.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(te,[])}catch(J){var X=J}Reflect.construct(e,[],te)}else{try{te.call()}catch(J){X=J}e.call(te.prototype)}}else{try{throw Error()}catch(J){X=J}(te=e())&&typeof te.catch=="function"&&te.catch(function(){})}}catch(J){if(J&&X&&typeof J.stack=="string")return[J.stack,X.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var c=l.DetermineComponentFrameRoot(),h=c[0],T=c[1];if(h&&T){var j=h.split(`
`),Q=T.split(`
`);for(o=l=0;l<j.length&&!j[l].includes("DetermineComponentFrameRoot");)l++;for(;o<Q.length&&!Q[o].includes("DetermineComponentFrameRoot");)o++;if(l===j.length||o===Q.length)for(l=j.length-1,o=Q.length-1;1<=l&&0<=o&&j[l]!==Q[o];)o--;for(;1<=l&&0<=o;l--,o--)if(j[l]!==Q[o]){if(l!==1||o!==1)do if(l--,o--,0>o||j[l]!==Q[o]){var W=`
`+j[l].replace(" at new "," at ");return e.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",e.displayName)),W}while(1<=l&&0<=o);break}}}finally{nn=!1,Error.prepareStackTrace=n}return(n=e?e.displayName||e.name:"")?wt(n):""}function Nn(e,t){switch(e.tag){case 26:case 27:case 5:return wt(e.type);case 16:return wt("Lazy");case 13:return e.child!==t&&t!==null?wt("Suspense Fallback"):wt("Suspense");case 19:return wt("SuspenseList");case 0:case 15:return At(e.type,!1);case 11:return At(e.type.render,!1);case 1:return At(e.type,!0);case 31:return wt("Activity");default:return""}}function Qt(e){try{var t="",n=null;do t+=Nn(e,n),n=e,e=e.return;while(e);return t}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Ct=Object.prototype.hasOwnProperty,ue=a.unstable_scheduleCallback,Se=a.unstable_cancelCallback,Ue=a.unstable_shouldYield,ft=a.unstable_requestPaint,Ye=a.unstable_now,Fn=a.unstable_getCurrentPriorityLevel,Oa=a.unstable_ImmediatePriority,Fi=a.unstable_UserBlockingPriority,er=a.unstable_NormalPriority,Zp=a.unstable_LowPriority,Uc=a.unstable_IdlePriority,Kp=a.log,Jp=a.unstable_setDisableYieldValue,Jl=null,Xt=null;function ea(e){if(typeof Kp=="function"&&Jp(e),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(Jl,e)}catch{}}var Zt=Math.clz32?Math.clz32:Pp,Ip=Math.log,Wp=Math.LN2;function Pp(e){return e>>>=0,e===0?32:31-(Ip(e)/Wp|0)|0}var tr=256,nr=262144,ar=4194304;function Ra(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function lr(e,t,n){var l=e.pendingLanes;if(l===0)return 0;var o=0,c=e.suspendedLanes,h=e.pingedLanes;e=e.warmLanes;var T=l&134217727;return T!==0?(l=T&~c,l!==0?o=Ra(l):(h&=T,h!==0?o=Ra(h):n||(n=T&~e,n!==0&&(o=Ra(n))))):(T=l&~c,T!==0?o=Ra(T):h!==0?o=Ra(h):n||(n=l&~e,n!==0&&(o=Ra(n)))),o===0?0:t!==0&&t!==o&&(t&c)===0&&(c=o&-o,n=t&-t,c>=n||c===32&&(n&4194048)!==0)?t:o}function Il(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Fp(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $c(){var e=ar;return ar<<=1,(ar&62914560)===0&&(ar=4194304),e}function Bu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Wl(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function ey(e,t,n,l,o,c){var h=e.pendingLanes;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=n,e.entangledLanes&=n,e.errorRecoveryDisabledLanes&=n,e.shellSuspendCounter=0;var T=e.entanglements,j=e.expirationTimes,Q=e.hiddenUpdates;for(n=h&~n;0<n;){var W=31-Zt(n),te=1<<W;T[W]=0,j[W]=-1;var X=Q[W];if(X!==null)for(Q[W]=null,W=0;W<X.length;W++){var J=X[W];J!==null&&(J.lane&=-536870913)}n&=~te}l!==0&&Dc(e,l,0),c!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=c&~(h&~t))}function Dc(e,t,n){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Zt(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|n&261930}function Lc(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var l=31-Zt(n),o=1<<l;o&t|e[l]&t&&(e[l]|=t),n&=~o}}function Vc(e,t){var n=t&-t;return n=(n&42)!==0?1:Uu(n),(n&(e.suspendedLanes|t))!==0?0:n}function Uu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $u(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function qc(){var e=H.p;return e!==0?e:(e=window.event,e===void 0?32:wh(e.type))}function Hc(e,t){var n=H.p;try{return H.p=e,t()}finally{H.p=n}}var ta=Math.random().toString(36).slice(2),kt="__reactFiber$"+ta,Ut="__reactProps$"+ta,ll="__reactContainer$"+ta,Du="__reactEvents$"+ta,ty="__reactListeners$"+ta,ny="__reactHandles$"+ta,Gc="__reactResources$"+ta,Pl="__reactMarker$"+ta;function Lu(e){delete e[kt],delete e[Ut],delete e[Du],delete e[ty],delete e[ny]}function il(e){var t=e[kt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ll]||n[kt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fh(e);e!==null;){if(n=e[kt])return n;e=fh(e)}return t}e=n,n=e.parentNode}return null}function rl(e){if(e=e[kt]||e[ll]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Fl(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(u(33))}function ul(e){var t=e[Gc];return t||(t=e[Gc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function xt(e){e[Pl]=!0}var Yc=new Set,Qc={};function ja(e,t){ol(e,t),ol(e+"Capture",t)}function ol(e,t){for(Qc[e]=t,e=0;e<t.length;e++)Yc.add(t[e])}var ay=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Xc={},Zc={};function ly(e){return Ct.call(Zc,e)?!0:Ct.call(Xc,e)?!1:ay.test(e)?Zc[e]=!0:(Xc[e]=!0,!1)}function ir(e,t,n){if(ly(t))if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+n)}}function rr(e,t,n){if(n===null)e.removeAttribute(t);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+n)}}function zn(e,t,n,l){if(l===null)e.removeAttribute(n);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttributeNS(t,n,""+l)}}function an(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Kc(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function iy(e,t,n){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var o=l.get,c=l.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(h){n=""+h,c.call(this,h)}}),Object.defineProperty(e,t,{enumerable:l.enumerable}),{getValue:function(){return n},setValue:function(h){n=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Vu(e){if(!e._valueTracker){var t=Kc(e)?"checked":"value";e._valueTracker=iy(e,t,""+e[t])}}function Jc(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),l="";return e&&(l=Kc(e)?e.checked?"true":"false":e.value),e=l,e!==n?(t.setValue(e),!0):!1}function ur(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var ry=/[\n"\\]/g;function ln(e){return e.replace(ry,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qu(e,t,n,l,o,c,h,T){e.name="",h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"?e.type=h:e.removeAttribute("type"),t!=null?h==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+an(t)):e.value!==""+an(t)&&(e.value=""+an(t)):h!=="submit"&&h!=="reset"||e.removeAttribute("value"),t!=null?Hu(e,h,an(t)):n!=null?Hu(e,h,an(n)):l!=null&&e.removeAttribute("value"),o==null&&c!=null&&(e.defaultChecked=!!c),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?e.name=""+an(T):e.removeAttribute("name")}function Ic(e,t,n,l,o,c,h,T){if(c!=null&&typeof c!="function"&&typeof c!="symbol"&&typeof c!="boolean"&&(e.type=c),t!=null||n!=null){if(!(c!=="submit"&&c!=="reset"||t!=null)){Vu(e);return}n=n!=null?""+an(n):"",t=t!=null?""+an(t):n,T||t===e.value||(e.value=t),e.defaultValue=t}l=l??o,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=T?e.checked:!!l,e.defaultChecked=!!l,h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.name=h),Vu(e)}function Hu(e,t,n){t==="number"&&ur(e.ownerDocument)===e||e.defaultValue===""+n||(e.defaultValue=""+n)}function sl(e,t,n,l){if(e=e.options,t){t={};for(var o=0;o<n.length;o++)t["$"+n[o]]=!0;for(n=0;n<e.length;n++)o=t.hasOwnProperty("$"+e[n].value),e[n].selected!==o&&(e[n].selected=o),o&&l&&(e[n].defaultSelected=!0)}else{for(n=""+an(n),t=null,o=0;o<e.length;o++){if(e[o].value===n){e[o].selected=!0,l&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Wc(e,t,n){if(t!=null&&(t=""+an(t),t!==e.value&&(e.value=t),n==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=n!=null?""+an(n):""}function Pc(e,t,n,l){if(t==null){if(l!=null){if(n!=null)throw Error(u(92));if(I(l)){if(1<l.length)throw Error(u(93));l=l[0]}n=l}n==null&&(n=""),t=n}n=an(t),e.defaultValue=n,l=e.textContent,l===n&&l!==""&&l!==null&&(e.value=l),Vu(e)}function cl(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var uy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Fc(e,t,n){var l=t.indexOf("--")===0;n==null||typeof n=="boolean"||n===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,n):typeof n!="number"||n===0||uy.has(t)?t==="float"?e.cssFloat=n:e[t]=(""+n).trim():e[t]=n+"px"}function ef(e,t,n){if(t!=null&&typeof t!="object")throw Error(u(62));if(e=e.style,n!=null){for(var l in n)!n.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var o in t)l=t[o],t.hasOwnProperty(o)&&n[o]!==l&&Fc(e,o,l)}else for(var c in t)t.hasOwnProperty(c)&&Fc(e,c,t[c])}function Gu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var oy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function or(e){return sy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function On(){}var Yu=null;function Qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var fl=null,dl=null;function tf(e){var t=rl(e);if(t&&(e=t.stateNode)){var n=e[Ut]||null;e:switch(e=t.stateNode,t.type){case"input":if(qu(e,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll('input[name="'+ln(""+t)+'"][type="radio"]'),t=0;t<n.length;t++){var l=n[t];if(l!==e&&l.form===e.form){var o=l[Ut]||null;if(!o)throw Error(u(90));qu(l,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<n.length;t++)l=n[t],l.form===e.form&&Jc(l)}break e;case"textarea":Wc(e,n.value,n.defaultValue);break e;case"select":t=n.value,t!=null&&sl(e,!!n.multiple,t,!1)}}}var Xu=!1;function nf(e,t,n){if(Xu)return e(t,n);Xu=!0;try{var l=e(t);return l}finally{if(Xu=!1,(fl!==null||dl!==null)&&(Jr(),fl&&(t=fl,e=dl,dl=fl=null,tf(t),e)))for(t=0;t<e.length;t++)tf(e[t])}}function ei(e,t){var n=e.stateNode;if(n===null)return null;var l=n[Ut]||null;if(l===null)return null;n=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(u(231,t,typeof n));return n}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Zu=!1;if(Rn)try{var ti={};Object.defineProperty(ti,"passive",{get:function(){Zu=!0}}),window.addEventListener("test",ti,ti),window.removeEventListener("test",ti,ti)}catch{Zu=!1}var na=null,Ku=null,sr=null;function af(){if(sr)return sr;var e,t=Ku,n=t.length,l,o="value"in na?na.value:na.textContent,c=o.length;for(e=0;e<n&&t[e]===o[e];e++);var h=n-e;for(l=1;l<=h&&t[n-l]===o[c-l];l++);return sr=o.slice(e,1<l?1-l:void 0)}function cr(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function fr(){return!0}function lf(){return!1}function $t(e){function t(n,l,o,c,h){this._reactName=n,this._targetInst=o,this.type=l,this.nativeEvent=c,this.target=h,this.currentTarget=null;for(var T in e)e.hasOwnProperty(T)&&(n=e[T],this[T]=n?n(c):c[T]);return this.isDefaultPrevented=(c.defaultPrevented!=null?c.defaultPrevented:c.returnValue===!1)?fr:lf,this.isPropagationStopped=lf,this}return v(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var Ca={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dr=$t(Ca),ni=v({},Ca,{view:0,detail:0}),cy=$t(ni),Ju,Iu,ai,mr=v({},ni,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Pu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ai&&(ai&&e.type==="mousemove"?(Ju=e.screenX-ai.screenX,Iu=e.screenY-ai.screenY):Iu=Ju=0,ai=e),Ju)},movementY:function(e){return"movementY"in e?e.movementY:Iu}}),rf=$t(mr),fy=v({},mr,{dataTransfer:0}),dy=$t(fy),my=v({},ni,{relatedTarget:0}),Wu=$t(my),hy=v({},Ca,{animationName:0,elapsedTime:0,pseudoElement:0}),py=$t(hy),yy=v({},Ca,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),gy=$t(yy),vy=v({},Ca,{data:0}),uf=$t(vy),by={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_y={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ty(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=_y[e])?!!t[e]:!1}function Pu(){return Ty}var Ny=v({},ni,{key:function(e){if(e.key){var t=by[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=cr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Pu,charCode:function(e){return e.type==="keypress"?cr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?cr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ey=$t(Ny),xy=v({},mr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),of=$t(xy),My=v({},ni,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Pu}),wy=$t(My),Ay=v({},Ca,{propertyName:0,elapsedTime:0,pseudoElement:0}),ky=$t(Ay),zy=v({},mr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Oy=$t(zy),Ry=v({},Ca,{newState:0,oldState:0}),jy=$t(Ry),Cy=[9,13,27,32],Fu=Rn&&"CompositionEvent"in window,li=null;Rn&&"documentMode"in document&&(li=document.documentMode);var By=Rn&&"TextEvent"in window&&!li,sf=Rn&&(!Fu||li&&8<li&&11>=li),cf=" ",ff=!1;function df(e,t){switch(e){case"keyup":return Cy.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function mf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ml=!1;function Uy(e,t){switch(e){case"compositionend":return mf(t);case"keypress":return t.which!==32?null:(ff=!0,cf);case"textInput":return e=t.data,e===cf&&ff?null:e;default:return null}}function $y(e,t){if(ml)return e==="compositionend"||!Fu&&df(e,t)?(e=af(),sr=Ku=na=null,ml=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return sf&&t.locale!=="ko"?null:t.data;default:return null}}var Dy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dy[e.type]:t==="textarea"}function pf(e,t,n,l){fl?dl?dl.push(l):dl=[l]:fl=l,t=nu(t,"onChange"),0<t.length&&(n=new dr("onChange","change",null,n,l),e.push({event:n,listeners:t}))}var ii=null,ri=null;function Ly(e){Wm(e,0)}function hr(e){var t=Fl(e);if(Jc(t))return e}function yf(e,t){if(e==="change")return t}var gf=!1;if(Rn){var eo;if(Rn){var to="oninput"in document;if(!to){var vf=document.createElement("div");vf.setAttribute("oninput","return;"),to=typeof vf.oninput=="function"}eo=to}else eo=!1;gf=eo&&(!document.documentMode||9<document.documentMode)}function bf(){ii&&(ii.detachEvent("onpropertychange",Sf),ri=ii=null)}function Sf(e){if(e.propertyName==="value"&&hr(ri)){var t=[];pf(t,ri,e,Qu(e)),nf(Ly,t)}}function Vy(e,t,n){e==="focusin"?(bf(),ii=t,ri=n,ii.attachEvent("onpropertychange",Sf)):e==="focusout"&&bf()}function qy(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return hr(ri)}function Hy(e,t){if(e==="click")return hr(t)}function Gy(e,t){if(e==="input"||e==="change")return hr(t)}function Yy(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Kt=typeof Object.is=="function"?Object.is:Yy;function ui(e,t){if(Kt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),l=Object.keys(t);if(n.length!==l.length)return!1;for(l=0;l<n.length;l++){var o=n[l];if(!Ct.call(t,o)||!Kt(e[o],t[o]))return!1}return!0}function _f(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Tf(e,t){var n=_f(e);e=0;for(var l;n;){if(n.nodeType===3){if(l=e+n.textContent.length,e<=t&&l>=t)return{node:n,offset:t-e};e=l}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_f(n)}}function Nf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Nf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Ef(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=ur(e.document);t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ur(e.document)}return t}function no(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Qy=Rn&&"documentMode"in document&&11>=document.documentMode,hl=null,ao=null,oi=null,lo=!1;function xf(e,t,n){var l=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;lo||hl==null||hl!==ur(l)||(l=hl,"selectionStart"in l&&no(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),oi&&ui(oi,l)||(oi=l,l=nu(ao,"onSelect"),0<l.length&&(t=new dr("onSelect","select",null,t,n),e.push({event:t,listeners:l}),t.target=hl)))}function Ba(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var pl={animationend:Ba("Animation","AnimationEnd"),animationiteration:Ba("Animation","AnimationIteration"),animationstart:Ba("Animation","AnimationStart"),transitionrun:Ba("Transition","TransitionRun"),transitionstart:Ba("Transition","TransitionStart"),transitioncancel:Ba("Transition","TransitionCancel"),transitionend:Ba("Transition","TransitionEnd")},io={},Mf={};Rn&&(Mf=document.createElement("div").style,"AnimationEvent"in window||(delete pl.animationend.animation,delete pl.animationiteration.animation,delete pl.animationstart.animation),"TransitionEvent"in window||delete pl.transitionend.transition);function Ua(e){if(io[e])return io[e];if(!pl[e])return e;var t=pl[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Mf)return io[e]=t[n];return e}var wf=Ua("animationend"),Af=Ua("animationiteration"),kf=Ua("animationstart"),Xy=Ua("transitionrun"),Zy=Ua("transitionstart"),Ky=Ua("transitioncancel"),zf=Ua("transitionend"),Of=new Map,ro="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ro.push("scrollEnd");function vn(e,t){Of.set(e,t),ja(t,[e])}var pr=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},rn=[],yl=0,uo=0;function yr(){for(var e=yl,t=uo=yl=0;t<e;){var n=rn[t];rn[t++]=null;var l=rn[t];rn[t++]=null;var o=rn[t];rn[t++]=null;var c=rn[t];if(rn[t++]=null,l!==null&&o!==null){var h=l.pending;h===null?o.next=o:(o.next=h.next,h.next=o),l.pending=o}c!==0&&Rf(n,o,c)}}function gr(e,t,n,l){rn[yl++]=e,rn[yl++]=t,rn[yl++]=n,rn[yl++]=l,uo|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function oo(e,t,n,l){return gr(e,t,n,l),vr(e)}function $a(e,t){return gr(e,null,null,t),vr(e)}function Rf(e,t,n){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n);for(var o=!1,c=e.return;c!==null;)c.childLanes|=n,l=c.alternate,l!==null&&(l.childLanes|=n),c.tag===22&&(e=c.stateNode,e===null||e._visibility&1||(o=!0)),e=c,c=c.return;return e.tag===3?(c=e.stateNode,o&&t!==null&&(o=31-Zt(n),e=c.hiddenUpdates,l=e[o],l===null?e[o]=[t]:l.push(t),t.lane=n|536870912),c):null}function vr(e){if(50<zi)throw zi=0,vs=null,Error(u(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var gl={};function Jy(e,t,n,l){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Jt(e,t,n,l){return new Jy(e,t,n,l)}function so(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jn(e,t){var n=e.alternate;return n===null?(n=Jt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&65011712,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n.refCleanup=e.refCleanup,n}function jf(e,t){e.flags&=65011714;var n=e.alternate;return n===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=n.childLanes,e.lanes=n.lanes,e.child=n.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=n.memoizedProps,e.memoizedState=n.memoizedState,e.updateQueue=n.updateQueue,e.type=n.type,t=n.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function br(e,t,n,l,o,c){var h=0;if(l=e,typeof e=="function")so(e)&&(h=1);else if(typeof e=="string")h=ev(e,n,de.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Jt(31,n,t,o),e.elementType=le,e.lanes=c,e;case A:return Da(n.children,o,c,t);case N:h=8,o|=24;break;case B:return e=Jt(12,n,t,o|2),e.elementType=B,e.lanes=c,e;case w:return e=Jt(13,n,t,o),e.elementType=w,e.lanes=c,e;case k:return e=Jt(19,n,t,o),e.elementType=k,e.lanes=c,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case R:h=10;break e;case M:h=9;break e;case _:h=11;break e;case V:h=14;break e;case Z:h=16,l=null;break e}h=29,n=Error(u(130,e===null?"null":typeof e,"")),l=null}return t=Jt(h,n,t,o),t.elementType=e,t.type=l,t.lanes=c,t}function Da(e,t,n,l){return e=Jt(7,e,l,t),e.lanes=n,e}function co(e,t,n){return e=Jt(6,e,null,t),e.lanes=n,e}function Cf(e){var t=Jt(18,null,null,0);return t.stateNode=e,t}function fo(e,t,n){return t=Jt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Bf=new WeakMap;function un(e,t){if(typeof e=="object"&&e!==null){var n=Bf.get(e);return n!==void 0?n:(t={value:e,source:t,stack:Qt(t)},Bf.set(e,t),t)}return{value:e,source:t,stack:Qt(t)}}var vl=[],bl=0,Sr=null,si=0,on=[],sn=0,aa=null,En=1,xn="";function Cn(e,t){vl[bl++]=si,vl[bl++]=Sr,Sr=e,si=t}function Uf(e,t,n){on[sn++]=En,on[sn++]=xn,on[sn++]=aa,aa=e;var l=En;e=xn;var o=32-Zt(l)-1;l&=~(1<<o),n+=1;var c=32-Zt(t)+o;if(30<c){var h=o-o%5;c=(l&(1<<h)-1).toString(32),l>>=h,o-=h,En=1<<32-Zt(t)+o|n<<o|l,xn=c+e}else En=1<<c|n<<o|l,xn=e}function mo(e){e.return!==null&&(Cn(e,1),Uf(e,1,0))}function ho(e){for(;e===Sr;)Sr=vl[--bl],vl[bl]=null,si=vl[--bl],vl[bl]=null;for(;e===aa;)aa=on[--sn],on[sn]=null,xn=on[--sn],on[sn]=null,En=on[--sn],on[sn]=null}function $f(e,t){on[sn++]=En,on[sn++]=xn,on[sn++]=aa,En=t.id,xn=t.overflow,aa=e}var zt=null,et=null,je=!1,la=null,cn=!1,po=Error(u(519));function ia(e){var t=Error(u(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ci(un(t,e)),po}function Df(e){var t=e.stateNode,n=e.type,l=e.memoizedProps;switch(t[kt]=e,t[Ut]=l,n){case"dialog":ze("cancel",t),ze("close",t);break;case"iframe":case"object":case"embed":ze("load",t);break;case"video":case"audio":for(n=0;n<Ri.length;n++)ze(Ri[n],t);break;case"source":ze("error",t);break;case"img":case"image":case"link":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"input":ze("invalid",t),Ic(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":ze("invalid",t);break;case"textarea":ze("invalid",t),Pc(t,l.value,l.defaultValue,l.children)}n=l.children,typeof n!="string"&&typeof n!="number"&&typeof n!="bigint"||t.textContent===""+n||l.suppressHydrationWarning===!0||th(t.textContent,n)?(l.popover!=null&&(ze("beforetoggle",t),ze("toggle",t)),l.onScroll!=null&&ze("scroll",t),l.onScrollEnd!=null&&ze("scrollend",t),l.onClick!=null&&(t.onclick=On),t=!0):t=!1,t||ia(e,!0)}function Lf(e){for(zt=e.return;zt;)switch(zt.tag){case 5:case 31:case 13:cn=!1;return;case 27:case 3:cn=!0;return;default:zt=zt.return}}function Sl(e){if(e!==zt)return!1;if(!je)return Lf(e),je=!0,!1;var t=e.tag,n;if((n=t!==3&&t!==27)&&((n=t===5)&&(n=e.type,n=!(n!=="form"&&n!=="button")||js(e.type,e.memoizedProps)),n=!n),n&&et&&ia(e),Lf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));et=ch(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(317));et=ch(e)}else t===27?(t=et,ba(e.type)?(e=Ds,Ds=null,et=e):et=t):et=zt?dn(e.stateNode.nextSibling):null;return!0}function La(){et=zt=null,je=!1}function yo(){var e=la;return e!==null&&(qt===null?qt=e:qt.push.apply(qt,e),la=null),e}function ci(e){la===null?la=[e]:la.push(e)}var go=oe(null),Va=null,Bn=null;function ra(e,t,n){ie(go,t._currentValue),t._currentValue=n}function Un(e){e._currentValue=go.current,re(go)}function vo(e,t,n){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===n)break;e=e.return}}function bo(e,t,n,l){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){var h=o.child;c=c.firstContext;e:for(;c!==null;){var T=c;c=o;for(var j=0;j<t.length;j++)if(T.context===t[j]){c.lanes|=n,T=c.alternate,T!==null&&(T.lanes|=n),vo(c.return,n,e),l||(h=null);break e}c=T.next}}else if(o.tag===18){if(h=o.return,h===null)throw Error(u(341));h.lanes|=n,c=h.alternate,c!==null&&(c.lanes|=n),vo(h,n,e),h=null}else h=o.child;if(h!==null)h.return=o;else for(h=o;h!==null;){if(h===e){h=null;break}if(o=h.sibling,o!==null){o.return=h.return,h=o;break}h=h.return}o=h}}function _l(e,t,n,l){e=null;for(var o=t,c=!1;o!==null;){if(!c){if((o.flags&524288)!==0)c=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var h=o.alternate;if(h===null)throw Error(u(387));if(h=h.memoizedProps,h!==null){var T=o.type;Kt(o.pendingProps.value,h.value)||(e!==null?e.push(T):e=[T])}}else if(o===Me.current){if(h=o.alternate,h===null)throw Error(u(387));h.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push($i):e=[$i])}o=o.return}e!==null&&bo(t,e,n,l),t.flags|=262144}function _r(e){for(e=e.firstContext;e!==null;){if(!Kt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function qa(e){Va=e,Bn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Ot(e){return Vf(Va,e)}function Tr(e,t){return Va===null&&qa(e),Vf(e,t)}function Vf(e,t){var n=t._currentValue;if(t={context:t,memoizedValue:n,next:null},Bn===null){if(e===null)throw Error(u(308));Bn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Bn=Bn.next=t;return n}var Iy=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(n,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(n){return n()})}},Wy=a.unstable_scheduleCallback,Py=a.unstable_NormalPriority,vt={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function So(){return{controller:new Iy,data:new Map,refCount:0}}function fi(e){e.refCount--,e.refCount===0&&Wy(Py,function(){e.controller.abort()})}var di=null,_o=0,Tl=0,Nl=null;function Fy(e,t){if(di===null){var n=di=[];_o=0,Tl=Es(),Nl={status:"pending",value:void 0,then:function(l){n.push(l)}}}return _o++,t.then(qf,qf),t}function qf(){if(--_o===0&&di!==null){Nl!==null&&(Nl.status="fulfilled");var e=di;di=null,Tl=0,Nl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function eg(e,t){var n=[],l={status:"pending",value:null,reason:null,then:function(o){n.push(o)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var o=0;o<n.length;o++)(0,n[o])(t)},function(o){for(l.status="rejected",l.reason=o,o=0;o<n.length;o++)(0,n[o])(void 0)}),l}var Hf=C.S;C.S=function(e,t){xm=Ye(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&Fy(e,t),Hf!==null&&Hf(e,t)};var Ha=oe(null);function To(){var e=Ha.current;return e!==null?e:Pe.pooledCache}function Nr(e,t){t===null?ie(Ha,Ha.current):ie(Ha,t.pool)}function Gf(){var e=To();return e===null?null:{parent:vt._currentValue,pool:e}}var El=Error(u(460)),No=Error(u(474)),Er=Error(u(542)),xr={then:function(){}};function Yf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Qf(e,t,n){switch(n=e[n],n===void 0?e.push(t):n!==t&&(t.then(On,On),t=n),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e;default:if(typeof t.status=="string")t.then(On,On);else{if(e=Pe,e!==null&&100<e.shellSuspendCounter)throw Error(u(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=l}},function(l){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,Zf(e),e}throw Ya=t,El}}function Ga(e){try{var t=e._init;return t(e._payload)}catch(n){throw n!==null&&typeof n=="object"&&typeof n.then=="function"?(Ya=n,El):n}}var Ya=null;function Xf(){if(Ya===null)throw Error(u(459));var e=Ya;return Ya=null,e}function Zf(e){if(e===El||e===Er)throw Error(u(483))}var xl=null,mi=0;function Mr(e){var t=mi;return mi+=1,xl===null&&(xl=[]),Qf(xl,e,t)}function hi(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function wr(e,t){throw t.$$typeof===b?Error(u(525)):(e=Object.prototype.toString.call(t),Error(u(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Kf(e){function t(L,U){if(e){var Y=L.deletions;Y===null?(L.deletions=[U],L.flags|=16):Y.push(U)}}function n(L,U){if(!e)return null;for(;U!==null;)t(L,U),U=U.sibling;return null}function l(L){for(var U=new Map;L!==null;)L.key!==null?U.set(L.key,L):U.set(L.index,L),L=L.sibling;return U}function o(L,U){return L=jn(L,U),L.index=0,L.sibling=null,L}function c(L,U,Y){return L.index=Y,e?(Y=L.alternate,Y!==null?(Y=Y.index,Y<U?(L.flags|=67108866,U):Y):(L.flags|=67108866,U)):(L.flags|=1048576,U)}function h(L){return e&&L.alternate===null&&(L.flags|=67108866),L}function T(L,U,Y,P){return U===null||U.tag!==6?(U=co(Y,L.mode,P),U.return=L,U):(U=o(U,Y),U.return=L,U)}function j(L,U,Y,P){var ge=Y.type;return ge===A?W(L,U,Y.props.children,P,Y.key):U!==null&&(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Ga(ge)===U.type)?(U=o(U,Y.props),hi(U,Y),U.return=L,U):(U=br(Y.type,Y.key,Y.props,null,L.mode,P),hi(U,Y),U.return=L,U)}function Q(L,U,Y,P){return U===null||U.tag!==4||U.stateNode.containerInfo!==Y.containerInfo||U.stateNode.implementation!==Y.implementation?(U=fo(Y,L.mode,P),U.return=L,U):(U=o(U,Y.children||[]),U.return=L,U)}function W(L,U,Y,P,ge){return U===null||U.tag!==7?(U=Da(Y,L.mode,P,ge),U.return=L,U):(U=o(U,Y),U.return=L,U)}function te(L,U,Y){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=co(""+U,L.mode,Y),U.return=L,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case S:return Y=br(U.type,U.key,U.props,null,L.mode,Y),hi(Y,U),Y.return=L,Y;case E:return U=fo(U,L.mode,Y),U.return=L,U;case Z:return U=Ga(U),te(L,U,Y)}if(I(U)||$(U))return U=Da(U,L.mode,Y,null),U.return=L,U;if(typeof U.then=="function")return te(L,Mr(U),Y);if(U.$$typeof===R)return te(L,Tr(L,U),Y);wr(L,U)}return null}function X(L,U,Y,P){var ge=U!==null?U.key:null;if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return ge!==null?null:T(L,U,""+Y,P);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return Y.key===ge?j(L,U,Y,P):null;case E:return Y.key===ge?Q(L,U,Y,P):null;case Z:return Y=Ga(Y),X(L,U,Y,P)}if(I(Y)||$(Y))return ge!==null?null:W(L,U,Y,P,null);if(typeof Y.then=="function")return X(L,U,Mr(Y),P);if(Y.$$typeof===R)return X(L,U,Tr(L,Y),P);wr(L,Y)}return null}function J(L,U,Y,P,ge){if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return L=L.get(Y)||null,T(U,L,""+P,ge);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case S:return L=L.get(P.key===null?Y:P.key)||null,j(U,L,P,ge);case E:return L=L.get(P.key===null?Y:P.key)||null,Q(U,L,P,ge);case Z:return P=Ga(P),J(L,U,Y,P,ge)}if(I(P)||$(P))return L=L.get(Y)||null,W(U,L,P,ge,null);if(typeof P.then=="function")return J(L,U,Y,Mr(P),ge);if(P.$$typeof===R)return J(L,U,Y,Tr(U,P),ge);wr(U,P)}return null}function fe(L,U,Y,P){for(var ge=null,$e=null,he=U,Ne=U=0,Re=null;he!==null&&Ne<Y.length;Ne++){he.index>Ne?(Re=he,he=null):Re=he.sibling;var De=X(L,he,Y[Ne],P);if(De===null){he===null&&(he=Re);break}e&&he&&De.alternate===null&&t(L,he),U=c(De,U,Ne),$e===null?ge=De:$e.sibling=De,$e=De,he=Re}if(Ne===Y.length)return n(L,he),je&&Cn(L,Ne),ge;if(he===null){for(;Ne<Y.length;Ne++)he=te(L,Y[Ne],P),he!==null&&(U=c(he,U,Ne),$e===null?ge=he:$e.sibling=he,$e=he);return je&&Cn(L,Ne),ge}for(he=l(he);Ne<Y.length;Ne++)Re=J(he,L,Ne,Y[Ne],P),Re!==null&&(e&&Re.alternate!==null&&he.delete(Re.key===null?Ne:Re.key),U=c(Re,U,Ne),$e===null?ge=Re:$e.sibling=Re,$e=Re);return e&&he.forEach(function(Ea){return t(L,Ea)}),je&&Cn(L,Ne),ge}function ve(L,U,Y,P){if(Y==null)throw Error(u(151));for(var ge=null,$e=null,he=U,Ne=U=0,Re=null,De=Y.next();he!==null&&!De.done;Ne++,De=Y.next()){he.index>Ne?(Re=he,he=null):Re=he.sibling;var Ea=X(L,he,De.value,P);if(Ea===null){he===null&&(he=Re);break}e&&he&&Ea.alternate===null&&t(L,he),U=c(Ea,U,Ne),$e===null?ge=Ea:$e.sibling=Ea,$e=Ea,he=Re}if(De.done)return n(L,he),je&&Cn(L,Ne),ge;if(he===null){for(;!De.done;Ne++,De=Y.next())De=te(L,De.value,P),De!==null&&(U=c(De,U,Ne),$e===null?ge=De:$e.sibling=De,$e=De);return je&&Cn(L,Ne),ge}for(he=l(he);!De.done;Ne++,De=Y.next())De=J(he,L,Ne,De.value,P),De!==null&&(e&&De.alternate!==null&&he.delete(De.key===null?Ne:De.key),U=c(De,U,Ne),$e===null?ge=De:$e.sibling=De,$e=De);return e&&he.forEach(function(fv){return t(L,fv)}),je&&Cn(L,Ne),ge}function Ie(L,U,Y,P){if(typeof Y=="object"&&Y!==null&&Y.type===A&&Y.key===null&&(Y=Y.props.children),typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:e:{for(var ge=Y.key;U!==null;){if(U.key===ge){if(ge=Y.type,ge===A){if(U.tag===7){n(L,U.sibling),P=o(U,Y.props.children),P.return=L,L=P;break e}}else if(U.elementType===ge||typeof ge=="object"&&ge!==null&&ge.$$typeof===Z&&Ga(ge)===U.type){n(L,U.sibling),P=o(U,Y.props),hi(P,Y),P.return=L,L=P;break e}n(L,U);break}else t(L,U);U=U.sibling}Y.type===A?(P=Da(Y.props.children,L.mode,P,Y.key),P.return=L,L=P):(P=br(Y.type,Y.key,Y.props,null,L.mode,P),hi(P,Y),P.return=L,L=P)}return h(L);case E:e:{for(ge=Y.key;U!==null;){if(U.key===ge)if(U.tag===4&&U.stateNode.containerInfo===Y.containerInfo&&U.stateNode.implementation===Y.implementation){n(L,U.sibling),P=o(U,Y.children||[]),P.return=L,L=P;break e}else{n(L,U);break}else t(L,U);U=U.sibling}P=fo(Y,L.mode,P),P.return=L,L=P}return h(L);case Z:return Y=Ga(Y),Ie(L,U,Y,P)}if(I(Y))return fe(L,U,Y,P);if($(Y)){if(ge=$(Y),typeof ge!="function")throw Error(u(150));return Y=ge.call(Y),ve(L,U,Y,P)}if(typeof Y.then=="function")return Ie(L,U,Mr(Y),P);if(Y.$$typeof===R)return Ie(L,U,Tr(L,Y),P);wr(L,Y)}return typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint"?(Y=""+Y,U!==null&&U.tag===6?(n(L,U.sibling),P=o(U,Y),P.return=L,L=P):(n(L,U),P=co(Y,L.mode,P),P.return=L,L=P),h(L)):n(L,U)}return function(L,U,Y,P){try{mi=0;var ge=Ie(L,U,Y,P);return xl=null,ge}catch(he){if(he===El||he===Er)throw he;var $e=Jt(29,he,null,L.mode);return $e.lanes=P,$e.return=L,$e}}}var Qa=Kf(!0),Jf=Kf(!1),ua=!1;function Eo(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function xo(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function oa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function sa(e,t,n){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ve&2)!==0){var o=l.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),l.pending=t,t=vr(e),Rf(e,null,n),t}return gr(e,l,t,n),vr(e)}function pi(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Lc(e,n)}}function Mo(e,t){var n=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,n===l)){var o=null,c=null;if(n=n.firstBaseUpdate,n!==null){do{var h={lane:n.lane,tag:n.tag,payload:n.payload,callback:null,next:null};c===null?o=c=h:c=c.next=h,n=n.next}while(n!==null);c===null?o=c=t:c=c.next=t}else o=c=t;n={baseState:l.baseState,firstBaseUpdate:o,lastBaseUpdate:c,shared:l.shared,callbacks:l.callbacks},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}var wo=!1;function yi(){if(wo){var e=Nl;if(e!==null)throw e}}function gi(e,t,n,l){wo=!1;var o=e.updateQueue;ua=!1;var c=o.firstBaseUpdate,h=o.lastBaseUpdate,T=o.shared.pending;if(T!==null){o.shared.pending=null;var j=T,Q=j.next;j.next=null,h===null?c=Q:h.next=Q,h=j;var W=e.alternate;W!==null&&(W=W.updateQueue,T=W.lastBaseUpdate,T!==h&&(T===null?W.firstBaseUpdate=Q:T.next=Q,W.lastBaseUpdate=j))}if(c!==null){var te=o.baseState;h=0,W=Q=j=null,T=c;do{var X=T.lane&-536870913,J=X!==T.lane;if(J?(Oe&X)===X:(l&X)===X){X!==0&&X===Tl&&(wo=!0),W!==null&&(W=W.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var fe=e,ve=T;X=t;var Ie=n;switch(ve.tag){case 1:if(fe=ve.payload,typeof fe=="function"){te=fe.call(Ie,te,X);break e}te=fe;break e;case 3:fe.flags=fe.flags&-65537|128;case 0:if(fe=ve.payload,X=typeof fe=="function"?fe.call(Ie,te,X):fe,X==null)break e;te=v({},te,X);break e;case 2:ua=!0}}X=T.callback,X!==null&&(e.flags|=64,J&&(e.flags|=8192),J=o.callbacks,J===null?o.callbacks=[X]:J.push(X))}else J={lane:X,tag:T.tag,payload:T.payload,callback:T.callback,next:null},W===null?(Q=W=J,j=te):W=W.next=J,h|=X;if(T=T.next,T===null){if(T=o.shared.pending,T===null)break;J=T,T=J.next,J.next=null,o.lastBaseUpdate=J,o.shared.pending=null}}while(!0);W===null&&(j=te),o.baseState=j,o.firstBaseUpdate=Q,o.lastBaseUpdate=W,c===null&&(o.shared.lanes=0),ha|=h,e.lanes=h,e.memoizedState=te}}function If(e,t){if(typeof e!="function")throw Error(u(191,e));e.call(t)}function Wf(e,t){var n=e.callbacks;if(n!==null)for(e.callbacks=null,e=0;e<n.length;e++)If(n[e],t)}var Ml=oe(null),Ar=oe(0);function Pf(e,t){e=Qn,ie(Ar,e),ie(Ml,t),Qn=e|t.baseLanes}function Ao(){ie(Ar,Qn),ie(Ml,Ml.current)}function ko(){Qn=Ar.current,re(Ml),re(Ar)}var It=oe(null),fn=null;function ca(e){var t=e.alternate;ie(yt,yt.current&1),ie(It,e),fn===null&&(t===null||Ml.current!==null||t.memoizedState!==null)&&(fn=e)}function zo(e){ie(yt,yt.current),ie(It,e),fn===null&&(fn=e)}function Ff(e){e.tag===22?(ie(yt,yt.current),ie(It,e),fn===null&&(fn=e)):fa()}function fa(){ie(yt,yt.current),ie(It,It.current)}function Wt(e){re(It),fn===e&&(fn=null),re(yt)}var yt=oe(0);function kr(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||Us(n)||$s(n)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $n=0,Te=null,Ke=null,bt=null,zr=!1,wl=!1,Xa=!1,Or=0,vi=0,Al=null,tg=0;function dt(){throw Error(u(321))}function Oo(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Kt(e[n],t[n]))return!1;return!0}function Ro(e,t,n,l,o,c){return $n=c,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,C.H=e===null||e.memoizedState===null?Ud:Zo,Xa=!1,c=n(l,o),Xa=!1,wl&&(c=td(t,n,l,o)),ed(e),c}function ed(e){C.H=_i;var t=Ke!==null&&Ke.next!==null;if($n=0,bt=Ke=Te=null,zr=!1,vi=0,Al=null,t)throw Error(u(300));e===null||St||(e=e.dependencies,e!==null&&_r(e)&&(St=!0))}function td(e,t,n,l){Te=e;var o=0;do{if(wl&&(Al=null),vi=0,wl=!1,25<=o)throw Error(u(301));if(o+=1,bt=Ke=null,e.updateQueue!=null){var c=e.updateQueue;c.lastEffect=null,c.events=null,c.stores=null,c.memoCache!=null&&(c.memoCache.index=0)}C.H=$d,c=t(n,l)}while(wl);return c}function ng(){var e=C.H,t=e.useState()[0];return t=typeof t.then=="function"?bi(t):t,e=e.useState()[0],(Ke!==null?Ke.memoizedState:null)!==e&&(Te.flags|=1024),t}function jo(){var e=Or!==0;return Or=0,e}function Co(e,t,n){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~n}function Bo(e){if(zr){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}zr=!1}$n=0,bt=Ke=Te=null,wl=!1,vi=Or=0,Al=null}function Bt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Te.memoizedState=bt=e:bt=bt.next=e,bt}function gt(){if(Ke===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=Ke.next;var t=bt===null?Te.memoizedState:bt.next;if(t!==null)bt=t,Ke=e;else{if(e===null)throw Te.alternate===null?Error(u(467)):Error(u(310));Ke=e,e={memoizedState:Ke.memoizedState,baseState:Ke.baseState,baseQueue:Ke.baseQueue,queue:Ke.queue,next:null},bt===null?Te.memoizedState=bt=e:bt=bt.next=e}return bt}function Rr(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bi(e){var t=vi;return vi+=1,Al===null&&(Al=[]),e=Qf(Al,e,t),t=Te,(bt===null?t.memoizedState:bt.next)===null&&(t=t.alternate,C.H=t===null||t.memoizedState===null?Ud:Zo),e}function jr(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return bi(e);if(e.$$typeof===R)return Ot(e)}throw Error(u(438,String(e)))}function Uo(e){var t=null,n=Te.updateQueue;if(n!==null&&(t=n.memoCache),t==null){var l=Te.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),n===null&&(n=Rr(),Te.updateQueue=n),n.memoCache=t,n=t.data[t.index],n===void 0)for(n=t.data[t.index]=Array(e),l=0;l<e;l++)n[l]=G;return t.index++,n}function Dn(e,t){return typeof t=="function"?t(e):t}function Cr(e){var t=gt();return $o(t,Ke,e)}function $o(e,t,n){var l=e.queue;if(l===null)throw Error(u(311));l.lastRenderedReducer=n;var o=e.baseQueue,c=l.pending;if(c!==null){if(o!==null){var h=o.next;o.next=c.next,c.next=h}t.baseQueue=o=c,l.pending=null}if(c=e.baseState,o===null)e.memoizedState=c;else{t=o.next;var T=h=null,j=null,Q=t,W=!1;do{var te=Q.lane&-536870913;if(te!==Q.lane?(Oe&te)===te:($n&te)===te){var X=Q.revertLane;if(X===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),te===Tl&&(W=!0);else if(($n&X)===X){Q=Q.next,X===Tl&&(W=!0);continue}else te={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(T=j=te,h=c):j=j.next=te,Te.lanes|=X,ha|=X;te=Q.action,Xa&&n(c,te),c=Q.hasEagerState?Q.eagerState:n(c,te)}else X={lane:te,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(T=j=X,h=c):j=j.next=X,Te.lanes|=te,ha|=te;Q=Q.next}while(Q!==null&&Q!==t);if(j===null?h=c:j.next=T,!Kt(c,e.memoizedState)&&(St=!0,W&&(n=Nl,n!==null)))throw n;e.memoizedState=c,e.baseState=h,e.baseQueue=j,l.lastRenderedState=c}return o===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Do(e){var t=gt(),n=t.queue;if(n===null)throw Error(u(311));n.lastRenderedReducer=e;var l=n.dispatch,o=n.pending,c=t.memoizedState;if(o!==null){n.pending=null;var h=o=o.next;do c=e(c,h.action),h=h.next;while(h!==o);Kt(c,t.memoizedState)||(St=!0),t.memoizedState=c,t.baseQueue===null&&(t.baseState=c),n.lastRenderedState=c}return[c,l]}function nd(e,t,n){var l=Te,o=gt(),c=je;if(c){if(n===void 0)throw Error(u(407));n=n()}else n=t();var h=!Kt((Ke||o).memoizedState,n);if(h&&(o.memoizedState=n,St=!0),o=o.queue,qo(id.bind(null,l,o,e),[e]),o.getSnapshot!==t||h||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,kl(9,{destroy:void 0},ld.bind(null,l,o,n,t),null),Pe===null)throw Error(u(349));c||($n&127)!==0||ad(l,t,n)}return n}function ad(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t=Rr(),Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function ld(e,t,n,l){t.value=n,t.getSnapshot=l,rd(t)&&ud(e)}function id(e,t,n){return n(function(){rd(t)&&ud(e)})}function rd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Kt(e,n)}catch{return!0}}function ud(e){var t=$a(e,2);t!==null&&Ht(t,e,2)}function Lo(e){var t=Bt();if(typeof e=="function"){var n=e;if(e=n(),Xa){ea(!0);try{n()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:e},t}function od(e,t,n,l){return e.baseState=n,$o(e,Ke,typeof l=="function"?l:Dn)}function ag(e,t,n,l,o){if($r(e))throw Error(u(485));if(e=t.action,e!==null){var c={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(h){c.listeners.push(h)}};C.T!==null?n(!0):c.isTransition=!1,l(c),n=t.pending,n===null?(c.next=t.pending=c,sd(t,c)):(c.next=n.next,t.pending=n.next=c)}}function sd(e,t){var n=t.action,l=t.payload,o=e.state;if(t.isTransition){var c=C.T,h={};C.T=h;try{var T=n(o,l),j=C.S;j!==null&&j(h,T),cd(e,t,T)}catch(Q){Vo(e,t,Q)}finally{c!==null&&h.types!==null&&(c.types=h.types),C.T=c}}else try{c=n(o,l),cd(e,t,c)}catch(Q){Vo(e,t,Q)}}function cd(e,t,n){n!==null&&typeof n=="object"&&typeof n.then=="function"?n.then(function(l){fd(e,t,l)},function(l){return Vo(e,t,l)}):fd(e,t,n)}function fd(e,t,n){t.status="fulfilled",t.value=n,dd(t),e.state=n,t=e.pending,t!==null&&(n=t.next,n===t?e.pending=null:(n=n.next,t.next=n,sd(e,n)))}function Vo(e,t,n){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=n,dd(t),t=t.next;while(t!==l)}e.action=null}function dd(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function md(e,t){return t}function hd(e,t){if(je){var n=Pe.formState;if(n!==null){e:{var l=Te;if(je){if(et){t:{for(var o=et,c=cn;o.nodeType!==8;){if(!c){o=null;break t}if(o=dn(o.nextSibling),o===null){o=null;break t}}c=o.data,o=c==="F!"||c==="F"?o:null}if(o){et=dn(o.nextSibling),l=o.data==="F!";break e}}ia(l)}l=!1}l&&(t=n[0])}}return n=Bt(),n.memoizedState=n.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:md,lastRenderedState:t},n.queue=l,n=jd.bind(null,Te,l),l.dispatch=n,l=Lo(!1),c=Xo.bind(null,Te,!1,l.queue),l=Bt(),o={state:t,dispatch:null,action:e,pending:null},l.queue=o,n=ag.bind(null,Te,o,c,n),o.dispatch=n,l.memoizedState=e,[t,n,!1]}function pd(e){var t=gt();return yd(t,Ke,e)}function yd(e,t,n){if(t=$o(e,t,md)[0],e=Cr(Dn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=bi(t)}catch(h){throw h===El?Er:h}else l=t;t=gt();var o=t.queue,c=o.dispatch;return n!==t.memoizedState&&(Te.flags|=2048,kl(9,{destroy:void 0},lg.bind(null,o,n),null)),[l,c,e]}function lg(e,t){e.action=t}function gd(e){var t=gt(),n=Ke;if(n!==null)return yd(t,n,e);gt(),t=t.memoizedState,n=gt();var l=n.queue.dispatch;return n.memoizedState=e,[t,l,!1]}function kl(e,t,n,l){return e={tag:e,create:n,deps:l,inst:t,next:null},t=Te.updateQueue,t===null&&(t=Rr(),Te.updateQueue=t),n=t.lastEffect,n===null?t.lastEffect=e.next=e:(l=n.next,n.next=e,e.next=l,t.lastEffect=e),e}function vd(){return gt().memoizedState}function Br(e,t,n,l){var o=Bt();Te.flags|=e,o.memoizedState=kl(1|t,{destroy:void 0},n,l===void 0?null:l)}function Ur(e,t,n,l){var o=gt();l=l===void 0?null:l;var c=o.memoizedState.inst;Ke!==null&&l!==null&&Oo(l,Ke.memoizedState.deps)?o.memoizedState=kl(t,c,n,l):(Te.flags|=e,o.memoizedState=kl(1|t,c,n,l))}function bd(e,t){Br(8390656,8,e,t)}function qo(e,t){Ur(2048,8,e,t)}function ig(e){Te.flags|=4;var t=Te.updateQueue;if(t===null)t=Rr(),Te.updateQueue=t,t.events=[e];else{var n=t.events;n===null?t.events=[e]:n.push(e)}}function Sd(e){var t=gt().memoizedState;return ig({ref:t,nextImpl:e}),function(){if((Ve&2)!==0)throw Error(u(440));return t.impl.apply(void 0,arguments)}}function _d(e,t){return Ur(4,2,e,t)}function Td(e,t){return Ur(4,4,e,t)}function Nd(e,t){if(typeof t=="function"){e=e();var n=t(e);return function(){typeof n=="function"?n():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Ed(e,t,n){n=n!=null?n.concat([e]):null,Ur(4,4,Nd.bind(null,t,e),n)}function Ho(){}function xd(e,t){var n=gt();t=t===void 0?null:t;var l=n.memoizedState;return t!==null&&Oo(t,l[1])?l[0]:(n.memoizedState=[e,t],e)}function Md(e,t){var n=gt();t=t===void 0?null:t;var l=n.memoizedState;if(t!==null&&Oo(t,l[1]))return l[0];if(l=e(),Xa){ea(!0);try{e()}finally{ea(!1)}}return n.memoizedState=[l,t],l}function Go(e,t,n){return n===void 0||($n&1073741824)!==0&&(Oe&261930)===0?e.memoizedState=t:(e.memoizedState=n,e=wm(),Te.lanes|=e,ha|=e,n)}function wd(e,t,n,l){return Kt(n,t)?n:Ml.current!==null?(e=Go(e,n,l),Kt(e,t)||(St=!0),e):($n&42)===0||($n&1073741824)!==0&&(Oe&261930)===0?(St=!0,e.memoizedState=n):(e=wm(),Te.lanes|=e,ha|=e,t)}function Ad(e,t,n,l,o){var c=H.p;H.p=c!==0&&8>c?c:8;var h=C.T,T={};C.T=T,Xo(e,!1,t,n);try{var j=o(),Q=C.S;if(Q!==null&&Q(T,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var W=eg(j,l);Si(e,t,W,en(e))}else Si(e,t,l,en(e))}catch(te){Si(e,t,{then:function(){},status:"rejected",reason:te},en())}finally{H.p=c,h!==null&&T.types!==null&&(h.types=T.types),C.T=h}}function rg(){}function Yo(e,t,n,l){if(e.tag!==5)throw Error(u(476));var o=kd(e).queue;Ad(e,o,t,F,n===null?rg:function(){return zd(e),n(l)})}function kd(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:F},next:null};var n={};return t.next={memoizedState:n,baseState:n,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dn,lastRenderedState:n},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function zd(e){var t=kd(e);t.next===null&&(t=e.alternate.memoizedState),Si(e,t.next.queue,{},en())}function Qo(){return Ot($i)}function Od(){return gt().memoizedState}function Rd(){return gt().memoizedState}function ug(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var n=en();e=oa(n);var l=sa(t,e,n);l!==null&&(Ht(l,t,n),pi(l,t,n)),t={cache:So()},e.payload=t;return}t=t.return}}function og(e,t,n){var l=en();n={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null},$r(e)?Cd(t,n):(n=oo(e,t,n,l),n!==null&&(Ht(n,e,l),Bd(n,t,l)))}function jd(e,t,n){var l=en();Si(e,t,n,l)}function Si(e,t,n,l){var o={lane:l,revertLane:0,gesture:null,action:n,hasEagerState:!1,eagerState:null,next:null};if($r(e))Cd(t,o);else{var c=e.alternate;if(e.lanes===0&&(c===null||c.lanes===0)&&(c=t.lastRenderedReducer,c!==null))try{var h=t.lastRenderedState,T=c(h,n);if(o.hasEagerState=!0,o.eagerState=T,Kt(T,h))return gr(e,t,o,0),Pe===null&&yr(),!1}catch{}if(n=oo(e,t,o,l),n!==null)return Ht(n,e,l),Bd(n,t,l),!0}return!1}function Xo(e,t,n,l){if(l={lane:2,revertLane:Es(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},$r(e)){if(t)throw Error(u(479))}else t=oo(e,n,l,2),t!==null&&Ht(t,e,2)}function $r(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Cd(e,t){wl=zr=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Bd(e,t,n){if((n&4194048)!==0){var l=t.lanes;l&=e.pendingLanes,n|=l,t.lanes=n,Lc(e,n)}}var _i={readContext:Ot,use:jr,useCallback:dt,useContext:dt,useEffect:dt,useImperativeHandle:dt,useLayoutEffect:dt,useInsertionEffect:dt,useMemo:dt,useReducer:dt,useRef:dt,useState:dt,useDebugValue:dt,useDeferredValue:dt,useTransition:dt,useSyncExternalStore:dt,useId:dt,useHostTransitionStatus:dt,useFormState:dt,useActionState:dt,useOptimistic:dt,useMemoCache:dt,useCacheRefresh:dt};_i.useEffectEvent=dt;var Ud={readContext:Ot,use:jr,useCallback:function(e,t){return Bt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:bd,useImperativeHandle:function(e,t,n){n=n!=null?n.concat([e]):null,Br(4194308,4,Nd.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Br(4194308,4,e,t)},useInsertionEffect:function(e,t){Br(4,2,e,t)},useMemo:function(e,t){var n=Bt();t=t===void 0?null:t;var l=e();if(Xa){ea(!0);try{e()}finally{ea(!1)}}return n.memoizedState=[l,t],l},useReducer:function(e,t,n){var l=Bt();if(n!==void 0){var o=n(t);if(Xa){ea(!0);try{n(t)}finally{ea(!1)}}}else o=t;return l.memoizedState=l.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},l.queue=e,e=e.dispatch=og.bind(null,Te,e),[l.memoizedState,e]},useRef:function(e){var t=Bt();return e={current:e},t.memoizedState=e},useState:function(e){e=Lo(e);var t=e.queue,n=jd.bind(null,Te,t);return t.dispatch=n,[e.memoizedState,n]},useDebugValue:Ho,useDeferredValue:function(e,t){var n=Bt();return Go(n,e,t)},useTransition:function(){var e=Lo(!1);return e=Ad.bind(null,Te,e.queue,!0,!1),Bt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,n){var l=Te,o=Bt();if(je){if(n===void 0)throw Error(u(407));n=n()}else{if(n=t(),Pe===null)throw Error(u(349));(Oe&127)!==0||ad(l,t,n)}o.memoizedState=n;var c={value:n,getSnapshot:t};return o.queue=c,bd(id.bind(null,l,c,e),[e]),l.flags|=2048,kl(9,{destroy:void 0},ld.bind(null,l,c,n,t),null),n},useId:function(){var e=Bt(),t=Pe.identifierPrefix;if(je){var n=xn,l=En;n=(l&~(1<<32-Zt(l)-1)).toString(32)+n,t="_"+t+"R_"+n,n=Or++,0<n&&(t+="H"+n.toString(32)),t+="_"}else n=tg++,t="_"+t+"r_"+n.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Qo,useFormState:hd,useActionState:hd,useOptimistic:function(e){var t=Bt();t.memoizedState=t.baseState=e;var n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=n,t=Xo.bind(null,Te,!0,n),n.dispatch=t,[e,t]},useMemoCache:Uo,useCacheRefresh:function(){return Bt().memoizedState=ug.bind(null,Te)},useEffectEvent:function(e){var t=Bt(),n={impl:e};return t.memoizedState=n,function(){if((Ve&2)!==0)throw Error(u(440));return n.impl.apply(void 0,arguments)}}},Zo={readContext:Ot,use:jr,useCallback:xd,useContext:Ot,useEffect:qo,useImperativeHandle:Ed,useInsertionEffect:_d,useLayoutEffect:Td,useMemo:Md,useReducer:Cr,useRef:vd,useState:function(){return Cr(Dn)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=gt();return wd(n,Ke.memoizedState,e,t)},useTransition:function(){var e=Cr(Dn)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:bi(e),t]},useSyncExternalStore:nd,useId:Od,useHostTransitionStatus:Qo,useFormState:pd,useActionState:pd,useOptimistic:function(e,t){var n=gt();return od(n,Ke,e,t)},useMemoCache:Uo,useCacheRefresh:Rd};Zo.useEffectEvent=Sd;var $d={readContext:Ot,use:jr,useCallback:xd,useContext:Ot,useEffect:qo,useImperativeHandle:Ed,useInsertionEffect:_d,useLayoutEffect:Td,useMemo:Md,useReducer:Do,useRef:vd,useState:function(){return Do(Dn)},useDebugValue:Ho,useDeferredValue:function(e,t){var n=gt();return Ke===null?Go(n,e,t):wd(n,Ke.memoizedState,e,t)},useTransition:function(){var e=Do(Dn)[0],t=gt().memoizedState;return[typeof e=="boolean"?e:bi(e),t]},useSyncExternalStore:nd,useId:Od,useHostTransitionStatus:Qo,useFormState:gd,useActionState:gd,useOptimistic:function(e,t){var n=gt();return Ke!==null?od(n,Ke,e,t):(n.baseState=e,[e,n.queue.dispatch])},useMemoCache:Uo,useCacheRefresh:Rd};$d.useEffectEvent=Sd;function Ko(e,t,n,l){t=e.memoizedState,n=n(l,t),n=n==null?t:v({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Jo={enqueueSetState:function(e,t,n){e=e._reactInternals;var l=en(),o=oa(l);o.payload=t,n!=null&&(o.callback=n),t=sa(e,o,l),t!==null&&(Ht(t,e,l),pi(t,e,l))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var l=en(),o=oa(l);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=sa(e,o,l),t!==null&&(Ht(t,e,l),pi(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=en(),l=oa(n);l.tag=2,t!=null&&(l.callback=t),t=sa(e,l,n),t!==null&&(Ht(t,e,n),pi(t,e,n))}};function Dd(e,t,n,l,o,c,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,c,h):t.prototype&&t.prototype.isPureReactComponent?!ui(n,l)||!ui(o,c):!0}function Ld(e,t,n,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,l),t.state!==e&&Jo.enqueueReplaceState(t,t.state,null)}function Za(e,t){var n=t;if("ref"in t){n={};for(var l in t)l!=="ref"&&(n[l]=t[l])}if(e=e.defaultProps){n===t&&(n=v({},n));for(var o in e)n[o]===void 0&&(n[o]=e[o])}return n}function Vd(e){pr(e)}function qd(e){console.error(e)}function Hd(e){pr(e)}function Dr(e,t){try{var n=e.onUncaughtError;n(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Gd(e,t,n){try{var l=e.onCaughtError;l(n.value,{componentStack:n.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Io(e,t,n){return n=oa(n),n.tag=3,n.payload={element:null},n.callback=function(){Dr(e,t)},n}function Yd(e){return e=oa(e),e.tag=3,e}function Qd(e,t,n,l){var o=n.type.getDerivedStateFromError;if(typeof o=="function"){var c=l.value;e.payload=function(){return o(c)},e.callback=function(){Gd(t,n,l)}}var h=n.stateNode;h!==null&&typeof h.componentDidCatch=="function"&&(e.callback=function(){Gd(t,n,l),typeof o!="function"&&(pa===null?pa=new Set([this]):pa.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function sg(e,t,n,l,o){if(n.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=n.alternate,t!==null&&_l(t,n,o,!0),n=It.current,n!==null){switch(n.tag){case 31:case 13:return fn===null?Ir():n.alternate===null&&mt===0&&(mt=3),n.flags&=-257,n.flags|=65536,n.lanes=o,l===xr?n.flags|=16384:(t=n.updateQueue,t===null?n.updateQueue=new Set([l]):t.add(l),_s(e,l,o)),!1;case 22:return n.flags|=65536,l===xr?n.flags|=16384:(t=n.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},n.updateQueue=t):(n=t.retryQueue,n===null?t.retryQueue=new Set([l]):n.add(l)),_s(e,l,o)),!1}throw Error(u(435,n.tag))}return _s(e,l,o),Ir(),!1}if(je)return t=It.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,l!==po&&(e=Error(u(422),{cause:l}),ci(un(e,n)))):(l!==po&&(t=Error(u(423),{cause:l}),ci(un(t,n))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,l=un(l,n),o=Io(e.stateNode,l,o),Mo(e,o),mt!==4&&(mt=2)),!1;var c=Error(u(520),{cause:l});if(c=un(c,n),ki===null?ki=[c]:ki.push(c),mt!==4&&(mt=2),t===null)return!0;l=un(l,n),n=t;do{switch(n.tag){case 3:return n.flags|=65536,e=o&-o,n.lanes|=e,e=Io(n.stateNode,l,e),Mo(n,e),!1;case 1:if(t=n.type,c=n.stateNode,(n.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||c!==null&&typeof c.componentDidCatch=="function"&&(pa===null||!pa.has(c))))return n.flags|=65536,o&=-o,n.lanes|=o,o=Yd(o),Qd(o,e,n,l),Mo(n,o),!1}n=n.return}while(n!==null);return!1}var Wo=Error(u(461)),St=!1;function Rt(e,t,n,l){t.child=e===null?Jf(t,null,n,l):Qa(t,e.child,n,l)}function Xd(e,t,n,l,o){n=n.render;var c=t.ref;if("ref"in l){var h={};for(var T in l)T!=="ref"&&(h[T]=l[T])}else h=l;return qa(t),l=Ro(e,t,n,h,c,o),T=jo(),e!==null&&!St?(Co(e,t,o),Ln(e,t,o)):(je&&T&&mo(t),t.flags|=1,Rt(e,t,l,o),t.child)}function Zd(e,t,n,l,o){if(e===null){var c=n.type;return typeof c=="function"&&!so(c)&&c.defaultProps===void 0&&n.compare===null?(t.tag=15,t.type=c,Kd(e,t,c,l,o)):(e=br(n.type,null,l,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(c=e.child,!is(e,o)){var h=c.memoizedProps;if(n=n.compare,n=n!==null?n:ui,n(h,l)&&e.ref===t.ref)return Ln(e,t,o)}return t.flags|=1,e=jn(c,l),e.ref=t.ref,e.return=t,t.child=e}function Kd(e,t,n,l,o){if(e!==null){var c=e.memoizedProps;if(ui(c,l)&&e.ref===t.ref)if(St=!1,t.pendingProps=l=c,is(e,o))(e.flags&131072)!==0&&(St=!0);else return t.lanes=e.lanes,Ln(e,t,o)}return Po(e,t,n,l,o)}function Jd(e,t,n,l){var o=l.children,c=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((t.flags&128)!==0){if(c=c!==null?c.baseLanes|n:n,e!==null){for(l=t.child=e.child,o=0;l!==null;)o=o|l.lanes|l.childLanes,l=l.sibling;l=o&~c}else l=0,t.child=null;return Id(e,t,c,n,l)}if((n&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nr(t,c!==null?c.cachePool:null),c!==null?Pf(t,c):Ao(),Ff(t);else return l=t.lanes=536870912,Id(e,t,c!==null?c.baseLanes|n:n,n,l)}else c!==null?(Nr(t,c.cachePool),Pf(t,c),fa(),t.memoizedState=null):(e!==null&&Nr(t,null),Ao(),fa());return Rt(e,t,o,n),t.child}function Ti(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function Id(e,t,n,l,o){var c=To();return c=c===null?null:{parent:vt._currentValue,pool:c},t.memoizedState={baseLanes:n,cachePool:c},e!==null&&Nr(t,null),Ao(),Ff(t),e!==null&&_l(e,t,l,!0),t.childLanes=o,null}function Lr(e,t){return t=qr({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function Wd(e,t,n){return Qa(t,e.child,null,n),e=Lr(t,t.pendingProps),e.flags|=2,Wt(t),t.memoizedState=null,e}function cg(e,t,n){var l=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(je){if(l.mode==="hidden")return e=Lr(t,l),t.lanes=536870912,Ti(null,e);if(zo(t),(e=et)?(e=sh(e,cn),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:aa!==null?{id:En,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=Cf(e),n.return=t,t.child=n,zt=t,et=null)):e=null,e===null)throw ia(t);return t.lanes=536870912,null}return Lr(t,l)}var c=e.memoizedState;if(c!==null){var h=c.dehydrated;if(zo(t),o)if(t.flags&256)t.flags&=-257,t=Wd(e,t,n);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(u(558));else if(St||_l(e,t,n,!1),o=(n&e.childLanes)!==0,St||o){if(l=Pe,l!==null&&(h=Vc(l,n),h!==0&&h!==c.retryLane))throw c.retryLane=h,$a(e,h),Ht(l,e,h),Wo;Ir(),t=Wd(e,t,n)}else e=c.treeContext,et=dn(h.nextSibling),zt=t,je=!0,la=null,cn=!1,e!==null&&$f(t,e),t=Lr(t,l),t.flags|=4096;return t}return e=jn(e.child,{mode:l.mode,children:l.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Vr(e,t){var n=t.ref;if(n===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof n!="function"&&typeof n!="object")throw Error(u(284));(e===null||e.ref!==n)&&(t.flags|=4194816)}}function Po(e,t,n,l,o){return qa(t),n=Ro(e,t,n,l,void 0,o),l=jo(),e!==null&&!St?(Co(e,t,o),Ln(e,t,o)):(je&&l&&mo(t),t.flags|=1,Rt(e,t,n,o),t.child)}function Pd(e,t,n,l,o,c){return qa(t),t.updateQueue=null,n=td(t,l,n,o),ed(e),l=jo(),e!==null&&!St?(Co(e,t,c),Ln(e,t,c)):(je&&l&&mo(t),t.flags|=1,Rt(e,t,n,c),t.child)}function Fd(e,t,n,l,o){if(qa(t),t.stateNode===null){var c=gl,h=n.contextType;typeof h=="object"&&h!==null&&(c=Ot(h)),c=new n(l,c),t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,c.updater=Jo,t.stateNode=c,c._reactInternals=t,c=t.stateNode,c.props=l,c.state=t.memoizedState,c.refs={},Eo(t),h=n.contextType,c.context=typeof h=="object"&&h!==null?Ot(h):gl,c.state=t.memoizedState,h=n.getDerivedStateFromProps,typeof h=="function"&&(Ko(t,n,h,l),c.state=t.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(h=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),h!==c.state&&Jo.enqueueReplaceState(c,c.state,null),gi(t,l,c,o),yi(),c.state=t.memoizedState),typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){c=t.stateNode;var T=t.memoizedProps,j=Za(n,T);c.props=j;var Q=c.context,W=n.contextType;h=gl,typeof W=="object"&&W!==null&&(h=Ot(W));var te=n.getDerivedStateFromProps;W=typeof te=="function"||typeof c.getSnapshotBeforeUpdate=="function",T=t.pendingProps!==T,W||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(T||Q!==h)&&Ld(t,c,l,h),ua=!1;var X=t.memoizedState;c.state=X,gi(t,l,c,o),yi(),Q=t.memoizedState,T||X!==Q||ua?(typeof te=="function"&&(Ko(t,n,te,l),Q=t.memoizedState),(j=ua||Dd(t,n,j,l,X,Q,h))?(W||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=Q),c.props=l,c.state=Q,c.context=h,l=j):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{c=t.stateNode,xo(e,t),h=t.memoizedProps,W=Za(n,h),c.props=W,te=t.pendingProps,X=c.context,Q=n.contextType,j=gl,typeof Q=="object"&&Q!==null&&(j=Ot(Q)),T=n.getDerivedStateFromProps,(Q=typeof T=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(h!==te||X!==j)&&Ld(t,c,l,j),ua=!1,X=t.memoizedState,c.state=X,gi(t,l,c,o),yi();var J=t.memoizedState;h!==te||X!==J||ua||e!==null&&e.dependencies!==null&&_r(e.dependencies)?(typeof T=="function"&&(Ko(t,n,T,l),J=t.memoizedState),(W=ua||Dd(t,n,W,l,X,J,j)||e!==null&&e.dependencies!==null&&_r(e.dependencies))?(Q||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(l,J,j),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(l,J,j)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=J),c.props=l,c.state=J,c.context=j,l=W):(typeof c.componentDidUpdate!="function"||h===e.memoizedProps&&X===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&X===e.memoizedState||(t.flags|=1024),l=!1)}return c=l,Vr(e,t),l=(t.flags&128)!==0,c||l?(c=t.stateNode,n=l&&typeof n.getDerivedStateFromError!="function"?null:c.render(),t.flags|=1,e!==null&&l?(t.child=Qa(t,e.child,null,o),t.child=Qa(t,null,n,o)):Rt(e,t,n,o),t.memoizedState=c.state,e=t.child):e=Ln(e,t,o),e}function em(e,t,n,l){return La(),t.flags|=256,Rt(e,t,n,l),t.child}var Fo={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function es(e){return{baseLanes:e,cachePool:Gf()}}function ts(e,t,n){return e=e!==null?e.childLanes&~n:0,t&&(e|=Ft),e}function tm(e,t,n){var l=t.pendingProps,o=!1,c=(t.flags&128)!==0,h;if((h=c)||(h=e!==null&&e.memoizedState===null?!1:(yt.current&2)!==0),h&&(o=!0,t.flags&=-129),h=(t.flags&32)!==0,t.flags&=-33,e===null){if(je){if(o?ca(t):fa(),(e=et)?(e=sh(e,cn),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:aa!==null?{id:En,overflow:xn}:null,retryLane:536870912,hydrationErrors:null},n=Cf(e),n.return=t,t.child=n,zt=t,et=null)):e=null,e===null)throw ia(t);return $s(e)?t.lanes=32:t.lanes=536870912,null}var T=l.children;return l=l.fallback,o?(fa(),o=t.mode,T=qr({mode:"hidden",children:T},o),l=Da(l,o,n,null),T.return=t,l.return=t,T.sibling=l,t.child=T,l=t.child,l.memoizedState=es(n),l.childLanes=ts(e,h,n),t.memoizedState=Fo,Ti(null,l)):(ca(t),ns(t,T))}var j=e.memoizedState;if(j!==null&&(T=j.dehydrated,T!==null)){if(c)t.flags&256?(ca(t),t.flags&=-257,t=as(e,t,n)):t.memoizedState!==null?(fa(),t.child=e.child,t.flags|=128,t=null):(fa(),T=l.fallback,o=t.mode,l=qr({mode:"visible",children:l.children},o),T=Da(T,o,n,null),T.flags|=2,l.return=t,T.return=t,l.sibling=T,t.child=l,Qa(t,e.child,null,n),l=t.child,l.memoizedState=es(n),l.childLanes=ts(e,h,n),t.memoizedState=Fo,t=Ti(null,l));else if(ca(t),$s(T)){if(h=T.nextSibling&&T.nextSibling.dataset,h)var Q=h.dgst;h=Q,l=Error(u(419)),l.stack="",l.digest=h,ci({value:l,source:null,stack:null}),t=as(e,t,n)}else if(St||_l(e,t,n,!1),h=(n&e.childLanes)!==0,St||h){if(h=Pe,h!==null&&(l=Vc(h,n),l!==0&&l!==j.retryLane))throw j.retryLane=l,$a(e,l),Ht(h,e,l),Wo;Us(T)||Ir(),t=as(e,t,n)}else Us(T)?(t.flags|=192,t.child=e.child,t=null):(e=j.treeContext,et=dn(T.nextSibling),zt=t,je=!0,la=null,cn=!1,e!==null&&$f(t,e),t=ns(t,l.children),t.flags|=4096);return t}return o?(fa(),T=l.fallback,o=t.mode,j=e.child,Q=j.sibling,l=jn(j,{mode:"hidden",children:l.children}),l.subtreeFlags=j.subtreeFlags&65011712,Q!==null?T=jn(Q,T):(T=Da(T,o,n,null),T.flags|=2),T.return=t,l.return=t,l.sibling=T,t.child=l,Ti(null,l),l=t.child,T=e.child.memoizedState,T===null?T=es(n):(o=T.cachePool,o!==null?(j=vt._currentValue,o=o.parent!==j?{parent:j,pool:j}:o):o=Gf(),T={baseLanes:T.baseLanes|n,cachePool:o}),l.memoizedState=T,l.childLanes=ts(e,h,n),t.memoizedState=Fo,Ti(e.child,l)):(ca(t),n=e.child,e=n.sibling,n=jn(n,{mode:"visible",children:l.children}),n.return=t,n.sibling=null,e!==null&&(h=t.deletions,h===null?(t.deletions=[e],t.flags|=16):h.push(e)),t.child=n,t.memoizedState=null,n)}function ns(e,t){return t=qr({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function qr(e,t){return e=Jt(22,e,null,t),e.lanes=0,e}function as(e,t,n){return Qa(t,e.child,null,n),e=ns(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function nm(e,t,n){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),vo(e.return,t,n)}function ls(e,t,n,l,o,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:n,tailMode:o,treeForkCount:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=l,h.tail=n,h.tailMode=o,h.treeForkCount=c)}function am(e,t,n){var l=t.pendingProps,o=l.revealOrder,c=l.tail;l=l.children;var h=yt.current,T=(h&2)!==0;if(T?(h=h&1|2,t.flags|=128):h&=1,ie(yt,h),Rt(e,t,l,n),l=je?si:0,!T&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&nm(e,n,t);else if(e.tag===19)nm(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(n=t.child,o=null;n!==null;)e=n.alternate,e!==null&&kr(e)===null&&(o=n),n=n.sibling;n=o,n===null?(o=t.child,t.child=null):(o=n.sibling,n.sibling=null),ls(t,!1,o,n,c,l);break;case"backwards":case"unstable_legacy-backwards":for(n=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&kr(e)===null){t.child=o;break}e=o.sibling,o.sibling=n,n=o,o=e}ls(t,!0,n,null,c,l);break;case"together":ls(t,!1,null,null,void 0,l);break;default:t.memoizedState=null}return t.child}function Ln(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),ha|=t.lanes,(n&t.childLanes)===0)if(e!==null){if(_l(e,t,n,!1),(n&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(u(153));if(t.child!==null){for(e=t.child,n=jn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=jn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function is(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&_r(e)))}function fg(e,t,n){switch(t.tag){case 3:ut(t,t.stateNode.containerInfo),ra(t,vt,e.memoizedState.cache),La();break;case 27:case 5:He(t);break;case 4:ut(t,t.stateNode.containerInfo);break;case 10:ra(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,zo(t),null;break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(ca(t),t.flags|=128,null):(n&t.child.childLanes)!==0?tm(e,t,n):(ca(t),e=Ln(e,t,n),e!==null?e.sibling:null);ca(t);break;case 19:var o=(e.flags&128)!==0;if(l=(n&t.childLanes)!==0,l||(_l(e,t,n,!1),l=(n&t.childLanes)!==0),o){if(l)return am(e,t,n);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),ie(yt,yt.current),l)break;return null;case 22:return t.lanes=0,Jd(e,t,n,t.pendingProps);case 24:ra(t,vt,e.memoizedState.cache)}return Ln(e,t,n)}function lm(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps)St=!0;else{if(!is(e,n)&&(t.flags&128)===0)return St=!1,fg(e,t,n);St=(e.flags&131072)!==0}else St=!1,je&&(t.flags&1048576)!==0&&Uf(t,si,t.index);switch(t.lanes=0,t.tag){case 16:e:{var l=t.pendingProps;if(e=Ga(t.elementType),t.type=e,typeof e=="function")so(e)?(l=Za(e,l),t.tag=1,t=Fd(null,t,e,l,n)):(t.tag=0,t=Po(null,t,e,l,n));else{if(e!=null){var o=e.$$typeof;if(o===_){t.tag=11,t=Xd(null,t,e,l,n);break e}else if(o===V){t.tag=14,t=Zd(null,t,e,l,n);break e}}throw t=D(e)||e,Error(u(306,t,""))}}return t;case 0:return Po(e,t,t.type,t.pendingProps,n);case 1:return l=t.type,o=Za(l,t.pendingProps),Fd(e,t,l,o,n);case 3:e:{if(ut(t,t.stateNode.containerInfo),e===null)throw Error(u(387));l=t.pendingProps;var c=t.memoizedState;o=c.element,xo(e,t),gi(t,l,null,n);var h=t.memoizedState;if(l=h.cache,ra(t,vt,l),l!==c.cache&&bo(t,[vt],n,!0),yi(),l=h.element,c.isDehydrated)if(c={element:l,isDehydrated:!1,cache:h.cache},t.updateQueue.baseState=c,t.memoizedState=c,t.flags&256){t=em(e,t,l,n);break e}else if(l!==o){o=un(Error(u(424)),t),ci(o),t=em(e,t,l,n);break e}else for(e=t.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,et=dn(e.firstChild),zt=t,je=!0,la=null,cn=!0,n=Jf(t,null,l,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(La(),l===o){t=Ln(e,t,n);break e}Rt(e,t,l,n)}t=t.child}return t;case 26:return Vr(e,t),e===null?(n=ph(t.type,null,t.pendingProps,null))?t.memoizedState=n:je||(n=t.type,e=t.pendingProps,l=au(_e.current).createElement(n),l[kt]=t,l[Ut]=e,jt(l,n,e),xt(l),t.stateNode=l):t.memoizedState=ph(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return He(t),e===null&&je&&(l=t.stateNode=dh(t.type,t.pendingProps,_e.current),zt=t,cn=!0,o=et,ba(t.type)?(Ds=o,et=dn(l.firstChild)):et=o),Rt(e,t,t.pendingProps.children,n),Vr(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&je&&((o=l=et)&&(l=qg(l,t.type,t.pendingProps,cn),l!==null?(t.stateNode=l,zt=t,et=dn(l.firstChild),cn=!1,o=!0):o=!1),o||ia(t)),He(t),o=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,l=c.children,js(o,c)?l=null:h!==null&&js(o,h)&&(t.flags|=32),t.memoizedState!==null&&(o=Ro(e,t,ng,null,null,n),$i._currentValue=o),Vr(e,t),Rt(e,t,l,n),t.child;case 6:return e===null&&je&&((e=n=et)&&(n=Hg(n,t.pendingProps,cn),n!==null?(t.stateNode=n,zt=t,et=null,e=!0):e=!1),e||ia(t)),null;case 13:return tm(e,t,n);case 4:return ut(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Qa(t,null,l,n):Rt(e,t,l,n),t.child;case 11:return Xd(e,t,t.type,t.pendingProps,n);case 7:return Rt(e,t,t.pendingProps,n),t.child;case 8:return Rt(e,t,t.pendingProps.children,n),t.child;case 12:return Rt(e,t,t.pendingProps.children,n),t.child;case 10:return l=t.pendingProps,ra(t,t.type,l.value),Rt(e,t,l.children,n),t.child;case 9:return o=t.type._context,l=t.pendingProps.children,qa(t),o=Ot(o),l=l(o),t.flags|=1,Rt(e,t,l,n),t.child;case 14:return Zd(e,t,t.type,t.pendingProps,n);case 15:return Kd(e,t,t.type,t.pendingProps,n);case 19:return am(e,t,n);case 31:return cg(e,t,n);case 22:return Jd(e,t,n,t.pendingProps);case 24:return qa(t),l=Ot(vt),e===null?(o=To(),o===null&&(o=Pe,c=So(),o.pooledCache=c,c.refCount++,c!==null&&(o.pooledCacheLanes|=n),o=c),t.memoizedState={parent:l,cache:o},Eo(t),ra(t,vt,o)):((e.lanes&n)!==0&&(xo(e,t),gi(t,null,null,n),yi()),o=e.memoizedState,c=t.memoizedState,o.parent!==l?(o={parent:l,cache:l},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),ra(t,vt,l)):(l=c.cache,ra(t,vt,l),l!==o.cache&&bo(t,[vt],n,!0))),Rt(e,t,t.pendingProps.children,n),t.child;case 29:throw t.pendingProps}throw Error(u(156,t.tag))}function Vn(e){e.flags|=4}function rs(e,t,n,l,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(Om())e.flags|=8192;else throw Ya=xr,No}else e.flags&=-16777217}function im(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Sh(t))if(Om())e.flags|=8192;else throw Ya=xr,No}function Hr(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?$c():536870912,e.lanes|=t,jl|=t)}function Ni(e,t){if(!je)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var l=null;n!==null;)n.alternate!==null&&(l=n),n=n.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function tt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,l=0;if(t)for(var o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags&65011712,l|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)n|=o.lanes|o.childLanes,l|=o.subtreeFlags,l|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=l,e.childLanes=n,t}function dg(e,t,n){var l=t.pendingProps;switch(ho(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return tt(t),null;case 1:return tt(t),null;case 3:return n=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Un(vt),Be(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Sl(t)?Vn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,yo())),tt(t),null;case 26:var o=t.type,c=t.memoizedState;return e===null?(Vn(t),c!==null?(tt(t),im(t,c)):(tt(t),rs(t,o,null,l,n))):c?c!==e.memoizedState?(Vn(t),tt(t),im(t,c)):(tt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==l&&Vn(t),tt(t),rs(t,o,e,l,n)),null;case 27:if(Tt(t),n=_e.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Vn(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return tt(t),null}e=de.current,Sl(t)?Df(t):(e=dh(o,l,n),t.stateNode=e,Vn(t))}return tt(t),null;case 5:if(Tt(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&Vn(t);else{if(!l){if(t.stateNode===null)throw Error(u(166));return tt(t),null}if(c=de.current,Sl(t))Df(t);else{var h=au(_e.current);switch(c){case 1:c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":c=h.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":c=h.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":c=h.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?c.multiple=!0:l.size&&(c.size=l.size);break;default:c=typeof l.is=="string"?h.createElement(o,{is:l.is}):h.createElement(o)}}c[kt]=t,c[Ut]=l;e:for(h=t.child;h!==null;){if(h.tag===5||h.tag===6)c.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}t.stateNode=c;e:switch(jt(c,o,l),o){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Vn(t)}}return tt(t),rs(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,n),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&Vn(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(u(166));if(e=_e.current,Sl(t)){if(e=t.stateNode,n=t.memoizedProps,l=null,o=zt,o!==null)switch(o.tag){case 27:case 5:l=o.memoizedProps}e[kt]=t,e=!!(e.nodeValue===n||l!==null&&l.suppressHydrationWarning===!0||th(e.nodeValue,n)),e||ia(t,!0)}else e=au(e).createTextNode(l),e[kt]=t,t.stateNode=e}return tt(t),null;case 31:if(n=t.memoizedState,e===null||e.memoizedState!==null){if(l=Sl(t),n!==null){if(e===null){if(!l)throw Error(u(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(u(557));e[kt]=t}else La(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),e=!1}else n=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),e=!0;if(!e)return t.flags&256?(Wt(t),t):(Wt(t),null);if((t.flags&128)!==0)throw Error(u(558))}return tt(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=Sl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!o)throw Error(u(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(u(317));o[kt]=t}else La(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;tt(t),o=!1}else o=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(Wt(t),t):(Wt(t),null)}return Wt(t),(t.flags&128)!==0?(t.lanes=n,t):(n=l!==null,e=e!==null&&e.memoizedState!==null,n&&(l=t.child,o=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(o=l.alternate.memoizedState.cachePool.pool),c=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(c=l.memoizedState.cachePool.pool),c!==o&&(l.flags|=2048)),n!==e&&n&&(t.child.flags|=8192),Hr(t,t.updateQueue),tt(t),null);case 4:return Be(),e===null&&As(t.stateNode.containerInfo),tt(t),null;case 10:return Un(t.type),tt(t),null;case 19:if(re(yt),l=t.memoizedState,l===null)return tt(t),null;if(o=(t.flags&128)!==0,c=l.rendering,c===null)if(o)Ni(l,!1);else{if(mt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(c=kr(e),c!==null){for(t.flags|=128,Ni(l,!1),e=c.updateQueue,t.updateQueue=e,Hr(t,e),t.subtreeFlags=0,e=n,n=t.child;n!==null;)jf(n,e),n=n.sibling;return ie(yt,yt.current&1|2),je&&Cn(t,l.treeForkCount),t.child}e=e.sibling}l.tail!==null&&Ye()>Zr&&(t.flags|=128,o=!0,Ni(l,!1),t.lanes=4194304)}else{if(!o)if(e=kr(c),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Hr(t,e),Ni(l,!0),l.tail===null&&l.tailMode==="hidden"&&!c.alternate&&!je)return tt(t),null}else 2*Ye()-l.renderingStartTime>Zr&&n!==536870912&&(t.flags|=128,o=!0,Ni(l,!1),t.lanes=4194304);l.isBackwards?(c.sibling=t.child,t.child=c):(e=l.last,e!==null?e.sibling=c:t.child=c,l.last=c)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=Ye(),e.sibling=null,n=yt.current,ie(yt,o?n&1|2:n&1),je&&Cn(t,l.treeForkCount),e):(tt(t),null);case 22:case 23:return Wt(t),ko(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?(n&536870912)!==0&&(t.flags&128)===0&&(tt(t),t.subtreeFlags&6&&(t.flags|=8192)):tt(t),n=t.updateQueue,n!==null&&Hr(t,n.retryQueue),n=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==n&&(t.flags|=2048),e!==null&&re(Ha),null;case 24:return n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),Un(vt),tt(t),null;case 25:return null;case 30:return null}throw Error(u(156,t.tag))}function mg(e,t){switch(ho(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Un(vt),Be(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return Tt(t),null;case 31:if(t.memoizedState!==null){if(Wt(t),t.alternate===null)throw Error(u(340));La()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(Wt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(u(340));La()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return re(yt),null;case 4:return Be(),null;case 10:return Un(t.type),null;case 22:case 23:return Wt(t),ko(),e!==null&&re(Ha),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Un(vt),null;case 25:return null;default:return null}}function rm(e,t){switch(ho(t),t.tag){case 3:Un(vt),Be();break;case 26:case 27:case 5:Tt(t);break;case 4:Be();break;case 31:t.memoizedState!==null&&Wt(t);break;case 13:Wt(t);break;case 19:re(yt);break;case 10:Un(t.type);break;case 22:case 23:Wt(t),ko(),e!==null&&re(Ha);break;case 24:Un(vt)}}function Ei(e,t){try{var n=t.updateQueue,l=n!==null?n.lastEffect:null;if(l!==null){var o=l.next;n=o;do{if((n.tag&e)===e){l=void 0;var c=n.create,h=n.inst;l=c(),h.destroy=l}n=n.next}while(n!==o)}}catch(T){Xe(t,t.return,T)}}function da(e,t,n){try{var l=t.updateQueue,o=l!==null?l.lastEffect:null;if(o!==null){var c=o.next;l=c;do{if((l.tag&e)===e){var h=l.inst,T=h.destroy;if(T!==void 0){h.destroy=void 0,o=t;var j=n,Q=T;try{Q()}catch(W){Xe(o,j,W)}}}l=l.next}while(l!==c)}}catch(W){Xe(t,t.return,W)}}function um(e){var t=e.updateQueue;if(t!==null){var n=e.stateNode;try{Wf(t,n)}catch(l){Xe(e,e.return,l)}}}function om(e,t,n){n.props=Za(e.type,e.memoizedProps),n.state=e.memoizedState;try{n.componentWillUnmount()}catch(l){Xe(e,t,l)}}function xi(e,t){try{var n=e.ref;if(n!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof n=="function"?e.refCleanup=n(l):n.current=l}}catch(o){Xe(e,t,o)}}function Mn(e,t){var n=e.ref,l=e.refCleanup;if(n!==null)if(typeof l=="function")try{l()}catch(o){Xe(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof n=="function")try{n(null)}catch(o){Xe(e,t,o)}else n.current=null}function sm(e){var t=e.type,n=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":n.autoFocus&&l.focus();break e;case"img":n.src?l.src=n.src:n.srcSet&&(l.srcset=n.srcSet)}}catch(o){Xe(e,e.return,o)}}function us(e,t,n){try{var l=e.stateNode;Bg(l,e.type,n,t),l[Ut]=t}catch(o){Xe(e,e.return,o)}}function cm(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ba(e.type)||e.tag===4}function os(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||cm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ba(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function ss(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n).insertBefore(e,t):(t=n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,t.appendChild(e),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=On));else if(l!==4&&(l===27&&ba(e.type)&&(n=e.stateNode,t=null),e=e.child,e!==null))for(ss(e,t,n),e=e.sibling;e!==null;)ss(e,t,n),e=e.sibling}function Gr(e,t,n){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(l!==4&&(l===27&&ba(e.type)&&(n=e.stateNode),e=e.child,e!==null))for(Gr(e,t,n),e=e.sibling;e!==null;)Gr(e,t,n),e=e.sibling}function fm(e){var t=e.stateNode,n=e.memoizedProps;try{for(var l=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);jt(t,l,n),t[kt]=e,t[Ut]=n}catch(c){Xe(e,e.return,c)}}var qn=!1,_t=!1,cs=!1,dm=typeof WeakSet=="function"?WeakSet:Set,Mt=null;function hg(e,t){if(e=e.containerInfo,Os=cu,e=Ef(e),no(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var l=n.getSelection&&n.getSelection();if(l&&l.rangeCount!==0){n=l.anchorNode;var o=l.anchorOffset,c=l.focusNode;l=l.focusOffset;try{n.nodeType,c.nodeType}catch{n=null;break e}var h=0,T=-1,j=-1,Q=0,W=0,te=e,X=null;t:for(;;){for(var J;te!==n||o!==0&&te.nodeType!==3||(T=h+o),te!==c||l!==0&&te.nodeType!==3||(j=h+l),te.nodeType===3&&(h+=te.nodeValue.length),(J=te.firstChild)!==null;)X=te,te=J;for(;;){if(te===e)break t;if(X===n&&++Q===o&&(T=h),X===c&&++W===l&&(j=h),(J=te.nextSibling)!==null)break;te=X,X=te.parentNode}te=J}n=T===-1||j===-1?null:{start:T,end:j}}else n=null}n=n||{start:0,end:0}}else n=null;for(Rs={focusedElem:e,selectionRange:n},cu=!1,Mt=t;Mt!==null;)if(t=Mt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Mt=e;else for(;Mt!==null;){switch(t=Mt,c=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(n=0;n<e.length;n++)o=e[n],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&c!==null){e=void 0,n=t,o=c.memoizedProps,c=c.memoizedState,l=n.stateNode;try{var fe=Za(n.type,o);e=l.getSnapshotBeforeUpdate(fe,c),l.__reactInternalSnapshotBeforeUpdate=e}catch(ve){Xe(n,n.return,ve)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,n=e.nodeType,n===9)Bs(e);else if(n===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Bs(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(u(163))}if(e=t.sibling,e!==null){e.return=t.return,Mt=e;break}Mt=t.return}}function mm(e,t,n){var l=n.flags;switch(n.tag){case 0:case 11:case 15:Gn(e,n),l&4&&Ei(5,n);break;case 1:if(Gn(e,n),l&4)if(e=n.stateNode,t===null)try{e.componentDidMount()}catch(h){Xe(n,n.return,h)}else{var o=Za(n.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(h){Xe(n,n.return,h)}}l&64&&um(n),l&512&&xi(n,n.return);break;case 3:if(Gn(e,n),l&64&&(e=n.updateQueue,e!==null)){if(t=null,n.child!==null)switch(n.child.tag){case 27:case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}try{Wf(e,t)}catch(h){Xe(n,n.return,h)}}break;case 27:t===null&&l&4&&fm(n);case 26:case 5:Gn(e,n),t===null&&l&4&&sm(n),l&512&&xi(n,n.return);break;case 12:Gn(e,n);break;case 31:Gn(e,n),l&4&&ym(e,n);break;case 13:Gn(e,n),l&4&&gm(e,n),l&64&&(e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(n=Ng.bind(null,n),Gg(e,n))));break;case 22:if(l=n.memoizedState!==null||qn,!l){t=t!==null&&t.memoizedState!==null||_t,o=qn;var c=_t;qn=l,(_t=t)&&!c?Yn(e,n,(n.subtreeFlags&8772)!==0):Gn(e,n),qn=o,_t=c}break;case 30:break;default:Gn(e,n)}}function hm(e){var t=e.alternate;t!==null&&(e.alternate=null,hm(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Lu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var lt=null,Dt=!1;function Hn(e,t,n){for(n=n.child;n!==null;)pm(e,t,n),n=n.sibling}function pm(e,t,n){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(Jl,n)}catch{}switch(n.tag){case 26:_t||Mn(n,t),Hn(e,t,n),n.memoizedState?n.memoizedState.count--:n.stateNode&&(n=n.stateNode,n.parentNode.removeChild(n));break;case 27:_t||Mn(n,t);var l=lt,o=Dt;ba(n.type)&&(lt=n.stateNode,Dt=!1),Hn(e,t,n),Ci(n.stateNode),lt=l,Dt=o;break;case 5:_t||Mn(n,t);case 6:if(l=lt,o=Dt,lt=null,Hn(e,t,n),lt=l,Dt=o,lt!==null)if(Dt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(n.stateNode)}catch(c){Xe(n,t,c)}else try{lt.removeChild(n.stateNode)}catch(c){Xe(n,t,c)}break;case 18:lt!==null&&(Dt?(e=lt,uh(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,n.stateNode),ql(e)):uh(lt,n.stateNode));break;case 4:l=lt,o=Dt,lt=n.stateNode.containerInfo,Dt=!0,Hn(e,t,n),lt=l,Dt=o;break;case 0:case 11:case 14:case 15:da(2,n,t),_t||da(4,n,t),Hn(e,t,n);break;case 1:_t||(Mn(n,t),l=n.stateNode,typeof l.componentWillUnmount=="function"&&om(n,t,l)),Hn(e,t,n);break;case 21:Hn(e,t,n);break;case 22:_t=(l=_t)||n.memoizedState!==null,Hn(e,t,n),_t=l;break;default:Hn(e,t,n)}}function ym(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{ql(e)}catch(n){Xe(t,t.return,n)}}}function gm(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{ql(e)}catch(n){Xe(t,t.return,n)}}function pg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new dm),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new dm),t;default:throw Error(u(435,e.tag))}}function Yr(e,t){var n=pg(e);t.forEach(function(l){if(!n.has(l)){n.add(l);var o=Eg.bind(null,e,l);l.then(o,o)}})}function Lt(e,t){var n=t.deletions;if(n!==null)for(var l=0;l<n.length;l++){var o=n[l],c=e,h=t,T=h;e:for(;T!==null;){switch(T.tag){case 27:if(ba(T.type)){lt=T.stateNode,Dt=!1;break e}break;case 5:lt=T.stateNode,Dt=!1;break e;case 3:case 4:lt=T.stateNode.containerInfo,Dt=!0;break e}T=T.return}if(lt===null)throw Error(u(160));pm(c,h,o),lt=null,Dt=!1,c=o.alternate,c!==null&&(c.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)vm(t,e),t=t.sibling}var bn=null;function vm(e,t){var n=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Lt(t,e),Vt(e),l&4&&(da(3,e,e.return),Ei(3,e),da(5,e,e.return));break;case 1:Lt(t,e),Vt(e),l&512&&(_t||n===null||Mn(n,n.return)),l&64&&qn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(n=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=n===null?l:n.concat(l))));break;case 26:var o=bn;if(Lt(t,e),Vt(e),l&512&&(_t||n===null||Mn(n,n.return)),l&4){var c=n!==null?n.memoizedState:null;if(l=e.memoizedState,n===null)if(l===null)if(e.stateNode===null){e:{l=e.type,n=e.memoizedProps,o=o.ownerDocument||o;t:switch(l){case"title":c=o.getElementsByTagName("title")[0],(!c||c[Pl]||c[kt]||c.namespaceURI==="http://www.w3.org/2000/svg"||c.hasAttribute("itemprop"))&&(c=o.createElement(l),o.head.insertBefore(c,o.querySelector("head > title"))),jt(c,l,n),c[kt]=e,xt(c),l=c;break e;case"link":var h=vh("link","href",o).get(l+(n.href||""));if(h){for(var T=0;T<h.length;T++)if(c=h[T],c.getAttribute("href")===(n.href==null||n.href===""?null:n.href)&&c.getAttribute("rel")===(n.rel==null?null:n.rel)&&c.getAttribute("title")===(n.title==null?null:n.title)&&c.getAttribute("crossorigin")===(n.crossOrigin==null?null:n.crossOrigin)){h.splice(T,1);break t}}c=o.createElement(l),jt(c,l,n),o.head.appendChild(c);break;case"meta":if(h=vh("meta","content",o).get(l+(n.content||""))){for(T=0;T<h.length;T++)if(c=h[T],c.getAttribute("content")===(n.content==null?null:""+n.content)&&c.getAttribute("name")===(n.name==null?null:n.name)&&c.getAttribute("property")===(n.property==null?null:n.property)&&c.getAttribute("http-equiv")===(n.httpEquiv==null?null:n.httpEquiv)&&c.getAttribute("charset")===(n.charSet==null?null:n.charSet)){h.splice(T,1);break t}}c=o.createElement(l),jt(c,l,n),o.head.appendChild(c);break;default:throw Error(u(468,l))}c[kt]=e,xt(c),l=c}e.stateNode=l}else bh(o,e.type,e.stateNode);else e.stateNode=gh(o,l,e.memoizedProps);else c!==l?(c===null?n.stateNode!==null&&(n=n.stateNode,n.parentNode.removeChild(n)):c.count--,l===null?bh(o,e.type,e.stateNode):gh(o,l,e.memoizedProps)):l===null&&e.stateNode!==null&&us(e,e.memoizedProps,n.memoizedProps)}break;case 27:Lt(t,e),Vt(e),l&512&&(_t||n===null||Mn(n,n.return)),n!==null&&l&4&&us(e,e.memoizedProps,n.memoizedProps);break;case 5:if(Lt(t,e),Vt(e),l&512&&(_t||n===null||Mn(n,n.return)),e.flags&32){o=e.stateNode;try{cl(o,"")}catch(fe){Xe(e,e.return,fe)}}l&4&&e.stateNode!=null&&(o=e.memoizedProps,us(e,o,n!==null?n.memoizedProps:o)),l&1024&&(cs=!0);break;case 6:if(Lt(t,e),Vt(e),l&4){if(e.stateNode===null)throw Error(u(162));l=e.memoizedProps,n=e.stateNode;try{n.nodeValue=l}catch(fe){Xe(e,e.return,fe)}}break;case 3:if(ru=null,o=bn,bn=lu(t.containerInfo),Lt(t,e),bn=o,Vt(e),l&4&&n!==null&&n.memoizedState.isDehydrated)try{ql(t.containerInfo)}catch(fe){Xe(e,e.return,fe)}cs&&(cs=!1,bm(e));break;case 4:l=bn,bn=lu(e.stateNode.containerInfo),Lt(t,e),Vt(e),bn=l;break;case 12:Lt(t,e),Vt(e);break;case 31:Lt(t,e),Vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 13:Lt(t,e),Vt(e),e.child.flags&8192&&e.memoizedState!==null!=(n!==null&&n.memoizedState!==null)&&(Xr=Ye()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 22:o=e.memoizedState!==null;var j=n!==null&&n.memoizedState!==null,Q=qn,W=_t;if(qn=Q||o,_t=W||j,Lt(t,e),_t=W,qn=Q,Vt(e),l&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(n===null||j||qn||_t||Ka(e)),n=null,t=e;;){if(t.tag===5||t.tag===26){if(n===null){j=n=t;try{if(c=j.stateNode,o)h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none";else{T=j.stateNode;var te=j.memoizedProps.style,X=te!=null&&te.hasOwnProperty("display")?te.display:null;T.style.display=X==null||typeof X=="boolean"?"":(""+X).trim()}}catch(fe){Xe(j,j.return,fe)}}}else if(t.tag===6){if(n===null){j=t;try{j.stateNode.nodeValue=o?"":j.memoizedProps}catch(fe){Xe(j,j.return,fe)}}}else if(t.tag===18){if(n===null){j=t;try{var J=j.stateNode;o?oh(J,!0):oh(j.stateNode,!1)}catch(fe){Xe(j,j.return,fe)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;n===t&&(n=null),t=t.return}n===t&&(n=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(n=l.retryQueue,n!==null&&(l.retryQueue=null,Yr(e,n))));break;case 19:Lt(t,e),Vt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Yr(e,l)));break;case 30:break;case 21:break;default:Lt(t,e),Vt(e)}}function Vt(e){var t=e.flags;if(t&2){try{for(var n,l=e.return;l!==null;){if(cm(l)){n=l;break}l=l.return}if(n==null)throw Error(u(160));switch(n.tag){case 27:var o=n.stateNode,c=os(e);Gr(e,c,o);break;case 5:var h=n.stateNode;n.flags&32&&(cl(h,""),n.flags&=-33);var T=os(e);Gr(e,T,h);break;case 3:case 4:var j=n.stateNode.containerInfo,Q=os(e);ss(e,Q,j);break;default:throw Error(u(161))}}catch(W){Xe(e,e.return,W)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function bm(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;bm(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Gn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)mm(e,t.alternate,t),t=t.sibling}function Ka(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:da(4,t,t.return),Ka(t);break;case 1:Mn(t,t.return);var n=t.stateNode;typeof n.componentWillUnmount=="function"&&om(t,t.return,n),Ka(t);break;case 27:Ci(t.stateNode);case 26:case 5:Mn(t,t.return),Ka(t);break;case 22:t.memoizedState===null&&Ka(t);break;case 30:Ka(t);break;default:Ka(t)}e=e.sibling}}function Yn(e,t,n){for(n=n&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,o=e,c=t,h=c.flags;switch(c.tag){case 0:case 11:case 15:Yn(o,c,n),Ei(4,c);break;case 1:if(Yn(o,c,n),l=c,o=l.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(Q){Xe(l,l.return,Q)}if(l=c,o=l.updateQueue,o!==null){var T=l.stateNode;try{var j=o.shared.hiddenCallbacks;if(j!==null)for(o.shared.hiddenCallbacks=null,o=0;o<j.length;o++)If(j[o],T)}catch(Q){Xe(l,l.return,Q)}}n&&h&64&&um(c),xi(c,c.return);break;case 27:fm(c);case 26:case 5:Yn(o,c,n),n&&l===null&&h&4&&sm(c),xi(c,c.return);break;case 12:Yn(o,c,n);break;case 31:Yn(o,c,n),n&&h&4&&ym(o,c);break;case 13:Yn(o,c,n),n&&h&4&&gm(o,c);break;case 22:c.memoizedState===null&&Yn(o,c,n),xi(c,c.return);break;case 30:break;default:Yn(o,c,n)}t=t.sibling}}function fs(e,t){var n=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(n=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==n&&(e!=null&&e.refCount++,n!=null&&fi(n))}function ds(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e))}function Sn(e,t,n,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Sm(e,t,n,l),t=t.sibling}function Sm(e,t,n,l){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Sn(e,t,n,l),o&2048&&Ei(9,t);break;case 1:Sn(e,t,n,l);break;case 3:Sn(e,t,n,l),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&fi(e)));break;case 12:if(o&2048){Sn(e,t,n,l),e=t.stateNode;try{var c=t.memoizedProps,h=c.id,T=c.onPostCommit;typeof T=="function"&&T(h,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(j){Xe(t,t.return,j)}}else Sn(e,t,n,l);break;case 31:Sn(e,t,n,l);break;case 13:Sn(e,t,n,l);break;case 23:break;case 22:c=t.stateNode,h=t.alternate,t.memoizedState!==null?c._visibility&2?Sn(e,t,n,l):Mi(e,t):c._visibility&2?Sn(e,t,n,l):(c._visibility|=2,zl(e,t,n,l,(t.subtreeFlags&10256)!==0||!1)),o&2048&&fs(h,t);break;case 24:Sn(e,t,n,l),o&2048&&ds(t.alternate,t);break;default:Sn(e,t,n,l)}}function zl(e,t,n,l,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var c=e,h=t,T=n,j=l,Q=h.flags;switch(h.tag){case 0:case 11:case 15:zl(c,h,T,j,o),Ei(8,h);break;case 23:break;case 22:var W=h.stateNode;h.memoizedState!==null?W._visibility&2?zl(c,h,T,j,o):Mi(c,h):(W._visibility|=2,zl(c,h,T,j,o)),o&&Q&2048&&fs(h.alternate,h);break;case 24:zl(c,h,T,j,o),o&&Q&2048&&ds(h.alternate,h);break;default:zl(c,h,T,j,o)}t=t.sibling}}function Mi(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var n=e,l=t,o=l.flags;switch(l.tag){case 22:Mi(n,l),o&2048&&fs(l.alternate,l);break;case 24:Mi(n,l),o&2048&&ds(l.alternate,l);break;default:Mi(n,l)}t=t.sibling}}var wi=8192;function Ol(e,t,n){if(e.subtreeFlags&wi)for(e=e.child;e!==null;)_m(e,t,n),e=e.sibling}function _m(e,t,n){switch(e.tag){case 26:Ol(e,t,n),e.flags&wi&&e.memoizedState!==null&&tv(n,bn,e.memoizedState,e.memoizedProps);break;case 5:Ol(e,t,n);break;case 3:case 4:var l=bn;bn=lu(e.stateNode.containerInfo),Ol(e,t,n),bn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=wi,wi=16777216,Ol(e,t,n),wi=l):Ol(e,t,n));break;default:Ol(e,t,n)}}function Tm(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Ai(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Mt=l,Em(l,e)}Tm(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Nm(e),e=e.sibling}function Nm(e){switch(e.tag){case 0:case 11:case 15:Ai(e),e.flags&2048&&da(9,e,e.return);break;case 3:Ai(e);break;case 12:Ai(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Qr(e)):Ai(e);break;default:Ai(e)}}function Qr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var n=0;n<t.length;n++){var l=t[n];Mt=l,Em(l,e)}Tm(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:da(8,t,t.return),Qr(t);break;case 22:n=t.stateNode,n._visibility&2&&(n._visibility&=-3,Qr(t));break;default:Qr(t)}e=e.sibling}}function Em(e,t){for(;Mt!==null;){var n=Mt;switch(n.tag){case 0:case 11:case 15:da(8,n,t);break;case 23:case 22:if(n.memoizedState!==null&&n.memoizedState.cachePool!==null){var l=n.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fi(n.memoizedState.cache)}if(l=n.child,l!==null)l.return=n,Mt=l;else e:for(n=e;Mt!==null;){l=Mt;var o=l.sibling,c=l.return;if(hm(l),l===n){Mt=null;break e}if(o!==null){o.return=c,Mt=o;break e}Mt=c}}}var yg={getCacheForType:function(e){var t=Ot(vt),n=t.data.get(e);return n===void 0&&(n=e(),t.data.set(e,n)),n},cacheSignal:function(){return Ot(vt).controller.signal}},gg=typeof WeakMap=="function"?WeakMap:Map,Ve=0,Pe=null,ke=null,Oe=0,Qe=0,Pt=null,ma=!1,Rl=!1,ms=!1,Qn=0,mt=0,ha=0,Ja=0,hs=0,Ft=0,jl=0,ki=null,qt=null,ps=!1,Xr=0,xm=0,Zr=1/0,Kr=null,pa=null,Nt=0,ya=null,Cl=null,Xn=0,ys=0,gs=null,Mm=null,zi=0,vs=null;function en(){return(Ve&2)!==0&&Oe!==0?Oe&-Oe:C.T!==null?Es():qc()}function wm(){if(Ft===0)if((Oe&536870912)===0||je){var e=nr;nr<<=1,(nr&3932160)===0&&(nr=262144),Ft=e}else Ft=536870912;return e=It.current,e!==null&&(e.flags|=32),Ft}function Ht(e,t,n){(e===Pe&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)&&(Bl(e,0),ga(e,Oe,Ft,!1)),Wl(e,n),((Ve&2)===0||e!==Pe)&&(e===Pe&&((Ve&2)===0&&(Ja|=n),mt===4&&ga(e,Oe,Ft,!1)),wn(e))}function Am(e,t,n){if((Ve&6)!==0)throw Error(u(327));var l=!n&&(t&127)===0&&(t&e.expiredLanes)===0||Il(e,t),o=l?Sg(e,t):Ss(e,t,!0),c=l;do{if(o===0){Rl&&!l&&ga(e,t,0,!1);break}else{if(n=e.current.alternate,c&&!vg(n)){o=Ss(e,t,!1),c=!1;continue}if(o===2){if(c=t,e.errorRecoveryDisabledLanes&c)var h=0;else h=e.pendingLanes&-536870913,h=h!==0?h:h&536870912?536870912:0;if(h!==0){t=h;e:{var T=e;o=ki;var j=T.current.memoizedState.isDehydrated;if(j&&(Bl(T,h).flags|=256),h=Ss(T,h,!1),h!==2){if(ms&&!j){T.errorRecoveryDisabledLanes|=c,Ja|=c,o=4;break e}c=qt,qt=o,c!==null&&(qt===null?qt=c:qt.push.apply(qt,c))}o=h}if(c=!1,o!==2)continue}}if(o===1){Bl(e,0),ga(e,t,0,!0);break}e:{switch(l=e,c=o,c){case 0:case 1:throw Error(u(345));case 4:if((t&4194048)!==t)break;case 6:ga(l,t,Ft,!ma);break e;case 2:qt=null;break;case 3:case 5:break;default:throw Error(u(329))}if((t&62914560)===t&&(o=Xr+300-Ye(),10<o)){if(ga(l,t,Ft,!ma),lr(l,0,!0)!==0)break e;Xn=t,l.timeoutHandle=ih(km.bind(null,l,n,qt,Kr,ps,t,Ft,Ja,jl,ma,c,"Throttled",-0,0),o);break e}km(l,n,qt,Kr,ps,t,Ft,Ja,jl,ma,c,null,-0,0)}}break}while(!0);wn(e)}function km(e,t,n,l,o,c,h,T,j,Q,W,te,X,J){if(e.timeoutHandle=-1,te=t.subtreeFlags,te&8192||(te&16785408)===16785408){te={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},_m(t,c,te);var fe=(c&62914560)===c?Xr-Ye():(c&4194048)===c?xm-Ye():0;if(fe=nv(te,fe),fe!==null){Xn=c,e.cancelPendingCommit=fe($m.bind(null,e,t,c,n,l,o,h,T,j,W,te,null,X,J)),ga(e,c,h,!Q);return}}$m(e,t,c,n,l,o,h,T,j)}function vg(e){for(var t=e;;){var n=t.tag;if((n===0||n===11||n===15)&&t.flags&16384&&(n=t.updateQueue,n!==null&&(n=n.stores,n!==null)))for(var l=0;l<n.length;l++){var o=n[l],c=o.getSnapshot;o=o.value;try{if(!Kt(c(),o))return!1}catch{return!1}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ga(e,t,n,l){t&=~hs,t&=~Ja,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var o=t;0<o;){var c=31-Zt(o),h=1<<c;l[c]=-1,o&=~h}n!==0&&Dc(e,n,t)}function Jr(){return(Ve&6)===0?(Oi(0),!1):!0}function bs(){if(ke!==null){if(Qe===0)var e=ke.return;else e=ke,Bn=Va=null,Bo(e),xl=null,mi=0,e=ke;for(;e!==null;)rm(e.alternate,e),e=e.return;ke=null}}function Bl(e,t){var n=e.timeoutHandle;n!==-1&&(e.timeoutHandle=-1,Dg(n)),n=e.cancelPendingCommit,n!==null&&(e.cancelPendingCommit=null,n()),Xn=0,bs(),Pe=e,ke=n=jn(e.current,null),Oe=t,Qe=0,Pt=null,ma=!1,Rl=Il(e,t),ms=!1,jl=Ft=hs=Ja=ha=mt=0,qt=ki=null,ps=!1,(t&8)!==0&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var o=31-Zt(l),c=1<<o;t|=e[o],l&=~c}return Qn=t,yr(),n}function zm(e,t){Te=null,C.H=_i,t===El||t===Er?(t=Xf(),Qe=3):t===No?(t=Xf(),Qe=4):Qe=t===Wo?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Pt=t,ke===null&&(mt=1,Dr(e,un(t,e.current)))}function Om(){var e=It.current;return e===null?!0:(Oe&4194048)===Oe?fn===null:(Oe&62914560)===Oe||(Oe&536870912)!==0?e===fn:!1}function Rm(){var e=C.H;return C.H=_i,e===null?_i:e}function jm(){var e=C.A;return C.A=yg,e}function Ir(){mt=4,ma||(Oe&4194048)!==Oe&&It.current!==null||(Rl=!0),(ha&134217727)===0&&(Ja&134217727)===0||Pe===null||ga(Pe,Oe,Ft,!1)}function Ss(e,t,n){var l=Ve;Ve|=2;var o=Rm(),c=jm();(Pe!==e||Oe!==t)&&(Kr=null,Bl(e,t)),t=!1;var h=mt;e:do try{if(Qe!==0&&ke!==null){var T=ke,j=Pt;switch(Qe){case 8:bs(),h=6;break e;case 3:case 2:case 9:case 6:It.current===null&&(t=!0);var Q=Qe;if(Qe=0,Pt=null,Ul(e,T,j,Q),n&&Rl){h=0;break e}break;default:Q=Qe,Qe=0,Pt=null,Ul(e,T,j,Q)}}bg(),h=mt;break}catch(W){zm(e,W)}while(!0);return t&&e.shellSuspendCounter++,Bn=Va=null,Ve=l,C.H=o,C.A=c,ke===null&&(Pe=null,Oe=0,yr()),h}function bg(){for(;ke!==null;)Cm(ke)}function Sg(e,t){var n=Ve;Ve|=2;var l=Rm(),o=jm();Pe!==e||Oe!==t?(Kr=null,Zr=Ye()+500,Bl(e,t)):Rl=Il(e,t);e:do try{if(Qe!==0&&ke!==null){t=ke;var c=Pt;t:switch(Qe){case 1:Qe=0,Pt=null,Ul(e,t,c,1);break;case 2:case 9:if(Yf(c)){Qe=0,Pt=null,Bm(t);break}t=function(){Qe!==2&&Qe!==9||Pe!==e||(Qe=7),wn(e)},c.then(t,t);break e;case 3:Qe=7;break e;case 4:Qe=5;break e;case 7:Yf(c)?(Qe=0,Pt=null,Bm(t)):(Qe=0,Pt=null,Ul(e,t,c,7));break;case 5:var h=null;switch(ke.tag){case 26:h=ke.memoizedState;case 5:case 27:var T=ke;if(h?Sh(h):T.stateNode.complete){Qe=0,Pt=null;var j=T.sibling;if(j!==null)ke=j;else{var Q=T.return;Q!==null?(ke=Q,Wr(Q)):ke=null}break t}}Qe=0,Pt=null,Ul(e,t,c,5);break;case 6:Qe=0,Pt=null,Ul(e,t,c,6);break;case 8:bs(),mt=6;break e;default:throw Error(u(462))}}_g();break}catch(W){zm(e,W)}while(!0);return Bn=Va=null,C.H=l,C.A=o,Ve=n,ke!==null?0:(Pe=null,Oe=0,yr(),mt)}function _g(){for(;ke!==null&&!Ue();)Cm(ke)}function Cm(e){var t=lm(e.alternate,e,Qn);e.memoizedProps=e.pendingProps,t===null?Wr(e):ke=t}function Bm(e){var t=e,n=t.alternate;switch(t.tag){case 15:case 0:t=Pd(n,t,t.pendingProps,t.type,void 0,Oe);break;case 11:t=Pd(n,t,t.pendingProps,t.type.render,t.ref,Oe);break;case 5:Bo(t);default:rm(n,t),t=ke=jf(t,Qn),t=lm(n,t,Qn)}e.memoizedProps=e.pendingProps,t===null?Wr(e):ke=t}function Ul(e,t,n,l){Bn=Va=null,Bo(t),xl=null,mi=0;var o=t.return;try{if(sg(e,o,t,n,Oe)){mt=1,Dr(e,un(n,e.current)),ke=null;return}}catch(c){if(o!==null)throw ke=o,c;mt=1,Dr(e,un(n,e.current)),ke=null;return}t.flags&32768?(je||l===1?e=!0:Rl||(Oe&536870912)!==0?e=!1:(ma=e=!0,(l===2||l===9||l===3||l===6)&&(l=It.current,l!==null&&l.tag===13&&(l.flags|=16384))),Um(t,e)):Wr(t)}function Wr(e){var t=e;do{if((t.flags&32768)!==0){Um(t,ma);return}e=t.return;var n=dg(t.alternate,t,Qn);if(n!==null){ke=n;return}if(t=t.sibling,t!==null){ke=t;return}ke=t=e}while(t!==null);mt===0&&(mt=5)}function Um(e,t){do{var n=mg(e.alternate,e);if(n!==null){n.flags&=32767,ke=n;return}if(n=e.return,n!==null&&(n.flags|=32768,n.subtreeFlags=0,n.deletions=null),!t&&(e=e.sibling,e!==null)){ke=e;return}ke=e=n}while(e!==null);mt=6,ke=null}function $m(e,t,n,l,o,c,h,T,j){e.cancelPendingCommit=null;do Pr();while(Nt!==0);if((Ve&6)!==0)throw Error(u(327));if(t!==null){if(t===e.current)throw Error(u(177));if(c=t.lanes|t.childLanes,c|=uo,ey(e,n,c,h,T,j),e===Pe&&(ke=Pe=null,Oe=0),Cl=t,ya=e,Xn=n,ys=c,gs=o,Mm=l,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,xg(er,function(){return Hm(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||l){l=C.T,C.T=null,o=H.p,H.p=2,h=Ve,Ve|=4;try{hg(e,t,n)}finally{Ve=h,H.p=o,C.T=l}}Nt=1,Dm(),Lm(),Vm()}}function Dm(){if(Nt===1){Nt=0;var e=ya,t=Cl,n=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||n){n=C.T,C.T=null;var l=H.p;H.p=2;var o=Ve;Ve|=4;try{vm(t,e);var c=Rs,h=Ef(e.containerInfo),T=c.focusedElem,j=c.selectionRange;if(h!==T&&T&&T.ownerDocument&&Nf(T.ownerDocument.documentElement,T)){if(j!==null&&no(T)){var Q=j.start,W=j.end;if(W===void 0&&(W=Q),"selectionStart"in T)T.selectionStart=Q,T.selectionEnd=Math.min(W,T.value.length);else{var te=T.ownerDocument||document,X=te&&te.defaultView||window;if(X.getSelection){var J=X.getSelection(),fe=T.textContent.length,ve=Math.min(j.start,fe),Ie=j.end===void 0?ve:Math.min(j.end,fe);!J.extend&&ve>Ie&&(h=Ie,Ie=ve,ve=h);var L=Tf(T,ve),U=Tf(T,Ie);if(L&&U&&(J.rangeCount!==1||J.anchorNode!==L.node||J.anchorOffset!==L.offset||J.focusNode!==U.node||J.focusOffset!==U.offset)){var Y=te.createRange();Y.setStart(L.node,L.offset),J.removeAllRanges(),ve>Ie?(J.addRange(Y),J.extend(U.node,U.offset)):(Y.setEnd(U.node,U.offset),J.addRange(Y))}}}}for(te=[],J=T;J=J.parentNode;)J.nodeType===1&&te.push({element:J,left:J.scrollLeft,top:J.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<te.length;T++){var P=te[T];P.element.scrollLeft=P.left,P.element.scrollTop=P.top}}cu=!!Os,Rs=Os=null}finally{Ve=o,H.p=l,C.T=n}}e.current=t,Nt=2}}function Lm(){if(Nt===2){Nt=0;var e=ya,t=Cl,n=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||n){n=C.T,C.T=null;var l=H.p;H.p=2;var o=Ve;Ve|=4;try{mm(e,t.alternate,t)}finally{Ve=o,H.p=l,C.T=n}}Nt=3}}function Vm(){if(Nt===4||Nt===3){Nt=0,ft();var e=ya,t=Cl,n=Xn,l=Mm;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Nt=5:(Nt=0,Cl=ya=null,qm(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(pa=null),$u(n),t=t.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(Jl,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=C.T,o=H.p,H.p=2,C.T=null;try{for(var c=e.onRecoverableError,h=0;h<l.length;h++){var T=l[h];c(T.value,{componentStack:T.stack})}}finally{C.T=t,H.p=o}}(Xn&3)!==0&&Pr(),wn(e),o=e.pendingLanes,(n&261930)!==0&&(o&42)!==0?e===vs?zi++:(zi=0,vs=e):zi=0,Oi(0)}}function qm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,fi(t)))}function Pr(){return Dm(),Lm(),Vm(),Hm()}function Hm(){if(Nt!==5)return!1;var e=ya,t=ys;ys=0;var n=$u(Xn),l=C.T,o=H.p;try{H.p=32>n?32:n,C.T=null,n=gs,gs=null;var c=ya,h=Xn;if(Nt=0,Cl=ya=null,Xn=0,(Ve&6)!==0)throw Error(u(331));var T=Ve;if(Ve|=4,Nm(c.current),Sm(c,c.current,h,n),Ve=T,Oi(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(Jl,c)}catch{}return!0}finally{H.p=o,C.T=l,qm(e,t)}}function Gm(e,t,n){t=un(n,t),t=Io(e.stateNode,t,2),e=sa(e,t,2),e!==null&&(Wl(e,2),wn(e))}function Xe(e,t,n){if(e.tag===3)Gm(e,e,n);else for(;t!==null;){if(t.tag===3){Gm(t,e,n);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(pa===null||!pa.has(l))){e=un(n,e),n=Yd(2),l=sa(t,n,2),l!==null&&(Qd(n,l,t,e),Wl(l,2),wn(l));break}}t=t.return}}function _s(e,t,n){var l=e.pingCache;if(l===null){l=e.pingCache=new gg;var o=new Set;l.set(t,o)}else o=l.get(t),o===void 0&&(o=new Set,l.set(t,o));o.has(n)||(ms=!0,o.add(n),e=Tg.bind(null,e,t,n),t.then(e,e))}function Tg(e,t,n){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&n,e.warmLanes&=~n,Pe===e&&(Oe&n)===n&&(mt===4||mt===3&&(Oe&62914560)===Oe&&300>Ye()-Xr?(Ve&2)===0&&Bl(e,0):hs|=n,jl===Oe&&(jl=0)),wn(e)}function Ym(e,t){t===0&&(t=$c()),e=$a(e,t),e!==null&&(Wl(e,t),wn(e))}function Ng(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ym(e,n)}function Eg(e,t){var n=0;switch(e.tag){case 31:case 13:var l=e.stateNode,o=e.memoizedState;o!==null&&(n=o.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(u(314))}l!==null&&l.delete(t),Ym(e,n)}function xg(e,t){return ue(e,t)}var Fr=null,$l=null,Ts=!1,eu=!1,Ns=!1,va=0;function wn(e){e!==$l&&e.next===null&&($l===null?Fr=$l=e:$l=$l.next=e),eu=!0,Ts||(Ts=!0,wg())}function Oi(e,t){if(!Ns&&eu){Ns=!0;do for(var n=!1,l=Fr;l!==null;){if(e!==0){var o=l.pendingLanes;if(o===0)var c=0;else{var h=l.suspendedLanes,T=l.pingedLanes;c=(1<<31-Zt(42|e)+1)-1,c&=o&~(h&~T),c=c&201326741?c&201326741|1:c?c|2:0}c!==0&&(n=!0,Km(l,c))}else c=Oe,c=lr(l,l===Pe?c:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(c&3)===0||Il(l,c)||(n=!0,Km(l,c));l=l.next}while(n);Ns=!1}}function Mg(){Qm()}function Qm(){eu=Ts=!1;var e=0;va!==0&&$g()&&(e=va);for(var t=Ye(),n=null,l=Fr;l!==null;){var o=l.next,c=Xm(l,t);c===0?(l.next=null,n===null?Fr=o:n.next=o,o===null&&($l=n)):(n=l,(e!==0||(c&3)!==0)&&(eu=!0)),l=o}Nt!==0&&Nt!==5||Oi(e),va!==0&&(va=0)}function Xm(e,t){for(var n=e.suspendedLanes,l=e.pingedLanes,o=e.expirationTimes,c=e.pendingLanes&-62914561;0<c;){var h=31-Zt(c),T=1<<h,j=o[h];j===-1?((T&n)===0||(T&l)!==0)&&(o[h]=Fp(T,t)):j<=t&&(e.expiredLanes|=T),c&=~T}if(t=Pe,n=Oe,n=lr(e,e===t?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,n===0||e===t&&(Qe===2||Qe===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Se(l),e.callbackNode=null,e.callbackPriority=0;if((n&3)===0||Il(e,n)){if(t=n&-n,t===e.callbackPriority)return t;switch(l!==null&&Se(l),$u(n)){case 2:case 8:n=Fi;break;case 32:n=er;break;case 268435456:n=Uc;break;default:n=er}return l=Zm.bind(null,e),n=ue(n,l),e.callbackPriority=t,e.callbackNode=n,t}return l!==null&&l!==null&&Se(l),e.callbackPriority=2,e.callbackNode=null,2}function Zm(e,t){if(Nt!==0&&Nt!==5)return e.callbackNode=null,e.callbackPriority=0,null;var n=e.callbackNode;if(Pr()&&e.callbackNode!==n)return null;var l=Oe;return l=lr(e,e===Pe?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Am(e,l,t),Xm(e,Ye()),e.callbackNode!=null&&e.callbackNode===n?Zm.bind(null,e):null)}function Km(e,t){if(Pr())return null;Am(e,t,!0)}function wg(){Lg(function(){(Ve&6)!==0?ue(Oa,Mg):Qm()})}function Es(){if(va===0){var e=Tl;e===0&&(e=tr,tr<<=1,(tr&261888)===0&&(tr=256)),va=e}return va}function Jm(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:or(""+e)}function Im(e,t){var n=t.ownerDocument.createElement("input");return n.name=t.name,n.value=t.value,e.id&&n.setAttribute("form",e.id),t.parentNode.insertBefore(n,t),e=new FormData(e),n.parentNode.removeChild(n),e}function Ag(e,t,n,l,o){if(t==="submit"&&n&&n.stateNode===o){var c=Jm((o[Ut]||null).action),h=l.submitter;h&&(t=(t=h[Ut]||null)?Jm(t.formAction):h.getAttribute("formAction"),t!==null&&(c=t,h=null));var T=new dr("action","action",null,l,o);e.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(va!==0){var j=h?Im(o,h):new FormData(o);Yo(n,{pending:!0,data:j,method:o.method,action:c},null,j)}}else typeof c=="function"&&(T.preventDefault(),j=h?Im(o,h):new FormData(o),Yo(n,{pending:!0,data:j,method:o.method,action:c},c,j))},currentTarget:o}]})}}for(var xs=0;xs<ro.length;xs++){var Ms=ro[xs],kg=Ms.toLowerCase(),zg=Ms[0].toUpperCase()+Ms.slice(1);vn(kg,"on"+zg)}vn(wf,"onAnimationEnd"),vn(Af,"onAnimationIteration"),vn(kf,"onAnimationStart"),vn("dblclick","onDoubleClick"),vn("focusin","onFocus"),vn("focusout","onBlur"),vn(Xy,"onTransitionRun"),vn(Zy,"onTransitionStart"),vn(Ky,"onTransitionCancel"),vn(zf,"onTransitionEnd"),ol("onMouseEnter",["mouseout","mouseover"]),ol("onMouseLeave",["mouseout","mouseover"]),ol("onPointerEnter",["pointerout","pointerover"]),ol("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ri="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Og=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ri));function Wm(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var l=e[n],o=l.event;l=l.listeners;e:{var c=void 0;if(t)for(var h=l.length-1;0<=h;h--){var T=l[h],j=T.instance,Q=T.currentTarget;if(T=T.listener,j!==c&&o.isPropagationStopped())break e;c=T,o.currentTarget=Q;try{c(o)}catch(W){pr(W)}o.currentTarget=null,c=j}else for(h=0;h<l.length;h++){if(T=l[h],j=T.instance,Q=T.currentTarget,T=T.listener,j!==c&&o.isPropagationStopped())break e;c=T,o.currentTarget=Q;try{c(o)}catch(W){pr(W)}o.currentTarget=null,c=j}}}}function ze(e,t){var n=t[Du];n===void 0&&(n=t[Du]=new Set);var l=e+"__bubble";n.has(l)||(Pm(t,e,2,!1),n.add(l))}function ws(e,t,n){var l=0;t&&(l|=4),Pm(n,e,l,t)}var tu="_reactListening"+Math.random().toString(36).slice(2);function As(e){if(!e[tu]){e[tu]=!0,Yc.forEach(function(n){n!=="selectionchange"&&(Og.has(n)||ws(n,!1,e),ws(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[tu]||(t[tu]=!0,ws("selectionchange",!1,t))}}function Pm(e,t,n,l){switch(wh(t)){case 2:var o=iv;break;case 8:o=rv;break;default:o=Gs}n=o.bind(null,t,n,e),o=void 0,!Zu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),l?o!==void 0?e.addEventListener(t,n,{capture:!0,passive:o}):e.addEventListener(t,n,!0):o!==void 0?e.addEventListener(t,n,{passive:o}):e.addEventListener(t,n,!1)}function ks(e,t,n,l,o){var c=l;if((t&1)===0&&(t&2)===0&&l!==null)e:for(;;){if(l===null)return;var h=l.tag;if(h===3||h===4){var T=l.stateNode.containerInfo;if(T===o)break;if(h===4)for(h=l.return;h!==null;){var j=h.tag;if((j===3||j===4)&&h.stateNode.containerInfo===o)return;h=h.return}for(;T!==null;){if(h=il(T),h===null)return;if(j=h.tag,j===5||j===6||j===26||j===27){l=c=h;continue e}T=T.parentNode}}l=l.return}nf(function(){var Q=c,W=Qu(n),te=[];e:{var X=Of.get(e);if(X!==void 0){var J=dr,fe=e;switch(e){case"keypress":if(cr(n)===0)break e;case"keydown":case"keyup":J=Ey;break;case"focusin":fe="focus",J=Wu;break;case"focusout":fe="blur",J=Wu;break;case"beforeblur":case"afterblur":J=Wu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":J=rf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":J=dy;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":J=wy;break;case wf:case Af:case kf:J=py;break;case zf:J=ky;break;case"scroll":case"scrollend":J=cy;break;case"wheel":J=Oy;break;case"copy":case"cut":case"paste":J=gy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":J=of;break;case"toggle":case"beforetoggle":J=jy}var ve=(t&4)!==0,Ie=!ve&&(e==="scroll"||e==="scrollend"),L=ve?X!==null?X+"Capture":null:X;ve=[];for(var U=Q,Y;U!==null;){var P=U;if(Y=P.stateNode,P=P.tag,P!==5&&P!==26&&P!==27||Y===null||L===null||(P=ei(U,L),P!=null&&ve.push(ji(U,P,Y))),Ie)break;U=U.return}0<ve.length&&(X=new J(X,fe,null,n,W),te.push({event:X,listeners:ve}))}}if((t&7)===0){e:{if(X=e==="mouseover"||e==="pointerover",J=e==="mouseout"||e==="pointerout",X&&n!==Yu&&(fe=n.relatedTarget||n.fromElement)&&(il(fe)||fe[ll]))break e;if((J||X)&&(X=W.window===W?W:(X=W.ownerDocument)?X.defaultView||X.parentWindow:window,J?(fe=n.relatedTarget||n.toElement,J=Q,fe=fe?il(fe):null,fe!==null&&(Ie=f(fe),ve=fe.tag,fe!==Ie||ve!==5&&ve!==27&&ve!==6)&&(fe=null)):(J=null,fe=Q),J!==fe)){if(ve=rf,P="onMouseLeave",L="onMouseEnter",U="mouse",(e==="pointerout"||e==="pointerover")&&(ve=of,P="onPointerLeave",L="onPointerEnter",U="pointer"),Ie=J==null?X:Fl(J),Y=fe==null?X:Fl(fe),X=new ve(P,U+"leave",J,n,W),X.target=Ie,X.relatedTarget=Y,P=null,il(W)===Q&&(ve=new ve(L,U+"enter",fe,n,W),ve.target=Y,ve.relatedTarget=Ie,P=ve),Ie=P,J&&fe)t:{for(ve=Rg,L=J,U=fe,Y=0,P=L;P;P=ve(P))Y++;P=0;for(var ge=U;ge;ge=ve(ge))P++;for(;0<Y-P;)L=ve(L),Y--;for(;0<P-Y;)U=ve(U),P--;for(;Y--;){if(L===U||U!==null&&L===U.alternate){ve=L;break t}L=ve(L),U=ve(U)}ve=null}else ve=null;J!==null&&Fm(te,X,J,ve,!1),fe!==null&&Ie!==null&&Fm(te,Ie,fe,ve,!0)}}e:{if(X=Q?Fl(Q):window,J=X.nodeName&&X.nodeName.toLowerCase(),J==="select"||J==="input"&&X.type==="file")var $e=yf;else if(hf(X))if(gf)$e=Gy;else{$e=qy;var he=Vy}else J=X.nodeName,!J||J.toLowerCase()!=="input"||X.type!=="checkbox"&&X.type!=="radio"?Q&&Gu(Q.elementType)&&($e=yf):$e=Hy;if($e&&($e=$e(e,Q))){pf(te,$e,n,W);break e}he&&he(e,X,Q),e==="focusout"&&Q&&X.type==="number"&&Q.memoizedProps.value!=null&&Hu(X,"number",X.value)}switch(he=Q?Fl(Q):window,e){case"focusin":(hf(he)||he.contentEditable==="true")&&(hl=he,ao=Q,oi=null);break;case"focusout":oi=ao=hl=null;break;case"mousedown":lo=!0;break;case"contextmenu":case"mouseup":case"dragend":lo=!1,xf(te,n,W);break;case"selectionchange":if(Qy)break;case"keydown":case"keyup":xf(te,n,W)}var Ne;if(Fu)e:{switch(e){case"compositionstart":var Re="onCompositionStart";break e;case"compositionend":Re="onCompositionEnd";break e;case"compositionupdate":Re="onCompositionUpdate";break e}Re=void 0}else ml?df(e,n)&&(Re="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(Re="onCompositionStart");Re&&(sf&&n.locale!=="ko"&&(ml||Re!=="onCompositionStart"?Re==="onCompositionEnd"&&ml&&(Ne=af()):(na=W,Ku="value"in na?na.value:na.textContent,ml=!0)),he=nu(Q,Re),0<he.length&&(Re=new uf(Re,e,null,n,W),te.push({event:Re,listeners:he}),Ne?Re.data=Ne:(Ne=mf(n),Ne!==null&&(Re.data=Ne)))),(Ne=By?Uy(e,n):$y(e,n))&&(Re=nu(Q,"onBeforeInput"),0<Re.length&&(he=new uf("onBeforeInput","beforeinput",null,n,W),te.push({event:he,listeners:Re}),he.data=Ne)),Ag(te,e,Q,n,W)}Wm(te,t)})}function ji(e,t,n){return{instance:e,listener:t,currentTarget:n}}function nu(e,t){for(var n=t+"Capture",l=[];e!==null;){var o=e,c=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||c===null||(o=ei(e,n),o!=null&&l.unshift(ji(e,o,c)),o=ei(e,t),o!=null&&l.push(ji(e,o,c))),e.tag===3)return l;e=e.return}return[]}function Rg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Fm(e,t,n,l,o){for(var c=t._reactName,h=[];n!==null&&n!==l;){var T=n,j=T.alternate,Q=T.stateNode;if(T=T.tag,j!==null&&j===l)break;T!==5&&T!==26&&T!==27||Q===null||(j=Q,o?(Q=ei(n,c),Q!=null&&h.unshift(ji(n,Q,j))):o||(Q=ei(n,c),Q!=null&&h.push(ji(n,Q,j)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var jg=/\r\n?/g,Cg=/\u0000|\uFFFD/g;function eh(e){return(typeof e=="string"?e:""+e).replace(jg,`
`).replace(Cg,"")}function th(e,t){return t=eh(t),eh(e)===t}function Je(e,t,n,l,o,c){switch(n){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||cl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&cl(e,""+l);break;case"className":rr(e,"class",l);break;case"tabIndex":rr(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rr(e,n,l);break;case"style":ef(e,l,c);break;case"data":if(t!=="object"){rr(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||n!=="href")){e.removeAttribute(n);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(n,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof c=="function"&&(n==="formAction"?(t!=="input"&&Je(e,t,"name",o.name,o,null),Je(e,t,"formEncType",o.formEncType,o,null),Je(e,t,"formMethod",o.formMethod,o,null),Je(e,t,"formTarget",o.formTarget,o,null)):(Je(e,t,"encType",o.encType,o,null),Je(e,t,"method",o.method,o,null),Je(e,t,"target",o.target,o,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(n);break}l=or(""+l),e.setAttribute(n,l);break;case"onClick":l!=null&&(e.onclick=On);break;case"onScroll":l!=null&&ze("scroll",e);break;case"onScrollEnd":l!=null&&ze("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}n=or(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",n);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""+l):e.removeAttribute(n);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,""):e.removeAttribute(n);break;case"capture":case"download":l===!0?e.setAttribute(n,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(n,l):e.removeAttribute(n);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(n,l):e.removeAttribute(n);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(n):e.setAttribute(n,l);break;case"popover":ze("beforetoggle",e),ze("toggle",e),ir(e,"popover",l);break;case"xlinkActuate":zn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":zn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":zn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":zn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":zn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":zn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":zn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":zn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":zn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":ir(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<n.length)||n[0]!=="o"&&n[0]!=="O"||n[1]!=="n"&&n[1]!=="N")&&(n=oy.get(n)||n,ir(e,n,l))}}function zs(e,t,n,l,o,c){switch(n){case"style":ef(e,l,c);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(u(61));if(n=l.__html,n!=null){if(o.children!=null)throw Error(u(60));e.innerHTML=n}}break;case"children":typeof l=="string"?cl(e,l):(typeof l=="number"||typeof l=="bigint")&&cl(e,""+l);break;case"onScroll":l!=null&&ze("scroll",e);break;case"onScrollEnd":l!=null&&ze("scrollend",e);break;case"onClick":l!=null&&(e.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Qc.hasOwnProperty(n))e:{if(n[0]==="o"&&n[1]==="n"&&(o=n.endsWith("Capture"),t=n.slice(2,o?n.length-7:void 0),c=e[Ut]||null,c=c!=null?c[n]:null,typeof c=="function"&&e.removeEventListener(t,c,o),typeof l=="function")){typeof c!="function"&&c!==null&&(n in e?e[n]=null:e.hasAttribute(n)&&e.removeAttribute(n)),e.addEventListener(t,l,o);break e}n in e?e[n]=l:l===!0?e.setAttribute(n,""):ir(e,n,l)}}}function jt(e,t,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",e),ze("load",e);var l=!1,o=!1,c;for(c in n)if(n.hasOwnProperty(c)){var h=n[c];if(h!=null)switch(c){case"src":l=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Je(e,t,c,h,n,null)}}o&&Je(e,t,"srcSet",n.srcSet,n,null),l&&Je(e,t,"src",n.src,n,null);return;case"input":ze("invalid",e);var T=c=h=o=null,j=null,Q=null;for(l in n)if(n.hasOwnProperty(l)){var W=n[l];if(W!=null)switch(l){case"name":o=W;break;case"type":h=W;break;case"checked":j=W;break;case"defaultChecked":Q=W;break;case"value":c=W;break;case"defaultValue":T=W;break;case"children":case"dangerouslySetInnerHTML":if(W!=null)throw Error(u(137,t));break;default:Je(e,t,l,W,n,null)}}Ic(e,c,T,j,Q,h,o,!1);return;case"select":ze("invalid",e),l=h=c=null;for(o in n)if(n.hasOwnProperty(o)&&(T=n[o],T!=null))switch(o){case"value":c=T;break;case"defaultValue":h=T;break;case"multiple":l=T;default:Je(e,t,o,T,n,null)}t=c,n=h,e.multiple=!!l,t!=null?sl(e,!!l,t,!1):n!=null&&sl(e,!!l,n,!0);return;case"textarea":ze("invalid",e),c=o=l=null;for(h in n)if(n.hasOwnProperty(h)&&(T=n[h],T!=null))switch(h){case"value":l=T;break;case"defaultValue":o=T;break;case"children":c=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(u(91));break;default:Je(e,t,h,T,n,null)}Pc(e,l,o,c);return;case"option":for(j in n)n.hasOwnProperty(j)&&(l=n[j],l!=null)&&(j==="selected"?e.selected=l&&typeof l!="function"&&typeof l!="symbol":Je(e,t,j,l,n,null));return;case"dialog":ze("beforetoggle",e),ze("toggle",e),ze("cancel",e),ze("close",e);break;case"iframe":case"object":ze("load",e);break;case"video":case"audio":for(l=0;l<Ri.length;l++)ze(Ri[l],e);break;case"image":ze("error",e),ze("load",e);break;case"details":ze("toggle",e);break;case"embed":case"source":case"link":ze("error",e),ze("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in n)if(n.hasOwnProperty(Q)&&(l=n[Q],l!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(u(137,t));default:Je(e,t,Q,l,n,null)}return;default:if(Gu(t)){for(W in n)n.hasOwnProperty(W)&&(l=n[W],l!==void 0&&zs(e,t,W,l,n,void 0));return}}for(T in n)n.hasOwnProperty(T)&&(l=n[T],l!=null&&Je(e,t,T,l,n,null))}function Bg(e,t,n,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,c=null,h=null,T=null,j=null,Q=null,W=null;for(J in n){var te=n[J];if(n.hasOwnProperty(J)&&te!=null)switch(J){case"checked":break;case"value":break;case"defaultValue":j=te;default:l.hasOwnProperty(J)||Je(e,t,J,null,l,te)}}for(var X in l){var J=l[X];if(te=n[X],l.hasOwnProperty(X)&&(J!=null||te!=null))switch(X){case"type":c=J;break;case"name":o=J;break;case"checked":Q=J;break;case"defaultChecked":W=J;break;case"value":h=J;break;case"defaultValue":T=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(u(137,t));break;default:J!==te&&Je(e,t,X,J,l,te)}}qu(e,h,T,j,Q,W,c,o);return;case"select":J=h=T=X=null;for(c in n)if(j=n[c],n.hasOwnProperty(c)&&j!=null)switch(c){case"value":break;case"multiple":J=j;default:l.hasOwnProperty(c)||Je(e,t,c,null,l,j)}for(o in l)if(c=l[o],j=n[o],l.hasOwnProperty(o)&&(c!=null||j!=null))switch(o){case"value":X=c;break;case"defaultValue":T=c;break;case"multiple":h=c;default:c!==j&&Je(e,t,o,c,l,j)}t=T,n=h,l=J,X!=null?sl(e,!!n,X,!1):!!l!=!!n&&(t!=null?sl(e,!!n,t,!0):sl(e,!!n,n?[]:"",!1));return;case"textarea":J=X=null;for(T in n)if(o=n[T],n.hasOwnProperty(T)&&o!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:Je(e,t,T,null,l,o)}for(h in l)if(o=l[h],c=n[h],l.hasOwnProperty(h)&&(o!=null||c!=null))switch(h){case"value":X=o;break;case"defaultValue":J=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(u(91));break;default:o!==c&&Je(e,t,h,o,l,c)}Wc(e,X,J);return;case"option":for(var fe in n)X=n[fe],n.hasOwnProperty(fe)&&X!=null&&!l.hasOwnProperty(fe)&&(fe==="selected"?e.selected=!1:Je(e,t,fe,null,l,X));for(j in l)X=l[j],J=n[j],l.hasOwnProperty(j)&&X!==J&&(X!=null||J!=null)&&(j==="selected"?e.selected=X&&typeof X!="function"&&typeof X!="symbol":Je(e,t,j,X,l,J));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in n)X=n[ve],n.hasOwnProperty(ve)&&X!=null&&!l.hasOwnProperty(ve)&&Je(e,t,ve,null,l,X);for(Q in l)if(X=l[Q],J=n[Q],l.hasOwnProperty(Q)&&X!==J&&(X!=null||J!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(u(137,t));break;default:Je(e,t,Q,X,l,J)}return;default:if(Gu(t)){for(var Ie in n)X=n[Ie],n.hasOwnProperty(Ie)&&X!==void 0&&!l.hasOwnProperty(Ie)&&zs(e,t,Ie,void 0,l,X);for(W in l)X=l[W],J=n[W],!l.hasOwnProperty(W)||X===J||X===void 0&&J===void 0||zs(e,t,W,X,l,J);return}}for(var L in n)X=n[L],n.hasOwnProperty(L)&&X!=null&&!l.hasOwnProperty(L)&&Je(e,t,L,null,l,X);for(te in l)X=l[te],J=n[te],!l.hasOwnProperty(te)||X===J||X==null&&J==null||Je(e,t,te,X,l,J)}function nh(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ug(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,n=performance.getEntriesByType("resource"),l=0;l<n.length;l++){var o=n[l],c=o.transferSize,h=o.initiatorType,T=o.duration;if(c&&T&&nh(h)){for(h=0,T=o.responseEnd,l+=1;l<n.length;l++){var j=n[l],Q=j.startTime;if(Q>T)break;var W=j.transferSize,te=j.initiatorType;W&&nh(te)&&(j=j.responseEnd,h+=W*(j<T?1:(T-Q)/(j-Q)))}if(--l,t+=8*(c+h)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Os=null,Rs=null;function au(e){return e.nodeType===9?e:e.ownerDocument}function ah(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function lh(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function js(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Cs=null;function $g(){var e=window.event;return e&&e.type==="popstate"?e===Cs?!1:(Cs=e,!0):(Cs=null,!1)}var ih=typeof setTimeout=="function"?setTimeout:void 0,Dg=typeof clearTimeout=="function"?clearTimeout:void 0,rh=typeof Promise=="function"?Promise:void 0,Lg=typeof queueMicrotask=="function"?queueMicrotask:typeof rh<"u"?function(e){return rh.resolve(null).then(e).catch(Vg)}:ih;function Vg(e){setTimeout(function(){throw e})}function ba(e){return e==="head"}function uh(e,t){var n=t,l=0;do{var o=n.nextSibling;if(e.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"||n==="/&"){if(l===0){e.removeChild(o),ql(t);return}l--}else if(n==="$"||n==="$?"||n==="$~"||n==="$!"||n==="&")l++;else if(n==="html")Ci(e.ownerDocument.documentElement);else if(n==="head"){n=e.ownerDocument.head,Ci(n);for(var c=n.firstChild;c;){var h=c.nextSibling,T=c.nodeName;c[Pl]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&c.rel.toLowerCase()==="stylesheet"||n.removeChild(c),c=h}}else n==="body"&&Ci(e.ownerDocument.body);n=o}while(n);ql(t)}function oh(e,t){var n=e;e=0;do{var l=n.nextSibling;if(n.nodeType===1?t?(n._stashedDisplay=n.style.display,n.style.display="none"):(n.style.display=n._stashedDisplay||"",n.getAttribute("style")===""&&n.removeAttribute("style")):n.nodeType===3&&(t?(n._stashedText=n.nodeValue,n.nodeValue=""):n.nodeValue=n._stashedText||""),l&&l.nodeType===8)if(n=l.data,n==="/$"){if(e===0)break;e--}else n!=="$"&&n!=="$?"&&n!=="$~"&&n!=="$!"||e++;n=l}while(n)}function Bs(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var n=t;switch(t=t.nextSibling,n.nodeName){case"HTML":case"HEAD":case"BODY":Bs(n),Lu(n);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(n.rel.toLowerCase()==="stylesheet")continue}e.removeChild(n)}}function qg(e,t,n,l){for(;e.nodeType===1;){var o=n;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Pl])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(c=e.getAttribute("rel"),c==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(c!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(c=e.getAttribute("src"),(c!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&c&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var c=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===c)return e}else return e;if(e=dn(e.nextSibling),e===null)break}return null}function Hg(e,t,n){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=dn(e.nextSibling),e===null))return null;return e}function sh(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=dn(e.nextSibling),e===null))return null;return e}function Us(e){return e.data==="$?"||e.data==="$~"}function $s(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Gg(e,t){var n=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||n.readyState!=="loading")t();else{var l=function(){t(),n.removeEventListener("DOMContentLoaded",l)};n.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ds=null;function ch(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"||n==="/&"){if(t===0)return dn(e.nextSibling);t--}else n!=="$"&&n!=="$!"&&n!=="$?"&&n!=="$~"&&n!=="&"||t++}e=e.nextSibling}return null}function fh(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"){if(t===0)return e;t--}else n!=="/$"&&n!=="/&"||t++}e=e.previousSibling}return null}function dh(e,t,n){switch(t=au(n),e){case"html":if(e=t.documentElement,!e)throw Error(u(452));return e;case"head":if(e=t.head,!e)throw Error(u(453));return e;case"body":if(e=t.body,!e)throw Error(u(454));return e;default:throw Error(u(451))}}function Ci(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Lu(e)}var mn=new Map,mh=new Set;function lu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Zn=H.d;H.d={f:Yg,r:Qg,D:Xg,C:Zg,L:Kg,m:Jg,X:Wg,S:Ig,M:Pg};function Yg(){var e=Zn.f(),t=Jr();return e||t}function Qg(e){var t=rl(e);t!==null&&t.tag===5&&t.type==="form"?zd(t):Zn.r(e)}var Dl=typeof document>"u"?null:document;function hh(e,t,n){var l=Dl;if(l&&typeof t=="string"&&t){var o=ln(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof n=="string"&&(o+='[crossorigin="'+n+'"]'),mh.has(o)||(mh.add(o),e={rel:e,crossOrigin:n,href:t},l.querySelector(o)===null&&(t=l.createElement("link"),jt(t,"link",e),xt(t),l.head.appendChild(t)))}}function Xg(e){Zn.D(e),hh("dns-prefetch",e,null)}function Zg(e,t){Zn.C(e,t),hh("preconnect",e,t)}function Kg(e,t,n){Zn.L(e,t,n);var l=Dl;if(l&&e&&t){var o='link[rel="preload"][as="'+ln(t)+'"]';t==="image"&&n&&n.imageSrcSet?(o+='[imagesrcset="'+ln(n.imageSrcSet)+'"]',typeof n.imageSizes=="string"&&(o+='[imagesizes="'+ln(n.imageSizes)+'"]')):o+='[href="'+ln(e)+'"]';var c=o;switch(t){case"style":c=Ll(e);break;case"script":c=Vl(e)}mn.has(c)||(e=v({rel:"preload",href:t==="image"&&n&&n.imageSrcSet?void 0:e,as:t},n),mn.set(c,e),l.querySelector(o)!==null||t==="style"&&l.querySelector(Bi(c))||t==="script"&&l.querySelector(Ui(c))||(t=l.createElement("link"),jt(t,"link",e),xt(t),l.head.appendChild(t)))}}function Jg(e,t){Zn.m(e,t);var n=Dl;if(n&&e){var l=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ln(l)+'"][href="'+ln(e)+'"]',c=o;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":c=Vl(e)}if(!mn.has(c)&&(e=v({rel:"modulepreload",href:e},t),mn.set(c,e),n.querySelector(o)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(n.querySelector(Ui(c)))return}l=n.createElement("link"),jt(l,"link",e),xt(l),n.head.appendChild(l)}}}function Ig(e,t,n){Zn.S(e,t,n);var l=Dl;if(l&&e){var o=ul(l).hoistableStyles,c=Ll(e);t=t||"default";var h=o.get(c);if(!h){var T={loading:0,preload:null};if(h=l.querySelector(Bi(c)))T.loading=5;else{e=v({rel:"stylesheet",href:e,"data-precedence":t},n),(n=mn.get(c))&&Ls(e,n);var j=h=l.createElement("link");xt(j),jt(j,"link",e),j._p=new Promise(function(Q,W){j.onload=Q,j.onerror=W}),j.addEventListener("load",function(){T.loading|=1}),j.addEventListener("error",function(){T.loading|=2}),T.loading|=4,iu(h,t,l)}h={type:"stylesheet",instance:h,count:1,state:T},o.set(c,h)}}}function Wg(e,t){Zn.X(e,t);var n=Dl;if(n&&e){var l=ul(n).hoistableScripts,o=Vl(e),c=l.get(o);c||(c=n.querySelector(Ui(o)),c||(e=v({src:e,async:!0},t),(t=mn.get(o))&&Vs(e,t),c=n.createElement("script"),xt(c),jt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function Pg(e,t){Zn.M(e,t);var n=Dl;if(n&&e){var l=ul(n).hoistableScripts,o=Vl(e),c=l.get(o);c||(c=n.querySelector(Ui(o)),c||(e=v({src:e,async:!0,type:"module"},t),(t=mn.get(o))&&Vs(e,t),c=n.createElement("script"),xt(c),jt(c,"link",e),n.head.appendChild(c)),c={type:"script",instance:c,count:1,state:null},l.set(o,c))}}function ph(e,t,n,l){var o=(o=_e.current)?lu(o):null;if(!o)throw Error(u(446));switch(e){case"meta":case"title":return null;case"style":return typeof n.precedence=="string"&&typeof n.href=="string"?(t=Ll(n.href),n=ul(o).hoistableStyles,l=n.get(t),l||(l={type:"style",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(n.rel==="stylesheet"&&typeof n.href=="string"&&typeof n.precedence=="string"){e=Ll(n.href);var c=ul(o).hoistableStyles,h=c.get(e);if(h||(o=o.ownerDocument||o,h={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},c.set(e,h),(c=o.querySelector(Bi(e)))&&!c._p&&(h.instance=c,h.state.loading=5),mn.has(e)||(n={rel:"preload",as:"style",href:n.href,crossOrigin:n.crossOrigin,integrity:n.integrity,media:n.media,hrefLang:n.hrefLang,referrerPolicy:n.referrerPolicy},mn.set(e,n),c||Fg(o,e,n,h.state))),t&&l===null)throw Error(u(528,""));return h}if(t&&l!==null)throw Error(u(529,""));return null;case"script":return t=n.async,n=n.src,typeof n=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Vl(n),n=ul(o).hoistableScripts,l=n.get(t),l||(l={type:"script",instance:null,count:0,state:null},n.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(u(444,e))}}function Ll(e){return'href="'+ln(e)+'"'}function Bi(e){return'link[rel="stylesheet"]['+e+"]"}function yh(e){return v({},e,{"data-precedence":e.precedence,precedence:null})}function Fg(e,t,n,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),jt(t,"link",n),xt(t),e.head.appendChild(t))}function Vl(e){return'[src="'+ln(e)+'"]'}function Ui(e){return"script[async]"+e}function gh(e,t,n){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+ln(n.href)+'"]');if(l)return t.instance=l,xt(l),l;var o=v({},n,{"data-href":n.href,"data-precedence":n.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),xt(l),jt(l,"style",o),iu(l,n.precedence,e),t.instance=l;case"stylesheet":o=Ll(n.href);var c=e.querySelector(Bi(o));if(c)return t.state.loading|=4,t.instance=c,xt(c),c;l=yh(n),(o=mn.get(o))&&Ls(l,o),c=(e.ownerDocument||e).createElement("link"),xt(c);var h=c;return h._p=new Promise(function(T,j){h.onload=T,h.onerror=j}),jt(c,"link",l),t.state.loading|=4,iu(c,n.precedence,e),t.instance=c;case"script":return c=Vl(n.src),(o=e.querySelector(Ui(c)))?(t.instance=o,xt(o),o):(l=n,(o=mn.get(c))&&(l=v({},n),Vs(l,o)),e=e.ownerDocument||e,o=e.createElement("script"),xt(o),jt(o,"link",l),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(u(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(l=t.instance,t.state.loading|=4,iu(l,n.precedence,e));return t.instance}function iu(e,t,n){for(var l=n.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=l.length?l[l.length-1]:null,c=o,h=0;h<l.length;h++){var T=l[h];if(T.dataset.precedence===t)c=T;else if(c!==o)break}c?c.parentNode.insertBefore(e,c.nextSibling):(t=n.nodeType===9?n.head:n,t.insertBefore(e,t.firstChild))}function Ls(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Vs(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var ru=null;function vh(e,t,n){if(ru===null){var l=new Map,o=ru=new Map;o.set(n,l)}else o=ru,l=o.get(n),l||(l=new Map,o.set(n,l));if(l.has(e))return l;for(l.set(e,null),n=n.getElementsByTagName(e),o=0;o<n.length;o++){var c=n[o];if(!(c[Pl]||c[kt]||e==="link"&&c.getAttribute("rel")==="stylesheet")&&c.namespaceURI!=="http://www.w3.org/2000/svg"){var h=c.getAttribute(t)||"";h=e+h;var T=l.get(h);T?T.push(c):l.set(h,[c])}}return l}function bh(e,t,n){e=e.ownerDocument||e,e.head.insertBefore(n,t==="title"?e.querySelector("head > title"):null)}function ev(e,t,n){if(n===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;return t.rel==="stylesheet"?(e=t.disabled,typeof t.precedence=="string"&&e==null):!0;case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Sh(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function tv(e,t,n,l){if(n.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(n.state.loading&4)===0){if(n.instance===null){var o=Ll(l.href),c=t.querySelector(Bi(o));if(c){t=c._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=uu.bind(e),t.then(e,e)),n.state.loading|=4,n.instance=c,xt(c);return}c=t.ownerDocument||t,l=yh(l),(o=mn.get(o))&&Ls(l,o),c=c.createElement("link"),xt(c);var h=c;h._p=new Promise(function(T,j){h.onload=T,h.onerror=j}),jt(c,"link",l),n.instance=c}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(n,t),(t=n.state.preload)&&(n.state.loading&3)===0&&(e.count++,n=uu.bind(e),t.addEventListener("load",n),t.addEventListener("error",n))}}var qs=0;function nv(e,t){return e.stylesheets&&e.count===0&&su(e,e.stylesheets),0<e.count||0<e.imgCount?function(n){var l=setTimeout(function(){if(e.stylesheets&&su(e,e.stylesheets),e.unsuspend){var c=e.unsuspend;e.unsuspend=null,c()}},6e4+t);0<e.imgBytes&&qs===0&&(qs=62500*Ug());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&su(e,e.stylesheets),e.unsuspend)){var c=e.unsuspend;e.unsuspend=null,c()}},(e.imgBytes>qs?50:800)+t);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(o)}}:null}function uu(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)su(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ou=null;function su(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ou=new Map,t.forEach(av,e),ou=null,uu.call(e))}function av(e,t){if(!(t.state.loading&4)){var n=ou.get(e);if(n)var l=n.get(null);else{n=new Map,ou.set(e,n);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),c=0;c<o.length;c++){var h=o[c];(h.nodeName==="LINK"||h.getAttribute("media")!=="not all")&&(n.set(h.dataset.precedence,h),l=h)}l&&n.set(null,l)}o=t.instance,h=o.getAttribute("data-precedence"),c=n.get(h)||l,c===l&&n.set(null,o),n.set(h,o),this.count++,l=uu.bind(this),o.addEventListener("load",l),o.addEventListener("error",l),c?c.parentNode.insertBefore(o,c.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var $i={$$typeof:R,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function lv(e,t,n,l,o,c,h,T,j){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bu(0),this.hiddenUpdates=Bu(null),this.identifierPrefix=l,this.onUncaughtError=o,this.onCaughtError=c,this.onRecoverableError=h,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function _h(e,t,n,l,o,c,h,T,j,Q,W,te){return e=new lv(e,t,n,h,j,Q,W,te,T),t=1,c===!0&&(t|=24),c=Jt(3,null,null,t),e.current=c,c.stateNode=e,t=So(),t.refCount++,e.pooledCache=t,t.refCount++,c.memoizedState={element:l,isDehydrated:n,cache:t},Eo(c),e}function Th(e){return e?(e=gl,e):gl}function Nh(e,t,n,l,o,c){o=Th(o),l.context===null?l.context=o:l.pendingContext=o,l=oa(t),l.payload={element:n},c=c===void 0?null:c,c!==null&&(l.callback=c),n=sa(e,l,t),n!==null&&(Ht(n,e,t),pi(n,e,t))}function Eh(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Hs(e,t){Eh(e,t),(e=e.alternate)&&Eh(e,t)}function xh(e){if(e.tag===13||e.tag===31){var t=$a(e,67108864);t!==null&&Ht(t,e,67108864),Hs(e,67108864)}}function Mh(e){if(e.tag===13||e.tag===31){var t=en();t=Uu(t);var n=$a(e,t);n!==null&&Ht(n,e,t),Hs(e,t)}}var cu=!0;function iv(e,t,n,l){var o=C.T;C.T=null;var c=H.p;try{H.p=2,Gs(e,t,n,l)}finally{H.p=c,C.T=o}}function rv(e,t,n,l){var o=C.T;C.T=null;var c=H.p;try{H.p=8,Gs(e,t,n,l)}finally{H.p=c,C.T=o}}function Gs(e,t,n,l){if(cu){var o=Ys(l);if(o===null)ks(e,t,l,fu,n),Ah(e,l);else if(ov(o,e,t,n,l))l.stopPropagation();else if(Ah(e,l),t&4&&-1<uv.indexOf(e)){for(;o!==null;){var c=rl(o);if(c!==null)switch(c.tag){case 3:if(c=c.stateNode,c.current.memoizedState.isDehydrated){var h=Ra(c.pendingLanes);if(h!==0){var T=c;for(T.pendingLanes|=2,T.entangledLanes|=2;h;){var j=1<<31-Zt(h);T.entanglements[1]|=j,h&=~j}wn(c),(Ve&6)===0&&(Zr=Ye()+500,Oi(0))}}break;case 31:case 13:T=$a(c,2),T!==null&&Ht(T,c,2),Jr(),Hs(c,2)}if(c=Ys(l),c===null&&ks(e,t,l,fu,n),c===o)break;o=c}o!==null&&l.stopPropagation()}else ks(e,t,l,null,n)}}function Ys(e){return e=Qu(e),Qs(e)}var fu=null;function Qs(e){if(fu=null,e=il(e),e!==null){var t=f(e);if(t===null)e=null;else{var n=t.tag;if(n===13){if(e=m(t),e!==null)return e;e=null}else if(n===31){if(e=d(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return fu=e,null}function wh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Fn()){case Oa:return 2;case Fi:return 8;case er:case Zp:return 32;case Uc:return 268435456;default:return 32}default:return 32}}var Xs=!1,Sa=null,_a=null,Ta=null,Di=new Map,Li=new Map,Na=[],uv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ah(e,t){switch(e){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":_a=null;break;case"mouseover":case"mouseout":Ta=null;break;case"pointerover":case"pointerout":Di.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Li.delete(t.pointerId)}}function Vi(e,t,n,l,o,c){return e===null||e.nativeEvent!==c?(e={blockedOn:t,domEventName:n,eventSystemFlags:l,nativeEvent:c,targetContainers:[o]},t!==null&&(t=rl(t),t!==null&&xh(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function ov(e,t,n,l,o){switch(t){case"focusin":return Sa=Vi(Sa,e,t,n,l,o),!0;case"dragenter":return _a=Vi(_a,e,t,n,l,o),!0;case"mouseover":return Ta=Vi(Ta,e,t,n,l,o),!0;case"pointerover":var c=o.pointerId;return Di.set(c,Vi(Di.get(c)||null,e,t,n,l,o)),!0;case"gotpointercapture":return c=o.pointerId,Li.set(c,Vi(Li.get(c)||null,e,t,n,l,o)),!0}return!1}function kh(e){var t=il(e.target);if(t!==null){var n=f(t);if(n!==null){if(t=n.tag,t===13){if(t=m(n),t!==null){e.blockedOn=t,Hc(e.priority,function(){Mh(n)});return}}else if(t===31){if(t=d(n),t!==null){e.blockedOn=t,Hc(e.priority,function(){Mh(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function du(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Ys(e.nativeEvent);if(n===null){n=e.nativeEvent;var l=new n.constructor(n.type,n);Yu=l,n.target.dispatchEvent(l),Yu=null}else return t=rl(n),t!==null&&xh(t),e.blockedOn=n,!1;t.shift()}return!0}function zh(e,t,n){du(e)&&n.delete(t)}function sv(){Xs=!1,Sa!==null&&du(Sa)&&(Sa=null),_a!==null&&du(_a)&&(_a=null),Ta!==null&&du(Ta)&&(Ta=null),Di.forEach(zh),Li.forEach(zh)}function mu(e,t){e.blockedOn===t&&(e.blockedOn=null,Xs||(Xs=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,sv)))}var hu=null;function Oh(e){hu!==e&&(hu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){hu===e&&(hu=null);for(var t=0;t<e.length;t+=3){var n=e[t],l=e[t+1],o=e[t+2];if(typeof l!="function"){if(Qs(l||n)===null)continue;break}var c=rl(n);c!==null&&(e.splice(t,3),t-=3,Yo(c,{pending:!0,data:o,method:n.method,action:l},l,o))}}))}function ql(e){function t(j){return mu(j,e)}Sa!==null&&mu(Sa,e),_a!==null&&mu(_a,e),Ta!==null&&mu(Ta,e),Di.forEach(t),Li.forEach(t);for(var n=0;n<Na.length;n++){var l=Na[n];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Na.length&&(n=Na[0],n.blockedOn===null);)kh(n),n.blockedOn===null&&Na.shift();if(n=(e.ownerDocument||e).$$reactFormReplay,n!=null)for(l=0;l<n.length;l+=3){var o=n[l],c=n[l+1],h=o[Ut]||null;if(typeof c=="function")h||Oh(n);else if(h){var T=null;if(c&&c.hasAttribute("formAction")){if(o=c,h=c[Ut]||null)T=h.formAction;else if(Qs(o)!==null)continue}else T=h.action;typeof T=="function"?n[l+1]=T:(n.splice(l,3),l-=3),Oh(n)}}}function Rh(){function e(c){c.canIntercept&&c.info==="react-transition"&&c.intercept({handler:function(){return new Promise(function(h){return o=h})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),l||setTimeout(n,20)}function n(){if(!l&&!navigation.transition){var c=navigation.currentEntry;c&&c.url!=null&&navigation.navigate(c.url,{state:c.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(n,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function Zs(e){this._internalRoot=e}pu.prototype.render=Zs.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(u(409));var n=t.current,l=en();Nh(n,l,e,t,null,null)},pu.prototype.unmount=Zs.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Nh(e.current,2,null,e,null,null),Jr(),t[ll]=null}};function pu(e){this._internalRoot=e}pu.prototype.unstable_scheduleHydration=function(e){if(e){var t=qc();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Na.length&&t!==0&&t<Na[n].priority;n++);Na.splice(n,0,e),n===0&&kh(e)}};var jh=r.version;if(jh!=="19.2.4")throw Error(u(527,jh,"19.2.4"));H.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(u(188)):(e=Object.keys(e).join(","),Error(u(268,e)));return e=y(t),e=e!==null?g(e):null,e=e===null?null:e.stateNode,e};var cv={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:C,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yu.isDisabled&&yu.supportsFiber)try{Jl=yu.inject(cv),Xt=yu}catch{}}return qi.createRoot=function(e,t){if(!s(e))throw Error(u(299));var n=!1,l="",o=Vd,c=qd,h=Hd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(c=t.onCaughtError),t.onRecoverableError!==void 0&&(h=t.onRecoverableError)),t=_h(e,1,!1,null,null,n,l,null,o,c,h,Rh),e[ll]=t.current,As(e),new Zs(t)},qi.hydrateRoot=function(e,t,n){if(!s(e))throw Error(u(299));var l=!1,o="",c=Vd,h=qd,T=Hd,j=null;return n!=null&&(n.unstable_strictMode===!0&&(l=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(T=n.onRecoverableError),n.formState!==void 0&&(j=n.formState)),t=_h(e,1,!0,t,n??null,l,o,j,c,h,T,Rh),t.context=Th(null),n=t.current,l=en(),l=Uu(l),o=oa(l),o.callback=null,sa(n,o,l),n=l,t.current.lanes=n,Wl(t,n),wn(t),e[ll]=t.current,As(e),new pu(t)},qi.version="19.2.4",qi}var Dh;function Sv(){if(Dh)return Is.exports;Dh=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Is.exports=bv(),Is.exports}var _v=Sv();const _p=(...a)=>a.filter((r,i,u)=>!!r&&r.trim()!==""&&u.indexOf(r)===i).join(" ").trim();const Tv=a=>a.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const Nv=a=>a.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,i,u)=>u?u.toUpperCase():i.toLowerCase());const Lh=a=>{const r=Nv(a);return r.charAt(0).toUpperCase()+r.slice(1)};var Ev={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xv=a=>{for(const r in a)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};const Mv=Le.forwardRef(({color:a="currentColor",size:r=24,strokeWidth:i=2,absoluteStrokeWidth:u,className:s="",children:f,iconNode:m,...d},p)=>Le.createElement("svg",{ref:p,...Ev,width:r,height:r,stroke:a,strokeWidth:u?Number(i)*24/Number(r):i,className:_p("lucide",s),...!f&&!xv(d)&&{"aria-hidden":"true"},...d},[...m.map(([y,g])=>Le.createElement(y,g)),...Array.isArray(f)?f:[f]]));const Yt=(a,r)=>{const i=Le.forwardRef(({className:u,...s},f)=>Le.createElement(Mv,{ref:f,iconNode:r,className:_p(`lucide-${Tv(Lh(a))}`,`lucide-${a}`,u),...s}));return i.displayName=Lh(a),i};const wv=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Av=Yt("chevron-down",wv);const kv=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zv=Yt("chevron-right",kv);const Ov=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rv=Yt("circle-alert",Ov);const jv=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Cv=Yt("circle-check-big",jv);const Bv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Vh=Yt("circle-x",Bv);const Uv=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],qh=Yt("code",Uv);const $v=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Hi=Yt("copy",$v);const Dv=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Lv=Yt("download",Dv);const Vv=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gu=Yt("file-text",Vv);const qv=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Hh=Yt("info",qv);const Hv=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Gh=Yt("play",Hv);const Gv=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],vu=Yt("tree-pine",Gv);const Yv=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Qv=Yt("upload",Yv);const Xv=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Gi=Yt("zap",Xv);var Zv=yv();const Tp=Sp(Zv),Kv=`{
  let nodeId = 0;
  function createNode(type, data, loc) {
    const resolvedLoc = data && data.location ? data.location : loc();
    return { id: ++nodeId, type: type, ...data, location: resolvedLoc };
  }

  function expectedStatementTokens() {
    return [
      "fn", "async", "struct", "enum", "type", "extern", "import", "pub", "trait", "impl",
      "let", "if", "while", "match", "return",
      "identifier", "number", "string", "true", "false",
      "{", "}"
    ];
  }
}
Start
  = _ statements:TopStatementList _ { return createNode("Program", { body: statements }, location); }

TopStatementList
  = head:RecoverableTopStatement tail:(_ RecoverableTopStatement)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

RecoverableTopStatement
  = stmt:Statement { return stmt; }
  / error:InvalidStatement { return error; }
  / _ "}" {
      return createNode("ErrorNode", {
        message: "Unexpected closing brace. Possible double-closing of a block or function.",
        expected: expectedStatementTokens()
      }, location);
    }

StatementList
  = head:RecoverableStatement tail:(_ RecoverableStatement)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

RecoverableStatement
  = stmt:Statement { return stmt; }
  / error:InvalidStatement { return error; }

SyncKeyword
  = "fn" / "struct" / "enum" / "type" / "extern" / "import" / "pub" / "trait" / "impl"

InvalidStatement
  = tokens:(!(";" / "}" / SyncKeyword) .)+ (";" / &"}" / &SyncKeyword / !.) {
      return createNode("ErrorNode", {
        message: "Invalid syntax",
        expected: expectedStatementTokens()
      }, location);
    }

Statement
  = Import
  / TraitDecl
  / ImplDecl
  / StructDecl
  / EnumDecl
  / AdtTypeDecl
  / TypeDecl
  / ExternTypeDecl
  / FnDecl
  / ExternFnDecl
  / LetStmt
  / AssignStmt
  / IfStmt
  / WhileStmt
  / ReturnStmt
  / MatchStmt
  / ExprStmt
  / Block

Import
  = "import" _ spec:ImportSpec _ "from" _ source:String _ ";"? {
      return createNode("Import", { spec, source }, location);
    }

ImportSpec
  = "{" _ list:ImportList _ "}" { return list; }
  / NamespaceImport
  / Identifier

ImportList
  = head:ImportItem tail:(_ "," _ ImportItem)* { return [head].concat(tail.map(t => t[3])); }

ImportItem
  = name:IdName _ "as" _ alias:IdName { return { name: name.name, alias: alias.name, location: name.location }; }
  / name:IdName { return { name: name.name, location: name.location }; }

NamespaceImport
  = "*" _ "as" _ alias:IdName { return { name: alias.name, namespace: true, location: alias.location }; }

TypeDecl
  = visibility:Visibility? _ "type" _ node:IdName _ tparams:TypeParams? _ "=" _ body:TypeBody _ ";"? {
      return createNode("TypeDecl", { name: node.name, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location }, location);
    }

TraitDecl
  = visibility:Visibility? _ "trait" _ node:IdName _ tparams:TypeParams? _ "{" _ items:TraitItemList? _ "}" _ ";"? {
      const methods = [];
      const associatedTypes = [];
      for (const item of items || []) {
        if (item && item.type === "TraitMethod") methods.push(item);
        if (item && item.type === "TraitAssocType") associatedTypes.push(item);
      }
      return createNode("TraitDecl", { name: node.name, typeParams: tparams || [], methods, associatedTypes, visibility: visibility ?? "private", location: node.location }, location);
    }

TraitItemList
  = head:TraitItem tail:(_ TraitItem)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

TraitItem
  = TraitAssocType / TraitMethod

TraitAssocType
  = "type" _ node:IdName _ defaultType:(_ "=" _ TypeName)? _ ";"? {
      return createNode("TraitAssocType", { name: node.name, typeName: defaultType ? defaultType[3] : null, location: node.location }, location);
    }

TraitMethod
  = "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ body:TraitMethodBody {
      return createNode("TraitMethod", { name: node.name, params: params || [], returnType: ret || null, typeParams: tparams || [], body, location: node.location }, location);
    }

TraitMethodBody
  = _ body:Block { return body; }
  / _ ";"? { return null; }

ImplDecl
  = visibility:Visibility? _ "impl" _ tparams:TypeParams? _ traitType:TypeName _ _ "for" _ forType:TypeName _ "{" _ items:ImplItemList? _ "}" _ ";"? {
      const methods = [];
      const associatedTypes = [];
      for (const item of items || []) {
        if (item && item.type === "FnDecl") methods.push(item);
        if (item && item.type === "ImplAssocType") associatedTypes.push(item);
      }
      return createNode("ImplDecl", { traitType, forType, typeParams: tparams || [], methods, associatedTypes, visibility: visibility ?? "private", location: location() }, location);
    }

ImplItemList
  = head:ImplItem tail:(_ ImplItem)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

ImplItem
  = ImplAssocType / ImplMethod

ImplAssocType
  = "type" _ node:IdName _ "=" _ typeName:TypeName _ ";"? {
      return createNode("ImplAssocType", { name: node.name, typeName, location: node.location }, location);
    }

ImplMethod
  = visibility:Visibility? _ async:("async" __)? "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ body:Block {
      return createNode("FnDecl", { name: node.name, async: !!async, params: params || [], returnType: ret || null, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location }, location);
    }

AdtTypeDecl
  = visibility:Visibility? _ "type" _ node:IdName _ tparams:TypeParams? _ "=" _ variants:AdtVariantList _ ";"? {
      return createNode("EnumDecl", { name: node.name, variants: variants || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location }, location);
    }

StructDecl
  = visibility:Visibility? _ "struct" _ node:IdName _ tparams:TypeParams? _ "{" _ fields:TypeFieldList? _ "}" _ ";"? {
      return createNode("StructDecl", { name: node.name, body: fields || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location }, location);
    }

EnumDecl
  = visibility:Visibility? _ "enum" _ node:IdName _ tparams:TypeParams? _ "{" _ variants:EnumVariantList? _ "}" _ ";"? {
      return createNode("EnumDecl", { name: node.name, variants: variants || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location }, location);
    }

ExternTypeDecl
  = visibility:Visibility? _ "extern" _ "type" _ node:IdName _ tparams:TypeParams? _ source:FromClause? _ ";"? {
      return createNode("TypeDecl", { name: node.name, body: [], typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location }, location);
    }

TypeBody
  = "{" _ fields:TypeFieldList? _ "}" { return fields || []; }

TypeFieldList
  = head:TypeField tail:(_ "," _ TypeField)* { return [head].concat(tail.map(t => t[3])); }

TypeField
  = node:IdName _ ":" _ typeName:TypeName { return { name: node.name, typeName, location: node.location }; }

TypeName
  = "_" { return { kind: "TypeHole", location: location() }; }
  / path:TypePath _ args:TypeArgs? {
      const base = path.join("::");
      if (!args) return base;
      const rendered = args.map(arg => typeof arg === "string" ? arg : "_");
      return \`\${base}<\${rendered.join(",")}>\`;
    }

TypePath
  = head:IdName tail:(_ "::" _ IdName)* { return [head.name].concat(tail.map(t => t[3].name)); }

FnDecl
  = visibility:Visibility? _ async:("async" __)? "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ body:Block {
      return createNode("FnDecl", { name: node.name, async: !!async, params: params || [], returnType: ret || null, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location }, location);
    }

ExternFnDecl
  = visibility:Visibility? _ "extern" _ "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ source:FromClause? _ ";"? {
      return createNode("FnDecl", { name: node.name, params: params || [], returnType: ret || "any", body: createNode("Block", { body: [] }, location), typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location }, location);
    }

FromClause
  = _ "from" _ source:String { return source.value; }

ReturnType
  = "->" _ type:TypeName { return type; }

TypeArgs
  = "<" _ head:TypeName tail:(_ "," _ TypeName)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParams
  = "<" _ head:TypeParam tail:(_ "," _ TypeParam)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParam
  = name:IdName _ ":" _ bound:TypeBounds { return { name: name.name, bound }; }
  / name:IdName { return { name: name.name }; }

TypeBounds
  = head:TypeName tail:(_ ("&" / "+") _ TypeName)* { return [head].concat(tail.map(t => t[3])); }

EnumVariantList
  = head:EnumVariant tail:(_ "," _ EnumVariant)* _ ","? { return [head].concat(tail.map(t => t[3])); }

EnumVariant
  = node:IdName _ params:EnumVariantParams? { return { name: node.name, params: params || [], location: node.location }; }

EnumVariantParams
  = "(" _ head:TypeName tail:(_ "," _ TypeName)* _ ")" { return [head].concat(tail.map(t => t[3])); }

AdtVariantList
  = head:AdtVariant tail:(_ "|" _ AdtVariant)* { return [head].concat(tail.map(t => t[3])); }

AdtVariant
  = node:IdName _ params:EnumVariantParams? { return { name: node.name, params: params || [], location: node.location }; }

ParamList
  = head:Param tail:(_ "," _ Param)* { return [head].concat(tail.map(t => t[3])); }

Param
  = leading:ParamRef? node:IdName _ typeAnn:(_ ":" _ trailing:ParamRef? typeName:TypeName {
      return { typeName, ref: !!trailing, refMut: !!(trailing && trailing.mut) };
    })? {
      const refFlag = !!leading || !!(typeAnn && typeAnn.ref);
      const refMut = !!(leading && leading.mut) || !!(typeAnn && typeAnn.refMut);
      return { name: node.name, typeName: typeAnn ? typeAnn.typeName : null, ref: refFlag, refMut, location: node.location };
    }

ParamRef
  = "ref" __ mut:("mut" __)? { return { mut: !!mut }; }

Block
  = "{" _ statements:StatementList _ "}" { return createNode("Block", { body: statements }, location); }

LetStmt
  = "let" _ mut:("mut" __)? node:IdName _ typeAnn:(_ ":" _ typeName:TypeName { return typeName; })? _ "=" _ value:Expr _ ";"? {
      return createNode("Let", { name: node.name, typeName: typeAnn || null, value, mutable: !!mut, location: node.location }, location);
    }

ReturnStmt
  = "return" _ value:Expr _ ";"? { return createNode("Return", { value }, location); }

MatchStmt
  = "match" _ value:Expr _ "{" _ arms:MatchArmList? _ "}" {
      return createNode("MatchStmt", { value, arms: arms || [] }, location);
    }

WhileStmt
  = "while" _ "(" _ condition:Expr _ ")" _ body:Block {
      return createNode("While", { condition, body }, location);
    }

AssignStmt
  = target:(Member / Identifier) _ "=" _ value:Expr _ ";"? { return createNode("Assign", { target, value }, location); }

IfStmt
  = "if" _ "(" _ condition:Expr _ ")" _ thenBlock:Block _ elsePart:(_ "else" _ elseBlock:Block)? {
      return createNode("If", { condition, thenBlock, elseBlock: elsePart ? elsePart[3] : null }, location);
    }

ExprStmt
  = expr:Expr _ ";"? { return createNode("ExprStmt", { expr }, location); }

Expr
  = LogicOr

LogicOr
  = head:LogicAnd tail:(_ "||" _ LogicAnd)* {
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3] }, location), head);
    }

LogicAnd
  = head:Pipe tail:(_ "&&" _ Pipe)* {
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3] }, location), head);
    }

Pipe
  = head:CastExpr tail:(_ "|>" _ PipeTarget)* {
      return tail.reduce((acc, t) => createNode("Binary", { op: "|>", left: acc, right: t[3] }, location), head);
    }

CastExpr
  = head:Equality tail:(_ "as" _ TypeName)* {
      return tail.reduce((acc, t) => createNode("Cast", { expr: acc, targetType: t[3] }, location), head);
    }

PipeTarget
  = callee:IdName _ "(" _ args:ArgList? _ ")" {
      return createNode("Call", { callee: createNode("Identifier", { name: callee.name, location: callee.location }, location), args: args || [], typeArgs: [] }, location);
    }
  / callee:IdName {
      return createNode("Call", { callee: createNode("Identifier", { name: callee.name, location: callee.location }, location), args: [], typeArgs: [] }, location);
    }

Equality
  = head:IsExpr tail:(_ ("==" / "!=") _ IsExpr)* {
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3] }, location), head);
    }

IsExpr
  = head:Relational _ "is" _ qual:QualifiedVariant {
      return createNode("IsExpr", { value: head, variant: qual.variant, enumName: qual.enumName }, location);
    }
  / Relational

Relational
  = head:Range tail:(_ ("<=" / ">=" / "<" / ">") _ Range)* {
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3] }, location), head);
    }

Range
  = start:Add _ "..=" _ end:Add {
      return createNode("Range", { start, end, inclusive: true }, location);
    }
  / "..=" _ end:Add {
      return createNode("Range", { start: null, end, inclusive: true }, location);
    }
  / start:Add _ ".." _ end:Add {
      return createNode("Range", { start, end, inclusive: false }, location);
    }
  / ".." _ end:Add {
      return createNode("Range", { start: null, end, inclusive: false }, location);
    }
  / start:Add _ ".." {
      return createNode("Range", { start, end: null, inclusive: false }, location);
    }
  / ".." {
      return createNode("Range", { start: null, end: null, inclusive: false }, location);
    }
  / Add

Add
  = head:Mul tail:(_ ("+" / "-") _ Mul)* {
      const loc = location();
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3], location: loc }, location), head);
    }

Mul
  = head:Primary tail:(_ ("*" / "/") _ Primary)* {
      const loc = location();
      return tail.reduce((acc, t) => createNode("Binary", { op: t[1], left: acc, right: t[3], location: loc }, location), head);
    }

Primary
  = TryExpr

TryExpr
  = head:AwaitExpr tail:(_ "?")* {
      return tail.reduce((acc) => createNode("Try", { value: acc }, location), head);
    }
  / head:PrimaryNoAwait tail:(_ "?")* {
      return tail.reduce((acc) => createNode("Try", { value: acc }, location), head);
    }

PrimaryNoAwait
  = Postfix

Postfix
  = head:PrimaryAtom tail:PostfixPart* {
      return tail.reduce((acc, part) => {
        if (part.kind === "member") {
          return createNode("Member", { object: acc, property: part.name }, location);
        }
        if (part.kind === "index") {
          return createNode("Index", { object: acc, index: part.index }, location);
        }
        if (part.kind === "call") {
          if (acc.type === "Identifier") {
            return createNode("Call", { callee: acc, args: part.args, typeArgs: part.typeArgs }, location);
          }
          if (acc.type === "Member") {
            const callee = createNode("Identifier", { name: acc.property, location: acc.location }, location);
            return createNode("Call", { callee, args: part.args, typeArgs: part.typeArgs, receiver: acc.object }, location);
          }
          return createNode("Call", { callee: createNode("Identifier", { name: "__invalid__", location: location() }, location), args: part.args, typeArgs: part.typeArgs }, location);
        }
        return acc;
      }, head);
    }

PostfixPart
  = _ "." _ name:IdName { return { kind: "member", name: name.name }; }
  / _ "[" _ index:Expr _ "]" { return { kind: "index", index }; }
  / _ targs:TypeArgs? _ "(" _ args:ArgList? _ ")" { return { kind: "call", args: args || [], typeArgs: targs || [] }; }

PrimaryAtom
  = MatchExpr
  / StructLiteral
  / MoveExpr
  / QualifiedCall
  / Call
  / String
  / Identifier
  / Number
  / Boolean
  / "(" _ expr:Expr _ ")" { return expr; }

StructLiteral
  = name:IdName _ targs:TypeArgs? &(_ "{") _ "{" _ fields:StructLiteralFieldList? _ "}" {
      return createNode("StructLiteral", { name: name.name, typeArgs: targs || [], fields: fields || [], location: location() }, location);
    }

StructLiteralFieldList
  = head:StructLiteralField tail:(_ "," _ StructLiteralField)* _ ","? { return [head].concat(tail.map(t => t[3])); }

StructLiteralField
  = field:IdName _ ":" _ value:Expr { return { name: field.name, value, location: field.location }; }

Keyword
  = ("fn" / "async" / "await" / "struct" / "enum" / "type" / "extern" / "import" / "pub" / "trait" / "impl" / "let" / "mut" / "ref" / "move"
    / "if" / "else" / "while" / "match" / "return" / "for" / "in" / "true" / "false" / "from" / "as" / "is") ![a-zA-Z0-9_]

IdName
  = !Keyword name:$([a-zA-Z_][a-zA-Z0-9_]*) { return { name, location: location() }; }

Identifier
  = node:IdName { return createNode("Identifier", { name: node.name, location: node.location }, location); }

Number
  = "0x" digits:$([0-9a-fA-F] [0-9a-fA-F_]*) suffix:NumericSuffix? {
      const cleaned = digits.replace(/_/g, "");
      const suffixValue = suffix ?? null;
      const isFloat = typeof suffixValue === "string" && suffixValue.startsWith("f");
      return createNode("Number", { value: parseInt(cleaned, 16), raw: \`0x\${cleaned}\`, suffix: suffixValue, isFloat }, location);
    }
  / "0b" digits:$([01] [01_]*) suffix:NumericSuffix? {
      const cleaned = digits.replace(/_/g, "");
      const suffixValue = suffix ?? null;
      const isFloat = typeof suffixValue === "string" && suffixValue.startsWith("f");
      return createNode("Number", { value: parseInt(cleaned, 2), raw: \`0b\${cleaned}\`, suffix: suffixValue, isFloat }, location);
    }
  / int:$([0-9] [0-9_]*) frac:("." digits:$([0-9_]+))? exp:ExponentPart? suffix:NumericSuffix? {
      const intPart = int.replace(/_/g, "");
      const fracPart = frac ? frac[1].replace(/_/g, "") : "";
      const expPart = exp ? exp.replace(/_/g, "") : "";
      const suffixValue = suffix ?? null;
      const hasFloat = !!frac || !!exp || (typeof suffixValue === "string" && suffixValue.startsWith("f"));
      const raw = frac ? \`\${intPart}.\${fracPart}\` : intPart;
      const rawWithExp = expPart ? \`\${raw}\${expPart}\` : raw;
      const value = hasFloat ? parseFloat(rawWithExp) : parseInt(rawWithExp, 10);
      return createNode("Number", { value, raw: rawWithExp, suffix: suffixValue, isFloat: hasFloat }, location);
    }

ExponentPart
  = [eE] sign:("+" / "-")? digits:$([0-9] [0-9_]*) { return \`e\${sign ?? ""}\${digits}\`; }

NumericSuffix
  = "i8" / "i16" / "i32" / "i64" / "i128"
  / "u8" / "u16" / "u32" / "u64" / "u128"
  / "f32" / "f64"

Boolean
  = "true" { return createNode("Boolean", { value: true }, location); }
  / "false" { return createNode("Boolean", { value: false }, location); }

String
  = RawString / TripleString / NormalString

RawString
  = "r\\"" chars:RawChar* "\\"" {
      return createNode("String", { value: chars.join("") }, location);
    }

RawChar
  = !"\\"" char:. { return char; }

TripleString
  = "\\"\\"\\"" parts:TriplePart* "\\"\\"\\"" {
      const hasExpr = parts.some(part => part && part.kind === "expr");
      if (!hasExpr) {
        const text = parts.map(part => part.value).join("");
        return createNode("String", { value: text }, location);
      }
      const normalized = [];
      for (const part of parts) {
        if (!part) continue;
        if (part.kind === "text") {
          if (part.value.length > 0) normalized.push(part.value);
        } else {
          normalized.push(part.value);
        }
      }
      return createNode("InterpolatedString", { parts: normalized }, location);
    }

TriplePart
  = InterpolatedExpr / TripleText

TripleText
  = chars:TripleChar+ { return { kind: "text", value: chars.join("") }; }

TripleChar
  = !("\\"\\"\\"" / "\\\\" / "{") char:. { return char; }
  / "\\\\" seq:EscapeSequence { return seq; }

NormalString
  = "\\"" parts:InterpolatedPart* "\\"" {
      const hasExpr = parts.some(part => part && part.kind === "expr");
      if (!hasExpr) {
        const text = parts.map(part => part.value).join("");
        return createNode("String", { value: text }, location);
      }
      const normalized = [];
      for (const part of parts) {
        if (!part) continue;
        if (part.kind === "text") {
          if (part.value.length > 0) normalized.push(part.value);
        } else {
          normalized.push(part.value);
        }
      }
      return createNode("InterpolatedString", { parts: normalized }, location);
    }

InterpolatedPart
  = InterpolatedExpr / InterpolatedText

InterpolatedExpr
  = "{" _ expr:Expr _ "}" { return { kind: "expr", value: expr }; }

InterpolatedText
  = chars:InterpolatedChar+ { return { kind: "text", value: chars.join("") }; }

InterpolatedChar
  = !("\\"" / "\\\\" / "{") char:. { return char; }
  / "\\\\" seq:EscapeSequence { return seq; }

EscapeSequence
  = "\\"" { return "\\""; }
  / "\\\\" { return "\\\\"; }
  / "{" { return String.fromCharCode(123); }
  / "}" { return String.fromCharCode(125); }
  / "b" { return "\\b"; }
  / "f" { return "\\f"; }
  / "v" { return "\\v"; }
  / "e" { return "\\x1B"; }
  / "n" { return "\\n"; }
  / "r" { return "\\r"; }
  / "t" { return "\\t"; }
  / "0" { return "\\0"; }
  / "x" hex:$([0-9a-fA-F] [0-9a-fA-F]) { return String.fromCharCode(parseInt(hex.replace(/\\s+/g, ""), 16)); }
  / "u" "{" hex:$([0-9a-fA-F]+) "}" {
      if (hex.length > 6) throw new Error("Invalid unicode escape");
      return String.fromCodePoint(parseInt(hex, 16));
    }
  / "u" hex:$([0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F] [0-9a-fA-F]) { return String.fromCharCode(parseInt(hex.replace(/\\s+/g, ""), 16)); }

_ = (WS / Comment)*
__ = (WS / Comment)+
WS = [ \\t\\r\\n]+
Comment = "//" [^\\n]* "\\n"?
  / "/*" (!"*/" .)* "*/"

MatchArmList
  = head:MatchArm tail:(_ "," _ MatchArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchArm
  = pattern:MatchPattern _ "=>" _ body:Block _ ";"? { return { pattern, body, location: location() }; }

MatchPattern
  = "_" { return createNode("WildcardPattern", {}, location); }
  / qual:QualifiedVariant _ binds:MatchBindingList? { return createNode("EnumPattern", { variant: qual.variant, enumName: qual.enumName, bindings: binds || [], location: qual.location }, location); }

QualifiedVariant
  = enumName:IdName _ "." _ variant:IdName { return { enumName: enumName.name, variant: variant.name, location: enumName.location }; }
  / variant:IdName { return { enumName: null, variant: variant.name, location: variant.location }; }

MatchBindingList
  = "(" _ head:MatchBinding tail:(_ "," _ MatchBinding)* _ ")" { return [head].concat(tail.map(t => t[3])); }

MatchBinding
  = name:IdName { return name.name; }
  / "_" { return "_"; }

MatchExpr
  = "match" _ value:Expr _ "{" _ arms:MatchExprArmList? _ "}" {
      return createNode("MatchExpr", { value, arms: arms || [] }, location);
    }

MatchExprArmList
  = head:MatchExprArm tail:(_ "," _ MatchExprArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchExprArm
  = pattern:MatchPattern _ "=>" _ body:Expr { return { pattern, body, location: location() }; }

Member
  = base:Identifier tail:(_ "." _ IdName)* {
      return tail.reduce((acc, t) => createNode("Member", { object: acc, property: t[3].name }, location), base);
    }
Call
  = callee:IdName _ targs:TypeArgs? _ "(" _ args:ArgList? _ ")" {
      return createNode("Call", { callee: createNode("Identifier", { name: callee.name, location: callee.location }, location), args: args || [], typeArgs: targs || [] }, location);
    }

QualifiedCall
  = enumName:IdName _ "." _ variant:IdName _ targs:TypeArgs? _ "(" _ args:ArgList? _ ")" {
      return createNode("Call", {
        callee: createNode("Identifier", { name: variant.name, location: variant.location }, location),
        args: args || [],
        typeArgs: targs || [],
        enumName: enumName.name
      }, location);
    }


ArgList
  = head:Expr tail:(_ "," _ Expr)* { return [head].concat(tail.map(t => t[3])); }
Visibility
  = "pub" { return "public"; }
MoveExpr
  = "move" __ target:(Member / Identifier) {
      return createNode("Move", { target }, location);
    }

AwaitExpr
  = "await" __ value:PrimaryNoAwait {
      return createNode("Await", { value }, location);
    }
`,Jv=`extern fn print(message: string) -> void from "console";
extern fn abs(value: int) -> int from "math";
extern fn max(a: int, b: int) -> int from "math";
extern fn min(a: int, b: int) -> int from "math";
extern fn len(value: string) -> int from "string";
extern fn upper(value: string) -> string from "string";
type List<T> = { length: int };
extern type Vec<T> from "@std/vec";
extern type HashMap<K, V> from "@std/hashmap";
extern type HashSet<T> from "@std/hashset";
extern type Sender<T> from "@std/channel";
extern type Receiver<T> from "@std/channel";
struct Channel<T> { sender: Sender<T>, receiver: Receiver<T> }
extern type Thread from "@std/thread";
extern type Mutex from "@std/sync";
extern type Semaphore from "@std/sync";
extern type AtomicI32 from "@std/sync";
struct FileMetadata { isFile: bool, isDirectory: bool, size: int, modifiedMs: int }
type Map<K, V> = { size: int };
enum Option<T> { Some(T), None }
enum Result<T, E> { Ok(T), Err(E) }
`,gc=()=>!1,Iv=Object.freeze(Object.defineProperty({__proto__:null,isatty:gc},Symbol.toStringTag,{value:"Module"})),{env:nl={},argv:Np=[],platform:Wv=""}=typeof process>"u"?{}:process,Pv="NO_COLOR"in nl||Np.includes("--no-color"),Fv="FORCE_COLOR"in nl||Np.includes("--color"),e0=Wv==="win32",t0=nl.TERM==="dumb",n0=Iv&&gc&&gc(),a0="CI"in nl&&("GITHUB_ACTIONS"in nl||"GITLAB_CI"in nl||"CIRCLECI"in nl),l0=!Pv&&(Fv||e0&&!t0||n0||a0),Ep=(a,r,i,u,s=r.substring(0,a)+u,f=r.substring(a+i.length),m=f.indexOf(i))=>s+(m<0?f:Ep(m,f,i,u)),i0=(a,r,i,u,s)=>a<0?i+r+u:i+Ep(a,r,u,s)+u,r0=(a,r,i=a,u=a.length+1)=>s=>s||!(s===""||s===void 0)?i0((""+s).indexOf(r,u),s,a,r,i):"",Ee=(a,r,i)=>r0(`\x1B[${a}m`,`\x1B[${r}m`,i),Yh={reset:Ee(0,0),bold:Ee(1,22,"\x1B[22m\x1B[1m"),dim:Ee(2,22,"\x1B[22m\x1B[2m"),italic:Ee(3,23),underline:Ee(4,24),inverse:Ee(7,27),hidden:Ee(8,28),strikethrough:Ee(9,29),black:Ee(30,39),red:Ee(31,39),green:Ee(32,39),yellow:Ee(33,39),blue:Ee(34,39),magenta:Ee(35,39),cyan:Ee(36,39),white:Ee(37,39),gray:Ee(90,39),bgBlack:Ee(40,49),bgRed:Ee(41,49),bgGreen:Ee(42,49),bgYellow:Ee(43,49),bgBlue:Ee(44,49),bgMagenta:Ee(45,49),bgCyan:Ee(46,49),bgWhite:Ee(47,49),blackBright:Ee(90,39),redBright:Ee(91,39),greenBright:Ee(92,39),yellowBright:Ee(93,39),blueBright:Ee(94,39),magentaBright:Ee(95,39),cyanBright:Ee(96,39),whiteBright:Ee(97,39),bgBlackBright:Ee(100,49),bgRedBright:Ee(101,49),bgGreenBright:Ee(102,49),bgYellowBright:Ee(103,49),bgBlueBright:Ee(104,49),bgMagentaBright:Ee(105,49),bgCyanBright:Ee(106,49),bgWhiteBright:Ee(107,49)},u0=({useColor:a=l0}={})=>a?Yh:Object.keys(Yh).reduce((r,i)=>({...r,[i]:String}),{}),{reset:j1,bold:C1,dim:vc,italic:B1,underline:U1,inverse:$1,hidden:D1,strikethrough:L1,black:V1,red:xp,green:q1,yellow:bc,blue:o0,magenta:H1,cyan:s0,white:G1,gray:Y1,bgBlack:Q1,bgRed:X1,bgGreen:Z1,bgYellow:K1,bgBlue:J1,bgMagenta:I1,bgCyan:W1,bgWhite:P1,blackBright:F1,redBright:eS,greenBright:tS,yellowBright:nS,blueBright:aS,magentaBright:lS,cyanBright:iS,whiteBright:rS,bgBlackBright:uS,bgRedBright:oS,bgGreenBright:sS,bgYellowBright:cS,bgBlueBright:fS,bgMagentaBright:dS,bgCyanBright:mS,bgWhiteBright:hS}=u0();function Mp(a,r,i=!0){const u=a.split(`
`),s=r.start.line,f=r.start.column;if(s<1||s>u.length)return"";const m=u[s-1],d=`${s}: `,p=" ".repeat(d.length+f-1)+"^",y=i?d+xp(m):d+m,g=i?bc(p):p,v=[];return s>1&&v.push(`${s-1}: ${u[s-2]}`),v.push(y),v.push(g),s<u.length&&v.push(`${s+1}: ${u[s]}`),v.join(`
`)}function c0(a){return typeof a=="object"&&a!==null&&"error"in a&&typeof a.error=="string"&&"success"in a&&typeof a.success=="boolean"}function f0(a){return typeof a=="object"&&a!==null&&"message"in a&&typeof a.message=="string"&&("location"in a||"expected"in a||"found"in a)}function wp(a){if(c0(a))return a;if(f0(a)){const r=a;return{error:r.message,location:d0(r.location)?r.location:void 0,success:!1,expected:Array.isArray(r.expected)?r.expected:void 0,found:typeof r.found=="string"?r.found:void 0,input:typeof r.input=="string"?r.input:void 0,snippet:void 0}}return a instanceof Error?{error:a.message,location:void 0,success:!1,expected:void 0,found:void 0,input:void 0,snippet:void 0}:{error:typeof a=="string"?a:"Unknown error",location:void 0,success:!1,expected:void 0,found:void 0,input:void 0,snippet:void 0}}function d0(a){if(typeof a!="object"||a===null)return!1;const r=a;if(!("start"in r)||!("end"in r))return!1;const i=r.start,u=r.end;if(typeof i!="object"||i===null)return!1;const s=i;if(!("line"in s)||typeof s.line!="number"||!("column"in s)||typeof s.column!="number"||!("offset"in s)||typeof s.offset!="number"||typeof u!="object"||u===null)return!1;const f=u;return!(!("line"in f)||typeof f.line!="number"||!("column"in f)||typeof f.column!="number"||!("offset"in f)||typeof f.offset!="number")}function Ap(a){const{start:r,end:i}=a;return r.line===i.line&&r.column===i.column?`Line ${r.line}, Col ${r.column}`:`Line ${r.line}, Col ${r.column}  Line ${i.line}, Col ${i.column}`}function m0(a){const i=[` Parse Error: ${a.error||"Unknown error"}`];if(a.location&&i.push(` at ${Ap(a.location)}`),a.expected&&a.expected.length>0&&i.push(`Expected: ${a.expected.join(", ")}`),a.found!==void 0&&i.push(`Found: "${a.found}"`),a.snippet||a.input&&a.location)try{const u=a.snippet||Mp(a.input,a.location,!1);i.push(`
--- Snippet ---
`+u)}catch{i.push(`
--- Snippet unavailable ---`)}return i.join(`
`)}function kp(a,r=!0){if(!r)return m0(a);const i=a.error||"Unknown error",u=[`${xp(" Parse Error:")} ${i}`];if(a.location&&u.push(`${o0(" at")} ${Ap(a.location)}`),a.expected&&a.expected.length>0&&u.push(`${bc("Expected:")} ${a.expected.join(", ")}`),a.found!==void 0&&u.push(`${bc("Found:")} "${a.found}"`),a.snippet||a.input&&a.location)try{const s=a.snippet||Mp(a.input,a.location,r);u.push(`
`+vc("--- Snippet ---")+`
`+s)}catch{u.push(`
`+vc("--- Snippet unavailable ---"))}return u.join(`
`)}function h0(a,r=!0){const i=wp(a);return kp(i,r)}function p0(a){const r=[],i=a.error?.toLowerCase()||"";if(i.includes("expected")&&i.includes("but")&&r.push("Check for missing or incorrect syntax near the error location"),(i.includes("rule")||i.includes("undefined"))&&r.push("Verify all referenced rules are defined"),i.includes("end of input")&&r.push("Check for missing closing brackets, quotes, or semicolons"),i.includes("duplicate")&&r.push("Remove duplicate rule definitions"),a.expected&&a.expected.length>0){const u=a.expected.slice(0,3).join(", ");r.push(`Try using one of: ${u}`)}return r}function y0(a,r=!0){const i=kp(a,r),u=p0(a);if(u.length===0)return i;const s=r?s0(`
 Suggestions:`):`
 Suggestions:`,f=u.map((m,d)=>`${r?vc(`  ${d+1}.`):`  ${d+1}.`} ${m}`).join(`
`);return`${i}${s}
${f}`}function g0(a,r){const i=wp(a);return i.input||(i.input=r),y0(i,!0)}const v0=Tp.generate;function b0(a){return typeof a=="object"&&a!==null&&"message"in a&&"location"in a}function S0(a,r={},i){try{const u={allowedStartRules:["*"],cache:!1,format:"bare",optimize:"speed",output:"parser",trace:!1,...r},s=v0(a,u);return{parse:s.parse.bind(s),source:a,options:u,analyze:i}}catch(u){const s=b0(u)?g0(u,a):h0(u);throw new Error(`Grammar compilation failed:
${s}`)}}function _0(a){let r,i;return{...a,parse:(s,f)=>{try{return a.parse(s,f)}catch(m){const d=m;throw Array.isArray(d.expected)?r=d.expected.map(p=>p.description||p.text||p.toString()):r=void 0,d.found!==void 0&&d.found!==null?i=String(d.found):i=null,m}},getLastExpected:()=>r,getLastFound:()=>i}}let T0=class{constructor(){this.scopes=new Map,this.currentScope="global",this.scopeStack=["global"],this.scopes.set("global",new Map)}enterScope(r){this.currentScope=r,this.scopeStack.push(r),this.scopes.has(r)||this.scopes.set(r,new Map)}exitScope(){this.scopeStack.pop(),this.currentScope=this.scopeStack[this.scopeStack.length-1]||"global"}define(r){this.scopes.get(this.currentScope).set(r.name,r)}lookup(r){for(let i=this.scopeStack.length-1;i>=0;i--){const u=this.scopeStack[i],s=this.scopes.get(u);if(s?.has(r))return s.get(r)}}getAllSymbols(){const r=[];for(const i of this.scopes.values())r.push(...i.values());return r}getSymbolsInScope(r){return Array.from(this.scopes.get(r)?.values()||[])}getCurrentScope(){return this.currentScope}};function N0(a,r,i={}){try{const u=a.parse(r,i);return{result:u,success:!0,ast:u,symbols:i.enableSymbolTable?new T0:void 0,diagnostics:i.enableDiagnostics?[]:void 0}}catch(u){return E0(u,r)}}function E0(a,r,i){const u=a,s={success:!1,error:u.message||"Parse error",input:r};return u.location&&(s.location={start:{line:u.location.start.line,column:u.location.start.column,offset:u.location.start.offset},end:{line:u.location.end.line,column:u.location.end.column,offset:u.location.end.offset}}),u.expected&&(s.expected=u.expected.map(f=>f.description||f.text||f.toString())),u.found!==void 0&&u.found!==null?s.found=u.found.toString():s.found=null,s.stack=u.stack,s.location&&(s.snippet=x0(r,s.location)),s}function x0(a,r){const i=a.split(`
`),u=r.start.line,s=r.start.column;if(u>i.length)return"";const f=i[u-1],m=[];return u>1&&m.push(`${u-1}: ${i[u-2]}`),m.push(`${u}: ${f}`),m.push(`${" ".repeat(u.toString().length)}: ${" ".repeat(s-1)}^`),u<i.length&&m.push(`${u+1}: ${i[u]}`),m.join(`
`)}function M0(a){const r=a.location??{start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},i=a.expected&&a.expected.length>0?` Expected: ${a.expected.join(", ")}`:"",u=a.found!==void 0&&a.found!==null?` Found: "${a.found}"`:"";return{severity:"error",message:`${a.error}${i}${u}`,location:r,code:"PARSE_ERROR",source:"parsergen"}}function w0(a,r,i){const s=a.slice(r,i).replace(/[^\r\n]/g," ");return a.slice(0,r)+s+a.slice(i)}function A0(a,r,i,u){for(const s of a)if(!(s.offset<r)&&(i.includes(s.type)||s.type==="keyword"&&u.includes(s.text)))return s.offset+s.text.length;return null}function k0(a,r,i){for(let u=r;u<a.length;u++)if(i.includes(a[u]))return u+1;return null}function z0(a,r,i){const u=new Set,s=f=>{if(!(!f||typeof f!="object")&&!u.has(f)){if(u.add(f),"type"in f&&f.type==="ErrorNode"){const m=f,d=m.expected&&m.expected.length>0?m.expected:i?.(),p=d&&d.length>0?` Expected: ${d.join(", ")}`:"";r.push({severity:"error",message:`${m.message??"Invalid syntax"}${p}`,location:m.location??{start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},code:"PARSE_ERROR",source:"parsergen"})}if(Array.isArray(f)){f.forEach(s);return}for(const m of Object.values(f))s(m)}};s(a)}function O0(a,r,i={}){const u=typeof a.getLastExpected=="function"?a:_0(a),s=[],f=i.maxErrors??25,m=i.syncTokenTypes??["semicolon","rbrace"],d=i.syncKeywordValues??["fn","struct","enum","type","extern","import","pub","return","if","while","match"],p=[";","}"];let y=r;for(let g=0;g<f;g++){const v=N0(u,y);if(v&&typeof v=="object"&&"success"in v&&v.success===!1){s.push(M0(v));const b=v.location?.start.offset??0;let S=null;if(i.lexer&&(S=A0(i.lexer(y),b,m,d)),S===null&&(S=k0(y,b,p)),S===null||S<=b)return{diagnostics:s};y=w0(y,b,S)}else{const b=v?.result??v;return z0(b,s,u.getLastExpected),{result:v,diagnostics:s}}}return{diagnostics:s}}function R0(a){const r=[],i=/import\s+[^;]*?\s+from\s+["']([^"']+)["']/g,u=/import\s+["']([^"']+)["']/g;let s;for(;(s=i.exec(a))!==null;)r.push(s[1]);for(;(s=u.exec(a))!==null;)r.push(s[1]);return r}const zp=["int","i8","i16","i32","i64","i128","u8","u16","u32","u64","u128"],Op=["float","f32","f64"];new Set(zp);new Set(Op);const j0=new Set([...zp,...Op]);function Wn(a){return a==="int"?"i32":a==="float"?"f64":a}function Sc(a){return j0.has(a)}class Kn extends Error{constructor(r,i,u,s=[]){const f=r==="arity"?"Function arity mismatch":r==="recursive"?"Recursive type detected":"Type mismatch";super(f),this.reason=r,this.expected=i,this.found=u,this.trace=s}}let C0=0;function be(){return{kind:"variable",id:C0++}}function Ge(a){return{kind:"promise",inner:a}}function rt(a,r){if(a.kind!=="variable")return a;const i=r.get(a.id);if(!i)return a;const u=rt(i,r);return r.set(a.id,u),u}function Ia(a,r,i){if(a.kind!=="variable")return!1;const u=rt(r,i);if(u.kind==="variable")return u.id===a.id;if(u.kind==="function")return u.args.some(s=>Ia(a,s,i))||Ia(a,u.returnType,i);if(u.kind==="promise")return Ia(a,u.inner,i);if(u.kind==="adt")return u.params.some(s=>Ia(a,s,i));if(u.kind==="row"){for(const s of u.fields.values())if(Ia(a,s,i))return!0;return u.tail?Ia(a,u.tail,i):!1}return!1}function Wa(a,r,i,u,s){if(a.kind!=="variable")return!1;const f=rt(r,i);if(f.kind==="variable")return f.id===a.id?!u:!1;if(f.kind==="function")return f.args.some(m=>Wa(a,m,i,u,s))||Wa(a,f.returnType,i,u,s);if(f.kind==="promise")return Wa(a,f.inner,i,u,s);if(f.kind==="adt"){const m=u||s.has(f.name);return f.params.some(d=>Wa(a,d,i,m,s))}if(f.kind==="row"){for(const m of f.fields.values())if(Wa(a,m,i,u,s))return!0;return f.tail?Wa(a,f.tail,i,u,s):!1}return!1}function hn(a,r,i,u,s=[],f){let m=rt(a,i),d=rt(r,i);const p=u;if(m.kind==="variable"){if(d.kind==="variable"&&m.id===d.id)return;if(p){if(Wa(m,d,i,!1,p))throw new Kn("recursive",m,d,s)}else if(Ia(m,d,i))throw new Kn("recursive",m,d,s);i.set(m.id,d);return}if(d.kind==="variable"){hn(d,m,i,p,s,f);return}if(f&&(m.kind==="row"||d.kind==="row")&&(m.kind==="adt"&&(m=f(m)??m),d.kind==="adt"&&(d=f(d)??d)),m.kind==="primitive"&&d.kind==="primitive"){const y=Wn(m.name),g=Wn(d.name);if(y!==g)throw new Kn("mismatch",m,d,s);return}if(m.kind==="function"&&d.kind==="function"){if(m.args.length!==d.args.length)throw new Kn("arity",m,d,s);for(let y=0;y<m.args.length;y++)hn(m.args[y],d.args[y],i,p,s,f);hn(m.returnType,d.returnType,i,p,s,f);return}if(m.kind==="promise"&&d.kind==="promise"){hn(m.inner,d.inner,i,p,s,f);return}if(m.kind==="adt"&&d.kind==="adt"){if(m.name!==d.name||m.params.length!==d.params.length)throw new Kn("mismatch",m,d,s);for(let y=0;y<m.params.length;y++)hn(m.params[y],d.params[y],i,p,s,f);return}if(m.kind==="row"&&d.kind==="row"){const y=m.fields,g=d.fields;for(const[S,E]of y){const A=g.get(S);A&&hn(E,A,i,p,s,f)}const v=new Map;for(const[S,E]of y)g.has(S)||v.set(S,E);const b=new Map;for(const[S,E]of g)y.has(S)||b.set(S,E);if(v.size>0){if(!d.tail)throw new Kn("mismatch",m,d,s);const S=be();hn(d.tail,{kind:"row",fields:v,tail:S},i,p,s,f)}if(b.size>0){if(!m.tail)throw new Kn("mismatch",m,d,s);const S=be();hn(m.tail,{kind:"row",fields:b,tail:S},i,p,s,f)}m.tail&&d.tail?hn(m.tail,d.tail,i,p,s,f):v.size===0&&b.size===0&&(m.tail&&!d.tail?hn(m.tail,{kind:"row",fields:new Map,tail:null},i,p,s,f):!m.tail&&d.tail&&hn(d.tail,{kind:"row",fields:new Map,tail:null},i,p,s,f));return}throw new Kn("mismatch",m,d,s)}function wa(a,r,i=new Set){const u=rt(a,r);if(u.kind==="variable")return i.add(u.id),i;if(u.kind==="function")return u.args.forEach(s=>wa(s,r,i)),wa(u.returnType,r,i),i;if(u.kind==="promise")return wa(u.inner,r,i),i;if(u.kind==="adt")return u.params.forEach(s=>wa(s,r,i)),i;if(u.kind==="row"){for(const s of u.fields.values())wa(s,r,i);u.tail&&wa(u.tail,r,i)}return i}function B0(a,r,i){const u=wa(a,r);return{kind:"scheme",variables:Array.from(u).filter(f=>!i.has(f)),type:rt(a,r)}}function Ru(a){return{int:"i32",float:"f64",unit:"void"}[a]||a}function Ac(a){return a.replace(/\bint\b/g,"i32").replace(/\bfloat\b/g,"f64").replace(/\bunit\b/g,"void")}function pt(a){return Ac(a)}const O=a=>({kind:"primitive",name:a}),pe=(a,r=[])=>({kind:"adt",name:a,params:r}),ae=(a,r)=>({kind:"function",args:a,returnType:r}),Rp=(a,r=[])=>({kind:"scheme",variables:r,type:a}),se=(a,r)=>({kind:"scheme",variables:r.filter(i=>i.kind==="variable").map(i=>i.id),type:a}),me=(a,r,i,u,s,f,m)=>({kind:"function",name:a,paramTypes:r,returnType:i,paramNames:f,hmType:Rp(ae(u,s)),moduleId:m??"std://unknown",exportName:a}),ce=(a,r,i,u,s,f)=>({kind:"function",name:a,paramTypes:r,returnType:i,paramNames:s,hmType:u,moduleId:f??"std://unknown",exportName:a}),Qh=(a,r,i,u)=>({kind:"value",name:a,valueType:r,hmType:Rp(i),moduleId:u,exportName:a}),Xh=(a,r)=>a.name===r?a:{...a,name:r,exportName:a.exportName??a.name},Zh=(a,r)=>a.name===r?a:{...a,name:r,exportName:a.exportName??a.name};function kc(){const a=new Map,r={kind:"module",name:"io",moduleId:"std://io",exports:new Map([["println",me("println",["string"],"void",[O("string")],O("void"),["value"],"std://io")],["print",me("print",["string"],"void",[O("string")],O("void"),["value"],"std://io")],["eprint",me("eprint",["string"],"void",[O("string")],O("void"),["value"],"std://io")],["eprintln",me("eprintln",["string"],"void",[O("string")],O("void"),["value"],"std://io")],["readLine",me("readLine",[],"Option<string>",[],pe("Option",[O("string")]),[],"std://io")],["readLineAsync",me("readLineAsync",[],"Promise<Option<string>>",[],Ge(pe("Option",[O("string")])),[],"std://io")],["read_file",me("read_file",["string"],"Result<string,string>",[O("string")],pe("Result",[O("string"),O("string")]),["path"],"std://io")],["write_file",me("write_file",["string","string"],"Result<void,string>",[O("string"),O("string")],pe("Result",[O("void"),O("string")]),["path","content"],"std://io")]])},i={kind:"module",name:"fs",moduleId:"std://fs",exports:new Map([["readFile",me("readFile",["string"],"Promise<Result<string,string>>",[O("string")],Ge(pe("Result",[O("string"),O("string")])),["path"],"std://fs")],["writeFile",me("writeFile",["string","string"],"Promise<Result<void,string>>",[O("string"),O("string")],Ge(pe("Result",[O("void"),O("string")])),["path","content"],"std://fs")],["readDir",me("readDir",["string"],"Promise<Result<List<string>,string>>",[O("string")],Ge(pe("Result",[pe("List",[O("string")]),O("string")])),["path"],"std://fs")],["metadata",me("metadata",["string"],"Promise<Result<FileMetadata,string>>",[O("string")],Ge(pe("Result",[pe("FileMetadata"),O("string")])),["path"],"std://fs")],["exists",me("exists",["string"],"Promise<bool>",[O("string")],Ge(O("bool")),["path"],"std://fs")],["mkdir",me("mkdir",["string","bool"],"Promise<Result<void,string>>",[O("string"),O("bool")],Ge(pe("Result",[O("void"),O("string")])),["path","recursive"],"std://fs")],["removeFile",me("removeFile",["string"],"Promise<Result<void,string>>",[O("string")],Ge(pe("Result",[O("void"),O("string")])),["path"],"std://fs")]])},u={kind:"module",name:"http",moduleId:"std://http",exports:new Map([["fetch",me("fetch",["Request"],"Promise<Result<Response,string>>",[pe("Request")],Ge(pe("Result",[pe("Response"),O("string")])),["request"],"std://http")]])},s={kind:"module",name:"time",moduleId:"std://time",exports:new Map([["nowMs",me("nowMs",[],"int",[],O("int"),[],"std://time")],["nowIso",me("nowIso",[],"string",[],O("string"),[],"std://time")],["instantNow",me("instantNow",[],"int",[],O("int"),[],"std://time")],["elapsedMs",me("elapsedMs",["int"],"int",[O("int")],O("int"),["since"],"std://time")],["sleep",me("sleep",["int"],"Promise<void>",[O("int")],Ge(O("void")),["ms"],"std://time")]])},f={kind:"module",name:"regex",moduleId:"std://regex",exports:new Map([["isValid",me("isValid",["string","string"],"bool",[O("string"),O("string")],O("bool"),["pattern","flags"],"std://regex")],["test",me("test",["string","string","string"],"Result<bool,string>",[O("string"),O("string"),O("string")],pe("Result",[O("bool"),O("string")]),["pattern","text","flags"],"std://regex")],["find",me("find",["string","string","string"],"Option<string>",[O("string"),O("string"),O("string")],pe("Option",[O("string")]),["pattern","text","flags"],"std://regex")],["findAll",me("findAll",["string","string","string"],"Result<List<string>,string>",[O("string"),O("string"),O("string")],pe("Result",[pe("List",[O("string")]),O("string")]),["pattern","text","flags"],"std://regex")],["replace",me("replace",["string","string","string","string"],"Result<string,string>",[O("string"),O("string"),O("string"),O("string")],pe("Result",[O("string"),O("string")]),["pattern","text","replacement","flags"],"std://regex")]])},m={kind:"module",name:"crypto",moduleId:"std://crypto",exports:new Map([["isAvailable",me("isAvailable",[],"Promise<bool>",[],Ge(O("bool")),[],"std://crypto")],["sha256",me("sha256",["string"],"Promise<Result<string,string>>",[O("string")],Ge(pe("Result",[O("string"),O("string")])),["value"],"std://crypto")],["hmacSha256",me("hmacSha256",["string","string"],"Promise<Result<string,string>>",[O("string"),O("string")],Ge(pe("Result",[O("string"),O("string")])),["key","value"],"std://crypto")],["randomBytes",me("randomBytes",["int"],"Promise<Result<List<int>,string>>",[O("int")],Ge(pe("Result",[pe("List",[O("int")]),O("string")])),["length"],"std://crypto")],["randomInt",me("randomInt",["int","int"],"Promise<Result<int,string>>",[O("int"),O("int")],Ge(pe("Result",[O("int"),O("string")])),["min","max"],"std://crypto")],["aesGcmEncrypt",me("aesGcmEncrypt",["string","string"],"Promise<Result<string,string>>",[O("string"),O("string")],Ge(pe("Result",[O("string"),O("string")])),["key","plaintext"],"std://crypto")],["aesGcmDecrypt",me("aesGcmDecrypt",["string","string"],"Promise<Result<string,string>>",[O("string"),O("string")],Ge(pe("Result",[O("string"),O("string")])),["key","payload"],"std://crypto")]])},d={kind:"module",name:"str",moduleId:"std://str",exports:new Map([["length",me("length",["string"],"int",[O("string")],O("int"),["value"],"std://str")],["concat",me("concat",["string","string"],"string",[O("string"),O("string")],O("string"),["a","b"],"std://str")],["substring",me("substring",["string","int","int"],"string",[O("string"),O("int"),O("int")],O("string"),["value","start","end"],"std://str")],["slice",me("slice",["string","Range"],"string",[O("string"),pe("Range")],O("string"),["value","range"],"std://str")],["split",me("split",["string","string"],"List<string>",[O("string"),O("string")],pe("List",[O("string")]),["value","sep"],"std://str")],["trim",me("trim",["string"],"string",[O("string")],O("string"),["value"],"std://str")],["contains",me("contains",["string","string"],"bool",[O("string"),O("string")],O("bool"),["haystack","needle"],"std://str")],["eq",me("eq",["string","string"],"bool",[O("string"),O("string")],O("bool"),["a","b"],"std://str")],["char_at",me("char_at",["string","int"],"Option<string>",[O("string"),O("int")],pe("Option",[O("string")]),["value","index"],"std://str")],["is_whitespace",me("is_whitespace",["string"],"bool",[O("string")],O("bool"),["value"],"std://str")],["is_digit",me("is_digit",["string"],"bool",[O("string")],O("bool"),["value"],"std://str")],["to_int",me("to_int",["string"],"Result<int,string>",[O("string")],pe("Result",[O("int"),O("string")]),["value"],"std://str")],["to_float",me("to_float",["string"],"Result<float,string>",[O("string")],pe("Result",[O("float"),O("string")]),["value"],"std://str")],["from_int",me("from_int",["int"],"string",[O("int")],O("string"),["value"],"std://str")],["from_float",me("from_float",["float"],"string",[O("float")],O("string"),["value"],"std://str")]])},p={kind:"module",name:"math",moduleId:"std://math",exports:new Map([["abs",me("abs",["int"],"int",[O("int")],O("int"),["value"],"std://math")],["min",me("min",["int","int"],"int",[O("int"),O("int")],O("int"),["a","b"],"std://math")],["max",me("max",["int","int"],"int",[O("int"),O("int")],O("int"),["a","b"],"std://math")],["absf",me("absf",["float"],"float",[O("float")],O("float"),["value"],"std://math")],["minf",me("minf",["float","float"],"float",[O("float"),O("float")],O("float"),["a","b"],"std://math")],["maxf",me("maxf",["float","float"],"float",[O("float"),O("float")],O("float"),["a","b"],"std://math")],["sqrt",me("sqrt",["float"],"float",[O("float")],O("float"),["value"],"std://math")],["pow",me("pow",["float","float"],"float",[O("float"),O("float")],O("float"),["base","exp"],"std://math")],["floor",me("floor",["float"],"int",[O("float")],O("int"),["value"],"std://math")],["ceil",me("ceil",["float"],"int",[O("float")],O("int"),["value"],"std://math")],["round",me("round",["float"],"int",[O("float")],O("int"),["value"],"std://math")],["pi",Qh("pi","float",O("float"),"std://math")],["e",Qh("e","float",O("float"),"std://math")]])},y=(()=>{const _=be(),w=be(),k=pe("List",[_]),V=pe("List",[w]),Z=pe("Option",[_]),le=ae([ae([_],w),k],V),G=ae([ae([_],O("bool")),k],k),x=ae([ae([w,_],w),w,k],w),$=ae([k],k),K=ae([k],O("int")),D=ae([k,k],k),I=ae([O("int"),k],k),C=ae([O("int"),k],k),H=ae([ae([_],O("bool")),k],Z),F=ae([ae([_],O("bool")),k],O("bool")),ne=ae([ae([_],O("bool")),k],O("bool"));return{kind:"module",name:"list",moduleId:"std://list",exports:new Map([["map",ce("map",["any","List<any>"],"List<any>",se(le,[_,w]),["mapper","values"],"std://list")],["filter",ce("filter",["any","List<any>"],"List<any>",se(G,[_]),["predicate","values"],"std://list")],["fold",ce("fold",["any","any","List<any>"],"any",se(x,[_,w]),["folder","init","values"],"std://list")],["reverse",ce("reverse",["List<any>"],"List<any>",se($,[_]),["values"],"std://list")],["length",ce("length",["List<any>"],"int",se(K,[_]),["values"],"std://list")],["append",ce("append",["List<any>","List<any>"],"List<any>",se(D,[_]),["left","right"],"std://list")],["take",ce("take",["int","List<any>"],"List<any>",se(I,[_]),["count","values"],"std://list")],["drop",ce("drop",["int","List<any>"],"List<any>",se(C,[_]),["count","values"],"std://list")],["find",ce("find",["any","List<any>"],"Option<any>",se(H,[_]),["predicate","values"],"std://list")],["any",ce("any",["any","List<any>"],"bool",se(F,[_]),["predicate","values"],"std://list")],["all",ce("all",["any","List<any>"],"bool",se(ne,[_]),["predicate","values"],"std://list")]])}})(),g=(()=>{const _=be(),w=be(),k=pe("Vec",[_]),V=pe("Vec",[w]),Z=pe("Option",[_]),le=ae([],k),G=ae([k,_],O("void")),x=ae([k,O("int")],Z),$=ae([k],O("int")),K=ae([k],Z),D=ae([k],O("void")),I=ae([k,ae([_],w)],V),C=ae([k,ae([_],O("bool"))],k),H=ae([k,w,ae([w,_],w)],w),F=ae([k,ae([_],O("void"))],O("void"));return{kind:"module",name:"vec",moduleId:"std://vec",exports:new Map([["new",ce("new",[],"Vec<any>",se(le,[_]),[],"std://vec")],["push",ce("push",["Vec<any>","any"],"void",se(G,[_]),["vec","value"],"std://vec")],["get",ce("get",["Vec<any>","int"],"Option<any>",se(x,[_]),["vec","index"],"std://vec")],["len",ce("len",["Vec<any>"],"int",se($,[_]),["vec"],"std://vec")],["pop",ce("pop",["Vec<any>"],"Option<any>",se(K,[_]),["vec"],"std://vec")],["clear",ce("clear",["Vec<any>"],"void",se(D,[_]),["vec"],"std://vec")],["map",ce("map",["Vec<any>","any"],"Vec<any>",se(I,[_,w]),["values","mapper"],"std://vec")],["filter",ce("filter",["Vec<any>","any"],"Vec<any>",se(C,[_]),["values","predicate"],"std://vec")],["fold",ce("fold",["Vec<any>","any","any"],"any",se(H,[_,w]),["values","init","folder"],"std://vec")],["for_each",ce("for_each",["Vec<any>","any"],"void",se(F,[_]),["values","action"],"std://vec")]])}})(),v=(()=>{const _=be(),w=be(),k=pe("HashMap",[_,w]),V=pe("Option",[w]),Z=pe("Vec",[_]),le=pe("Vec",[w]),G=ae([],k),x=ae([k,_,w],V),$=ae([k,_],V),K=ae([k,_],V),D=ae([k,_],O("bool")),I=ae([k],O("int")),C=ae([k],O("void")),H=ae([k],Z),F=ae([k],le);return{kind:"module",name:"hashmap",moduleId:"std://hashmap",exports:new Map([["new",ce("new",[],"HashMap<any, any>",se(G,[_,w]),[],"std://hashmap")],["insert",ce("insert",["HashMap<any, any>","any","any"],"Option<any>",se(x,[_,w]),["map","key","value"],"std://hashmap")],["get",ce("get",["HashMap<any, any>","any"],"Option<any>",se($,[_,w]),["map","key"],"std://hashmap")],["remove",ce("remove",["HashMap<any, any>","any"],"Option<any>",se(K,[_,w]),["map","key"],"std://hashmap")],["contains_key",ce("contains_key",["HashMap<any, any>","any"],"bool",se(D,[_,w]),["map","key"],"std://hashmap")],["len",ce("len",["HashMap<any, any>"],"int",se(I,[_,w]),["map"],"std://hashmap")],["clear",ce("clear",["HashMap<any, any>"],"void",se(C,[_,w]),["map"],"std://hashmap")],["keys",ce("keys",["HashMap<any, any>"],"Vec<any>",se(H,[_,w]),["map"],"std://hashmap")],["values",ce("values",["HashMap<any, any>"],"Vec<any>",se(F,[_,w]),["map"],"std://hashmap")]])}})(),b=(()=>{const _=be(),w=pe("HashSet",[_]),k=pe("Vec",[_]),V=ae([],w),Z=ae([w,_],O("bool")),le=ae([w,_],O("bool")),G=ae([w,_],O("bool")),x=ae([w],O("int")),$=ae([w],O("void")),K=ae([w],k);return{kind:"module",name:"hashset",moduleId:"std://hashset",exports:new Map([["new",ce("new",[],"HashSet<any>",se(V,[_]),[],"std://hashset")],["insert",ce("insert",["HashSet<any>","any"],"bool",se(Z,[_]),["set","value"],"std://hashset")],["contains",ce("contains",["HashSet<any>","any"],"bool",se(le,[_]),["set","value"],"std://hashset")],["remove",ce("remove",["HashSet<any>","any"],"bool",se(G,[_]),["set","value"],"std://hashset")],["len",ce("len",["HashSet<any>"],"int",se(x,[_]),["set"],"std://hashset")],["clear",ce("clear",["HashSet<any>"],"void",se($,[_]),["set"],"std://hashset")],["values",ce("values",["HashSet<any>"],"Vec<any>",se(K,[_]),["set"],"std://hashset")]])}})(),S=(()=>{const _=be(),w=be(),k=pe("Option",[_]),V=pe("Option",[w]),Z=ae([ae([_],w),k],V),le=ae([ae([_],V),k],V),G=ae([ae([],k),k],k),x=ae([_,k],_),$=ae([k],O("bool")),K=ae([k],O("bool")),D=ae([_],k),I=ae([],k);return{kind:"module",name:"Option",moduleId:"std://option",exports:new Map([["map",ce("map",["any","Option<any>"],"Option<any>",se(Z,[_,w]),["mapper","value"],"std://option")],["and_then",ce("and_then",["any","Option<any>"],"Option<any>",se(le,[_,w]),["mapper","value"],"std://option")],["or_else",ce("or_else",["any","Option<any>"],"Option<any>",se(G,[_]),["fallback","value"],"std://option")],["unwrap_or",ce("unwrap_or",["any","Option<any>"],"any",se(x,[_]),["default","value"],"std://option")],["is_some",ce("is_some",["Option<any>"],"bool",se($,[_]),["value"],"std://option")],["is_none",ce("is_none",["Option<any>"],"bool",se(K,[_]),["value"],"std://option")],["Some",ce("Some",["any"],"Option<any>",se(D,[_]),["value"],"std://option")],["None",ce("None",[],"Option<any>",se(I,[_]),[],"std://option")]])}})(),E=(()=>{const _=be(),w=be(),k=be(),V=be(),Z=pe("Result",[_,w]),le=pe("Result",[k,w]),G=pe("Result",[_,V]),x=ae([ae([_],k),Z],le),$=ae([ae([_],le),Z],le),K=ae([ae([w],G),Z],G),D=ae([_,Z],_),I=ae([Z],O("bool")),C=ae([Z],O("bool")),H=ae([_],Z),F=ae([w],Z);return{kind:"module",name:"Result",moduleId:"std://result",exports:new Map([["map",ce("map",["any","Result<any,any>"],"Result<any,any>",se(x,[_,w,k]),["mapper","value"],"std://result")],["and_then",ce("and_then",["any","Result<any,any>"],"Result<any,any>",se($,[_,w,k]),["mapper","value"],"std://result")],["or_else",ce("or_else",["any","Result<any,any>"],"Result<any,any>",se(K,[_,w,V]),["mapper","value"],"std://result")],["unwrap_or",ce("unwrap_or",["any","Result<any,any>"],"any",se(D,[_,w]),["default","value"],"std://result")],["is_ok",ce("is_ok",["Result<any,any>"],"bool",se(I,[_,w]),["value"],"std://result")],["is_err",ce("is_err",["Result<any,any>"],"bool",se(C,[_,w]),["value"],"std://result")],["Ok",ce("Ok",["any"],"Result<any,any>",se(H,[_,w]),["value"],"std://result")],["Err",ce("Err",["any"],"Result<any,any>",se(F,[_,w]),["error"],"std://result")]])}})(),A=(()=>{const _=be(),w=pe("Sender",[_]),k=pe("Receiver",[_]),V=pe("Channel",[_]),Z=pe("Option",[_]),le=ae([],V),G=ae([w,_],O("bool")),x=ae([k],Ge(Z)),$=ae([k],Z),K=ae([O("int")],V),D=ae([w],O("void")),I=ae([k],O("void")),C=ae([],O("bool"));return{kind:"module",name:"channel",moduleId:"std://channel",exports:new Map([["new",ce("new",[],"Channel<any>",se(le,[_]),[],"std://channel")],["send",ce("send",["Sender<any>","any"],"bool",se(G,[_]),["sender","value"],"std://channel")],["bounded",ce("bounded",["int"],"Channel<any>",se(K,[_]),["capacity"],"std://channel")],["recv",ce("recv",["Receiver<any>"],"Promise<Option<any>>",se(x,[_]),["receiver"],"std://channel")],["try_recv",ce("try_recv",["Receiver<any>"],"Option<any>",se($,[_]),["receiver"],"std://channel")],["close_sender",ce("close_sender",["Sender<any>"],"void",se(D,[_]),["sender"],"std://channel")],["close_receiver",ce("close_receiver",["Receiver<any>"],"void",se(I,[_]),["receiver"],"std://channel")],["is_available",ce("is_available",[],"bool",se(C,[]),[],"std://channel")]])}})(),N=(()=>{const _=be(),w=pe("Thread"),k=pe("Option",[_]),V=pe("Result",[w,O("string")]),Z=ae([O("string")],Ge(V)),le=ae([w,_],O("bool")),G=ae([w],Ge(k)),x=ae([w],k),$=ae([w],Ge(O("void"))),K=ae([w],Ge(O("int"))),D=ae([],O("bool"));return{kind:"module",name:"thread",moduleId:"std://thread",exports:new Map([["spawn",ce("spawn",["string"],"Promise<Result<Thread,string>>",se(Z,[]),["specifier"],"std://thread")],["post",ce("post",["Thread","any"],"bool",se(le,[_]),["thread","value"],"std://thread")],["recv",ce("recv",["Thread"],"Promise<Option<any>>",se(G,[_]),["thread"],"std://thread")],["try_recv",ce("try_recv",["Thread"],"Option<any>",se(x,[_]),["thread"],"std://thread")],["terminate",ce("terminate",["Thread"],"Promise<void>",se($,[]),["thread"],"std://thread")],["join",ce("join",["Thread"],"Promise<int>",se(K,[]),["thread"],"std://thread")],["is_available",ce("is_available",[],"bool",se(D,[]),[],"std://thread")]])}})(),B=(()=>{const _=pe("Mutex"),w=pe("Semaphore"),k=pe("AtomicI32"),V=ae([],_),Z=ae([_],Ge(O("bool"))),le=ae([_],O("bool")),G=ae([_],O("bool")),x=ae([_],O("bool")),$=ae([O("int")],w),K=ae([w],Ge(O("bool"))),D=ae([w],O("bool")),I=ae([w,O("int")],O("void")),C=ae([w],O("int")),H=ae([O("int")],k),F=ae([],O("bool")),ne=ae([k],O("int")),ee=ae([k,O("int")],O("int")),oe=ae([k,O("int")],O("int")),re=ae([k,O("int")],O("int")),ie=ae([k,O("int"),O("int")],O("int"));return{kind:"module",name:"sync",moduleId:"std://sync",exports:new Map([["mutex_new",ce("mutex_new",[],"Mutex",se(V,[]),[],"std://sync")],["mutex_acquire",ce("mutex_acquire",["Mutex"],"Promise<bool>",se(Z,[]),["mutex"],"std://sync")],["mutex_try_acquire",ce("mutex_try_acquire",["Mutex"],"bool",se(le,[]),["mutex"],"std://sync")],["mutex_release",ce("mutex_release",["Mutex"],"bool",se(G,[]),["mutex"],"std://sync")],["mutex_is_locked",ce("mutex_is_locked",["Mutex"],"bool",se(x,[]),["mutex"],"std://sync")],["semaphore_new",ce("semaphore_new",["int"],"Semaphore",se($,[]),["permits"],"std://sync")],["semaphore_acquire",ce("semaphore_acquire",["Semaphore"],"Promise<bool>",se(K,[]),["semaphore"],"std://sync")],["semaphore_try_acquire",ce("semaphore_try_acquire",["Semaphore"],"bool",se(D,[]),["semaphore"],"std://sync")],["semaphore_release",ce("semaphore_release",["Semaphore","int"],"void",se(I,[]),["semaphore","count"],"std://sync")],["semaphore_available",ce("semaphore_available",["Semaphore"],"int",se(C,[]),["semaphore"],"std://sync")],["atomic_i32_new",ce("atomic_i32_new",["int"],"AtomicI32",se(H,[]),["initial"],"std://sync")],["atomic_i32_is_available",ce("atomic_i32_is_available",[],"bool",se(F,[]),[],"std://sync")],["atomic_i32_load",ce("atomic_i32_load",["AtomicI32"],"int",se(ne,[]),["atomic"],"std://sync")],["atomic_i32_store",ce("atomic_i32_store",["AtomicI32","int"],"int",se(ee,[]),["atomic","value"],"std://sync")],["atomic_i32_add",ce("atomic_i32_add",["AtomicI32","int"],"int",se(oe,[]),["atomic","delta"],"std://sync")],["atomic_i32_sub",ce("atomic_i32_sub",["AtomicI32","int"],"int",se(re,[]),["atomic","delta"],"std://sync")],["atomic_i32_compare_exchange",ce("atomic_i32_compare_exchange",["AtomicI32","int","int"],"int",se(ie,[]),["atomic","expected","replacement"],"std://sync")]])}})(),M={kind:"module",name:"@prelude",moduleId:"std://prelude",exports:new Map([["println",me("println",["string"],"void",[O("string")],O("void"),["value"],"std://prelude")],["print",me("print",["string"],"void",[O("string")],O("void"),["value"],"std://prelude")],["len",me("len",["string"],"int",[O("string")],O("int"),["value"],"std://prelude")],["assert",me("assert",["bool"],"void",[O("bool")],O("void"),["condition"],"std://prelude")]])},R={kind:"module",name:"@std",moduleId:"std://root",exports:new Map([["io",r],["Option",S],["Result",E],["str",d],["math",p],["list",y],["vec",g],["hashmap",v],["hashset",b],["channel",A],["thread",N],["sync",B],["fs",i],["http",u],["time",s],["regex",f],["crypto",m]])};return a.set("@std",R),a.set("@std/io",r),a.set("@std/fs",i),a.set("@std/http",u),a.set("@std/time",s),a.set("@std/regex",f),a.set("@std/crypto",m),a.set("@std/Option",S),a.set("@std/Result",E),a.set("@std/str",d),a.set("@std/math",p),a.set("@std/list",y),a.set("@std/vec",g),a.set("@std/hashmap",v),a.set("@std/hashset",b),a.set("@std/channel",A),a.set("@std/thread",N),a.set("@std/sync",B),a.set("@prelude",M),a}function zc(a,r){const i=new Map;if(!r)return i;for(const u of a.body){if(u.type!=="Import")continue;const s=u,f=s.source?.value;if(!f)continue;const m=r.get(f);if(!m)continue;const d=s.spec;if(typeof d=="string"){i.set(d,{...m,name:d});continue}if(Array.isArray(d)){for(const p of d){const y=p,g=typeof p=="string"?p:y&&typeof y=="object"?y.name:void 0;if(!g)continue;const v=y.alias??g;if(!!y?.namespace)i.set(v,{...m,name:v});else{const S=m.exports.get(g);S&&(S.kind==="function"?i.set(v,Xh(S,v)):S.kind==="value"?i.set(v,Zh(S,v)):i.set(v,S))}}continue}if(d&&typeof d=="object"&&"name"in d){const p=d,y=p.name,g=p.alias??y,v=!!p.namespace;if(!y||!g)continue;if(v)i.set(g,{...m,name:g});else{const b=m.exports.get(y);b&&(b.kind==="function"?i.set(g,Xh(b,g)):b.kind==="value"?i.set(g,Zh(b,g)):i.set(g,b))}}}return i}function U0(a){if(!a)return[];const r=a.get("@prelude");return r?Array.from(r.exports.values()):[]}const Oc={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},$0=new Set(["i8","i16","i32","i64","i128","u8","u16","u32","u64","u128","f32","f64"]),Fs={i8:8,i16:16,i32:32,i64:64,i128:128,u8:8,u16:16,u32:32,u64:64,u128:128,int:32,float:64,f32:32,f64:64,string:0,bool:0,void:0,any:0},bu=a=>a.startsWith("i")||a.startsWith("u"),Su=a=>a==="f32"||a==="f64",Kh=a=>a.startsWith("u");function D0(a){const r=a.suffix??null;if(r&&$0.has(r))return{kind:"primitive",name:r};const i=a.raw??"";return{kind:"primitive",name:a.isFloat||i.includes(".")||i.includes("e")||i.includes("E")?"f64":"i32"}}function Jh(a,r){const i=rt(a,r);if(i.kind!=="primitive")return null;const u=Wn(i.name);return Sc(u)?u:null}function L0(a,r){const i=Wn(a),u=Wn(r);if(Su(i)&&bu(u))return!0;if(Su(i)&&Su(u))return i==="f64"&&u==="f32";if(bu(i)&&Su(u))return u==="f32"?!0:(Fs[i]??32)>53;if(bu(i)&&bu(u)){const s=Fs[i]??32,f=Fs[u]??32;if(s>f||s===f&&Kh(i)!==Kh(u))return!0}return!1}const Fe=a=>a?{start:{line:a.start.line,column:a.start.column,offset:a.start.offset??0},end:{line:a.end.line,column:a.end.column,offset:a.end.offset??0}}:Oc,jp=["Option","Box","Ref"];let _c=new Set(jp),Mu=null,Yl=null,Ji=!1,Pn=null;function V0(a,r){_c=new Set(r?.recursiveWrappers??jp),Pn=null;const i=new Rc,u=new Map,s=[],f=new Map,m=new Map,d=new Map,p=new Map,y=new Map,g=new Map,v=new Map,b=new Map,S=X0(a),E=Z0(a);Yl=E,Ji=r?.useRowPolymorphism??!1;const A=r?.moduleRegistry??kc(),N=r?.moduleBindings??zc(a,A),B=r?.preludeExports??U0(A);Mu=g;for(const _ of a.body)_.type==="StructDecl"&&F0(_,s,_c);for(const _ of B)_.kind==="function"&&i.extend(_.name,_.hmType);for(const[_,w]of N.entries())w.kind==="function"&&i.extend(_,w.hmType);for(const _ of a.body){if(_.type!=="FnDecl")continue;const w=jc(_,v);b.set(_.name,w);const k=_.async?Ge(w.returnType):w.returnType,V={kind:"function",args:w.paramTypes,returnType:k};i.extend(_.name,{kind:"scheme",variables:w.typeParamIds,type:V})}for(const _ of a.body){if(_.type==="FnDecl"){q0(_,i,u,s,f,m,d,p,b,S,E,v,N,y);continue}Aa(_,i,u,s,void 0,f,m,d,p,S,E,v,N,y)}Q0(v,u,s,f,d,p);const M=new Map;for(const[_,w]of g.entries())M.set(_,yn(w,u));const R={diagnostics:s,subst:u,inferredLets:f,inferredFnReturns:m,inferredFnByName:d,inferredFnParams:p,inferredCalls:y,inferredExprs:M};return Mu=null,Yl=null,Ji=!1,R}class Rc{constructor(r){this.parent=r,this.values=new Map}extend(r,i){this.values.set(r,i)}lookup(r){return this.values.get(r)??this.parent?.lookup(r)}child(){return new Rc(this)}freeVars(r){const i=new Set;for(const u of this.values.values()){const s=wa(u.type,r);for(const f of s)u.variables.includes(f)||i.add(f)}if(this.parent)for(const u of this.parent.freeVars(r))i.add(u);return i}}function jc(a,r){const i=new Map,u=[];for(const m of a.typeParams??[]){const d=be();if(i.set(m.name,d),d.kind!=="variable")throw new Error("Expected type variable for generic parameter");u.push(d.id)}const s=a.params.map((m,d)=>m.typeName?za(m.typeName,i,r,{ownerKind:"fn-param",ownerName:a.name,ownerLocation:a.location,paramName:m.name,paramIndex:d},m.location??a.location):be()),f=a.returnType?za(a.returnType,i,r,{ownerKind:"fn-return",ownerName:a.name,ownerLocation:a.location},a.location):be();return{paramTypes:s,returnType:f,typeParamIds:u}}function q0(a,r,i,u,s,f,m,d,p,y,g,v,b,S){const E=p.get(a.name)??jc(a,v),A=r.child(),N=!!a.async,B=Pn;Pn=E.returnType,E.paramTypes.forEach((_,w)=>{const k=a.params[w];k&&A.extend(k.name,{kind:"scheme",variables:[],type:_})});for(const _ of a.body.body)Aa(_,A,i,u,E.returnType,s,f,m,d,y,g,v,b,S,void 0,N);Pn=B;const M=N?Ge(E.returnType):E.returnType,R=yn(M,i);return a.location?.start&&f.set(wu(a.location),R),m.set(a.name,R),d.set(a.name,E.paramTypes.map(_=>rt(_,i))),{kind:"function",args:E.paramTypes,returnType:M}}function Aa(a,r,i,u,s,f,m,d,p,y,g,v,b,S,E,A=!1){switch(a.type){case"FnDecl":{const N=r.child(),B=!!a.async,M=jc(a,v),R=Pn;Pn=M.returnType,M.paramTypes.forEach((G,x)=>{const $=a.params[x];$&&N.extend($.name,{kind:"scheme",variables:[],type:G})});const{paramTypes:_,returnType:w,typeParamIds:k}=M;for(const G of a.body.body)Aa(G,N,i,u,w,f,m,d,p,y,g,v,b,S,void 0,B);const V=B?Ge(w):w,Z={kind:"function",args:_,returnType:V};r.lookup(a.name)||r.extend(a.name,{kind:"scheme",variables:k,type:Z});const le=yn(V,i);return a.location?.start&&m?.set(wu(a.location),le),d?.set(a.name,le),p?.set(a.name,_.map(G=>rt(G,i))),Pn=R,Z}case"Let":{const N=a.typeName?Kl(a.typeName,v,{ownerKind:"let",ownerName:a.name,ownerLocation:a.location},a.location):E,B=pn(a.value,r,i,u,y,g,b,S,N,A);if(!B)return null;if(N){const R=a.typeName?H0(a.typeName):null,_=R?`Expected '${a.name}' to match annotation '${R}'`:void 0;qe(N,B,i,u,{location:a.location,note:_})}const M=B0(B,i,r.freeVars(i));return r.extend(a.name,M),a.location?.start&&f?.set(wu(a.location),B),B}case"Return":{if(!s)return null;const N=pn(a.value,r,i,u,y,g,b,S,s,A);return N?(qe(s,N,i,u,{location:a.location,note:"Return expression must match the function return type"}),N):null}case"ExprStmt":return pn(a.expr,r,i,u,y,g,b,S,E,A);case"If":{const N=pn(a.condition,r,i,u,y,g,b,S,void 0,A);N&&qe(N,{kind:"primitive",name:"bool"},i,u,{location:a.condition.location,note:"Condition must be a bool"});const B=r.child();if(a.condition.type==="IsExpr"){const M=J0(a.condition,r,i,u,y,b,A);M&&B.extend(M.name,{kind:"scheme",variables:[],type:M.type})}for(const M of a.thenBlock.body)Aa(M,B,i,u,s,f,m,d,p,y,g,v,b,S,void 0,A);if(a.elseBlock){const M=r.child();if(a.condition.type==="IsExpr"){const R=I0(a.condition,r,i,u,y,b,A);R&&M.extend(R.name,{kind:"scheme",variables:[],type:R.type})}for(const R of a.elseBlock.body)Aa(R,M,i,u,s,f,m,d,p,y,g,v,b,S,void 0,A)}return null}case"While":{const N=pn(a.condition,r,i,u,y,g,b,S,void 0,A);N&&qe(N,{kind:"primitive",name:"bool"},i,u,{location:a.condition.location,note:"Loop condition must be a bool"});const B=r.child();for(const M of a.body.body)Aa(M,B,i,u,s,f,m,d,p,y,g,v,b,S,void 0,A);return null}case"MatchStmt":{const N=pn(a.value,r,i,u,y,g,b,S,void 0,A);for(const B of a.arms){const M=r.child();N&&Bp(B.pattern,N,M,i,u,y);for(const R of B.body.body)Aa(R,M,i,u,s,f,m,d,p,y,g,v,b,S,void 0,A)}return N&&y&&Up(a.arms,N,i,y,u,a.location),null}case"TraitDecl":case"ImplDecl":return null;case"Block":{const N=r.child();for(const B of a.body)Aa(B,N,i,u,s,f,m,d,p,y,g,v,b,S,void 0,A);return null}default:return null}}function pn(a,r,i,u,s,f,m,d,p,y=!1){const g=(v,b)=>pn(v,r,i,u,s,f,m,d,b,y);switch(a.type){case"Number":return We(a,D0(a),i);case"String":return We(a,{kind:"primitive",name:"string"},i);case"InterpolatedString":{for(const v of a.parts)typeof v!="string"&&g(v);return We(a,{kind:"primitive",name:"string"},i)}case"Range":{const v=S=>{const E=Wn(S);return E.startsWith("i")||E.startsWith("u")},b=(S,E)=>{if(!S)return;const A=g(S);A&&A.kind==="primitive"&&!v(A.name)&&u.push({severity:"error",code:"RANGE_TYPE",message:`Range ${E} must be an integer`,source:"lumina",location:Fe(S.location)})};return b(a.start,"start"),b(a.end,"end"),We(a,{kind:"adt",name:"Range",params:[]},i)}case"Index":{const v=g(a.object),b=g(a.index);if(b&&b.kind==="adt"&&b.name==="Range")return v&&qe(v,{kind:"primitive",name:"string"},i,u,{location:a.location,note:"Range indexing expects a string"}),We(a,{kind:"primitive",name:"string"},i);if(v&&v.kind==="adt"&&v.name==="Vec"&&v.params.length===1)return We(a,v.params[0],i);if(v&&v.kind==="variable"){const S=be();return qe(v,{kind:"adt",name:"Vec",params:[S]},i,u,{location:a.location,note:"Indexing expects a Vec"}),We(a,S,i)}return We(a,be(),i)}case"Boolean":return We(a,{kind:"primitive",name:"bool"},i);case"Await":{y||u.push({severity:"error",code:"AWAIT_OUTSIDE_ASYNC",message:"'await' can only be used inside async functions",source:"lumina",location:Fe(a.location)});const v=g(a.value);if(!v)return null;const b=be();return qe(v,Ge(b),i,u,{location:a.location,note:"Await expects a Promise value"}),We(a,b,i)}case"Try":{const v=g(a.value);if(!v)return null;const b=be(),S=be();if(qe(v,{kind:"adt",name:"Result",params:[b,S]},i,u,{location:a.location,note:"'?' expects a Result value"}),!Pn)u.push({severity:"error",code:"TRY_OUTSIDE_FUNCTION",message:"'?' can only be used inside functions returning Result",source:"lumina",location:Fe(a.location)});else{const N={kind:"adt",name:"Result",params:[be(),S]};qe(Pn,N,i,u,{location:a.location,note:"'?' requires the function to return Result"})}return We(a,b,i)}case"Identifier":{const v=r.lookup(a.name);return v?We(a,_u(v),i):null}case"Move":{const v=g(a.target,p);return v?We(a,v,i):null}case"Cast":{const v=g(a.expr);if(!v)return null;const b=Kl(a.targetType,void 0,void 0,Oc),S=Jh(v,i),E=Jh(b,i);return!S||!E?u.push({severity:"error",code:"TYPE-CAST",message:`Cannot cast ${Gt(v,i)} to ${Gt(b,i)}`,source:"lumina",location:Fe(a.location)}):L0(S,E)&&u.push({severity:"warning",code:"LOSSY-CAST",message:`Lossy conversion from ${Gt(v,i)} to ${Gt(b,i)}`,source:"lumina",location:Fe(a.location)}),We(a,b,i)}case"Binary":{const v=g(a.left),b=g(a.right);if(!v||!b)return null;if(a.op==="=="||a.op==="!=")return qe(v,b,i,u,{location:a.location,note:`Operands of '${a.op}' must be comparable`}),We(a,{kind:"primitive",name:"bool"},i);if(["+","-","*","/","<",">","<=",">="].includes(a.op)){const S=a.op==="<"||a.op===">"||a.op==="<="||a.op===">=",E=rt(v,i),A=rt(b,i),N={kind:"primitive",name:"i32"},B=_=>{qe(v,_,i,u,{location:a.location,note:`Left operand of '${a.op}' must be numeric`}),qe(b,_,i,u,{location:a.location,note:`Right operand of '${a.op}' must be numeric`})};E.kind==="primitive"&&Sc(Wn(E.name))?qe(b,E,i,u,{location:a.location,note:`Right operand of '${a.op}' must match numeric type`}):A.kind==="primitive"&&Sc(Wn(A.name))?qe(v,A,i,u,{location:a.location,note:`Left operand of '${a.op}' must match numeric type`}):B(N);const M=rt(v,i),R=M.kind==="primitive"?{kind:"primitive",name:Wn(M.name)}:N;return We(a,S?{kind:"primitive",name:"bool"}:R,i)}return null}case"Call":{if(a.receiver){g(a.receiver);const M=a.args.map(_=>g(_)??be()),R=be();return p&&qe(R,p,i,u,{location:a.location,note:"Call result must match expected type"}),ec(a,M,R,i,d),We(a,R,i)}const v=a.enumName,b=v?r.lookup(v):void 0;if(v&&!b&&m){const M=m.get(v);if(M?.kind==="module"){const R=M.exports.get(a.callee.name);if(!R||R.kind!=="function")return u.push({severity:"error",code:"HM_MODULE_MEMBER",message:`Unknown module member '${a.enumName}.${a.callee.name}'`,source:"lumina",location:Fe(a.location)}),null;const _=_u(R.hmType),w=a.args.map(Z=>g(Z)??be()),k=be();return qe(_,{kind:"function",args:w,returnType:k},i,u,{location:a.location,note:`In call to '${a.enumName}.${a.callee.name}'`}),p&&qe(k,p,i,u,{location:a.location,note:`Call result of '${a.enumName}.${a.callee.name}' must match expected type`}),ec(a,w,k,i,d),We(a,k,i)}}if(v&&!b&&s){const M=K0(a,r,i,u,s,f,m,d,p,y);if(M)return We(a,M,i)}const S=r.lookup(a.callee.name);if(!S)return null;const E=_u(S),A=a.args.map(M=>g(M)??be()),N=be();return qe(E,{kind:"function",args:A,returnType:N},i,u,{location:a.location,note:`In call to '${a.callee.name}'`}),p&&qe(N,p,i,u,{location:a.location,note:`Call result of '${a.callee.name}' must match expected type`}),ec(a,A,N,i,d),We(a,N,i)}case"Member":{const v=a.object.type==="Identifier"?a.object.name:null,b=v?!!r.lookup(v):!1;if(v&&m){const E=m.get(v);if(E?.kind==="module"){const A=E.exports.get(a.property);return A?.kind==="function"||A?.kind==="value"?We(a,_u(A.hmType),i):(u.push({severity:"error",code:"HM_MODULE_MEMBER",message:`Unknown module member '${v}.${a.property}'`,source:"lumina",location:Fe(a.location)}),null)}}if(!b&&s&&v){const E=s.get(v);if(E){const A=E.variants.get(a.property);if(!A)return u.push({severity:"error",code:"HM_ENUM_VARIANT",message:`Unknown enum variant '${v}.${a.property}'`,source:"lumina",location:Fe(a.location)}),null;if(A.length>0)return u.push({severity:"error",code:"HM_ENUM_VARIANT",message:`Enum variant '${v}.${a.property}' requires ${A.length} arguments`,source:"lumina",location:Fe(a.location)}),null;const N=E.typeParams.map(()=>be()),B={kind:"adt",name:v,params:N};return p&&qe(B,p,i,u),We(a,B,i)}}const S=g(a.object);if(!S)return null;if(f){const E=P0(S,a.property,f,i);if(E)return p&&qe(E,p,i,u,{location:a.location,note:`Field '${a.property}' must match expected type`}),We(a,E,i)}if(Ji){const E=be(),A=be(),N={kind:"row",fields:new Map([[a.property,E]]),tail:A};return qe(S,N,i,u,{location:a.location,note:`Field '${a.property}' access`}),We(a,E,i)}return null}case"IsExpr":{const v=W0(a,r,i,u,s,m,y);return v?We(a,v,i):null}case"MatchExpr":{const v=g(a.value);if(!v)return null;let b=null;for(const E of a.arms){const A=r.child();Bp(E.pattern,v,A,i,u,s);const N=pn(E.body,A,i,u,s,f,m,d,p??void 0,y);N&&(b?qe(b,N,i,u,{location:E.location,note:"Match arms must return the same type"}):b=N)}s&&Up(a.arms,v,i,s,u,a.location);const S=b??be();return We(a,S,i)}case"StructLiteral":{if(!f)return null;const v=f.get(a.name);if(!v)return u.push({severity:"error",code:"HM_STRUCT",message:`Unknown struct '${a.name}'`,source:"lumina",location:Fe(a.location)}),null;const b=new Map;a.typeArgs&&a.typeArgs.length>0?v.typeParams.forEach((A,N)=>{const B=a.typeArgs?.[N];B&&b.set(A,Kl(B))}):p&&p.kind==="adt"&&p.name===a.name&&v.typeParams.forEach((A,N)=>{const B=p.params[N];B&&b.set(A,B)});const S=v.typeParams.map(A=>b.get(A)??be());v.typeParams.forEach((A,N)=>{b.has(A)||b.set(A,S[N])});const E={kind:"adt",name:a.name,params:S};p&&qe(E,p,i,u);for(const A of a.fields){const N=v.fields.get(A.name);if(!N)continue;const B=za(N,b),M=g(A.value,B);M&&(qe(B,M,i,u,{location:A.location??a.location,note:`Field '${A.name}' must match expected type for struct '${a.name}'`}),We(A.value,M,i))}return We(a,E,i)}default:return null}}function _u(a){const r=new Map;for(const i of a.variables)r.set(i,be());return Pa(a.type,r)}function Pa(a,r){if(a.kind==="variable")return r.get(a.id)??a;if(a.kind==="function")return{kind:"function",args:a.args.map(i=>Pa(i,r)),returnType:Pa(a.returnType,r)};if(a.kind==="promise")return{kind:"promise",inner:Pa(a.inner,r)};if(a.kind==="adt")return{kind:"adt",name:a.name,params:a.params.map(i=>Pa(i,r))};if(a.kind==="row"){const i=new Map;for(const[u,s]of a.fields)i.set(u,Pa(s,r));return{kind:"row",fields:i,tail:a.tail?Pa(a.tail,r):null}}return a}function Ii(a){return typeof a=="object"&&!!a&&a.kind==="TypeHole"}function Kl(a,r,i,u){if(Ii(a)||a==="_"){const p=be();if(p.kind==="variable"&&r&&i){const y=Ii(a)?a.location:u;r.set(p.id,{...i,holeLocation:y})}return p}if(typeof a!="string")return{kind:"primitive",name:"any"};if(a==="unit"&&(a="void"),a==="int"||a==="float"||a==="string"||a==="bool"||a==="void"||a==="any"||a==="i8"||a==="i16"||a==="i32"||a==="i64"||a==="i128"||a==="u8"||a==="u16"||a==="u32"||a==="u64"||a==="u128"||a==="f32"||a==="f64")return{kind:"primitive",name:a};const s=a.indexOf("<");if(s===-1)return{kind:"adt",name:a,params:[]};const f=a.slice(0,s),m=a.slice(s+1,-1),d=Cp(m).map(p=>Kl(p,r,i,u));return f==="Promise"&&d.length===1?Ge(d[0]):{kind:"adt",name:f,params:d}}function H0(a){return Ii(a)||a==="_"?"_":typeof a=="string"?Ac(a):"any"}function G0(a){switch(a.ownerKind){case"fn-param":return`Hole in parameter '${a.paramName??"unknown"}' of '${a.ownerName}'`;case"fn-return":return`Hole in return type of '${a.ownerName}'`;default:return`Hole in annotation for '${a.ownerName}'`}}function Y0(a,r,i,u){if(a.ownerKind==="let"){if(!a.ownerLocation?.start)return null;const s=wu(Fe(a.ownerLocation));return r.get(s)??null}return a.ownerKind==="fn-param"?a.paramIndex==null?null:u.get(a.ownerName)?.[a.paramIndex]??null:a.ownerKind==="fn-return"?i.get(a.ownerName)??null:null}function Q0(a,r,i,u,s,f){for(const[m,d]of a.entries()){if(rt({kind:"variable",id:m},r).kind!=="variable")continue;const y=d.holeLocation??d.ownerLocation??Oc,g=[];g.push({location:Fe(y),message:`Hole type: ${Gt({kind:"variable",id:m},r)}`}),d.ownerLocation&&g.push({location:Fe(d.ownerLocation),message:G0(d)});const v=Y0(d,u,s,f);v&&g.push({location:Fe(d.ownerLocation??y),message:`Inferred type: ${Gt(v,r)}`}),i.push({severity:"error",message:"Cannot infer type for hole '_'",code:"LUM-010",source:"lumina",location:Fe(y),relatedInformation:g.length>0?g:void 0})}}function Cp(a){const r=[];let i=0,u="";for(const s of a){if(s==="<"&&i++,s===">"&&i--,s===","&&i===0){r.push(u.trim()),u="";continue}u+=s}return u.trim()&&r.push(u.trim()),r}function qe(a,r,i,u,s){try{let f=a,m=r;if(Ji&&Yl){const g=rt(f,i),v=rt(m,i);(g.kind==="row"||v.kind==="row")&&(f=tc(g,Yl,i)??f,m=tc(v,Yl,i)??m)}const d=s?[{expected:f,found:m,note:s.note,location:s.location}]:[],p=Yl;hn(f,m,i,_c,d,Ji&&p?g=>tc(g,p,i):void 0)}catch(f){const m=f instanceof Kn,d=f instanceof Error?f.message:"Type mismatch",y=(m?f.reason:d.includes("Function arity mismatch")?"arity":"mismatch")==="arity"?"LUM-002":"LUM-001",g=m?f.expected:a,v=m?f.found:r,b=`Type mismatch. Expected '${Gt(g,i)}' but found '${Gt(v,i)}'`,S=s?.note?` ${s.note}`:"",E=y==="LUM-002"?d:`${b}${S}`.trim(),A=m?f.trace.filter(N=>N.note||N.location).map(N=>({location:Fe(N.location),message:N.note??"Type constraint"})):s?.note?[{location:Fe(s.location),message:s.note}]:void 0;u.push({severity:"error",message:E,code:y,source:"lumina",location:Fe(s?.location),relatedInformation:A})}}function ec(a,r,i,u,s){if(!s||typeof a.id!="number")return;const f=r.map(d=>yn(d,u)),m=yn(i,u);s.set(a.id,{args:f,returnType:m})}function yn(a,r){const i=rt(a,r);if(i.kind==="function")return{kind:"function",args:i.args.map(u=>yn(u,r)),returnType:yn(i.returnType,r)};if(i.kind==="adt")return{kind:"adt",name:i.name,params:i.params.map(u=>yn(u,r))};if(i.kind==="promise")return{kind:"promise",inner:yn(i.inner,r)};if(i.kind==="row"){const u=new Map;for(const[s,f]of i.fields)u.set(s,yn(f,r));return{kind:"row",fields:u,tail:i.tail?yn(i.tail,r):null}}return i}function We(a,r,i){const u=yn(r,i);return Mu&&typeof a.id=="number"&&Mu.set(a.id,u),u}function wu(a){return`${a.start.line}:${a.start.column}:${a.start.offset}`}function X0(a){const r=new Map;for(const i of a.body){if(i.type!=="EnumDecl")continue;const u=(i.typeParams??[]).map(f=>f.name),s=new Map;for(const f of i.variants)s.set(f.name,f.params??[]);r.set(i.name,{typeParams:u,variants:s})}return r}function Z0(a){const r=new Map;for(const i of a.body){if(i.type!=="StructDecl")continue;const u=(i.typeParams??[]).map(f=>f.name),s=new Map;for(const f of i.body)s.set(f.name,f.typeName);r.set(i.name,{typeParams:u,fields:s})}return r}function K0(a,r,i,u,s,f,m,d,p,y=!1){if(!a.enumName)return null;const g=s.get(a.enumName);if(!g)return u.push({severity:"error",code:"HM_ENUM",message:`Unknown enum '${a.enumName}'`,source:"lumina",location:Fe(a.location)}),null;const v=g.typeParams.map(()=>be()),b=new Map;g.typeParams.forEach((N,B)=>b.set(N,v[B]));const S=g.variants.get(a.callee.name);if(!S)return u.push({severity:"error",code:"HM_ENUM_VARIANT",message:`Unknown enum variant '${a.enumName}.${a.callee.name}'`,source:"lumina",location:Fe(a.location)}),null;const E=a.args.map(N=>pn(N,r,i,u,s,f,m,d,void 0,y)??be());for(let N=0;N<E.length&&N<S.length;N++){const B=za(S[N],b);qe(E[N],B,i,u)}const A={kind:"adt",name:a.enumName,params:v};return p&&qe(A,p,i,u),rt(A,i)}function Bp(a,r,i,u,s,f){if(a.type==="WildcardPattern")return;const m=a.enumName??(r.kind==="adt"?r.name:null);if(!m||!f)return;const d=f.get(m);if(!d){s.push({severity:"error",code:"HM_ENUM",message:`Unknown enum '${m}'`,source:"lumina",location:Fe(a.location)});return}const p=d.typeParams.map(()=>be()),y=new Map;d.typeParams.forEach((b,S)=>y.set(b,p[S])),qe(r,{kind:"adt",name:m,params:p},u,s);const v=d.variants.get(a.variant);if(!v){s.push({severity:"error",code:"HM_ENUM_VARIANT",message:`Unknown enum variant '${m}.${a.variant}'`,source:"lumina",location:Fe(a.location)});return}for(let b=0;b<a.bindings.length&&b<v.length;b++){const S=a.bindings[b];if(S==="_")continue;const E=za(v[b],y);i.extend(S,{kind:"scheme",variables:[],type:E})}}function J0(a,r,i,u,s,f,m=!1){if(!s||a.value.type!=="Identifier")return null;const d=Cc(a.enumName,a.variant,s);if(!d)return null;const p=s.get(d);if(!p)return null;const y=p.typeParams.map(()=>be()),g={kind:"adt",name:d,params:y},v=pn(a.value,r,i,u,s,void 0,f,void 0,void 0,m);return v&&qe(v,g,i,u),{name:a.value.name,type:rt(g,i)}}function I0(a,r,i,u,s,f,m=!1){if(!s||a.value.type!=="Identifier")return null;const d=Cc(a.enumName,a.variant,s);if(!d)return null;const p=s.get(d);if(!p||p.variants.size!==2)return null;const y=p.typeParams.map(()=>be()),g={kind:"adt",name:d,params:y},v=pn(a.value,r,i,u,s,void 0,f,void 0,void 0,m);return v&&qe(v,g,i,u),{name:a.value.name,type:rt(g,i)}}function W0(a,r,i,u,s,f,m=!1){const d=pn(a.value,r,i,u,s,void 0,f,void 0,void 0,m);if(!s)return{kind:"primitive",name:"bool"};const p=Cc(a.enumName,a.variant,s);if(!p)return u.push({severity:"error",code:"HM_ENUM_VARIANT",message:`Unknown enum variant '${a.variant}'`,source:"lumina",location:Fe(a.location)}),{kind:"primitive",name:"bool"};const y=s.get(p);if(!y)return u.push({severity:"error",code:"HM_ENUM",message:`Unknown enum '${p}'`,source:"lumina",location:Fe(a.location)}),{kind:"primitive",name:"bool"};const g=y.typeParams.map(()=>be());return d&&qe(d,{kind:"adt",name:p,params:g},i,u),{kind:"primitive",name:"bool"}}function Cc(a,r,i){if(a)return a;let u=null;for(const[s,f]of i.entries())if(f.variants.has(r)){if(u&&u!==s)return null;u=s}return u}function za(a,r,i,u,s){if(Ii(a)||a==="_"){const g=be();if(g.kind==="variable"&&i&&u){const v=Ii(a)?a.location:s;i.set(g.id,{...u,holeLocation:v})}return g}if(typeof a!="string")return{kind:"primitive",name:"any"};const f=a.indexOf("<"),m=f===-1?a:a.slice(0,f),d=r.get(m);if(d)return d;if(f===-1)return Kl(a,i,u,s);const p=a.slice(f+1,-1),y=Cp(p).map(g=>za(g,r,i,u,s));return m==="Promise"&&y.length===1?Ge(y[0]):{kind:"adt",name:m,params:y}}function P0(a,r,i,u){const s=rt(a,u);if(s.kind!=="adt")return null;const f=i.get(s.name);if(!f)return null;const m=new Map;f.typeParams.forEach((p,y)=>{m.set(p,s.params[y]??be())});const d=f.fields.get(r);return d?za(d,m):null}function tc(a,r,i){const u=rt(a,i);if(u.kind!=="adt")return null;const s=r.get(u.name);if(!s)return null;const f=new Map;s.typeParams.forEach((d,p)=>{f.set(d,u.params[p]??be())});const m=new Map;for(const[d,p]of s.fields)m.set(d,za(p,f));return{kind:"row",fields:m,tail:null}}function Gt(a,r){const i=rt(a,r);switch(i.kind){case"primitive":return Ru(i.name);case"hole":return"_";case"variable":return`unknown(t${i.id})`;case"function":return`(${i.args.map(s=>Gt(s,r)).join(", ")}) -> ${Gt(i.returnType,r)}`;case"adt":return i.params.length===0?i.name:`${i.name}<${i.params.map(u=>Gt(u,r)).join(", ")}>`;case"promise":return`Promise<${Gt(i.inner,r)}>`;case"row":{const u=Array.from(i.fields.entries()).map(([f,m])=>`${f}: ${Gt(m,r)}`),s=i.tail?Gt(i.tail,r):null;return s?`{ ${u.join(", ")} | ${s} }`:`{ ${u.join(", ")} }`}default:return"unknown"}}function Up(a,r,i,u,s,f){const m=rt(r,i);let d=m.kind==="adt"?m.name:null;if(!d){for(const S of a)if(S.pattern.type==="EnumPattern"&&S.pattern.enumName){d=S.pattern.enumName;break}}if(!d)return;const p=u.get(d);if(!p)return;const y=new Set(p.variants.keys()),g=new Set;let v=!1;for(const S of a){const E=S.pattern;if(E.type==="WildcardPattern"){v=!0;break}if(E.type==="EnumPattern"){if(E.enumName&&E.enumName!==d)continue;g.add(E.variant)}}if(v)return;const b=Array.from(y).filter(S=>!g.has(S));b.length!==0&&s.push({severity:"error",code:"LUM-003",message:`Non-exhaustive match. Missing cases: ${b.join(", ")}`,source:"lumina",location:Fe(f)})}function F0(a,r,i){const u=a.name;for(const s of a.body){const f=Kl(s.typeName);$p(f,u,i,!1)&&r.push({severity:"error",code:"RECURSIVE_TYPE_ERROR",message:`Recursive type detected: field '${s.name}' directly references '${u}' without a wrapper`,source:"lumina",location:Fe(s.location)})}}function $p(a,r,i,u){if(a.kind!=="adt")return!1;if(a.name===r)return!u;const s=u||i.has(a.name);return a.params.some(f=>$p(f,r,i,s))}const eb={start:{line:1,column:1},end:{line:1,column:1}};function tb(a,r,i="inline"){const u=a.location??eb,s=r.split(`
`),f=u.start,m=u.end,d=Math.max(0,f.line-1),p=s[d]??"",y=" ".repeat(Math.max(0,f.column-1)),g=m.line===f.line?Math.max(1,m.column-f.column):1,v=[`${String(f.line).padStart(3)} | ${p}`,`    | ${y}${"^".repeat(g)}`].join(`
`);return{code:a.code??"LUM-000",severity:a.severity??"error",message:a.message,range:{start:{line:f.line,column:f.column},end:{line:m.line,column:m.column}},sourceFile:i,context:v}}const nc=a=>a.replace(/[^A-Za-z0-9_]/g,"_").replace(/_+/g,"_").replace(/^_+|_+$/g,"");function Ih(a,r,i){const u=nc(pt(a)),s=nc(pt(r)),f=nc(i);return`${u}$${s}$${f}`}class ju{constructor(){this.symbols=new Map}define(r){this.symbols.set(r.name,r)}has(r){return this.symbols.has(r)}get(r){return this.symbols.get(r)}list(){return Array.from(this.symbols.values())}}const Dp=new Set(["int","float","string","bool","void","any","i8","i16","i32","i64","i128","u8","u16","u32","u64","u128","f32","f64","Vec","HashMap","HashSet","Range"]),nb=new Set(["int","float","i8","i16","i32","i64","i128","u8","u16","u32","u64","u128","f32","f64"]),xa=a=>a==="int"?"i32":a==="float"?"f64":a,Wi=(a,r)=>pt(a)===pt(r),Ma=a=>nb.has(a),Wh=a=>{if(a==="int")return 32;const r=String(a).match(/^[iu](\d+)$/);return r?Number(r[1]):0},Tu=a=>a==="f32"||a==="f64"||a==="float",Hl=a=>a==="int"||String(a).startsWith("i")||String(a).startsWith("u"),kn="Self",ab=a=>typeof a=="object"&&!!a&&a.kind==="TypeHole",xe=a=>a?ab(a)?"any":typeof a=="string"&&a==="unit"?"void":a:null,it={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},q=(a,r,i="error",u,s)=>({severity:i,message:a,location:r??it,code:u??(i==="warning"?"LINT":"TYPE_ERROR"),source:"lumina",relatedInformation:s});function ye(a){if(!a)return"unknown";const r=Ac(a),i=Ce(r);if(!i)return r;const u=Ru(i.base);if(i.args.length===0)return u;const s=i.args.map(f=>ye(f));return`${u}<${s.join(",")}>`}const Au=a=>{if(a.type==="Identifier")return a.name;if(a.type!=="Member")return null;let r=a.object;for(;r.type==="Member";)r=r.object;return r.type==="Identifier"?r.name:null},Tc=a=>{if(a.type==="Identifier")return a.name;if(a.type!=="Member")return null;const r=[];let i=a;for(;i.type==="Member";)r.unshift(i.property),i=i.object;return i.type!=="Identifier"?null:(r.unshift(i.name),r.join("."))},Ql=(a,r)=>r===a||r.startsWith(`${a}.`),ac=(a,r,i)=>{if(i!==r){if(Ql(r,i)){const u=i.slice(r.length+1);if(u)return`Cannot ${a} '${r}' because field '${u}' was already moved`}else if(Ql(i,r))return`Cannot ${a} '${r}' because '${i}' was already moved`}return`Cannot ${a} '${r}' because it was already moved`},Lp=(a,r,i)=>{const u=Au(a);if(!u)return!1;const s=r.get(u)??i?.externSymbols?.(u);return!!(s&&(s.mutable||s.refMutable))};function lb(a,r){const i=[],u=new ju,s=new Map,f=new Map;let m,d;const p=r?.moduleRegistry??(r?.moduleBindings?void 0:kc()),y=r?.moduleBindings??zc(a,p),g=r?.importedNames??new Set(y.keys());let v=r?{...r,moduleBindings:y,importedNames:g}:{moduleBindings:y,importedNames:g};for(const N of Dp)u.define({name:N,kind:"type",type:N});if(v?.externalSymbols)for(const N of v.externalSymbols)v.currentUri&&N.uri&&N.uri===v.currentUri||v.importedNames&&!v.importedNames.has(N.name)||u.has(N.name)||u.define(N);for(const N of a.body)if(N.type!=="ErrorNode"){if(N.type==="TypeDecl"){const B=N.typeParams?.map(M=>({name:M.name,bound:(M.bound??[]).map(R=>xe(R)??"any")}));u.define({name:N.name,kind:"type",type:N.name,location:N.location,visibility:N.visibility??"private",uri:r?.currentUri,typeParams:B??[],extern:N.extern??!1,externModule:N.externModule??null})}else if(N.type==="StructDecl"){const B=new Map;for(const R of N.body)B.set(R.name,xe(R.typeName)??"any");const M=N.typeParams?.map(R=>({name:R.name,bound:(R.bound??[]).map(_=>xe(_)??"any")}));u.define({name:N.name,kind:"type",type:N.name,location:N.location,visibility:N.visibility??"private",uri:r?.currentUri,typeParams:M??[],structFields:B})}else if(N.type==="EnumDecl"){const B=N.typeParams?.map(M=>({name:M.name,bound:(M.bound??[]).map(R=>xe(R)??"any")}));u.define({name:N.name,kind:"type",type:N.name,location:N.location,visibility:N.visibility??"private",uri:r?.currentUri,typeParams:B??[],enumVariants:N.variants.map(M=>({name:M.name,params:(M.params??[]).map(R=>xe(R)??"any")}))})}else if(N.type==="FnDecl"){const B=r?.cachedFunctionReturns?.get(N.name),M=r?.hmInferred?.fnByName.get(N.name),R=r?.hmInferred?.fnParams.get(N.name),_=N.typeParams?.map(k=>({name:k.name,bound:(k.bound??[]).map(V=>xe(V)??"any")}));let w=xe(N.returnType)??B??M??void 0;if(w&&N.async){const k=Ce(w);k&&k.base==="Promise"&&k.args.length===1||(w=`Promise<${w}>`)}u.define({name:N.name,kind:"function",async:!!N.async,type:w,pendingReturn:xe(N.returnType)==null&&B==null&&M==null,location:N.location,visibility:N.visibility??"private",extern:N.extern??!1,uri:r?.currentUri,typeParams:_??[],paramTypes:N.params.map((k,V)=>xe(k.typeName)??R?.[V]??"any"),paramNames:N.params.map(k=>k.name),paramRefs:N.params.map(k=>!!k.ref),paramRefMuts:N.params.map(k=>!!k.refMut),externModule:N.externModule??null})}}const b=db(a,u,i,r),S=new Map;if(v={...v??{},traitRegistry:b,traitMethodResolutions:S},r?.indexingOnly)return{symbols:u,diagnostics:i,diGraphs:r?.diDebug?f:void 0,traitRegistry:b,traitMethodResolutions:S};if(r?.useHm){const N=V0(a,{moduleRegistry:p,moduleBindings:y,recursiveWrappers:r?.recursiveWrappers,useRowPolymorphism:r?.useRowPolymorphism}),B=r.hmSourceText??"",M=r.currentUri??"inline",R={letTypes:new Map,fnReturns:new Map,fnByName:new Map,fnParams:new Map};for(const[_,w]of N.inferredLets){const k=In(w);k&&R.letTypes.set(_,k)}for(const[_,w]of N.inferredFnReturns){const k=In(w);k&&R.fnReturns.set(_,k)}for(const[_,w]of N.inferredFnByName){const k=In(w);k&&R.fnByName.set(_,k)}for(const[_,w]of N.inferredFnParams){const k=w.map(V=>In(V)??"any");R.fnParams.set(_,k)}m=new Map;for(const[_,w]of N.inferredCalls){const k=w.args.map(Z=>In(Z)??"any"),V=In(w.returnType)??"any";m.set(_,{args:k,returnType:V})}d=new Map;for(const[_,w]of N.inferredExprs)d.set(_,Fa(w));v={...r,hmInferred:R};for(const _ of u.list()){if(_.kind!=="function")continue;const w=R.fnByName.get(_.name),k=R.fnParams.get(_.name);let V=!1;const Z={..._};w&&(_.type==null||_.type==="any")&&(Z.type=w,Z.pendingReturn=!1,V=!0),k&&k.length>0&&(Z.paramTypes=k,V=!0),V&&u.define(Z)}for(const _ of N.diagnostics){const w=tb(_,B,M);i.push({code:w.code,message:w.message,severity:w.severity==="info"?"warning":w.severity,location:_.location??it,source:_.source??"lumina",relatedInformation:_.relatedInformation})}}const E=new Jn,A=new Set;fb(u,i,r);for(const N of a.body)N.type!=="FnDecl"&&An(N,u,i,null,E,v,void 0,A,s,void 0,void 0);if(r?.useHm)for(const N of u.list())N.kind!=="function"||!N.pendingReturn||u.define({...N,type:N.type??"any",pendingReturn:!1});else{let B=!0,M=0;for(;B&&M<5;){B=!1,M+=1;for(const _ of a.body){if(_.type!=="FnDecl"||r?.skipFunctionBodies?.has(_.name))continue;const w=u.get(_.name);if(!w||!w.pendingReturn||A.has(_.name))continue;A.add(_.name),s.set(_.name,new Set);const k=Nc(_,u,i,v,A,s,E,f);A.delete(_.name),k?(u.define({...w,type:k,pendingReturn:!1}),s.delete(_.name),B=!0):k==="void"&&(u.define({...w,type:"void",pendingReturn:!1}),s.delete(_.name),B=!0)}const R=rb(s);if(R.length>0){for(const _ of R){const w=u.get(_);i.push(q(`Recursive inference detected for '${_}'`,w?.location??a.location)),w&&u.define({...w,type:"any",pendingReturn:!1})}B=!1}}}for(const N of a.body)if(N.type!=="ErrorNode"&&N.type==="FnDecl"){if(r?.skipFunctionBodies?.has(N.name))continue;Nc(N,u,i,v,A,s,E,f)}return cb(E,i,a.location),{symbols:u,diagnostics:i,diGraphs:r?.diDebug?f:void 0,hmCallSignatures:m,hmExprTypes:d,traitRegistry:b,traitMethodResolutions:S}}function Nc(a,r,i,u,s,f,m,d){if(a.type!=="FnDecl")return null;if(u?.skipFunctionBodies?.has(a.name)){const w=u.cachedFunctionReturns?.get(a.name);return w||(xe(a.returnType)??null)}const p=!!a.async,y=u?.hmInferred?.fnByName.get(a.name)??null,g=xe(a.returnType)??y??(u?.useHm?"any":null);let v=g,b=g;if(p&&g){const w=Ce(g);w&&w.base==="Promise"&&w.args.length===1?(b=w.args[0],v=g):(b=g,v=`Promise<${g}>`)}else p&&(v=null,b=null);const S=new ju;for(const w of r.list())S.define(w);const E=new Map,A=new Map;for(const w of a.typeParams??[]){const k=w.bound?.[0];E.set(w.name,k?xe(k)??"any":void 0);const V=[];for(const Z of w.bound??[]){const le=xe(Z);le&&V.push(le)}V.length>0&&A.set(w.name,V)}const N=new Jn(m),B=u?.hmInferred?.fnParams.get(a.name);if(a.params.forEach((w,k)=>{const V=xe(w.typeName)??B?.[k]??null;!w.typeName&&!u?.useHm&&i.push(q(`Missing type annotation for parameter '${w.name}'`,w.location??a.location));const Z=V??"any";if(w.typeName&&gn(w.typeName,r,new Set(E.keys()),i,w.location??a.location)==="unknown"){const G=xe(w.typeName),x=G?ka(G,Ki(r,u)):null,$=x?[{location:w.location??a.location??it,message:`Did you mean '${x}'?`}]:void 0;i.push(q(`Unknown type '${G??"unknown"}' for parameter '${w.name}'`,w.location??a.location,"error","UNKNOWN_TYPE",$))}S.define({name:w.name,kind:"variable",type:Z,location:w.location??a.location,ref:!!w.ref,refMutable:!!w.refMut,mutable:!1}),N.define(w.name,w.location??a.location)}),a.extern)return v??g??null;u?.diDebug&&d&&d.set(a.name,gb(a.name,a.body.body));const M=b?void 0:{types:[]},R=new Bc;for(const w of a.params)R.define(N,w.name,!0);for(const w of a.body.body)An(w,S,i,b,N,{...u,typeParams:E,typeParamBounds:A},M,s,f,a.name,R);if(Pi(N,i,a.location),b)return v??b;const _=ib(a.body);if(f.get(a.name)?.size)return M&&M.types.length===0&&!_?(f.delete(a.name),p?"Promise<void>":"void"):null;if(M&&M.types.length>0){const[w,...k]=M.types;return k.some(Z=>!Wi(Z,w))?(i.push(q(`Inconsistent return types for '${a.name}'`,a.location)),null):p?`Promise<${w}>`:w}return p?"Promise<void>":"void"}function ib(a){const r=i=>{switch(i.type){case"Return":return!0;case"Block":return i.body.some(r);case"If":return r(i.thenBlock)||(i.elseBlock?r(i.elseBlock):!1);case"While":return r(i.body);case"MatchStmt":return i.arms.some(u=>r(u.body));default:return!1}};return a.body.some(r)}function rb(a){const r=new Set,i=new Set,u=new Set,s=f=>{if(i.has(f)){u.add(f);return}if(r.has(f))return;r.add(f),i.add(f);const m=a.get(f);if(m)for(const d of m)s(d);i.delete(f)};for(const f of a.keys())s(f);return Array.from(u)}function lc(a,r){const i=a.list(),u=[];for(const s of i)s.uri&&r?.currentUri&&s.uri!==r.currentUri&&s.visibility==="private"||u.push(s.name);return u}function Ki(a,r){const i=a.list(),u=[];for(const s of i)s.kind==="type"&&(s.uri&&r?.currentUri&&s.uri!==r.currentUri&&s.visibility==="private"||u.push(s.name));return u}function Ec(a,r,i){for(const u of a.list()){if(!u.enumVariants||u.uri&&i?.currentUri&&u.uri!==i.currentUri&&u.visibility==="private")continue;const s=u.enumVariants.find(f=>f.name===r);if(s)return{enumName:u.name,params:s.params}}return null}function Xl(a,r,i,u){const s=a.get(r);if(!s||!s.enumVariants||s.uri&&u?.currentUri&&s.uri!==u.currentUri&&s.visibility==="private")return null;const f=s.enumVariants.find(m=>m.name===i);return f?{enumName:s.name,params:f.params}:null}function Ph(a,r,i){const u=Ec(a,r,i);return!u||u.params.length!==1?null:u.params[0]}function Fh(a,r,i,u){const s=Xl(a,r,i,u);return!s||s.params.length!==1?null:s.params[0]}function ub(a,r,i){if(a.type==="IsExpr"){if(a.value.type!=="Identifier")return null;const f=a.enumName?Fh(r,a.enumName,a.variant,i):Ph(r,a.variant,i);return f?{name:a.value.name,type:f,when:"then"}:null}if(a.type!=="Binary"||a.op!=="=="&&a.op!=="!=")return null;const u=(f,m,d)=>{if(f.type!=="Identifier"||m.type!=="Call")return null;const p=m.enumName?Fh(r,m.enumName,m.callee.name,i):Ph(r,m.callee.name,i);return p?{name:f.name,type:p,when:d}:null},s=a.op==="=="?"then":"else";return u(a.left,a.right,s)??u(a.right,a.left,s)}function ob(a,r){if(!r)return null;const u=Ce(r)?.base??r,s=a.get(u);return!s||!s.enumVariants?null:{name:u,variants:s.enumVariants}}function Vp(a,r,i){const s=i.get(a)?.typeParams??[];if(s.length===0||!r)return null;const f=Ce(r);if(!f||f.base!==a||f.args.length!==s.length)return null;const m=new Map;return s.forEach((d,p)=>{m.set(d.name,f.args[p])}),m}function sb(a,r){const i=Array.from({length:a.length+1},()=>new Array(r.length+1).fill(0));for(let u=0;u<=a.length;u++)i[u][0]=u;for(let u=0;u<=r.length;u++)i[0][u]=u;for(let u=1;u<=a.length;u++)for(let s=1;s<=r.length;s++){const f=a[u-1]===r[s-1]?0:1;i[u][s]=Math.min(i[u-1][s]+1,i[u][s-1]+1,i[u-1][s-1]+f)}return i[a.length][r.length]}function ka(a,r){let i=null;for(const u of r){const s=sb(a,u);(i===null||s<i.dist)&&(i={name:u,dist:s})}return i&&i.dist<=2?i.name:null}function An(a,r,i,u,s,f,m,d,p,y,g){try{switch(a.type){case"ErrorNode":i.push(q(a.message??"Invalid syntax",a.location));return;case"TypeDecl":if(a.extern)return;if(a.typeParams&&a.typeParams.length>0){const v=f?.traitRegistry?new Set(f.traitRegistry.traits.keys()):void 0;for(const b of a.typeParams)if(Ou(b.name)||i.push(q(`Invalid type parameter '${b.name}'`,a.location)),b.bound)for(const S of b.bound){const E=xe(S);E&&!al(E,r,new Set(a.typeParams.map(A=>A.name)),v,!0)&&i.push(q(`Unknown bound '${E}' for type parameter '${b.name}'`,a.location))}}{const v=new Map;for(const b of a.typeParams??[]){const S=b.bound?.[0];v.set(b.name,S?xe(S)??"any":void 0)}for(const b of a.body)if(gn(b.typeName,r,new Set(v.keys()),i,a.location)==="unknown"){const E=xe(b.typeName),A=E?ka(E,Ki(r,f)):null,N=A?[{location:a.location??it,message:`Did you mean '${A}'?`}]:void 0;i.push(q(`Unknown type '${E??"unknown"}' for field '${b.name}'`,a.location,"error","UNKNOWN_TYPE",N))}}return;case"TraitDecl":case"ImplDecl":return;case"StructDecl":{if(a.typeParams&&a.typeParams.length>0){const v=f?.traitRegistry?new Set(f.traitRegistry.traits.keys()):void 0;for(const b of a.typeParams)if(Ou(b.name)||i.push(q(`Invalid type parameter '${b.name}'`,a.location)),b.bound)for(const S of b.bound){const E=xe(S);E&&!al(E,r,new Set(a.typeParams.map(A=>A.name)),v,!0)&&i.push(q(`Unknown bound '${E}' for type parameter '${b.name}'`,a.location))}}{const v=new Map;for(const b of a.typeParams??[]){const S=b.bound?.[0];v.set(b.name,S?xe(S)??"any":void 0)}for(const b of a.body)if(gn(b.typeName,r,new Set(v.keys()),i,a.location)==="unknown"){const E=xe(b.typeName),A=E?ka(E,Ki(r,f)):null,N=A?[{location:a.location??it,message:`Did you mean '${A}'?`}]:void 0;i.push(q(`Unknown type '${E??"unknown"}' for field '${b.name}'`,a.location,"error","UNKNOWN_TYPE",N))}}return}case"EnumDecl":{for(const v of a.variants)for(const b of v.params??[]){const S=xe(b);S&&!al(S,r,new Set(a.typeParams?.map(E=>E.name)??[]))&&i.push(q(`Unknown type '${S}' for enum variant '${v.name}'`,v.location??a.location))}return}case"FnDecl":{Nc(a,r,i,f,d??new Set,p??new Map,s);return}case"Let":{const v=f?.typeParams??new Map,b=xe(a.typeName)??null;if(s){const B=s.parent,M=B?Zl(B,a.name):null;if(M){const R=M.locals.get(a.name),_=R?[{location:R,message:`Previous '${a.name}' declared here`}]:void 0;i.push(q(`Binding '${a.name}' shadows a variable from an outer scope`,a.location,"warning","SHADOWED_BINDING",_))}}if(b&&gn(b,r,new Set(v.keys()),i,a.location)==="unknown"){const M=ka(b,Ki(r,f)),R=M?[{location:a.location??it,message:`Did you mean '${M}'?`}]:void 0;i.push(q(`Unknown type '${b}' for variable '${a.name}'`,a.location,"error","UNKNOWN_TYPE",R))}s&&g&&g.define(s,a.name,!1),s&&s.define(a.name,a.location),r.define({name:a.name,kind:"variable",type:b??"any",location:a.location,mutable:a.mutable??!1});const S=we(a.value,r,i,s,f,b??void 0,d,p,y,g),E=xc(a.location),A=!b&&E?f?.hmInferred?.letTypes.get(E)??null:null;b&&S&&!ot(S,b,r,f?.typeParams)&&i.push(q(`Type mismatch: '${a.name}' is '${ye(b)}' but value is '${ye(S)}'`,a.location));const N=b??S??A;if(!N){if(a.value.type==="Call"&&!b&&(()=>{const B=a.value.callee.name,M=r.get(B)??f?.externSymbols?.(B);return!!(M&&M.kind==="function"&&M.pendingReturn)})()){r.define({name:a.name,kind:"variable",type:"any",location:a.location}),s?.define(a.name,a.location);return}i.push(q(`Could not infer type for '${a.name}'`,a.location))}N==="void"&&i.push(q(`Cannot bind void value to '${a.name}'`,a.location,"error","VOID_BINDING")),r.define({name:a.name,kind:"variable",type:N??"any",location:a.location,mutable:a.mutable??!1}),s&&g&&g.assign(s,a.name);return}case"If":{const v=we(a.condition,r,i,s,f,void 0,d,p,y,g);v&&v!=="bool"&&i.push(q("If condition must be 'bool'",a.location));const b=ub(a.condition,r,f);let S=null;if(a.condition.type==="IsExpr"&&a.condition.value.type==="Identifier"){const A=we(a.condition.value,r,i,s,f,void 0,d,p,y,g),N=ob(r,A);if(N){const B=a.condition.variant,M=N.variants.filter(R=>R.name!==B);M.length===1&&M[0].params.length===1&&(S={name:a.condition.value.name,type:M[0].params[0]})}}const E=Tn(s);if(g){const A=g.clone(),N=g.clone(),B=new Jn(s);b&&b.when==="then"&&B.narrow(b.name,b.type),An(a.thenBlock,r,i,u,B,f,m,d,p,y,A);const M=Tn(s);Xi(E);let R=E;if(a.elseBlock){const _=new Jn(s);b&&b.when==="else"&&_.narrow(b.name,b.type),S&&_.narrow(S.name,S.type),An(a.elseBlock,r,i,u,_,f,m,d,p,y,N),R=Tn(s)}Zi(s,[M,R]),g.mergeFromBranches([A,N])}else{const A=new Jn(s);b&&b.when==="then"&&A.narrow(b.name,b.type),An(a.thenBlock,r,i,u,A,f,m,d,p,y);const N=Tn(s);Xi(E);let B=E;if(a.elseBlock){const M=new Jn(s);b&&b.when==="else"&&M.narrow(b.name,b.type),S&&M.narrow(S.name,S.type),An(a.elseBlock,r,i,u,M,f,m,d,p,y),B=Tn(s)}Zi(s,[N,B])}return}case"While":{const v=we(a.condition,r,i,s,f,void 0,d,p,y,g);v&&v!=="bool"&&i.push(q("While condition must be 'bool'",a.location));const b=Tn(s);if(g){const E=g.clone();An(a.body,r,i,u,s,f,m,d,p,y,E)}else An(a.body,r,i,u,s,f,m,d,p,y);const S=Tn(s);Xi(b),Zi(s,[b,S]);return}case"Assign":{if(a.target.type==="Identifier"){const k=a.target.name,V=r.get(k)??f?.externSymbols?.(k);if(!V){i.push(q(`Unknown identifier '${k}'`,a.location));return}if(V.kind==="variable"&&V.mutable===!1){i.push(q(`Cannot assign to immutable variable '${k}'`,a.location));return}s?.write(k),s?.clearMovedPath(k,!0);const Z=we(a.value,r,i,s,f,V.type,d,p,y,g);if(s&&g){const le=Zl(s,k);le&&g.assign(le,k)}Z&&V.type&&!ot(Z,V.type,r,f?.typeParams)&&i.push(q(`Type mismatch: '${k}' is '${ye(V.type)}' but value is '${ye(Z)}'`,a.location));return}const v=Au(a.target);if(!v){i.push(q("Invalid assignment target",a.location));return}const b=Tc(a.target),S=r.get(v)??f?.externSymbols?.(v);if(!S){i.push(q(`Unknown identifier '${v}'`,a.location));return}if(b){const k=s?.findMoveConflict(v,"exact");if(k){i.push(q(`Cannot assign to '${b}' here; '${v}' was moved`,a.location,"error","USE_AFTER_MOVE",[{location:k,message:"Moved here"}]));return}s?.clearMovedPath(b,!0)}if(S.ref&&!S.refMutable){i.push(q(`Cannot assign through immutable reference '${v}'`,a.location,"error","REF_MUT_REQUIRED"));return}if(S.mutable===!1&&!S.refMutable){i.push(q(`Cannot assign through immutable binding '${v}'`,a.location));return}const E=we(a.target.object,r,i,s,f,void 0,d,p,y,g,void 0,!0);if(!E)return;const A=Ce(E),N=A?.base??E,B=r.get(N);if(!B||!B.structFields){i.push(q(`'${E}' has no fields`,a.location));return}const M=B.structFields.get(a.target.property);if(!M){i.push(q(`Unknown field '${a.target.property}' on '${E}'`,a.location));return}const R=new Map;A&&B.typeParams&&A.args.length===B.typeParams.length&&B.typeParams.forEach((k,V)=>{R.set(k.name,A.args[V])});const _=st(M,R),w=we(a.value,r,i,s,f,_,d,p,y,g);w&&!ot(w,_,r,f?.typeParams)&&i.push(q(`Type mismatch for '${a.target.property}': expected '${ye(_)}', got '${ye(w)}'`,a.location));return}case"Return":{const v=we(a.value,r,i,s,f,u??void 0,d,p,y,g);u&&u!=="any"&&v&&!ot(v,u,r,f?.typeParams)&&i.push(q(`Return type '${ye(v)}' does not match '${ye(u)}'`,a.location)),!u&&v&&m&&m.types.push(v);return}case"ExprStmt":we(a.expr,r,i,s,f,void 0,d,p,y,g);return;case"Block":{const v=new Jn(s),b=g??void 0;for(const S of a.body)An(S,r,i,u,v,f,m,d,p,y,b);Pi(v,i,a.location);return}case"MatchStmt":{const v=we(a.value,r,i,s,f,void 0,d,p,y,g),S=(v?Ce(v):null)?.base??v??null,E=S?r.get(S):void 0,A=E?.enumVariants??[],N=new Set;let B=!1;const M=[],R=Tn(s),_=[],w=a.value.type==="Identifier"?a.value.name:null,k=Lp(a.value,r,f);for(const V of a.arms){Xi(R);const Z=new Jn(s),le=new ju,G=g?g.clone():void 0;for(const $ of r.list())le.define($);const x=V.pattern;if(x.type==="WildcardPattern")B=!0;else if(x.type==="EnumPattern"){x.enumName&&S&&x.enumName!==S&&i.push(q(`Match value is '${S}', not '${x.enumName}'`,V.location??a.location));const $=x.enumName?Xl(r,x.enumName,x.variant,f):A.find(K=>K.name===x.variant)?{enumName:S??"",params:A.find(K=>K.name===x.variant)?.params??[]}:null;if(!$)i.push(q(`Unknown enum variant '${x.variant}'`,V.location??a.location));else{const K=x.variant;N.has(K)&&i.push(q(`Duplicate match arm for '${K}'`,V.location??a.location)),N.add(K);const D=S?Vp(S,v,r):null,I=D?$.params.map(C=>st(C,D)):$.params;w&&I.length===1&&Z.narrow(w,I[0]),x.bindings.length>0&&(I.length===0?i.push(q(`Variant '${K}' has no payload`,V.location??a.location)):x.bindings.length!==I.length&&i.push(q(`Variant '${K}' expects ${I.length} bindings`,V.location??a.location)),x.bindings.forEach((C,H)=>{if(C==="_")return;const F=I[H];F&&(Z.define(C,V.location??a.location),le.define({name:C,kind:"variable",type:F,location:V.location??a.location,mutable:k}),G&&G.define(Z,C,!0))}))}}An(V.body,le,i,u,Z,f,m,d,p,y,G),Pi(Z,i,V.location??a.location),G&&M.push(G),_.push(Tn(s))}if(g&&M.length>0&&g.mergeFromBranches(M),_.length>0&&Zi(s,_),v&&(!E||!E.enumVariants))i.push(q("Match expression must be an enum",a.location));else if(!B&&E?.enumVariants){const V=E.enumVariants.map(Z=>Z.name).filter(Z=>!N.has(Z));if(V.length>0){const Z=[{location:a.location??it,message:`Covered variants: ${Array.from(N).join(", ")||"none"}`},{location:a.location??it,message:`Missing variants: ${V.join(", ")}`}];i.push(q(`Missing case${V.length>1?"s":""}: ${V.join(", ")}`,a.location,"error","MATCH_NOT_EXHAUSTIVE",Z))}}return}case"Import":return}}finally{s?.clearBorrows()}}function we(a,r,i,u,s,f,m,d,p,y,g,v,b){const S=(M,R,_,w,k,V)=>{const Z=V?` ('${V}')`:"",le=ye(_),G=ye(w);i.push(q(`Argument ${R+1}${Z} of '${M}' expects '${le}', but found '${G}'`,k,"error","LUM-001"))},E=M=>{const R=M.suffix??null;if(R)return R;const _=M.raw??"";return M.isFloat||_.includes(".")||_.includes("e")||_.includes("E")?"f64":"i32"},A=(M,R,_)=>{if(!f)return;const w=Ce(f);!w||w.base!==M||w.args.length===_.length&&_.forEach((k,V)=>{R.has(k.name)||R.set(k.name,w.args[V])})},N=(M,R)=>{if(!M)return null;if(M.kind==="function")return R?null:M;if(M.kind==="module"){if(!R)return null;const _=M.exports.get(R);return _&&_.kind==="function"?_:null}return null},B=(M,R,_,w,k)=>{const V=s?.traitRegistry;if(!V)return i.push(q(`Type '${ye(M)}' has no method '${k}'`,_,"error","MEMBER-NOT-FOUND")),null;const Z=Ce(M);if(Z&&Z.args.length===0&&(s?.typeParams&&s.typeParams.has(Z.base)||s?.typeParamBounds&&s.typeParamBounds.has(Z.base))){const I=s?.typeParamBounds?.get(Z.base)??[],C=[];for(const ne of I){const ee=pt(ne),oe=Ce(ee);if(!oe)continue;const re=V.traits.get(oe.base);if(!re)continue;const ie=re.methods.get(k);if(!ie)continue;const de=zu(re,oe.args);de.set(kn,M);for(const Me of re.associatedTypes.keys())de.set(`${kn}::${Me}`,`${M}::${Me}`);const Ae=ie.params.map(Me=>st(Me,de)),_e=st(ie.returnType,de);C.push({trait:re,method:ie,mapping:de,expectedParams:Ae,expectedReturn:_e})}if(C.length===0)return i.push(q(`Type '${ye(M)}' has no method '${k}'`,_,"error","MEMBER-NOT-FOUND")),null;if(C.length>1)return i.push(q(`Ambiguous trait method '${k}' for '${ye(M)}'`,_,"error","TRAIT-009")),null;const H=C[0],F=[];for(const ne of R){const ee=we(ne,r,i,u,s,void 0,m,d,p,y);ee&&F.push(ee)}if(H.expectedParams.length!==F.length+1)i.push(q(`Argument count mismatch for '${k}'`,_,"error","TRAIT-006"));else{const ne=H.expectedParams[0];ot(M,ne,r,s?.typeParams)||i.push(q(`Method '${k}' expects '${ye(ne)}' receiver but got '${ye(M)}'`,_,"error","TRAIT-006"));for(let ee=0;ee<F.length;ee+=1){const oe=H.expectedParams[ee+1],re=F[ee];ot(re,oe,r,s?.typeParams)||S(k,ee,oe,re,R[ee]?.location??_,null)}}return H.expectedReturn}const G=ep(V,M,k);if(G.length===0)return i.push(q(`Type '${ye(M)}' has no method '${k}'`,_,"error","MEMBER-NOT-FOUND")),null;if(G.length>1)return i.push(q(`Ambiguous trait method '${k}' for '${ye(M)}'`,_,"error","TRAIT-009")),null;const x=G[0],$=x.method.params.map(I=>st(I,x.mapping)),K=st(x.method.returnType,x.mapping),D=[];for(const I of R){const C=we(I,r,i,u,s,void 0,m,d,p,y);C&&D.push(C)}if($.length!==D.length+1)i.push(q(`Argument count mismatch for '${k}'`,_,"error","TRAIT-006"));else{const I=$[0];ot(M,I,r,s?.typeParams)||i.push(q(`Method '${k}' expects '${ye(I)}' receiver but got '${ye(M)}'`,_,"error","TRAIT-006"));for(let C=0;C<D.length;C+=1){const H=$[C+1],F=D[C];ot(F,H,r,s?.typeParams)||S(k,C,H,F,R[C]?.location??_,null)}}if(w!=null&&s?.traitMethodResolutions){const I=Ih(x.impl.traitType,x.impl.forType,k);s.traitMethodResolutions.set(w,{traitName:x.impl.traitName,traitType:x.impl.traitType,forType:x.impl.forType,methodName:k,mangledName:I})}return K};if(a.type==="Number")return E(a);if(a.type==="Boolean")return"bool";if(a.type==="String")return"string";if(a.type==="InterpolatedString"){for(const M of a.parts){if(typeof M=="string")continue;const R=we(M,r,i,u,s,void 0,m,d,p,y,g,v,b);R&&pt(R)==="void"&&i.push(q("Cannot interpolate void value",M.location??a.location,"error","STRING_INTERP_VOID"))}return"string"}if(a.type==="Range"){const M=(R,_)=>{if(!R)return;const w=we(R,r,i,u,s,void 0,m,d,p,y,g,v,b);if(!w)return;const k=pt(w);k!=="any"&&!Hl(k)&&i.push(q(`Range ${_} must be an integer`,R.location??a.location,"error","RANGE_TYPE"))};return M(a.start,"start"),M(a.end,"end"),"Range"}if(a.type==="Index"){const M=we(a.object,r,i,u,s,void 0,m,d,p,y,g,v,b),R=we(a.index,r,i,u,s,void 0,m,d,p,y,g,v,b);if(!M||!R)return null;const _=pt(M),w=pt(R);if(_==="any"||w==="any")return"any";if(w==="Range")return _==="string"?"string":(i.push(q(`Cannot index '${ye(M)}' with '${ye(R)}'`,a.location,"error","INVALID_INDEX")),null);if(Hl(w)){const k=Ce(M);if(k&&k.base==="Vec"&&k.args.length===1)return k.args[0]}return i.push(q(`Cannot index '${ye(M)}' with '${ye(R)}'`,a.location,"error","INVALID_INDEX")),null}if(a.type==="Cast"){const M=we(a.expr,r,i,u,s,void 0,m,d,p,y,g,v,b),R=xe(a.targetType);if(!M||!R)return i.push(q("Invalid cast target type",a.location,"error","TYPE-CAST")),null;const _=xa(M),w=xa(R);if(!Ma(_)||!Ma(w))return i.push(q(`Cannot cast '${ye(M)}' to '${ye(R)}'`,a.location,"error","TYPE-CAST")),w;const k=Wh(_),V=Wh(w);return(Tu(_)&&Hl(w)||Tu(_)&&Tu(w)&&_==="f64"&&w==="f32"||Hl(_)&&Tu(w)&&(w==="f32"||k>53)||Hl(_)&&Hl(w)&&k>V)&&i.push(q(`Lossy conversion from '${ye(M)}' to '${ye(R)}'`,a.location,"warning","LOSSY-CAST")),w}if(a.type==="Move"){const M=Tc(a.target);if(!M)return i.push(q("Invalid move target",a.location??a.target.location)),null;const R=M.split(".")[0];u?.read(R),u?.isBorrowed(R)&&i.push(q(`Cannot move '${M}' while it is borrowed`,a.location??a.target.location,"error","MOVE_WHILE_BORROWED"));const _=u?.findMoveConflictInfo(M,"overlap");_&&i.push(q(ac("move",M,_.path),a.location??a.target.location,"error","USE_AFTER_MOVE",[{location:_.location??a.location??it,message:"Moved here"}])),u?.markMovedPath(M,a.location??a.target.location);const w=u?.lookupNarrowed(R),k=r.get(R)??s?.externSymbols?.(R);let V=null;if(s?.hmInferred&&u){const G=Zl(u,R)?.locals.get(R),x=xc(G??void 0);x&&(V=s.hmInferred.letTypes.get(x)??null)}if(!k){if(s?.importedNames?.has(R))return"any";const le=ka(R,lc(r,s)),G=le?[{location:a.location??it,message:`Did you mean '${le}'?`}]:void 0;return i.push(q(`Unknown identifier '${R}'`,a.location,"error","UNKNOWN_IDENTIFIER",G)),null}if(k.uri&&s?.currentUri&&k.uri!==s.currentUri&&k.visibility==="private")return i.push(q(`'${R}' is private to ${k.uri}`,a.location)),null;if(u&&y){const le=Zl(u,R);le&&!y.isAssigned(le,R)&&i.push(q(`Variable '${R}' used before assignment`,a.location))}return(a.target.type==="Member"?we(a.target,r,i,u,s,void 0,m,d,p,y,g,!0,!0):null)??w??V??k.type??null}if(a.type==="Await"){(p?r.get(p):void 0)?.async||i.push(q("'await' can only be used inside async functions",a.location,"error","AWAIT_OUTSIDE_ASYNC"));const _=we(a.value,r,i,u,s,void 0,m,d,p,y,g,v,b);if(!_)return null;const w=Ce(_);return w&&w.base==="Promise"&&w.args.length===1?w.args[0]:_}if(a.type==="Try"){if(!p)return i.push(q("'?' can only be used inside functions returning Result",a.location,"error","TRY_OUTSIDE_FUNCTION")),null;const M=we(a.value,r,i,u,s,void 0,m,d,p,y,g,v,b);if(!M)return null;const R=Ce(M);if(!R||R.base!=="Result"||R.args.length!==2)return i.push(q("'?' expects a Result value",a.location,"error","TRY_NOT_RESULT")),null;const _=R.args[0],w=R.args[1],k=r.get(p);let V=k?.type??null;if(k?.async&&V){const Z=Ce(V);Z&&Z.base==="Promise"&&Z.args.length===1&&(V=Z.args[0])}if(V&&V!=="any"){const Z=Ce(V);!Z||Z.base!=="Result"||Z.args.length!==2?i.push(q("'?' can only be used in functions returning Result",a.location,"error","TRY_RETURN_MISMATCH")):Wi(Z.args[1],w)||i.push(q(`Result error type '${ye(w)}' does not match function error type '${ye(Z.args[1])}'`,a.location,"error","TRY_RETURN_MISMATCH"))}return _}if(a.type==="Binary"){if(a.op==="|>"){if(a.right.type!=="Call")return i.push(q("Pipe target must be a function call",a.location)),null;const k=a.right,V=we(a.left,r,i,u,s,void 0,m,d,p,y);if(!k.enumName){const le=r.get(k.callee.name)??s?.externSymbols?.(k.callee.name);if(le?.kind==="function"&&le.paramRefs?.[0])if(!(x=>x.type==="Identifier"||x.type==="Member")(a.left))i.push(q(`'${k.callee.name}' expects a reference for parameter 1`,a.left.location??a.location,"error","REF_LVALUE_REQUIRED"));else{const x=Au(a.left);if(x){const $=r.get(x)??s?.externSymbols?.(x);(le.paramRefMuts?.[0]??!1)&&$?.kind==="variable"&&$.mutable===!1&&!$.refMutable&&i.push(q(`'${x}' must be mutable when passed by mutable reference`,a.left.location??a.location,"error","REF_MUT_REQUIRED"))}}}return we(k,r,i,u,s,void 0,m,d,p,y,V??void 0)}const M=we(a.left,r,i,u,s,void 0,m,d,p,y),R=we(a.right,r,i,u,s,void 0,m,d,p,y);if(!M||!R)return null;if(a.op==="+"&&M==="string"&&R==="string")return"string";if(a.op==="&&"||a.op==="||")return M!=="bool"||R!=="bool"?(i.push(q(`Operator '${a.op}' requires bool operands`,a.location)),null):"bool";if(a.op==="=="||a.op==="!="){const k=xa(M),V=xa(R),Z=Ma(k),le=Ma(V);return Z&&le?k!==V?(i.push(q(`Operator '${a.op}' requires matching numeric operand types`,a.location)),null):"bool":M!==R?(i.push(q(`Operator '${a.op}' requires matching operand types`,a.location)),null):"bool"}if(a.op==="<"||a.op===">"||a.op==="<="||a.op===">="){const k=xa(M),V=xa(R);return!Ma(k)||!Ma(V)||k!==V?(i.push(q(`Operator '${a.op}' requires matching numeric operands`,a.location)),null):"bool"}const _=xa(M),w=xa(R);return!Ma(_)||!Ma(w)||_!==w?(i.push(q(`Operator '${a.op}' requires matching numeric operands`,a.location)),null):_}if(a.type==="Identifier"){const M=a.name;if(u?.read(M),!b){const k=u?.findMoveConflictInfo(M,v?"exact":"prefix");k&&i.push(q(ac("use",M,k.path),a.location,"error","USE_AFTER_MOVE",[{location:k.location??a.location??it,message:"Moved here"}]))}const R=u?.lookupNarrowed(M),_=r.get(M)??s?.externSymbols?.(M);let w=null;if(s?.hmInferred&&u){const V=Zl(u,M)?.locals.get(M),Z=xc(V??void 0);Z&&(w=s.hmInferred.letTypes.get(Z)??null)}if(!_){if(s?.importedNames?.has(M))return"any";const k=ka(M,lc(r,s)),V=k?[{location:a.location??it,message:`Did you mean '${k}'?`}]:void 0;return i.push(q(`Unknown identifier '${M}'`,a.location,"error","UNKNOWN_IDENTIFIER",V)),null}if(_.uri&&s?.currentUri&&_.uri!==s.currentUri&&_.visibility==="private")return i.push(q(`'${M}' is private to ${_.uri}`,a.location)),null;if(u&&y){const k=Zl(u,M);k&&!y.isAssigned(k,M)&&i.push(q(`Variable '${M}' used before assignment`,a.location))}return R??w??_.type??null}if(a.type==="IsExpr"){const M=we(a.value,r,i,u,s,void 0,m,d,p,y);if(!M)return"bool";const _=Ce(M)?.base??M;if(a.enumName){const k=r.get(a.enumName);if(!k||!k.enumVariants){const Z=ka(a.enumName,Ki(r,s)),le=Z?[{location:a.location??it,message:`Did you mean '${Z}'?`}]:void 0;return i.push(q(`Unknown enum '${a.enumName}'`,a.location,"error","UNKNOWN_QUALIFIER",le)),"bool"}return a.enumName!==_?(i.push(q(`'${a.enumName}' does not match '${_}'`,a.location,"error","QUALIFIER_MISMATCH")),"bool"):(Xl(r,a.enumName,a.variant,s)||i.push(q(`Unknown enum variant '${a.variant}'`,a.location)),"bool")}return Ec(r,a.variant,s)||i.push(q(`Unknown enum variant '${a.variant}'`,a.location)),"bool"}if(a.type==="Call"){const M=a.callee.name,R=D=>D.type==="Identifier"||D.type==="Member";if(a.receiver){const D=we(a.receiver,r,i,u,s,void 0,m,d,p,y);return D?B(D,a.args,a.location,a.id,M):null}if(a.enumName){const D=s?.moduleBindings?N(s.moduleBindings.get(a.enumName),M):null;if(D){const oe=a.args.length+(g?1:0);if(D.paramTypes.length!==oe)return i.push(q(`Argument count mismatch for '${a.enumName}.${M}'`,a.location)),D.returnType;for(let re=0;re<oe;re++){const ie=g&&re===0?g:we(a.args[g?re-1:re],r,i,u,s,void 0,m,d,p,y),de=D.paramTypes[re];ie&&!ot(ie,de,r,s?.typeParams)&&S(`${a.enumName}.${M}`,re,de,ie,a.args[g?re-1:re]?.location??a.location,D.paramNames?.[re]??null)}return D.returnType}const I=r.get(a.enumName);if(I&&I.kind==="variable"){const oe={type:"Identifier",name:a.enumName,location:a.location},re=we(oe,r,i,u,s,void 0,m,d,p,y);if(!re)return null;const ie=s?.traitRegistry;if(ie){const de=Ce(re);if(de&&de.args.length===0&&(s?.typeParams&&s.typeParams.has(de.base)||s?.typeParamBounds&&s.typeParamBounds.has(de.base))){const Tt=s?.typeParamBounds?.get(de.base)??[],ct=[];for(const nn of Tt){const At=pt(nn),Nn=Ce(At);if(!Nn)continue;const Qt=ie.traits.get(Nn.base);if(!Qt)continue;const Ct=Qt.methods.get(M);if(!Ct)continue;const ue=zu(Qt,Nn.args);ue.set(kn,re);for(const ft of Qt.associatedTypes.keys())ue.set(`${kn}::${ft}`,`${re}::${ft}`);const Se=Ct.params.map(ft=>st(ft,ue)),Ue=st(Ct.returnType,ue);ct.push({trait:Qt,method:Ct,mapping:ue,expectedParams:Se,expectedReturn:Ue})}if(ct.length===0)return i.push(q(`Type '${ye(re)}' has no method '${M}'`,a.location,"error","MEMBER-NOT-FOUND")),null;if(ct.length>1)return i.push(q(`Ambiguous trait method '${M}' for '${ye(re)}'`,a.location,"error","TRAIT-009")),null;const tn=ct[0],wt=[];for(const nn of a.args){const At=we(nn,r,i,u,s,void 0,m,d,p,y);At&&wt.push(At)}if(tn.expectedParams.length!==wt.length+1)i.push(q(`Argument count mismatch for '${M}'`,a.location,"error","TRAIT-006"));else{const nn=tn.expectedParams[0];ot(re,nn,r,s?.typeParams)||i.push(q(`Method '${M}' expects '${ye(nn)}' receiver but got '${ye(re)}'`,a.location,"error","TRAIT-006"));for(let At=0;At<wt.length;At+=1){const Nn=tn.expectedParams[At+1],Qt=wt[At];ot(Qt,Nn,r,s?.typeParams)||S(M,At,Nn,Qt,a.args[At]?.location??a.location,null)}}return tn.expectedReturn}const _e=ep(ie,re,M);if(_e.length===0)return i.push(q(`Type '${ye(re)}' has no method '${M}'`,a.location,"error","MEMBER-NOT-FOUND")),null;if(_e.length>1)return i.push(q(`Ambiguous trait method '${M}' for '${ye(re)}'`,a.location,"error","TRAIT-009")),null;const Me=_e[0],ut=Me.method.params.map(Tt=>st(Tt,Me.mapping)),Be=st(Me.method.returnType,Me.mapping),He=[];for(const Tt of a.args){const ct=we(Tt,r,i,u,s,void 0,m,d,p,y);ct&&He.push(ct)}if(ut.length!==He.length+1)i.push(q(`Argument count mismatch for '${M}'`,a.location,"error","TRAIT-006"));else{const Tt=ut[0];ot(re,Tt,r,s?.typeParams)||i.push(q(`Method '${M}' expects '${ye(Tt)}' receiver but got '${ye(re)}'`,a.location,"error","TRAIT-006"));for(let ct=0;ct<He.length;ct+=1){const tn=ut[ct+1],wt=He[ct];ot(wt,tn,r,s?.typeParams)||S(M,ct,tn,wt,a.args[ct]?.location??a.location,null)}}if(a.id!=null&&s?.traitMethodResolutions){const Tt=Ih(Me.impl.traitType,Me.impl.forType,M);s.traitMethodResolutions.set(a.id,{traitName:Me.impl.traitName,traitType:Me.impl.traitType,forType:Me.impl.forType,methodName:M,mangledName:Tt})}return Be}}const C=Xl(r,a.enumName,M,s);if(!C)return i.push(q(`Unknown enum variant '${a.enumName}.${M}'`,a.location)),null;const F=r.get(C.enumName)?.typeParams??[],ne=new Map,ee=a.args.length+(g?1:0);if(A(a.enumName,ne,F),C.params.length!==ee)return i.push(q(`Argument count mismatch for '${a.enumName}.${M}'`,a.location)),C.enumName;for(let oe=0;oe<ee;oe++){const re=g&&oe===0?g:we(a.args[g?oe-1:oe],r,i,u,s,void 0,m,d,p,y),ie=C.params[oe];if(re){Gl(ie,re,ne);const de=st(ie,ne);ot(re,de,r,s?.typeParams)||S(`${a.enumName}.${M}`,oe,de,re,a.args[g?oe-1:oe]?.location??a.location,null)}}if(F.length>0){F.map(ie=>ie.name).filter(ie=>!ne.has(ie)).length>0&&i.push(q(`Could not infer type parameters for '${C.enumName}'`,a.location));for(const ie of F)if(ie.bound&&ne.has(ie.name)){const de=ne.get(ie.name);for(const Ae of ie.bound){const _e=xe(Ae);if(!_e)continue;const Me=ic(_e,s?.traitRegistry),ut=Me&&rc(de,_e,s?.traitRegistry);if(!Me&&!ot(de,_e,r,s?.typeParams)){const Be=ye(_e),He=ye(de);i.push(q(`Type argument '${He}' does not satisfy bound '${Be}' for '${ie.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${Be}, Actual: ${He}`}]));continue}if(Me&&!ut){const Be=ye(_e),He=ye(de);i.push(q(`Type argument '${He}' does not satisfy bound '${Be}' for '${ie.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${Be}, Actual: ${He}`}]))}}}const re=F.map(ie=>ne.get(ie.name)??"any");return`${C.enumName}<${re.join(",")}>`}return C.enumName}const _=s?.moduleBindings?.get(M);if(_&&_.kind==="function"){const D=a.args.length+(g?1:0);if(_.paramTypes.length!==D)return i.push(q(`Argument count mismatch for '${M}'`,a.location)),_.returnType;for(let I=0;I<D;I++){const C=g&&I===0?g:we(a.args[g?I-1:I],r,i,u,s,void 0,m,d,p,y),H=_.paramTypes[I];C&&!ot(C,H,r,s?.typeParams)&&S(M,I,H,C,a.args[g?I-1:I]?.location??a.location,_.paramNames?.[I]??null)}return _.returnType}u?.read(M);const w=r.get(M)??s?.externSymbols?.(M);if(!w||w.kind!=="function"){const D=Ec(r,M,s);if(D){const F=r.get(D.enumName)?.typeParams??[],ne=new Map,ee=a.args.length+(g?1:0);if(A(D.enumName,ne,F),D.params.length!==ee)return i.push(q(`Argument count mismatch for '${M}'`,a.location)),D.enumName;for(let oe=0;oe<ee;oe++){const re=g&&oe===0?g:we(a.args[g?oe-1:oe],r,i,u,s,void 0,m,d,p,y),ie=D.params[oe];if(re){Gl(ie,re,ne);const de=st(ie,ne);ot(re,de,r,s?.typeParams)||S(M,oe,de,re,a.args[g?oe-1:oe]?.location??a.location,null)}}if(F.length>0){F.map(ie=>ie.name).filter(ie=>!ne.has(ie)).length>0&&i.push(q(`Could not infer type parameters for '${D.enumName}'`,a.location));for(const ie of F)if(ie.bound&&ne.has(ie.name)){const de=ne.get(ie.name);for(const Ae of ie.bound){const _e=xe(Ae);if(!_e)continue;const Me=ic(_e,s?.traitRegistry),ut=Me&&rc(de,_e,s?.traitRegistry);if(!Me&&!ot(de,_e,r,s?.typeParams)){const Be=ye(_e),He=ye(de);i.push(q(`Type argument '${He}' does not satisfy bound '${Be}' for '${ie.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${Be}, Actual: ${He}`}]));continue}if(Me&&!ut){const Be=ye(_e),He=ye(de);i.push(q(`Type argument '${He}' does not satisfy bound '${Be}' for '${ie.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${Be}, Actual: ${He}`}]))}}}const re=F.map(ie=>ne.get(ie.name)??"any");return`${D.enumName}<${re.join(",")}>`}return D.enumName}const I=ka(M,lc(r,s)),C=I?[{location:a.location??it,message:`Did you mean '${I}'?`}]:void 0;return i.push(q(`Unknown function '${M}'`,a.location,"error","UNKNOWN_FUNCTION",C)),null}if(w.uri&&s?.currentUri&&w.uri!==s.currentUri&&w.visibility==="private")return i.push(q(`'${M}' is private to ${w.uri}`,a.location)),null;if(w.pendingReturn){if(p&&d){const D=d.get(p)??new Set;D.add(M),d.set(p,D)}return null}const k=w.typeParams??[],V=new Map;if(a.typeArgs&&a.typeArgs.length>0){if(a.typeArgs.length!==k.length)return i.push(q(`Type argument count mismatch for '${M}'`,a.location)),w.type??null;k.forEach((D,I)=>{V.set(D.name,a.typeArgs[I])})}const Z=w.paramTypes??[],le=w.paramRefs??[],G=w.paramRefMuts??[],x=a.args.length+(g?1:0);if(Z.length!==x)return i.push(q(`Argument count mismatch for '${M}'`,a.location)),w.type??null;for(let D=0;D<x;D++){const I=le[D]??!1,C=G[D]??!1;if(I){const ne=g&&D===0?void 0:a.args[g?D-1:D];if(ne&&!R(ne))i.push(q(`'${M}' expects a reference for parameter ${D+1}`,ne.location??a.location,"error","REF_LVALUE_REQUIRED"));else if(ne){const ee=Au(ne);if(ee){const oe=r.get(ee)??s?.externSymbols?.(ee);C&&oe?.kind==="variable"&&oe.mutable===!1&&!oe.refMutable&&i.push(q(`'${ee}' must be mutable when passed by mutable reference`,ne.location??a.location,"error","REF_MUT_REQUIRED")),u&&((C?u.borrowMut(ee):u.borrowShared(ee))||i.push(q(`Cannot borrow '${ee}'${C?" mutably":""} while it is already borrowed`,ne.location??a.location,"error","BORROW_CONFLICT")))}}}const H=g&&D===0?g:we(a.args[g?D-1:D],r,i,u,s,void 0,m,d,p,y),F=Z[D];if(H){Gl(F,H,V);const ne=st(F,V);ot(H,ne,r,s?.typeParams)||S(M,D,ne,H,a.args[g?D-1:D]?.location??a.location,w.paramNames?.[D]??null)}}if(f){const D=w.type??"any";Gl(D,f,V)}k.map(D=>D.name).filter(D=>!V.has(D)).length>0&&i.push(q(`Could not infer type parameters for '${M}'`,a.location));for(const D of k)if(D.bound&&V.has(D.name)){const I=V.get(D.name);for(const C of D.bound){const H=xe(C);if(!H)continue;const F=ic(H,s?.traitRegistry),ne=F&&rc(I,H,s?.traitRegistry);if(!F&&!ot(I,H,r,s?.typeParams)){const ee=ye(H),oe=ye(I);i.push(q(`Type argument '${oe}' does not satisfy bound '${ee}' for '${D.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${ee}, Actual: ${oe}`}]));continue}if(F&&!ne){const ee=ye(H),oe=ye(I);i.push(q(`Type argument '${oe}' does not satisfy bound '${ee}' for '${D.name}'`,a.location,"error","BOUND_MISMATCH",[{location:a.location??it,message:`Expected: ${ee}, Actual: ${oe}`}]))}}}return st(w.type??"any",V)}if(a.type==="StructLiteral"){const M=r.get(a.name);if(!M||!M.structFields)return i.push(q(`Unknown struct '${a.name}'`,a.location)),null;const R=M.typeParams??[],_=new Map;a.typeArgs&&a.typeArgs.length>0&&(a.typeArgs.length!==R.length?i.push(q(`Type argument count mismatch for '${a.name}'`,a.location)):R.forEach((Z,le)=>{_.set(Z.name,a.typeArgs[le])}));const w=new Set;for(const Z of a.fields){w.add(Z.name);const le=M.structFields.get(Z.name);if(!le){i.push(q(`Unknown field '${Z.name}' on '${a.name}'`,Z.location??a.location));continue}const G=we(Z.value,r,i,u,s,le,m,d,p,y);G&&Gl(le,G,_);const x=st(le,_);G&&!ot(G,x,r,s?.typeParams)&&i.push(q(`Type mismatch for '${Z.name}': expected '${ye(x)}', got '${ye(G)}'`,Z.location??a.location))}for(const Z of M.structFields.keys())w.has(Z)||i.push(q(`Missing field '${Z}' for '${a.name}'`,a.location));if(R.map(Z=>Z.name).filter(Z=>!_.has(Z)).length>0&&i.push(q(`Could not infer type parameters for '${a.name}'`,a.location)),R.length===0)return a.name;const V=R.map(Z=>_.get(Z.name)??"any");return`${a.name}<${V.join(",")}>`}if(a.type==="Member"){if(a.object.type==="Identifier"){const le=a.object.name,G=f?Ce(f)?.base??f:null,x=s?.moduleBindings?.get(le);if(!r.get(le)&&x&&x.kind==="module"){const K=x.exports.get(a.property);if(K){if(K.kind==="function")return"any";if(K.kind==="value")return K.valueType}return G&&G===le?f:"any"}if(s?.importedNames?.has(le)&&!r.has(le))return G&&G===le?f:"any"}const M=Tc(a);if(!b&&M){const le=u?.findMoveConflictInfo(M,"overlap");le&&i.push(q(ac("access",M,le.path),a.location,"error","USE_AFTER_MOVE",[{location:le.location??a.location??it,message:"Moved here"}]))}const R=we(a.object,r,i,u,s,void 0,m,d,p,y,g,!0,b);if(!R)return null;const _=Ce(R),w=_?.base??R,k=r.get(w);if(k?.enumVariants){const le=Xl(r,w,a.property,s);if(!le)return i.push(q(`Unknown enum variant '${w}.${a.property}'`,a.location)),null;if(le.params.length>0&&i.push(q(`Variant '${w}.${a.property}' expects ${le.params.length} payload value(s). Use '${w}.${a.property}(...)'`,a.location)),f&&Ce(f)?.base===w)return f;if((k.typeParams?.length??0)>0){const G=(k.typeParams??[]).map(()=>"any");return`${w}<${G.join(",")}>`}return w}if(!k||!k.structFields)return i.push(q(`'${R}' has no fields`,a.location)),null;const V=k.structFields.get(a.property);if(!V)return i.push(q(`Unknown field '${a.property}' on '${R}'`,a.location)),null;if(!_||(k.typeParams?.length??0)===0)return V;if((k.typeParams?.length??0)!==_.args.length)return i.push(q(`Type argument count mismatch for '${w}'`,a.location)),V;const Z=new Map;return k.typeParams?.forEach((le,G)=>{Z.set(le.name,_.args[G])}),st(V,Z)}if(a.type==="MatchExpr"){const M=we(a.value,r,i,u,s,void 0,m,d,p,y),_=(M?Ce(M):null)?.base??M??null,w=_?r.get(_):void 0,k=w?.enumVariants??[],V=new Set;let Z=!1,le=null;const G=Tn(u),x=[],$=a.value.type==="Identifier"?a.value.name:null,K=Lp(a.value,r,s);for(const D of a.arms){Xi(G);const I=new Jn(u),C=new ju;for(const ne of r.list())C.define(ne);const H=D.pattern;if(H.type==="WildcardPattern")Z=!0;else if(H.type==="EnumPattern"){H.enumName&&_&&H.enumName!==_&&i.push(q(`Match value is '${_}', not '${H.enumName}'`,D.location??a.location));const ne=H.enumName?Xl(r,H.enumName,H.variant,s):k.find(ee=>ee.name===H.variant)?{params:k.find(ee=>ee.name===H.variant)?.params??[]}:null;if(!ne)i.push(q(`Unknown enum variant '${H.variant}'`,D.location??a.location));else{const ee=H.variant;V.has(ee)&&i.push(q(`Duplicate match arm for '${ee}'`,D.location??a.location)),V.add(ee);const oe=_?Vp(_,M,r):null,re=oe?ne.params.map(ie=>st(ie,oe)):ne.params;$&&re.length===1&&I.narrow($,re[0]),H.bindings.length>0&&(re.length===0?i.push(q(`Variant '${ee}' has no payload`,D.location??a.location)):H.bindings.length!==re.length&&i.push(q(`Variant '${ee}' expects ${re.length} bindings`,D.location??a.location)),H.bindings.forEach((ie,de)=>{if(ie==="_")return;const Ae=re[de];Ae&&(I.define(ie,D.location??a.location),C.define({name:ie,kind:"variable",type:Ae,location:D.location??a.location,mutable:K}),y&&y.define(I,ie,!0))}))}}const F=we(D.body,C,i,I,s,void 0,m,d,p,y);F&&(le?Wi(le,F)||i.push(q("Match arms must return the same type",D.location??a.location)):le=F),Pi(I,i,D.location??a.location),x.push(Tn(u))}if(x.length>0&&Zi(u,x),M&&(!w||!w.enumVariants))i.push(q("Match expression must be an enum",a.location));else if(!Z&&w?.enumVariants){const D=w.enumVariants.map(I=>I.name).filter(I=>!V.has(I));if(D.length>0){const I=[{location:a.location??it,message:`Covered variants: ${Array.from(V).join(", ")||"none"}`},{location:a.location??it,message:`Missing variants: ${D.join(", ")}`}];i.push(q(`Missing case${D.length>1?"s":""}: ${D.join(", ")}`,a.location,"error","MATCH_NOT_EXHAUSTIVE",I))}}return le??null}return null}function Tn(a){const r=new Map;for(let i=a;i;i=i.parent)r.set(i,new Map(i.moved));return r}function Xi(a){for(const[r,i]of a)r.moved=new Map(i)}function Zi(a,r){let i=a;for(;i;){const u=i,s=new Map;for(const f of r){const m=f.get(u);if(m)for(const[d,p]of m)s.has(d)||s.set(d,p)}u.moved=s,i=u.parent}}class Jn{constructor(r){this.locals=new Map,this.reads=new Set,this.writes=new Set,this.narrowed=new Map,this.borrowedMut=new Set,this.borrowedShared=new Set,this.moved=new Map,this.children=[],this.parent=r,r&&r.children.push(this)}define(r,i){this.locals.set(r,i),this.clearMovedPath(r,!0)}read(r){if(this.locals.has(r)){this.reads.add(r);return}this.parent?.read(r)}write(r){if(this.locals.has(r)){this.writes.add(r);return}this.parent?.write(r)}narrow(r,i){this.narrowed.set(r,i)}lookupNarrowed(r){return this.narrowed.has(r)?this.narrowed.get(r):this.parent?.lookupNarrowed(r)}canBorrowMut(r){return this.borrowedMut.has(r)||this.borrowedShared.has(r)?!1:this.parent?this.parent.canBorrowMut(r):!0}canBorrowShared(r){return this.borrowedMut.has(r)?!1:this.parent?this.parent.canBorrowShared(r):!0}isBorrowed(r){return this.borrowedMut.has(r)||this.borrowedShared.has(r)?!0:this.parent?this.parent.isBorrowed(r):!1}borrowMut(r){return this.canBorrowMut(r)?(this.borrowedMut.add(r),!0):!1}borrowShared(r){return this.canBorrowShared(r)?(this.borrowedShared.add(r),!0):!1}markMovedPath(r,i){const u=r.split(".")[0];if(this.locals.has(u)){const s=this.moved.get(r);return this.moved.set(r,i),s}return this.parent?.markMovedPath(r,i)}findMoveConflictInfo(r,i){const u=f=>i==="exact"?f===r:i==="prefix"?Ql(r,f):Ql(f,r)||Ql(r,f);for(const[f,m]of this.moved)if(u(f))return{path:f,location:m};let s=this.parent;for(;s;){for(const[f,m]of s.moved)if(u(f))return{path:f,location:m};s=s.parent}}findMoveConflict(r,i){return this.findMoveConflictInfo(r,i)?.location}clearMovedPath(r,i){const u=r.split(".")[0];if(this.locals.has(u)){for(const s of Array.from(this.moved.keys()))(s===r||i&&Ql(r,s))&&this.moved.delete(s);return!0}return this.parent?.clearMovedPath(r,i)??!1}clearBorrows(){this.borrowedMut.clear(),this.borrowedShared.clear()}}class Bc{constructor(){this.assigned=new Map}clone(){const r=new Bc;for(const[i,u]of this.entries())r.assigned.set(i,new Set(u));return r}define(r,i,u){const s=this.assigned.get(r)??new Set;u&&s.add(i),this.assigned.set(r,s)}assign(r,i){const u=this.assigned.get(r)??new Set;u.add(i),this.assigned.set(r,u)}isAssigned(r,i){const u=this.assigned.get(r);return!!u&&u.has(i)}mergeFromBranches(r){for(const[i,u]of this.entries()){const s=new Set;for(const f of u)r.every(m=>m.isAssigned(i,f))&&s.add(f);this.assigned.set(i,s)}}*entries(){for(const[r,i]of this.assigned.entries())yield[r,i]}}function Zl(a,r){let i=a;for(;i;){if(i.locals.has(r))return i;i=i.parent}return null}function Pi(a,r,i){for(const[u,s]of a.locals.entries())if(!u.startsWith("_")&&!a.reads.has(u)){const f=a.writes.has(u)?" (assigned but never read)":"";r.push(q(`Unused binding '${u}'${f}`,s??i,"warning"))}for(const u of a.children)Pi(u,r,i)}function cb(a,r,i){for(const[u,s]of a.locals.entries())if(!u.startsWith("_")&&!a.reads.has(u)){const f=a.writes.has(u)?" (assigned but never read)":"";r.push(q(`Unused binding '${u}'${f}`,s??i,"warning"))}}function fb(a,r,i){const u=i?.recursiveWrappers??["Option","Box","Ref"],s=new Set(u),f=a.list().filter(y=>y.kind==="type"&&y.structFields),m=new Set,d=new Set,p=y=>{if(d.has(y)||m.has(y))return;m.add(y);const g=a.get(y);if(!g||!g.structFields){m.delete(y),d.add(y);return}for(const[v,b]of g.structFields.entries())if(Eu(b,y,a,new Set,!1,s)){r.push(q(`Recursive field '${v}' on '${y}' must be wrapped in an indirection type (Option/Box/Ref)`,g.location,"error","RECURSIVE_STRUCT",[{location:g.location??it,message:`Suggested fix: wrap '${v}' in ${u.map(E=>`${E}<${y}>`).join(" / ")}`}]));break}m.delete(y),d.add(y)};for(const y of f)p(y.name)}function db(a,r,i,u){const s=new Map,f=new Map,m=new Map,d=new Set;for(const g of a.body)g.type==="TraitDecl"&&d.add(g.name);const p=g=>{if(s.has(g.name)){i.push(q(`Trait '${g.name}' already defined`,g.location,"error","TRAIT-001"));return}const v=ku(g.typeParams,r,i,g.location,void 0,d),b=new Set(v.map(A=>A.name)),S=new Map,E=new Map;for(const A of g.associatedTypes??[]){if(E.has(A.name)){i.push(q(`Duplicate associated type '${A.name}' in trait '${g.name}'`,A.location??g.location,"error","TRAIT-010"));continue}const N=A.typeName?xe(A.typeName):null;A.typeName&&gn(A.typeName,r,b,i,A.location??g.location,d,!0)==="unknown"&&i.push(q(`Unknown type '${N??"unknown"}' in associated type '${A.name}'`,A.location??g.location)),E.set(A.name,{name:A.name,defaultType:N,location:A.location})}for(const A of g.methods){if(S.has(A.name)){i.push(q(`Duplicate method '${A.name}' in trait '${g.name}'`,A.location??g.location,"error","TRAIT-007"));continue}const N=mb(A,b,r,i,d);S.set(A.name,N)}s.set(g.name,{name:g.name,typeParams:v,methods:S,associatedTypes:E,visibility:g.visibility??"private",location:g.location,uri:u?.currentUri})},y=g=>{const v=xe(g.traitType);if(!v){i.push(q("Invalid trait type in impl",g.location,"error","TRAIT-002"));return}const b=Ce(v);if(!b){i.push(q(`Invalid trait type '${v}' in impl`,g.location,"error","TRAIT-002"));return}const S=b.base,E=s.get(S);if(!E){i.push(q(`Unknown trait '${S}'`,g.location,"error","TRAIT-002"));return}const A=ku(g.typeParams,r,i,g.location,void 0,d),N=new Set(A.map(x=>x.name));E.typeParams.length!==b.args.length&&i.push(q(`Trait '${S}' expects ${E.typeParams.length} type argument${E.typeParams.length===1?"":"s"}`,g.location,"error","TRAIT-006"));for(const x of b.args)gn(x,r,N,i,g.location)==="unknown"&&i.push(q(`Unknown type '${x}' in impl for '${S}'`,g.location));const B=xe(g.forType)??"any";gn(g.forType,r,N,i,g.location)==="unknown"&&i.push(q(`Unknown type '${B}' in impl for '${S}'`,g.location));const R=pt(v),_=pt(B),w=`${R}::${_}`;if(f.has(w)){i.push(q(`Duplicate impl for '${v}' and '${B}'`,g.location,"error","TRAIT-003"));return}const k=new Map;for(const x of g.methods){if(k.has(x.name)){i.push(q(`Duplicate method '${x.name}' in impl for '${S}'`,x.location??g.location,"error","TRAIT-008"));continue}k.set(x.name,x)}const V=new Map;for(const x of g.associatedTypes??[]){if(V.has(x.name)){i.push(q(`Duplicate associated type '${x.name}' in impl for '${S}'`,x.location??g.location,"error","TRAIT-011"));continue}gn(x.typeName,r,N,i,x.location??g.location,d,!0)==="unknown"&&i.push(q(`Unknown type '${xe(x.typeName)??"unknown"}' in impl for '${S}'`,x.location??g.location)),V.set(x.name,xe(x.typeName)??"any")}const Z=zu(E,b.args);Z.set(kn,B);for(const[x,$]of E.associatedTypes.entries())V.has(x)||($.defaultType?V.set(x,st($.defaultType,Z)):i.push(q(`Trait '${S}' requires associated type '${x}'`,g.location,"error","TRAIT-012")));for(const x of V.keys())E.associatedTypes.has(x)||i.push(q(`Associated type '${x}' is not declared in trait '${S}'`,g.location,"error","TRAIT-013"));for(const[x,$]of E.methods.entries()){const K=k.get(x);if(!K){$.defaultBody||i.push(q(`Trait '${S}' requires method '${x}'`,g.location,"error","TRAIT-004"));continue}hb(E,$,K,Z,V,N,r,i,d)}for(const[x,$]of k.entries())E.methods.has(x)||i.push(q(`Method '${x}' is not declared in trait '${S}'`,$.location??g.location,"error","TRAIT-005"));const le={traitName:S,traitType:v,forType:B,typeParams:A,methods:k,associatedTypes:V,visibility:g.visibility??"private",location:g.location,uri:u?.currentUri};f.set(w,le);const G=m.get(S)??[];G.push(le),m.set(S,G)};for(const g of a.body)g.type==="TraitDecl"&&p(g);for(const g of a.body)g.type==="ImplDecl"&&y(g);return{traits:s,implsByKey:f,implsByTrait:m}}function ku(a,r,i,u,s,f){const m=[];if(!a||a.length===0)return m;const d=new Set(s);for(const p of a){if(!Ou(p.name)){i.push(q(`Invalid type parameter '${p.name}'`,u));continue}if(d.has(p.name)){i.push(q(`Duplicate type parameter '${p.name}'`,u));continue}d.add(p.name);const y=[];for(const g of p.bound??[]){if(gn(g,r,d,i,u,f,!0)==="unknown"){const b=xe(g);i.push(q(`Unknown bound '${b??"unknown"}' for type parameter '${p.name}'`,u));continue}y.push(xe(g)??"any")}m.push({name:p.name,bound:y.length>0?y:void 0})}return m}function mb(a,r,i,u,s){const f=ku(a.typeParams,i,u,a.location,r,s),m=new Set(r);m.add(kn);for(const y of f)m.add(y.name);const d=[];for(const y of a.params){if(!y.typeName){u.push(q(`Trait method '${a.name}' must specify a type for parameter '${y.name}'`,y.location??a.location)),d.push("any");continue}gn(y.typeName,i,m,u,y.location??a.location)==="unknown"&&u.push(q(`Unknown type '${xe(y.typeName)??"unknown"}' in trait '${a.name}'`,y.location??a.location)),d.push(xe(y.typeName)??"any")}let p="void";return a.returnType&&(gn(a.returnType,i,m,u,a.location)==="unknown"&&u.push(q(`Unknown return type for trait method '${a.name}'`,a.location)),p=xe(a.returnType)??"any"),{name:a.name,params:d,returnType:p,typeParams:f,defaultBody:a.body??null,location:a.location}}function zu(a,r){const i=new Map;for(let u=0;u<a.typeParams.length;u++){const s=a.typeParams[u].name,f=r[u];f&&i.set(s,f)}return i}function ep(a,r,i){const u=[],s=pt(r);for(const f of a.implsByKey.values()){if(pt(f.forType)!==s)continue;const m=a.traits.get(f.traitName);if(!m)continue;const d=m.methods.get(i);if(!d||!f.methods.has(i)&&!d.defaultBody)continue;const p=Ce(f.traitType),y=zu(m,p?.args??[]);y.set(kn,r);for(const[g,v]of f.associatedTypes.entries())y.set(`${kn}::${g}`,v);u.push({impl:f,trait:m,method:d,mapping:y})}return u}function hb(a,r,i,u,s,f,m,d,p){const y=ku(i.typeParams,m,d,i.location,f,p),g=new Set(f);g.add(kn);for(const B of y)g.add(B.name);r.typeParams.length!==y.length&&d.push(q(`Method '${r.name}' in impl for '${a.name}' must declare ${r.typeParams.length} type parameter${r.typeParams.length===1?"":"s"}`,i.location,"error","TRAIT-006"));const v=new Map(u);for(const[B,M]of s.entries())v.set(`${kn}::${B}`,M);const b=r.params.map(B=>st(B,v)),S=st(r.returnType,v),E=[];for(const B of i.params){if(!B.typeName){d.push(q(`Impl method '${i.name}' must specify a type for parameter '${B.name}'`,B.location??i.location)),E.push("any");continue}gn(B.typeName,m,g,d,B.location??i.location)==="unknown"&&d.push(q(`Unknown type '${xe(B.typeName)??"unknown"}' in impl method '${i.name}'`,B.location??i.location));const R=xe(B.typeName)??"any",_=st(R,v);E.push(_)}const A=i.returnType?xe(i.returnType)??"any":"void",N=st(A,v);if(b.length!==E.length){d.push(q(`Method '${r.name}' in impl for '${a.name}' has ${E.length} parameter${E.length===1?"":"s"}, expected ${b.length}`,i.location,"error","TRAIT-006"));return}for(let B=0;B<b.length;B++)Wi(b[B],E[B])||d.push(q(`Method '${r.name}' in impl for '${a.name}' has incompatible parameter type '${ye(E[B])}' (expected '${ye(b[B])}')`,i.location,"error","TRAIT-006"));Wi(S,N)||d.push(q(`Method '${r.name}' in impl for '${a.name}' has return type '${ye(N)}' (expected '${ye(S)}')`,i.location,"error","TRAIT-006"))}function Eu(a,r,i,u,s,f){const m=Ce(a);if(!m){if(a===r)return!s;const g=i.get(a);if(!g||!g.structFields)return!1;const v=`${a}|${s?"w":"u"}`;if(u.has(v))return!1;u.add(v);for(const b of g.structFields.values())if(Eu(b,r,i,u,s,f))return!0;return!1}if(m.base===r)return!s;const d=s||f.has(m.base);if(m.args.length>0){for(const g of m.args)if(Eu(g,r,i,u,d,f))return!0;return!1}const p=i.get(m.base);if(!p||!p.structFields)return!1;const y=`${m.base}|${d?"w":"u"}`;if(u.has(y))return!1;u.add(y);for(const g of p.structFields.values())if(Eu(g,r,i,u,d,f))return!0;return!1}function gn(a,r,i,u,s,f,m=!1){const d=xe(a);if(!d)return"unknown";const p=Ce(d);if(p&&p.args.length===0&&!i.has(p.base)){const y=r.get(p.base);if(y?.kind==="type"&&y.typeParams&&y.typeParams.length>0)return u.push(q(`Missing type arguments for generic type '${p.base}'`,s)),"missingTypeArgs"}return al(d,r,i,f,m)?"ok":"unknown"}function al(a,r,i,u,s=!1){if(Dp.has(a)||i.has(a))return!0;const f=Ce(a);if(!f)return!1;const m=pb(f.base);if(m&&i.has(m.owner))return!0;if(s&&u?.has(f.base)){for(const p of f.args)if(!al(p,r,i,u,s))return!1;return!0}if(f.base==="Promise")return f.args.length!==1?!1:al(f.args[0],r,i,u,s);if(i.has(f.base))return!0;const d=r.get(f.base);if(d?.kind!=="type"||d.typeParams&&d.typeParams.length>0&&f.args.length===0)return!1;if(d.typeParams&&f.args.length>0){if(d.typeParams.length!==f.args.length)return!1;for(let p=0;p<d.typeParams.length;p++){const y=d.typeParams[p].bound??[];for(const g of y)if(!ot(f.args[p],g,r))return!1}}for(const p of f.args)if(!al(p,r,i,u,s))return!1;return!0}function pb(a){const r=a.indexOf("::");return r===-1?null:{owner:a.slice(0,r),name:a.slice(r+2)}}function Ce(a){const r=a.trim(),i=r.indexOf("<");if(i===-1)return{base:r,args:[]};if(!r.endsWith(">"))return null;const u=r.slice(0,i),s=r.slice(i+1,-1),f=yb(s);return{base:u,args:f}}function xc(a){return a?.start?`${a.start.line}:${a.start.column}:${a.start.offset}`:null}function In(a){if(a.kind==="primitive")return Ru(a.name);if(a.kind==="promise")return`Promise<${In(a.inner)??"any"}>`;if(a.kind==="adt"){if(!a.params.length)return a.name;const r=a.params.map(i=>In(i)??"any");return`${a.name}<${r.join(",")}>`}return a.kind==="function"?In(a.returnType):a.kind==="row"?"any":null}function Fa(a){if(a.kind==="primitive")return Ru(a.name);if(a.kind==="variable")return`T${a.id}`;if(a.kind==="promise")return`Promise<${Fa(a.inner)}>`;if(a.kind==="adt"){if(!a.params.length)return a.name;const r=a.params.map(i=>Fa(i)).join(", ");return`${a.name}<${r}>`}if(a.kind==="row"){const r=Array.from(a.fields.entries()).map(([u,s])=>`${u}: ${Fa(s)}`),i=a.tail?Fa(a.tail):null;return i?`{ ${r.join(", ")} | ${i} }`:`{ ${r.join(", ")} }`}if(a.kind==="function"){const r=a.args.map(u=>Fa(u)).join(", "),i=Fa(a.returnType);return`fn(${r}) -> ${i}`}return"any"}function yb(a){const r=[];let i=0,u="";for(const s of a){if(s==="<"&&i++,s===">"&&i--,s===","&&i===0){r.push(u.trim()),u="";continue}u+=s}return u.trim()&&r.push(u.trim()),r}function Ou(a){return/^[A-Z][A-Za-z0-9_]*$/.test(a)}function ic(a,r){if(!r)return!1;const i=Ce(pt(a));return i?r.traits.has(i.base):!1}function rc(a,r,i){if(!i)return!1;const u=pt(a),s=pt(r),f=Ce(s);if(!f)return!1;const m=f.base;if(!i.traits.has(m))return!1;if(f.args.length===0)return(i.implsByTrait.get(m)??[]).some(y=>pt(y.forType)===u);const d=`${s}::${u}`;return i.implsByKey.has(d)}function ot(a,r,i,u){const s=pt(a),f=pt(r);if(s===f||f==="any"||s==="any"||u&&u.has(f))return!0;const m=Ce(s),d=Ce(f);if(!m||!d||m.base!==d.base||m.args.length!==d.args.length)return!1;for(let p=0;p<m.args.length;p++)if(!ot(m.args[p],d.args[p],i,u))return!1;return!0}function Gl(a,r,i){const u=pt(a),s=pt(r),f=Ce(u),m=Ce(s);if(!(!f||!m)&&!i.has(f.base)){if(Ou(f.base)&&f.args.length===0){i.set(f.base,s);return}if(f.base===m.base)for(let d=0;d<Math.min(f.args.length,m.args.length);d++)Gl(f.args[d],m.args[d],i)}}function st(a,r){const i=Ce(a);if(!i)return a;if(r.has(i.base)&&i.args.length===0)return r.get(i.base);if(i.args.length===0)return i.base;const u=i.args.map(s=>st(s,r));return`${i.base}<${u.join(",")}>`}function gb(a,r){const i=[],u=[];let s=0;const f=v=>{const b=s++;return i.push({id:b,label:v}),b},m=(v,b)=>{v===null||b===null||u.push([v,b])},d=v=>{let b=null,S=null;for(const E of v){const{entry:A,exit:N}=p(E);b===null&&(b=A),S!==null&&A!==null&&m(S,A),S=N??S}return{entry:b,exit:S}},p=v=>{switch(v.type){case"If":{const b=f("If"),S=d(v.thenBlock.body),E=v.elseBlock?d(v.elseBlock.body):{entry:null,exit:null};m(b,S.entry??b),m(b,E.entry??b);const A=f("IfEnd");return m(S.exit??b,A),m(E.exit??b,A),{entry:b,exit:A}}case"While":{const b=f("While"),S=d(v.body.body);m(b,S.entry??b),m(S.exit??b,b);const E=f("WhileEnd");return m(b,E),{entry:b,exit:E}}case"MatchStmt":{const b=f("Match"),S=[];for(const A of v.arms){const N=d(A.body.body);m(b,N.entry??b),N.exit!==null&&S.push(N.exit)}const E=f("MatchEnd");for(const A of S)m(A,E);return S.length===0&&m(b,E),{entry:b,exit:E}}case"Block":return d(v.body);case"ErrorNode":return{entry:null,exit:null};default:{const b=f(v.type);return{entry:b,exit:b}}}},y=d(r);if(y.entry===null){const v=f("Empty");y.entry=v,y.exit=v}const g=[`digraph ${a}_cfg {`];for(const v of i)g.push(`  n${v.id} [label="${v.label}"];`);for(const[v,b]of u)g.push(`  n${v} -> n${b};`);return g.push("}"),g.join(`
`)}var xu={exports:{}},vb=xu.exports,tp;function bb(){return tp||(tp=1,(function(a){(function(r,i){a.exports?a.exports=i():r.moo=i()})(vb,function(){var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,u=typeof new RegExp().sticky=="boolean";function s(x){return x&&i.call(x)==="[object RegExp]"}function f(x){return x&&typeof x=="object"&&!s(x)&&!Array.isArray(x)}function m(x){return x.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function d(x){var $=new RegExp("|"+x);return $.exec("").length-1}function p(x){return"("+x+")"}function y(x){if(!x.length)return"(?!)";var $=x.map(function(K){return"(?:"+K+")"}).join("|");return"(?:"+$+")"}function g(x){if(typeof x=="string")return"(?:"+m(x)+")";if(s(x)){if(x.ignoreCase)throw new Error("RegExp /i flag not allowed");if(x.global)throw new Error("RegExp /g flag is implied");if(x.sticky)throw new Error("RegExp /y flag is implied");if(x.multiline)throw new Error("RegExp /m flag is implied");return x.source}else throw new Error("Not a pattern: "+x)}function v(x,$){return x.length>$?x:Array($-x.length+1).join(" ")+x}function b(x,$){for(var K=x.length,D=0;;){var I=x.lastIndexOf(`
`,K-1);if(I===-1||(D++,K=I,D===$)||K===0)break}var C=D<$?0:K+1;return x.substring(C).split(`
`)}function S(x){for(var $=Object.getOwnPropertyNames(x),K=[],D=0;D<$.length;D++){var I=$[D],C=x[I],H=[].concat(C);if(I==="include"){for(var F=0;F<H.length;F++)K.push({include:H[F]});continue}var ne=[];H.forEach(function(ee){f(ee)?(ne.length&&K.push(A(I,ne)),K.push(A(I,ee)),ne=[]):ne.push(ee)}),ne.length&&K.push(A(I,ne))}return K}function E(x){for(var $=[],K=0;K<x.length;K++){var D=x[K];if(D.include){for(var I=[].concat(D.include),C=0;C<I.length;C++)$.push({include:I[C]});continue}if(!D.type)throw new Error("Rule has no type: "+JSON.stringify(D));$.push(A(D.type,D))}return $}function A(x,$){if(f($)||($={match:$}),$.include)throw new Error("Matching rules cannot also include states");var K={defaultType:x,lineBreaks:!!$.error||!!$.fallback,pop:!1,next:null,push:null,error:!1,fallback:!1,value:null,type:null,shouldThrow:!1};for(var D in $)r.call($,D)&&(K[D]=$[D]);if(typeof K.type=="string"&&x!==K.type)throw new Error("Type transform cannot be a string (type '"+K.type+"' for token '"+x+"')");var I=K.match;return K.match=Array.isArray(I)?I:I?[I]:[],K.match.sort(function(C,H){return s(C)&&s(H)?0:s(H)?-1:s(C)?1:H.length-C.length}),K}function N(x){return Array.isArray(x)?E(x):S(x)}var B=A("error",{lineBreaks:!0,shouldThrow:!0});function M(x,$){for(var K=null,D=Object.create(null),I=!0,C=null,H=[],F=[],ne=0;ne<x.length;ne++)x[ne].fallback&&(I=!1);for(var ne=0;ne<x.length;ne++){var ee=x[ne];if(ee.include)throw new Error("Inheritance is not allowed in stateless lexers");if(ee.error||ee.fallback){if(K)throw!ee.fallback==!K.fallback?new Error("Multiple "+(ee.fallback?"fallback":"error")+" rules not allowed (for token '"+ee.defaultType+"')"):new Error("fallback and error are mutually exclusive (for token '"+ee.defaultType+"')");K=ee}var oe=ee.match.slice();if(I)for(;oe.length&&typeof oe[0]=="string"&&oe[0].length===1;){var re=oe.shift();D[re.charCodeAt(0)]=ee}if(ee.pop||ee.push||ee.next){if(!$)throw new Error("State-switching options are not allowed in stateless lexers (for token '"+ee.defaultType+"')");if(ee.fallback)throw new Error("State-switching options are not allowed on fallback tokens (for token '"+ee.defaultType+"')")}if(oe.length!==0){I=!1,H.push(ee);for(var ie=0;ie<oe.length;ie++){var de=oe[ie];if(s(de)){if(C===null)C=de.unicode;else if(C!==de.unicode&&ee.fallback===!1)throw new Error("If one rule is /u then all must be")}}var Ae=y(oe.map(g)),_e=new RegExp(Ae);if(_e.test(""))throw new Error("RegExp matches empty string: "+_e);var Me=d(Ae);if(Me>0)throw new Error("RegExp has capture groups: "+_e+`
Use (?:  ) instead`);if(!ee.lineBreaks&&_e.test(`
`))throw new Error("Rule should declare lineBreaks: "+_e);F.push(p(Ae))}}var ut=K&&K.fallback,Be=u&&!ut?"ym":"gm",He=u||ut?"":"|";C===!0&&(Be+="u");var Tt=new RegExp(y(F)+He,Be);return{regexp:Tt,groups:H,fast:D,error:K||B}}function R(x){var $=M(N(x));return new V({start:$},"start")}function _(x,$,K){var D=x&&(x.push||x.next);if(D&&!K[D])throw new Error("Missing state '"+D+"' (in token '"+x.defaultType+"' of state '"+$+"')");if(x&&x.pop&&+x.pop!=1)throw new Error("pop must be 1 (in token '"+x.defaultType+"' of state '"+$+"')")}function w(x,$){var K=x.$all?N(x.$all):[];delete x.$all;var D=Object.getOwnPropertyNames(x);$||($=D[0]);for(var I=Object.create(null),C=0;C<D.length;C++){var H=D[C];I[H]=N(x[H]).concat(K)}for(var C=0;C<D.length;C++)for(var H=D[C],F=I[H],ne=Object.create(null),ee=0;ee<F.length;ee++){var oe=F[ee];if(oe.include){var re=[ee,1];if(oe.include!==H&&!ne[oe.include]){ne[oe.include]=!0;var ie=I[oe.include];if(!ie)throw new Error("Cannot include nonexistent state '"+oe.include+"' (in state '"+H+"')");for(var de=0;de<ie.length;de++){var Ae=ie[de];F.indexOf(Ae)===-1&&re.push(Ae)}}F.splice.apply(F,re),ee--}}for(var _e=Object.create(null),C=0;C<D.length;C++){var H=D[C];_e[H]=M(I[H],!0)}for(var C=0;C<D.length;C++){for(var Me=D[C],ut=_e[Me],Be=ut.groups,ee=0;ee<Be.length;ee++)_(Be[ee],Me,_e);for(var He=Object.getOwnPropertyNames(ut.fast),ee=0;ee<He.length;ee++)_(ut.fast[He[ee]],Me,_e)}return new V(_e,$)}function k(x){for(var $=typeof Map<"u",K=$?new Map:Object.create(null),D=Object.getOwnPropertyNames(x),I=0;I<D.length;I++){var C=D[I],H=x[C],F=Array.isArray(H)?H:[H];F.forEach(function(ne){if(typeof ne!="string")throw new Error("keyword must be string (in keyword '"+C+"')");$?K.set(ne,C):K[ne]=C})}return function(ne){return $?K.get(ne):K[ne]}}var V=function(x,$){this.startState=$,this.states=x,this.buffer="",this.stack=[],this.reset()};V.prototype.reset=function(x,$){return this.buffer=x||"",this.index=0,this.line=$?$.line:1,this.col=$?$.col:1,this.queuedToken=$?$.queuedToken:null,this.queuedText=$?$.queuedText:"",this.queuedThrow=$?$.queuedThrow:null,this.setState($?$.state:this.startState),this.stack=$&&$.stack?$.stack.slice():[],this},V.prototype.save=function(){return{line:this.line,col:this.col,state:this.state,stack:this.stack.slice(),queuedToken:this.queuedToken,queuedText:this.queuedText,queuedThrow:this.queuedThrow}},V.prototype.setState=function(x){if(!(!x||this.state===x)){this.state=x;var $=this.states[x];this.groups=$.groups,this.error=$.error,this.re=$.regexp,this.fast=$.fast}},V.prototype.popState=function(){this.setState(this.stack.pop())},V.prototype.pushState=function(x){this.stack.push(this.state),this.setState(x)};var Z=u?function(x,$){return x.exec($)}:function(x,$){var K=x.exec($);return K[0].length===0?null:K};V.prototype._getGroup=function(x){for(var $=this.groups.length,K=0;K<$;K++)if(x[K+1]!==void 0)return this.groups[K];throw new Error("Cannot find token type for matched text")};function le(){return this.value}if(V.prototype.next=function(){var x=this.index;if(this.queuedGroup){var $=this._token(this.queuedGroup,this.queuedText,x);return this.queuedGroup=null,this.queuedText="",$}var K=this.buffer;if(x!==K.length){var H=this.fast[K.charCodeAt(x)];if(H)return this._token(H,K.charAt(x),x);var D=this.re;D.lastIndex=x;var I=Z(D,K),C=this.error;if(I==null)return this._token(C,K.slice(x,K.length),x);var H=this._getGroup(I),F=I[0];return C.fallback&&I.index!==x?(this.queuedGroup=H,this.queuedText=F,this._token(C,K.slice(x,I.index),x)):this._token(H,F,x)}},V.prototype._token=function(x,$,K){var D=0;if(x.lineBreaks){var I=/\n/g,C=1;if($===`
`)D=1;else for(;I.exec($);)D++,C=I.lastIndex}var H={type:typeof x.type=="function"&&x.type($)||x.defaultType,value:typeof x.value=="function"?x.value($):$,text:$,toString:le,offset:K,lineBreaks:D,line:this.line,col:this.col},F=$.length;if(this.index+=F,this.line+=D,D!==0?this.col=F-C+1:this.col+=F,x.shouldThrow){var ne=new Error(this.formatError(H,"invalid syntax"));throw ne}return x.pop?this.popState():x.push?this.pushState(x.push):x.next&&this.setState(x.next),H},typeof Symbol<"u"&&Symbol.iterator){var G=function(x){this.lexer=x};G.prototype.next=function(){var x=this.lexer.next();return{value:x,done:!x}},G.prototype[Symbol.iterator]=function(){return this},V.prototype[Symbol.iterator]=function(){return new G(this)}}return V.prototype.formatError=function(x,$){if(x==null)var K=this.buffer.slice(this.index),x={text:K,offset:this.index,lineBreaks:K.indexOf(`
`)===-1?0:1,line:this.line,col:this.col};var D=2,I=Math.max(x.line-D,1),C=x.line+D,H=String(C).length,F=b(this.buffer,this.line-x.line+D+1).slice(0,5),ne=[];ne.push($+" at line "+x.line+" col "+x.col+":"),ne.push("");for(var ee=0;ee<F.length;ee++){var oe=F[ee],re=I+ee;ne.push(v(String(re),H)+"  "+oe),re===x.line&&ne.push(v("",H+x.col+1)+"^")}return ne.join(`
`)},V.prototype.clone=function(){return new V(this.states,this.state)},V.prototype.has=function(x){return!0},{compile:R,states:w,error:Object.freeze({error:!0}),fallback:Object.freeze({fallback:!0}),keywords:k}})})(xu)),xu.exports}var Sb=bb();const _b=Sp(Sb),Tb=["semicolon","rbrace"];function Nb(){const a=_b.compile({ws:{match:/[ \t]+/,lineBreaks:!1},comment:[{match:/\/\*\*[\s\S]*?\*\//,lineBreaks:!0},{match:/\/\*[\s\S]*?\*\//,lineBreaks:!0},{match:/\/\/.*?$/,lineBreaks:!1}],newline:{match:/\r?\n/,lineBreaks:!0},lbrace:"{",rbrace:"}",lparen:"(",rparen:")",lbracket:"[",rbracket:"]",comma:",",semicolon:";",colon:":",arrow:"->",dot:".",op:["==","!=","<=",">=","&&","||","+","-","*","/","%","=","<",">"],keyword:["import","from","type","struct","enum","fn","let","return","if","else","for","while","match","true","false","pub","extern","as","async","await","ref","mut","move","is"],string:[{match:/"(?:\\.|[^"\\])*"/,lineBreaks:!1},{match:/'(?:\\.|[^'\\])*'/,lineBreaks:!1}],number:[{match:/0x[0-9a-fA-F_]+(?:i8|i16|i32|i64|i128|u8|u16|u32|u64|u128|f32|f64)?/},{match:/0b[01_]+(?:i8|i16|i32|i64|i128|u8|u16|u32|u64|u128|f32|f64)?/},{match:/[0-9][0-9_]*(?:\.[0-9_]+)?(?:[eE][+-]?[0-9_]+)?(?:i8|i16|i32|i64|i128|u8|u16|u32|u64|u128|f32|f64)?/}],identifier:/[A-Za-z_][A-Za-z0-9_]*/});let r=null;const i={reset(u){return r=a.reset(u),i},[Symbol.iterator](){const u=r??a.reset("");return function*(){for(const f of u)yield Eb(f)}()}};return i}function Eb(a){const r=a.value??"",i={type:a.type,kind:xb(a.type),offset:a.offset??0,line:a.line??1,col:a.col??1,text:r};switch(a.type){case"number":return{...i,kind:"number",value:Mb(r)};case"string":return{...i,kind:"string",value:wb(r)};case"identifier":return{...i,kind:"identifier",name:r};case"keyword":return{...i,kind:"keyword",keyword:r};case"op":return{...i,kind:"operator",op:r};case"ws":return{...i,kind:"whitespace"};case"newline":return{...i,kind:"newline"};case"comment":return{...i,kind:"comment"};default:return{...i,kind:"punctuation"}}}function xb(a){return a==="number"?"number":a==="string"?"string":a==="identifier"?"identifier":a==="keyword"?"keyword":a==="op"?"operator":a==="ws"?"whitespace":a==="newline"?"newline":a==="comment"?"comment":"punctuation"}function Mb(a){const r=a.replace(/_/g,""),i=r.match(/^(.*?)(i8|i16|i32|i64|i128|u8|u16|u32|u64|u128|f32|f64)$/),u=i?i[1]:r;return u.startsWith("0x")||u.startsWith("0X")?Number.parseInt(u.slice(2),16):u.startsWith("0b")||u.startsWith("0B")?Number.parseInt(u.slice(2),2):u.includes(".")||u.includes("e")||u.includes("E")?Number.parseFloat(u):Number.parseInt(u,10)}function wb(a){if(a.length<2)return a;const r=a[0];return r!=='"'&&r!=="'"||a[a.length-1]!==r?a:a.slice(1,-1).replace(/\\./g,u=>{switch(u[1]){case"n":return`
`;case"r":return"\r";case"t":return"	";case'"':return'"';case"'":return"'";case"\\":return"\\";default:return u[1]}})}const Ab=new Set(["int","float","string","bool","void","any"]),kb=a=>({kind:"primitive",name:a}),zb=a=>{const r=[];let i=0,u="";for(const s of a){if(s==="<"&&i++,s===">"&&i--,s===","&&i===0){r.push(u.trim()),u="";continue}u+=s}return u.trim()&&r.push(u.trim()),r},Mc=(a,r)=>{const i=typeof a=="string"?a:String(a),u=r.get(i);if(u)return u;if(Ab.has(i))return kb(i);const s=i.indexOf("<");if(s===-1)return{kind:"adt",name:i,params:[]};const f=i.slice(0,s),m=i.slice(s+1,-1),d=zb(m).map(p=>Mc(p,r));return f==="Promise"&&d.length===1?{kind:"promise",inner:d[0]}:{kind:"adt",name:f,params:d}};function Ob(a){if(a.kind!=="function")return null;const r=a.paramTypes??[],i=a.type??"void",u=new Map,s=[];for(const p of a.typeParams??[]){const y=be();u.set(p.name,y),s.push(y.id)}const f=r.map(p=>Mc(p,u)),m=Mc(i,u),d={kind:"scheme",variables:s,type:{kind:"function",args:f,returnType:m}};return{kind:"function",name:a.name,paramTypes:r,returnType:i,paramNames:a.paramNames,hmType:d,moduleId:a.uri??a.externModule??"file://unknown",exportName:a.name}}function Rb(a,r,i=a){const u=new Map;for(const s of r){if(s.kind!=="function"||s.visibility==="private")continue;const f=Ob(s);f&&u.set(s.name,{...f,moduleId:i,exportName:f.exportName??f.name})}return{kind:"module",name:a,moduleId:i,exports:u}}const jb={start:{line:1,column:1},end:{line:1,column:1}};class Cb{constructor(r,i={}){this.documents=new Map,this.parser=null,this.luminaLexer=Nb(),this.virtualFiles=new Map,this.preludeSymbols=null,this.preludeNames=new Set,this.preludeText=null,this.lockfileCache=new Map,this.packageDiagnostics=[],this.parser=r??null,this.preludeText=i.preludeText??null,this.moduleRegistry=kc(),this.recoveryOptions={syncTokenTypes:Tb,syncKeywordValues:["import","type","struct","enum","fn","let","return","if","else","for","while","match","extern","pub"],lexer:u=>{const s=this.luminaLexer.reset(u);return{[Symbol.iterator]:function*(){for(const f of s)yield f}}},...i.recoveryOptions??{}},this.ensurePreludeLoaded()}setParser(r){this.parser=r,this.ensurePreludeLoaded()}registerVirtualFile(r,i,u=1){const s=this.normalizeVirtualSpec(r);this.virtualFiles.set(s,i);const f=this.virtualUriFor(s);this.addOrUpdateDocument(f,i,u)}addOrUpdateDocument(r,i,u=1){if(!this.parser)return;const s=this.toVirtualUri(r),f=R0(i),m=this.documents.get(s),d={uri:s,text:i,version:m?m.version+1:u,imports:f,importDiagnostics:m?.importDiagnostics,packageDiagnostics:m?.packageDiagnostics,diagnostics:[],signatures:m?.signatures,functionHashes:m?.functionHashes,inferredReturns:m?.inferredReturns};this.documents.set(s,d);for(const p of f.map(y=>this.resolveImport(s,y)))this.ensureDocumentLoaded(p);this.parseDocument(s)}getDiagnostics(r){return this.documents.get(this.toVirtualUri(r))?.diagnostics??[]}getSymbols(r){return this.documents.get(this.toVirtualUri(r))?.symbols}getDocumentAst(r){return this.documents.get(this.toVirtualUri(r))?.ast}parseDocument(r){const i=this.documents.get(this.toVirtualUri(r));if(!i||!this.parser)return;const u=O0(this.parser,i.text,this.recoveryOptions);i.diagnostics=u.diagnostics,i.ast=void 0,i.importedNames=void 0,i.importAliases=void 0,i.importNameMap=void 0,i.moduleBindings=void 0,i.hmCallSignatures=void 0;let s=null;if(u.result&&typeof u.result=="object"&&"success"in u.result&&u.result.success&&(s=u.result.result??u.result,s&&typeof s=="object"&&"type"in s)){i.ast=s;const m=Ub(s,i.text),d=i.functionHashes??new Map,p=new Set;for(const[E,A]of m.entries())d.get(E)===A&&p.add(E);const y=i.inferredReturns??new Map,g=Bb(s),v=new Set(g.locals);for(const E of this.preludeNames)v.add(E);i.importedNames=v,i.importAliases=g.aliases,i.importNameMap=g.map;const b=this.buildModuleBindings(g.bindings,s);i.moduleBindings=b;const S=lb(s,{externSymbols:E=>{const A=this.preludeSymbols?.get(E);if(A)return A;if(g.locals.has(E))return this.getExternalSymbol(E,r)},externalSymbols:[...this.preludeSymbols?this.preludeSymbols.list():[],...this.getExternalSymbols(g.locals,r)],importedNames:v,skipFunctionBodies:p,cachedFunctionReturns:y,moduleRegistry:this.moduleRegistry,moduleBindings:b});i.symbols=S.symbols,i.hmCallSignatures=S.hmCallSignatures,i.inferredReturns=new Map;for(const E of S.symbols.list())E.kind==="function"&&E.type&&i.inferredReturns.set(E.name,E.type);i.diagnostics.push(...S.diagnostics)}const f=this.collectImportDiagnostics(s,r);f.length>0?(i.importDiagnostics=f,i.packageDiagnostics=f,i.diagnostics.push(...f)):(i.importDiagnostics=[],i.packageDiagnostics=[]),this.packageDiagnostics=[];for(const m of this.documents.values())m.packageDiagnostics&&m.packageDiagnostics.length>0&&this.packageDiagnostics.push(...m.packageDiagnostics)}resolveImport(r,i){if(i.startsWith(".")){const d=this.normalizeVirtualSpec(r).split("/").slice(0,-1),p=i.split("/");for(const g of p)g==="."||g===""||(g===".."?d.pop():d.push(g));const y=d.join("/");return this.virtualUriFor(this.ensureVirtualExtension(y))}if(i.startsWith("@std/"))return i;const u=this.normalizeVirtualSpec(i);if(this.virtualFiles.has(u))return this.virtualUriFor(u);const s=this.ensureVirtualExtension(u);if(this.virtualFiles.has(s))return this.virtualUriFor(s);const f=this.resolveBareSpecifier(r,i);return f?this.virtualUriFor(f):this.virtualUriFor(u)}buildModuleBindings(r,i){const u=zc(i,this.moduleRegistry),s=new Map,f=(m,d)=>m.name===d?m:{...m,name:d};for(const m of r){if(u.has(m.local))continue;const d=this.moduleRegistry.get(m.source);if(d){if(m.namespace)u.set(m.local,f(d,m.local));else{const g=d.exports.get(m.original);g&&u.set(m.local,g.kind==="function"&&g.name!==m.local?{...g,name:m.local}:g)}continue}const p=this.resolveImport("",m.source);let y=s.get(p);if(!y){this.ensureDocumentLoaded(p);const g=this.documents.get(this.toVirtualUri(p));if(!g?.symbols)continue;y=Rb(m.source,g.symbols.list(),this.toVirtualUri(p)),s.set(p,y)}if(m.namespace)u.set(m.local,f(y,m.local));else{const g=y.exports.get(m.original);g&&u.set(m.local,g.kind==="function"&&g.name!==m.local?{...g,name:m.local}:g)}}return u}ensureDocumentLoaded(r){const i=this.toVirtualUri(r);if(this.documents.has(i))return;const u=this.normalizeVirtualSpec(i),s=this.virtualFiles.get(u);s&&this.addOrUpdateDocument(i,s,1)}ensurePreludeLoaded(){if(!this.parser||!this.preludeText)return;const r=this.virtualUriFor("std/prelude.lm");this.virtualFiles.set("std/prelude.lm",this.preludeText),this.addOrUpdateDocument(r,this.preludeText,1);const i=this.documents.get(r);i?.symbols&&(this.preludeSymbols=i.symbols,this.preludeNames=new Set(i.symbols.list().map(u=>u.name)))}getExternalSymbol(r,i){const u=this.toVirtualUri(i),s=this.resolveImportedSymbol(r,u);if(s)return s;for(const f of this.documents.values()){if(f.uri===u)continue;const m=f.symbols?.get(r);if(m)return m}}resolveImportedSymbol(r,i){const u=this.toVirtualUri(i),f=this.documents.get(u)?.importNameMap?.get(r);if(f){if(f.namespace)return;const m=this.resolveImport(u,f.source),p=this.documents.get(this.toVirtualUri(m))?.symbols?.get(f.original);return!p||p.visibility==="private"&&this.toVirtualUri(m)!==u?void 0:{...p,name:r}}}resolveImportedMember(r,i,u){const s=this.toVirtualUri(u),m=this.documents.get(s)?.importNameMap?.get(r);if(!m||!m.namespace)return;const d=this.moduleRegistry.get(m.source);if(d){const v=d.exports.get(i);return v?.kind==="function"?{name:i,kind:"function",type:v.returnType,paramTypes:v.paramTypes,paramNames:v.paramNames,visibility:"public",extern:!0,uri:v.moduleId}:void 0}const p=this.resolveImport(s,m.source),g=this.documents.get(this.toVirtualUri(p))?.symbols?.get(i);if(g&&!(g.visibility==="private"&&this.toVirtualUri(p)!==s))return{...g,name:i}}getExternalSymbols(r,i){const u=[];for(const s of r){const f=this.getExternalSymbol(s,i);f&&u.push(f)}return u}findLockfileSpec(r){const i=this.normalizeVirtualSpec(r);let u=i.includes("/")?i.slice(0,i.lastIndexOf("/")):"";for(;;){const s=u?`${u}/lumina.lock.json`:"lumina.lock.json";if(this.virtualFiles.has(s))return s;if(!u)return null;u=u.includes("/")?u.slice(0,u.lastIndexOf("/")):""}}loadLockfile(r){const i=this.lockfileCache.get(r);if(i)return i;const u=this.virtualFiles.get(r);if(!u)return null;try{const s=JSON.parse(u);return this.lockfileCache.set(r,s),s}catch{return null}}parsePackageSpecifier(r){if(r.startsWith("@")){const u=r.split("/");if(u.length<2)return{pkgName:r,subpath:null};const s=`${u[0]}/${u[1]}`,f=u.length>2?`./${u.slice(2).join("/")}`:null;return{pkgName:s,subpath:f}}const i=r.indexOf("/");return i===-1?{pkgName:r,subpath:null}:{pkgName:r.slice(0,i),subpath:`./${r.slice(i+1)}`}}resolveBareSpecifier(r,i){const u=this.resolveBareSpecifierDetailed(r,i);return"resolved"in u?u.resolved:null}resolveBareSpecifierDetailed(r,i){const u=this.findLockfileSpec(r);if(!u)return{error:{code:"PKG-004",message:"Cannot resolve package imports: lumina.lock.json not found"}};const s=this.loadLockfile(u);if(!s)return{error:{code:"PKG-004",message:"Cannot resolve package imports: lumina.lock.json not found"}};const{pkgName:f,subpath:m}=this.parsePackageSpecifier(i),d=s.packages?.[f];if(!d)return{error:{code:"PKG-001",message:`Package '${f}' not found in lumina.lock.json`}};const p=d.lumina;if(!p)return{error:{code:"PKG-002",message:`Package '${f}' missing 'lumina' field in lumina.lock.json`}};let y;if(m)if(typeof p=="object"){if(y=p[m],!y)return{error:{code:"PKG-003",message:`Package '${f}' does not export '${m}'`}}}else return{error:{code:"PKG-003",message:`Package '${f}' does not export '${m}'`}};else typeof p=="string"?y=p:typeof p=="object"&&(y=p["."]);if(!y)return{error:{code:"PKG-003",message:`Package '${f}' does not export '.'`}};const g=u.includes("/")?u.slice(0,u.lastIndexOf("/")):"";let v=d.resolved;v.startsWith("/")||(v=g?`${g}/${v}`:v);const b=v.endsWith("/")?`${v}${y}`:`${v}/${y}`;return{resolved:this.ensureVirtualExtension(b)}}collectImportDiagnostics(r,i){const u=[];if(!r||!Array.isArray(r.body))return u;for(const s of r.body){const f=s;if(f.type!=="Import")continue;const m=f.source?.value;if(!m||m.startsWith(".")||m==="@std"||m.startsWith("@std/"))continue;const d=this.resolveBareSpecifierDetailed(i,m);if("resolved"in d)continue;const p=f.source?.location??f.location??jb;u.push({severity:"error",code:d.error.code,message:d.error.message,location:p,source:"lumina"})}return u}normalizeVirtualSpec(r){return r.startsWith("virtual://")?r.slice(10):r}virtualUriFor(r){return`virtual://${this.normalizeVirtualSpec(r)}`}toVirtualUri(r){return r.startsWith("virtual://")?r:`virtual://${r}`}ensureVirtualExtension(r){return r.endsWith(".lum")||r.endsWith(".lumina")?r:this.virtualFiles.has(`${r}.lum`)?`${r}.lum`:this.virtualFiles.has(`${r}.lumina`)?`${r}.lumina`:`${r}.lum`}}function Bb(a){const r=new Set,i=new Map,u=[],s=new Map;if(!a||!Array.isArray(a.body))return{locals:r,aliases:i,bindings:u,map:s};const f=(m,d,p,y)=>{r.add(m),y&&i.set(m,p);const g={local:m,original:d,source:p,namespace:y};u.push(g),s.set(m,g)};for(const m of a.body){const d=m;if(d.type!=="Import")continue;const p=d.source?.value;if(!p)continue;const y=d.spec;if(Array.isArray(y)){for(const g of y){if(typeof g=="string"){f(g,g,p,!1);continue}if(!g||typeof g!="object")continue;const v=g,b=v.name;if(!b)continue;const S=v.alias??b;f(S,b,p,!!v.namespace)}continue}if(typeof y=="string"){f(y,y,p,!0);continue}if(y&&typeof y=="object"&&"name"in y){const g=y,v=g.name;if(!v)continue;const b=g.alias??v;f(b,v,p,!!g.namespace)}}return{locals:r,aliases:i,bindings:u,map:s}}function Ub(a,r){const i=new Map;if(!a||!Array.isArray(a.body))return i;for(const u of a.body){const s=u;if(s.type!=="FnDecl"||!s.name)continue;const f=s.body?.location;let m="";f?.start?.offset!==void 0&&f?.end?.offset!==void 0?m=r.slice(f.start.offset,f.end.offset):s.body&&(m=JSON.stringify(s.body)),i.set(s.name,$b(m))}return i}function $b(a){let r=5381;for(let i=0;i<a.length;i++)r=r*33^a.charCodeAt(i);return(r>>>0).toString(16)}function Db(a){const r=Lb(a);return{kind:"Program",body:a.body.map(i=>el(i,r)),location:a.location}}function Lb(a){const r=new Map,i=new Map;for(const u of a.body)if(u.type==="EnumDecl")for(const s of u.variants){const f={enumName:u.name,name:s.name,hasPayload:(s.params??[]).length>0};r.set(s.name,f),i.set(`${u.name}.${s.name}`,f)}return{variantsByName:r,variantsByQualified:i,matchCounter:0}}function el(a,r){switch(a.type){case"FnDecl":return{kind:"Function",name:a.name,params:a.params.map(u=>u.name),body:a.body.body.map(u=>el(u,r)),location:a.location};case"Let":return{kind:"Let",name:a.name,value:Ze(a.value,r),location:a.location};case"Return":return{kind:"Return",value:Ze(a.value,r),location:a.location};case"ExprStmt":return{kind:"ExprStmt",expr:Ze(a.expr,r),location:a.location};case"If":return{kind:"If",condition:Ze(a.condition,r),thenBody:a.thenBlock.body.map(u=>el(u,r)),elseBody:a.elseBlock?a.elseBlock.body.map(u=>el(u,r)):void 0,location:a.location};case"While":return{kind:"While",condition:Ze(a.condition,r),body:a.body.body.map(u=>el(u,r)),location:a.location};case"Assign":return a.target.type==="Identifier"?{kind:"Assign",target:a.target.name,value:Ze(a.value,r),location:a.location}:{kind:"ExprStmt",expr:{kind:"Call",callee:"__set",args:[Ze(a.target.object,r),{kind:"String",value:a.target.property,location:a.location},Ze(a.value,r)],location:a.location},location:a.location};case"Block":return{kind:"Program",body:a.body.map(i=>el(i,r)),location:a.location};case"MatchStmt":{const i=`__match${r.matchCounter++}`,u={kind:"Let",name:i,value:Ze(a.value,r),location:a.location};let s=null,f=null,m=null;for(const p of a.arms){const y=[];if(p.pattern.type==="EnumPattern"&&(p.pattern.enumName?r.variantsByQualified.get(`${p.pattern.enumName}.${p.pattern.variant}`):r.variantsByName.get(p.pattern.variant))?.hasPayload&&p.pattern.bindings.length>0&&p.pattern.bindings.forEach((S,E)=>{S!=="_"&&y.push({kind:"Let",name:S,value:{kind:"Index",target:{kind:"Member",object:{kind:"Identifier",name:i},property:"values"},index:E}})}),p.body.body.map(b=>el(b,r)).forEach(b=>y.push(b)),p.pattern.type==="WildcardPattern"){m=y;continue}const v={kind:"If",condition:{kind:"Binary",op:"==",left:{kind:"Member",object:{kind:"Identifier",name:i},property:"tag"},right:{kind:"String",value:p.pattern.variant}},thenBody:y,elseBody:void 0};s?f&&(f.elseBody=[v],f=v):(s=v,f=v)}f&&m&&(f.elseBody=m);const d=[u];return s&&d.push(s),{kind:"Program",body:d,location:a.location}}case"Import":case"TraitDecl":case"ImplDecl":case"TypeDecl":case"StructDecl":case"EnumDecl":case"ErrorNode":return{kind:"Noop"};default:return{kind:"Noop"}}}function Ze(a,r){switch(a.type){case"Binary":return a.op==="|>"?a.right.type==="Call"?{kind:"Call",callee:a.right.enumName?`${a.right.enumName}.${a.right.callee.name}`:a.right.callee.name,args:[Ze(a.left,r),...a.right.args.map(f=>Ze(f,r))],location:a.location}:Ze(a.left,r):{kind:"Binary",op:a.op,left:Ze(a.left,r),right:Ze(a.right,r),location:a.location};case"Call":{const i=a.enumName?r.variantsByQualified.get(`${a.enumName}.${a.callee.name}`):r.variantsByName.get(a.callee.name);return i?{kind:"Enum",tag:i.name,values:a.args.map(f=>Ze(f,r)),location:a.location}:{kind:"Call",callee:a.enumName?`${a.enumName}.${a.callee.name}`:a.callee.name,args:a.args.map(s=>Ze(s,r)),location:a.location}}case"Number":return{kind:"Number",value:a.value,location:a.location};case"Boolean":return{kind:"Boolean",value:a.value,location:a.location};case"String":return{kind:"String",value:a.value,location:a.location};case"InterpolatedString":{if(a.parts.length===0)return{kind:"String",value:"",location:a.location};const i=a.parts.map(s=>typeof s=="string"?{kind:"String",value:s,location:a.location}:{kind:"Call",callee:"__lumina_stringify",args:[Ze(s,r)],location:s.location??a.location});let u=i[0];for(let s=1;s<i.length;s+=1)u={kind:"Binary",op:"+",left:u,right:i[s],location:a.location};return u}case"Range":{const i=a.start?Ze(a.start,r):{kind:"Number",value:0},u=a.end?Ze(a.end,r):{kind:"Number",value:0},s={kind:"Boolean",value:!!a.inclusive},f={kind:"Boolean",value:!!a.start},m={kind:"Boolean",value:!!a.end};return{kind:"Call",callee:"__lumina_range",args:[i,u,s,f,m],location:a.location}}case"Index":{const i=Ze(a.index,r);return a.index.type==="Range"?{kind:"Call",callee:"str.slice",args:[Ze(a.object,r),i],location:a.location}:{kind:"Call",callee:"__lumina_index",args:[Ze(a.object,r),i],location:a.location}}case"Identifier":return{kind:"Identifier",name:a.name,location:a.location};case"Move":return Ze(a.target,r);case"Cast":{const i=typeof a.targetType=="string"?a.targetType:"_";return{kind:"Cast",expr:Ze(a.expr,r),targetType:i,location:a.location}}case"Try":return{kind:"Call",callee:"__lumina_try",args:[Ze(a.value,r)],location:a.location};case"Member":{if(a.object.type==="Identifier"){const u=`${a.object.name}.${a.property}`,s=r.variantsByQualified.get(u);if(s&&!s.hasPayload)return{kind:"Enum",tag:s.name,values:[],location:a.location}}return{kind:"Member",object:Ze(a.object,r),property:a.property,location:a.location}}case"StructLiteral":return{kind:"StructLiteral",name:a.name,fields:a.fields.map(u=>({name:u.name,value:Ze(u.value,r)})),location:a.location};case"MatchExpr":return{kind:"MatchExpr",value:Ze(a.value,r),arms:a.arms.map(u=>({variant:u.pattern.type==="WildcardPattern"?null:u.pattern.variant,bindings:u.pattern.type==="WildcardPattern"?[]:u.pattern.bindings,body:Ze(u.body,r)})),location:a.location};default:return{kind:"Identifier",name:"__unknown__"}}}function Vb(a){const r=new Map,i=qp(a);let u=nt(i,r);return u&&u.kind==="Program"&&(u=Ib(u),u&&u.kind==="Program"&&(u.ssa=!0)),u&&Jb(u),u}function qp(a){switch(a.kind){case"Program":return{...a,body:a.body.map(r=>qp(r))};case"Function":return qb(a)?a:Hb(a);default:return a}}function qb(a){const r=i=>{switch(i.kind){case"MatchExpr":case"Program":return!0;case"If":return r(i.condition)||i.thenBody.some(r)||(i.elseBody?i.elseBody.some(r):!1);case"While":return r(i.condition)||i.body.some(r);case"Let":return r(i.value);case"Phi":return r(i.condition)||r(i.thenValue)||r(i.elseValue);case"Assign":return r(i.value);case"Return":return r(i.value);case"ExprStmt":return r(i.expr);case"Binary":return r(i.left)||r(i.right);case"Cast":return r(i.expr);case"Call":return i.args.some(r);case"StructLiteral":return i.fields.some(u=>r(u.value));case"Member":return r(i.object);case"Index":return r(i.target);case"Enum":return i.values.some(r);default:return!1}};return a.body.some(r)}function Hb(a){const r=new Map,i=new Map,u=d=>{if(!r.has(d))return r.set(d,0),i.set(d,d),d;const p=(r.get(d)??0)+1;r.set(d,p);const y=`${d}_${p}`;return i.set(d,y),y};a.params.forEach(d=>{r.set(d,0),i.set(d,d)});const s=d=>{switch(d.kind){case"Identifier":{const p=i.get(d.name)??d.name;return p===d.name?d:{...d,name:p}}case"Binary":return{...d,left:s(d.left),right:s(d.right)};case"Cast":return{...d,expr:s(d.expr)};case"Call":return{...d,args:d.args.map(s)};case"StructLiteral":return{...d,fields:d.fields.map(p=>({...p,value:s(p.value)}))};case"Member":return{...d,object:s(d.object)};case"Index":return{...d,target:s(d.target)};case"Enum":return{...d,values:d.values.map(s)};case"MatchExpr":return{...d,value:s(d.value),arms:d.arms.map(p=>({...p,body:s(p.body)}))};case"Phi":return{...d,condition:s(d.condition),thenValue:s(d.thenValue),elseValue:s(d.elseValue)};default:return d}},f=(d,p,y=!0)=>{const g=new Map(i);i.clear();for(const[S,E]of p.entries())i.set(S,E);const v=[];for(const S of d)switch(S.kind){case"Let":{const E=s(S.value);if(y){const A=u(S.name);v.push({...S,name:A,value:E})}else v.push({...S,value:E});break}case"Assign":{const E=s(S.value);if(y){const A=u(S.target);v.push({kind:"Let",name:A,value:E,location:S.location})}else{const A=i.get(S.target)??S.target;v.push({...S,target:A,value:E})}break}case"Return":v.push({...S,value:s(S.value)});break;case"ExprStmt":v.push({...S,expr:s(S.expr)});break;case"If":{const E=s(S.condition),A=f(S.thenBody,new Map(i),y),N=S.elseBody?f(S.elseBody,new Map(i),y):{body:[],mapping:new Map(i)},B={kind:"If",condition:E,thenBody:A.body,elseBody:N.body,location:S.location};if(v.push(B),!y)break;const M=new Set([...A.mapping.keys(),...N.mapping.keys()]);for(const R of M){const _=A.mapping.get(R)??i.get(R)??R,w=N.mapping.get(R)??i.get(R)??R;if(_===w){i.set(R,_);continue}const V={kind:"Phi",name:u(R),condition:E,thenValue:{kind:"Identifier",name:_},elseValue:{kind:"Identifier",name:w}};v.push(V)}break}case"While":{const E=s(S.condition),A=f(S.body,new Map(i),!1),N={kind:"While",condition:E,body:A.body,location:S.location};v.push(N);break}default:v.push(S);break}const b=new Map(i);i.clear();for(const[S,E]of g.entries())i.set(S,E);return{body:v,mapping:b}},m=f(a.body,new Map(i));return{...a,body:m.body}}function nt(a,r){switch(a.kind){case"Program":{const i=[];for(const s of a.body){const f=nt(s,r);if(f&&f.kind!=="Noop"&&(i.push(f),f.kind==="Return"))break}const u={kind:"Program",body:i,location:a.location};return np(u,!0)}case"Function":{const i=[],u=new Map;for(const m of a.body){const d=nt(m,u);if(d&&d.kind!=="Noop"&&(i.push(d),d.kind==="Return"))break}const s={...a,body:i,location:a.location},f=np({kind:"Program",body:s.body,location:s.location},!1);return{...s,body:f.body}}case"ExprStmt":{const i=nt(a.expr,r);return!i||i.kind==="Noop"?null:{kind:"ExprStmt",expr:i,location:a.location}}case"Let":{const u=nt(a.value,r)??a.value;return uc(u)?r.set(a.name,u):r.delete(a.name),{kind:"Let",name:a.name,value:u,location:a.location}}case"Phi":{const i=nt(a.condition,r)??a.condition,u=nt(a.thenValue,r)??a.thenValue,s=nt(a.elseValue,r)??a.elseValue;if(i.kind==="Boolean"){const m=i.value?u:s,d={kind:"Let",name:a.name,value:m,location:a.location};return uc(m)?r.set(a.name,m):r.delete(a.name),d}return{kind:"Phi",name:a.name,condition:i,thenValue:u,elseValue:s,location:a.location}}case"Return":return{kind:"Return",value:nt(a.value,r)??a.value,location:a.location};case"Binary":{const i=nt(a.left,r)??a.left,u=nt(a.right,r)??a.right;if(i.kind==="Number"&&u.kind==="Number"){const d=Gb(a.op,i,u);if(d)return{...d,location:a.location}}if(i.kind==="String"&&u.kind==="String"&&a.op==="+")return{kind:"String",value:i.value+u.value,location:a.location};const s=Zb(a.op,i,u);if(s)return{...s,location:a.location};const f=Kb(a.op,i,u);return f?{...f,location:a.location}:{kind:"Binary",op:a.op,left:i,right:u,location:a.location}}case"Cast":{const i=nt(a.expr,r)??a.expr;return i.kind==="Number"?{kind:"Number",value:Yb(i.value,a.targetType),location:a.location}:{kind:"Cast",expr:i,targetType:a.targetType,location:a.location}}case"Call":{const i=a.args.map(s=>nt(s,r)??s);return{kind:"Call",callee:a.callee,args:i,location:a.location}}case"StructLiteral":{const i=a.fields.map(s=>({...s,value:nt(s.value,r)??s.value}));return{kind:"StructLiteral",name:a.name,fields:i,location:a.location}}case"Member":return{kind:"Member",object:nt(a.object,r)??a.object,property:a.property,location:a.location};case"Index":return{kind:"Index",target:nt(a.target,r)??a.target,index:a.index,location:a.location};case"Enum":{const i=a.values.map(s=>nt(s,r)??s);return{kind:"Enum",tag:a.tag,values:i,location:a.location}}case"MatchExpr":{const i=nt(a.value,r)??a.value,u=a.arms.map(f=>({...f,body:nt(f.body,new Map(r))??f.body}));return{kind:"MatchExpr",value:i,arms:u,location:a.location}}case"If":{const i=nt(a.condition,r)??a.condition,u=a.thenBody.map(m=>nt(m,new Map(r))).filter(m=>m!==null&&m.kind!=="Noop"),s=a.elseBody?a.elseBody.map(m=>nt(m,new Map(r))).filter(m=>m!==null&&m.kind!=="Noop"):void 0;return i.kind==="Boolean"?i.value?{kind:"Program",body:u,location:a.location}:{kind:"Program",body:s??[],location:a.location}:{kind:"If",condition:i,thenBody:u,elseBody:s,location:a.location}}case"While":{const i=new Set;for(const d of a.body)at(d,i);const u=new Map(r);for(const d of i)u.delete(d);const s=nt(a.condition,u)??a.condition,f=a.body.map(d=>nt(d,new Map(u))).filter(d=>d!==null&&d.kind!=="Noop");for(const d of i)r.delete(d);return s.kind==="Boolean"&&s.value===!1?null:{kind:"While",condition:s,body:f,location:a.location}}case"Assign":{const i=nt(a.value,r)??a.value;return uc(i)?r.set(a.target,i):r.delete(a.target),{kind:"Assign",target:a.target,value:i,location:a.location}}case"Number":case"Boolean":case"String":return a;case"Identifier":if(a.name==="__noop__")return null;if(r.has(a.name)){const i=r.get(a.name);if(i)return i}return a;case"Noop":return null;default:return a}}function at(a,r){switch(a.kind){case"Let":r.add(a.name),at(a.value,r);return;case"Assign":r.add(a.target),at(a.value,r);return;case"If":at(a.condition,r),a.thenBody.forEach(i=>at(i,r)),a.elseBody?.forEach(i=>at(i,r));return;case"While":at(a.condition,r),a.body.forEach(i=>at(i,r));return;case"MatchExpr":at(a.value,r),a.arms.forEach(i=>at(i.body,r));return;case"ExprStmt":at(a.expr,r);return;case"Return":at(a.value,r);return;case"Binary":at(a.left,r),at(a.right,r);return;case"Cast":at(a.expr,r);return;case"Call":a.args.forEach(i=>at(i,r));return;case"StructLiteral":a.fields.forEach(i=>at(i.value,r));return;case"Member":at(a.object,r);return;case"Index":at(a.target,r);return;case"Enum":a.values.forEach(i=>at(i,r));return;case"Phi":at(a.condition,r),at(a.thenValue,r),at(a.elseValue,r);return;case"Program":a.body.forEach(i=>at(i,r));return;case"Function":a.body.forEach(i=>at(i,r));return;default:return}}function Gb(a,r,i){switch(a){case"+":return{kind:"Number",value:r.value+i.value};case"-":return{kind:"Number",value:r.value-i.value};case"*":return{kind:"Number",value:r.value*i.value};case"/":return{kind:"Number",value:r.value/i.value};default:return null}}function Yb(a,r){const i=Qb(r);if(i==="f32")return Math.fround(a);if(i==="f64")return Number(a);if(Xb(i)){const u=Math.trunc(a);switch(i){case"i8":return u<<24>>24;case"u8":return u&255;case"i16":return u<<16>>16;case"u16":return u&65535;case"i32":return u|0;case"u32":return u>>>0;default:return u}}return a}function Qb(a){return a==="int"?"i32":a==="float"?"f64":a}function Xb(a){return a.startsWith("i")||a.startsWith("u")||a==="int"}function Zb(a,r,i){if(r.kind==="Boolean"&&i.kind==="Boolean")switch(a){case"&&":return{kind:"Boolean",value:r.value&&i.value};case"||":return{kind:"Boolean",value:r.value||i.value};case"==":return{kind:"Boolean",value:r.value===i.value};case"!=":return{kind:"Boolean",value:r.value!==i.value};default:return null}if(r.kind==="Number"&&i.kind==="Number")switch(a){case"==":return{kind:"Boolean",value:r.value===i.value};case"!=":return{kind:"Boolean",value:r.value!==i.value};case"<":return{kind:"Boolean",value:r.value<i.value};case"<=":return{kind:"Boolean",value:r.value<=i.value};case">":return{kind:"Boolean",value:r.value>i.value};case">=":return{kind:"Boolean",value:r.value>=i.value};default:return null}return null}function Kb(a,r,i){if(r.kind==="Number"&&i.kind==="Number")return null;if(a==="+"){if(i.kind==="Number"&&i.value===0)return r;if(r.kind==="Number"&&r.value===0)return i}if(a==="-"&&i.kind==="Number"&&i.value===0)return r;if(a==="*"){if(i.kind==="Number"&&i.value===1)return r;if(r.kind==="Number"&&r.value===1)return i;if(i.kind==="Number"&&i.value===0)return{kind:"Number",value:0};if(r.kind==="Number"&&r.value===0)return{kind:"Number",value:0}}return a==="/"&&i.kind==="Number"&&i.value===1?r:null}function uc(a){return a.kind==="Number"||a.kind==="Boolean"||a.kind==="String"}function Jb(a){const r=i=>{switch(i.kind){case"Program":i.body.forEach(r);return;case"Function":i.body.forEach(r);return;case"Let":r(i.value);return;case"Phi":r(i.condition),r(i.thenValue),r(i.elseValue);return;case"Assign":if(!i.target)throw new Error("IR validation: Assign target missing");r(i.value);return;case"Return":r(i.value);return;case"ExprStmt":r(i.expr);return;case"If":r(i.condition),i.thenBody.forEach(r),i.elseBody?.forEach(r);return;case"While":r(i.condition),i.body.forEach(r);return;case"Binary":if(!i.op)throw new Error("IR validation: Binary op missing");r(i.left),r(i.right);return;case"Cast":r(i.expr);return;case"Call":if(!i.callee)throw new Error("IR validation: Call callee missing");i.args.forEach(r);return;case"Member":if(!i.property)throw new Error("IR validation: Member property missing");r(i.object);return;case"Index":if(i.index===void 0)throw new Error("IR validation: Index missing");r(i.target);return;case"Enum":if(!i.tag)throw new Error("IR validation: Enum tag missing");i.values.forEach(r);return;case"StructLiteral":i.fields.forEach(u=>r(u.value));return;case"MatchExpr":r(i.value),i.arms.forEach(u=>r(u.body));return;case"Identifier":if(!i.name)throw new Error("IR validation: Identifier name missing");return;case"Number":case"Boolean":case"String":case"Noop":return;default:return i}};r(a)}function np(a,r){const i=new Set,u=[...a.body].reverse(),s=[],f=d=>{switch(d.kind){case"Identifier":i.add(d.name);return;case"Binary":f(d.left),f(d.right);return;case"Cast":f(d.expr);return;case"Call":d.args.forEach(f);return;case"Member":f(d.object);return;case"Index":f(d.target);return;case"Enum":d.values.forEach(f);return;case"StructLiteral":d.fields.forEach(p=>f(p.value));return;case"MatchExpr":f(d.value),d.arms.forEach(p=>f(p.body));return;case"If":f(d.condition),d.thenBody.forEach(m),d.elseBody?.forEach(m);return;case"While":f(d.condition),d.body.forEach(m);return;case"Assign":f(d.value),i.add(d.target);return;case"ExprStmt":f(d.expr);return;case"Return":f(d.value);return;case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;default:return}},m=d=>{switch(d.kind){case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;case"Assign":f(d.value),i.add(d.target);return;case"Return":f(d.value);return;case"ExprStmt":f(d.expr);return;case"If":f(d.condition),d.thenBody.forEach(m),d.elseBody?.forEach(m);return;case"While":f(d.condition),d.body.forEach(m);return;case"Program":d.body.forEach(m);return;default:return}};for(const d of u){if(d.kind==="Let"){if(r){s.push(d),f(d.value);continue}i.has(d.name)?(s.push(d),f(d.value),i.delete(d.name)):f(d.value);continue}if(d.kind==="Phi"){i.has(d.name)?(s.push(d),f(d.thenValue),f(d.elseValue),f(d.condition),i.delete(d.name)):(f(d.thenValue),f(d.elseValue),f(d.condition));continue}if(d.kind==="Assign"){i.has(d.target)?(s.push(d),f(d.value),i.delete(d.target)):f(d.value);continue}s.push(d),m(d)}return s.reverse(),{...a,body:s}}function Ib(a){const r=new Map,i=[];for(const p of a.body)p.kind==="Function"?r.set(p.name,p):i.push(p);if(r.size===0)return a;const u=new Set,s=[],f=p=>{r.has(p)&&(u.has(p)||(u.add(p),s.push(p)))},m=p=>{switch(p.kind){case"Call":f(p.callee),p.args.forEach(m);return;case"Binary":m(p.left),m(p.right);return;case"Member":m(p.object);return;case"Index":m(p.target);return;case"Enum":p.values.forEach(m);return;case"StructLiteral":p.fields.forEach(y=>m(y.value));return;case"MatchExpr":m(p.value),p.arms.forEach(y=>m(y.body));return;case"If":m(p.condition),p.thenBody.forEach(m),p.elseBody?.forEach(m);return;case"While":m(p.condition),p.body.forEach(m);return;case"Assign":m(p.value);return;case"Let":m(p.value);return;case"Phi":m(p.condition),m(p.thenValue),m(p.elseValue);return;case"Return":m(p.value);return;case"ExprStmt":m(p.expr);return;case"Program":p.body.forEach(m);return;default:return}};for(const p of i)m(p);for(f("main");s.length>0;){const p=s.pop();if(!p)break;const y=r.get(p);y&&y.body.forEach(m)}if(u.size===0)return a;const d=a.body.filter(p=>p.kind!=="Function"?!0:u.has(p.name));return{...a,body:d}}var Yi={},oc={},sc={},cc={},ap;function Wb(){if(ap)return cc;ap=1;const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");return cc.encode=function(r){if(0<=r&&r<a.length)return a[r];throw new TypeError("Must be between 0 and 63: "+r)},cc}var lp;function Hp(){if(lp)return sc;lp=1;const a=Wb(),r=5,i=1<<r,u=i-1,s=i;function f(m){return m<0?(-m<<1)+1:(m<<1)+0}return sc.encode=function(d){let p="",y,g=f(d);do y=g&u,g>>>=r,g>0&&(y|=s),p+=a.encode(y);while(g>0);return p},sc}var _n={};const Pb={},Fb=Object.freeze(Object.defineProperty({__proto__:null,default:Pb},Symbol.toStringTag,{value:"Module"})),e1=mv(Fb);var fc,ip;function t1(){return ip||(ip=1,fc=typeof URL=="function"?URL:e1.URL),fc}var rp;function Cu(){if(rp)return _n;rp=1;const a=t1();function r(G,x,$){if(x in G)return G[x];if(arguments.length===3)return $;throw new Error('"'+x+'" is a required argument.')}_n.getArg=r;const i=(function(){return!("__proto__"in Object.create(null))})();function u(G){return G}function s(G){return m(G)?"$"+G:G}_n.toSetString=i?u:s;function f(G){return m(G)?G.slice(1):G}_n.fromSetString=i?u:f;function m(G){if(!G)return!1;const x=G.length;if(x<9||G.charCodeAt(x-1)!==95||G.charCodeAt(x-2)!==95||G.charCodeAt(x-3)!==111||G.charCodeAt(x-4)!==116||G.charCodeAt(x-5)!==111||G.charCodeAt(x-6)!==114||G.charCodeAt(x-7)!==112||G.charCodeAt(x-8)!==95||G.charCodeAt(x-9)!==95)return!1;for(let $=x-10;$>=0;$--)if(G.charCodeAt($)!==36)return!1;return!0}function d(G,x){return G===x?0:G===null?1:x===null?-1:G>x?1:-1}function p(G,x){let $=G.generatedLine-x.generatedLine;return $!==0||($=G.generatedColumn-x.generatedColumn,$!==0)||($=d(G.source,x.source),$!==0)||($=G.originalLine-x.originalLine,$!==0)||($=G.originalColumn-x.originalColumn,$!==0)?$:d(G.name,x.name)}_n.compareByGeneratedPositionsInflated=p;function y(G){return JSON.parse(G.replace(/^\)]}'[^\n]*\n/,""))}_n.parseSourceMapInput=y;const g="http:",v=`${g}//host`;function b(G){return x=>{const $=B(x),K=A(x),D=new a(x,K);G(D);const I=D.toString();return $==="absolute"?I:$==="scheme-relative"?I.slice(g.length):$==="path-absolute"?I.slice(v.length):M(K,I)}}function S(G,x){return new a(G,x).toString()}function E(G,x){let $=0;do{const K=G+$++;if(x.indexOf(K)===-1)return K}while(!0)}function A(G){const x=G.split("..").length-1,$=E("p",G);let K=`${v}/`;for(let D=0;D<x;D++)K+=`${$}/`;return K}const N=/^[A-Za-z0-9\+\-\.]+:/;function B(G){return G[0]==="/"?G[1]==="/"?"scheme-relative":"path-absolute":N.test(G)?"absolute":"path-relative"}function M(G,x){typeof G=="string"&&(G=new a(G)),typeof x=="string"&&(x=new a(x));const $=x.pathname.split("/"),K=G.pathname.split("/");for(K.length>0&&!K[K.length-1]&&K.pop();$.length>0&&K.length>0&&$[0]===K[0];)$.shift(),K.shift();return K.map(()=>"..").concat($).join("/")+x.search+x.hash}const R=b(G=>{G.pathname=G.pathname.replace(/\/?$/,"/")}),_=b(G=>{G.href=new a(".",G.toString()).toString()}),w=b(G=>{});_n.normalize=w;function k(G,x){const $=B(x),K=B(G);if(G=R(G),$==="absolute")return S(x,void 0);if(K==="absolute")return S(x,G);if($==="scheme-relative")return w(x);if(K==="scheme-relative")return S(x,S(G,v)).slice(g.length);if($==="path-absolute")return w(x);if(K==="path-absolute")return S(x,S(G,v)).slice(v.length);const D=A(x+G),I=S(x,S(G,D));return M(D,I)}_n.join=k;function V(G,x){const $=Z(G,x);return typeof $=="string"?$:w(x)}_n.relative=V;function Z(G,x){if(B(G)!==B(x))return null;const K=A(G+x),D=new a(G,K),I=new a(x,K);try{new a("",I.toString())}catch{return null}return I.protocol!==D.protocol||I.user!==D.user||I.password!==D.password||I.hostname!==D.hostname||I.port!==D.port?null:M(D,I)}function le(G,x,$){G&&B(x)==="path-absolute"&&(x=x.replace(/^\//,""));let K=w(x||"");return G&&(K=k(G,K)),$&&(K=k(_($),K)),K}return _n.computeSourceURL=le,_n}var dc={},up;function Gp(){if(up)return dc;up=1;class a{constructor(){this._array=[],this._set=new Map}static fromArray(i,u){const s=new a;for(let f=0,m=i.length;f<m;f++)s.add(i[f],u);return s}size(){return this._set.size}add(i,u){const s=this.has(i),f=this._array.length;(!s||u)&&this._array.push(i),s||this._set.set(i,f)}has(i){return this._set.has(i)}indexOf(i){const u=this._set.get(i);if(u>=0)return u;throw new Error('"'+i+'" is not in the set.')}at(i){if(i>=0&&i<this._array.length)return this._array[i];throw new Error("No element indexed by "+i)}toArray(){return this._array.slice()}}return dc.ArraySet=a,dc}var mc={},op;function n1(){if(op)return mc;op=1;const a=Cu();function r(u,s){const f=u.generatedLine,m=s.generatedLine,d=u.generatedColumn,p=s.generatedColumn;return m>f||m==f&&p>=d||a.compareByGeneratedPositionsInflated(u,s)<=0}class i{constructor(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}unsortedForEach(s,f){this._array.forEach(s,f)}add(s){r(this._last,s)?(this._last=s,this._array.push(s)):(this._sorted=!1,this._array.push(s))}toArray(){return this._sorted||(this._array.sort(a.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}return mc.MappingList=i,mc}var sp;function Yp(){if(sp)return oc;sp=1;const a=Hp(),r=Cu(),i=Gp().ArraySet,u=n1().MappingList;class s{constructor(m){m||(m={}),this._file=r.getArg(m,"file",null),this._sourceRoot=r.getArg(m,"sourceRoot",null),this._skipValidation=r.getArg(m,"skipValidation",!1),this._sources=new i,this._names=new i,this._mappings=new u,this._sourcesContents=null}static fromSourceMap(m){const d=m.sourceRoot,p=new s({file:m.file,sourceRoot:d});return m.eachMapping(function(y){const g={generated:{line:y.generatedLine,column:y.generatedColumn}};y.source!=null&&(g.source=y.source,d!=null&&(g.source=r.relative(d,g.source)),g.original={line:y.originalLine,column:y.originalColumn},y.name!=null&&(g.name=y.name)),p.addMapping(g)}),m.sources.forEach(function(y){let g=y;d!=null&&(g=r.relative(d,y)),p._sources.has(g)||p._sources.add(g);const v=m.sourceContentFor(y);v!=null&&p.setSourceContent(y,v)}),p}addMapping(m){const d=r.getArg(m,"generated"),p=r.getArg(m,"original",null);let y=r.getArg(m,"source",null),g=r.getArg(m,"name",null);this._skipValidation||this._validateMapping(d,p,y,g),y!=null&&(y=String(y),this._sources.has(y)||this._sources.add(y)),g!=null&&(g=String(g),this._names.has(g)||this._names.add(g)),this._mappings.add({generatedLine:d.line,generatedColumn:d.column,originalLine:p&&p.line,originalColumn:p&&p.column,source:y,name:g})}setSourceContent(m,d){let p=m;this._sourceRoot!=null&&(p=r.relative(this._sourceRoot,p)),d!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[r.toSetString(p)]=d):this._sourcesContents&&(delete this._sourcesContents[r.toSetString(p)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}applySourceMap(m,d,p){let y=d;if(d==null){if(m.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);y=m.file}const g=this._sourceRoot;g!=null&&(y=r.relative(g,y));const v=this._mappings.toArray().length>0?new i:this._sources,b=new i;this._mappings.unsortedForEach(function(S){if(S.source===y&&S.originalLine!=null){const N=m.originalPositionFor({line:S.originalLine,column:S.originalColumn});N.source!=null&&(S.source=N.source,p!=null&&(S.source=r.join(p,S.source)),g!=null&&(S.source=r.relative(g,S.source)),S.originalLine=N.line,S.originalColumn=N.column,N.name!=null&&(S.name=N.name))}const E=S.source;E!=null&&!v.has(E)&&v.add(E);const A=S.name;A!=null&&!b.has(A)&&b.add(A)},this),this._sources=v,this._names=b,m.sources.forEach(function(S){const E=m.sourceContentFor(S);E!=null&&(p!=null&&(S=r.join(p,S)),g!=null&&(S=r.relative(g,S)),this.setSourceContent(S,E))},this)}_validateMapping(m,d,p,y){if(d&&typeof d.line!="number"&&typeof d.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(m&&"line"in m&&"column"in m&&m.line>0&&m.column>=0&&!d&&!p&&!y)){if(!(m&&"line"in m&&"column"in m&&d&&"line"in d&&"column"in d&&m.line>0&&m.column>=0&&d.line>0&&d.column>=0&&p))throw new Error("Invalid mapping: "+JSON.stringify({generated:m,source:p,original:d,name:y}))}}_serializeMappings(){let m=0,d=1,p=0,y=0,g=0,v=0,b="",S,E,A,N;const B=this._mappings.toArray();for(let M=0,R=B.length;M<R;M++){if(E=B[M],S="",E.generatedLine!==d)for(m=0;E.generatedLine!==d;)S+=";",d++;else if(M>0){if(!r.compareByGeneratedPositionsInflated(E,B[M-1]))continue;S+=","}S+=a.encode(E.generatedColumn-m),m=E.generatedColumn,E.source!=null&&(N=this._sources.indexOf(E.source),S+=a.encode(N-v),v=N,S+=a.encode(E.originalLine-1-y),y=E.originalLine-1,S+=a.encode(E.originalColumn-p),p=E.originalColumn,E.name!=null&&(A=this._names.indexOf(E.name),S+=a.encode(A-g),g=A)),b+=S}return b}_generateSourcesContent(m,d){return m.map(function(p){if(!this._sourcesContents)return null;d!=null&&(p=r.relative(d,p));const y=r.toSetString(p);return Object.prototype.hasOwnProperty.call(this._sourcesContents,y)?this._sourcesContents[y]:null},this)}toJSON(){const m={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(m.file=this._file),this._sourceRoot!=null&&(m.sourceRoot=this._sourceRoot),this._sourcesContents&&(m.sourcesContent=this._generateSourcesContent(m.sources,m.sourceRoot)),m}toString(){return JSON.stringify(this.toJSON())}}return s.prototype._version=3,oc.SourceMapGenerator=s,oc}var Qi={},hc={},cp;function a1(){return cp||(cp=1,(function(a){a.GREATEST_LOWER_BOUND=1,a.LEAST_UPPER_BOUND=2;function r(i,u,s,f,m,d){const p=Math.floor((u-i)/2)+i,y=m(s,f[p],!0);return y===0?p:y>0?u-p>1?r(p,u,s,f,m,d):d===a.LEAST_UPPER_BOUND?u<f.length?u:-1:p:p-i>1?r(i,p,s,f,m,d):d==a.LEAST_UPPER_BOUND?p:i<0?-1:i}a.search=function(u,s,f,m){if(s.length===0)return-1;let d=r(-1,s.length,u,s,f,m||a.GREATEST_LOWER_BOUND);if(d<0)return-1;for(;d-1>=0&&f(s[d],s[d-1],!0)===0;)--d;return d}})(hc)),hc}var Nu={exports:{}},fp;function Qp(){if(fp)return Nu.exports;fp=1;let a=null;return Nu.exports=function(){if(typeof a=="string")return fetch(a).then(i=>i.arrayBuffer());if(a instanceof ArrayBuffer)return Promise.resolve(a);throw new Error("You must provide the string URL or ArrayBuffer contents of lib/mappings.wasm by calling SourceMapConsumer.initialize({ 'lib/mappings.wasm': ... }) before using SourceMapConsumer")},Nu.exports.initialize=r=>{a=r},Nu.exports}var pc,dp;function l1(){if(dp)return pc;dp=1;const a=Qp();function r(){this.generatedLine=0,this.generatedColumn=0,this.lastGeneratedColumn=null,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}let i=null;return pc=function(){if(i)return i;const s=[];return i=a().then(f=>WebAssembly.instantiate(f,{env:{mapping_callback(m,d,p,y,g,v,b,S,E,A){const N=new r;N.generatedLine=m+1,N.generatedColumn=d,p&&(N.lastGeneratedColumn=y-1),g&&(N.source=v,N.originalLine=b+1,N.originalColumn=S,E&&(N.name=A)),s[s.length-1](N)},start_all_generated_locations_for(){console.time("all_generated_locations_for")},end_all_generated_locations_for(){console.timeEnd("all_generated_locations_for")},start_compute_column_spans(){console.time("compute_column_spans")},end_compute_column_spans(){console.timeEnd("compute_column_spans")},start_generated_location_for(){console.time("generated_location_for")},end_generated_location_for(){console.timeEnd("generated_location_for")},start_original_location_for(){console.time("original_location_for")},end_original_location_for(){console.timeEnd("original_location_for")},start_parse_mappings(){console.time("parse_mappings")},end_parse_mappings(){console.timeEnd("parse_mappings")},start_sort_by_generated_location(){console.time("sort_by_generated_location")},end_sort_by_generated_location(){console.timeEnd("sort_by_generated_location")},start_sort_by_original_location(){console.time("sort_by_original_location")},end_sort_by_original_location(){console.timeEnd("sort_by_original_location")}}})).then(f=>({exports:f.instance.exports,withMappingCallback:(m,d)=>{s.push(m);try{d()}finally{s.pop()}}})).then(null,f=>{throw i=null,f}),i},pc}var mp;function i1(){if(mp)return Qi;mp=1;const a=Cu(),r=a1(),i=Gp().ArraySet;Hp();const u=Qp(),s=l1(),f=Symbol("smcInternal");class m{constructor(b,S){return b==f?Promise.resolve(this):y(b,S)}static initialize(b){u.initialize(b["lib/mappings.wasm"])}static fromSourceMap(b,S){return g(b,S)}static async with(b,S,E){const A=await new m(b,S);try{return await E(A)}finally{A.destroy()}}eachMapping(b,S,E){throw new Error("Subclasses must implement eachMapping")}allGeneratedPositionsFor(b){throw new Error("Subclasses must implement allGeneratedPositionsFor")}destroy(){throw new Error("Subclasses must implement destroy")}}m.prototype._version=3,m.GENERATED_ORDER=1,m.ORIGINAL_ORDER=2,m.GREATEST_LOWER_BOUND=1,m.LEAST_UPPER_BOUND=2,Qi.SourceMapConsumer=m;class d extends m{constructor(b,S){return super(f).then(E=>{let A=b;typeof b=="string"&&(A=a.parseSourceMapInput(b));const N=a.getArg(A,"version"),B=a.getArg(A,"sources").map(String),M=a.getArg(A,"names",[]),R=a.getArg(A,"sourceRoot",null),_=a.getArg(A,"sourcesContent",null),w=a.getArg(A,"mappings"),k=a.getArg(A,"file",null),V=a.getArg(A,"x_google_ignoreList",null);if(N!=E._version)throw new Error("Unsupported version: "+N);return E._sourceLookupCache=new Map,E._names=i.fromArray(M.map(String),!0),E._sources=i.fromArray(B,!0),E._absoluteSources=i.fromArray(E._sources.toArray().map(function(Z){return a.computeSourceURL(R,Z,S)}),!0),E.sourceRoot=R,E.sourcesContent=_,E._mappings=w,E._sourceMapURL=S,E.file=k,E.x_google_ignoreList=V,E._computedColumnSpans=!1,E._mappingsPtr=0,E._wasm=null,s().then(Z=>(E._wasm=Z,E))})}_findSourceIndex(b){const S=this._sourceLookupCache.get(b);if(typeof S=="number")return S;const E=a.computeSourceURL(null,b,this._sourceMapURL);if(this._absoluteSources.has(E)){const N=this._absoluteSources.indexOf(E);return this._sourceLookupCache.set(b,N),N}const A=a.computeSourceURL(this.sourceRoot,b,this._sourceMapURL);if(this._absoluteSources.has(A)){const N=this._absoluteSources.indexOf(A);return this._sourceLookupCache.set(b,N),N}return-1}static fromSourceMap(b,S){return new d(b.toString())}get sources(){return this._absoluteSources.toArray()}_getMappingsPtr(){return this._mappingsPtr===0&&this._parseMappings(),this._mappingsPtr}_parseMappings(){const b=this._mappings,S=b.length,E=this._wasm.exports.allocate_mappings(S)>>>0,A=new Uint8Array(this._wasm.exports.memory.buffer,E,S);for(let B=0;B<S;B++)A[B]=b.charCodeAt(B);const N=this._wasm.exports.parse_mappings(E);if(!N){const B=this._wasm.exports.get_last_error();let M=`Error parsing mappings (code ${B}): `;switch(B){case 1:M+="the mappings contained a negative line, column, source index, or name index";break;case 2:M+="the mappings contained a number larger than 2**32";break;case 3:M+="reached EOF while in the middle of parsing a VLQ";break;case 4:M+="invalid base 64 character while parsing a VLQ";break;default:M+="unknown error code";break}throw new Error(M)}this._mappingsPtr=N}eachMapping(b,S,E){const A=S||null,N=E||m.GENERATED_ORDER;this._wasm.withMappingCallback(B=>{B.source!==null&&(B.source=this._absoluteSources.at(B.source),B.name!==null&&(B.name=this._names.at(B.name))),this._computedColumnSpans&&B.lastGeneratedColumn===null&&(B.lastGeneratedColumn=1/0),b.call(A,B)},()=>{switch(N){case m.GENERATED_ORDER:this._wasm.exports.by_generated_location(this._getMappingsPtr());break;case m.ORIGINAL_ORDER:this._wasm.exports.by_original_location(this._getMappingsPtr());break;default:throw new Error("Unknown order of iteration.")}})}allGeneratedPositionsFor(b){let S=a.getArg(b,"source");const E=a.getArg(b,"line"),A=b.column||0;if(S=this._findSourceIndex(S),S<0)return[];if(E<1)throw new Error("Line numbers must be >= 1");if(A<0)throw new Error("Column numbers must be >= 0");const N=[];return this._wasm.withMappingCallback(B=>{let M=B.lastGeneratedColumn;this._computedColumnSpans&&M===null&&(M=1/0),N.push({line:B.generatedLine,column:B.generatedColumn,lastColumn:M})},()=>{this._wasm.exports.all_generated_locations_for(this._getMappingsPtr(),S,E-1,"column"in b,A)}),N}destroy(){this._mappingsPtr!==0&&(this._wasm.exports.free_mappings(this._mappingsPtr),this._mappingsPtr=0)}computeColumnSpans(){this._computedColumnSpans||(this._wasm.exports.compute_column_spans(this._getMappingsPtr()),this._computedColumnSpans=!0)}originalPositionFor(b){const S={generatedLine:a.getArg(b,"line"),generatedColumn:a.getArg(b,"column")};if(S.generatedLine<1)throw new Error("Line numbers must be >= 1");if(S.generatedColumn<0)throw new Error("Column numbers must be >= 0");let E=a.getArg(b,"bias",m.GREATEST_LOWER_BOUND);E==null&&(E=m.GREATEST_LOWER_BOUND);let A;if(this._wasm.withMappingCallback(N=>A=N,()=>{this._wasm.exports.original_location_for(this._getMappingsPtr(),S.generatedLine-1,S.generatedColumn,E)}),A&&A.generatedLine===S.generatedLine){let N=a.getArg(A,"source",null);N!==null&&(N=this._absoluteSources.at(N));let B=a.getArg(A,"name",null);return B!==null&&(B=this._names.at(B)),{source:N,line:a.getArg(A,"originalLine",null),column:a.getArg(A,"originalColumn",null),name:B}}return{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this.sourcesContent?this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(b){return b==null}):!1}sourceContentFor(b,S){if(!this.sourcesContent)return null;const E=this._findSourceIndex(b);if(E>=0)return this.sourcesContent[E];if(S)return null;throw new Error('"'+b+'" is not in the SourceMap.')}generatedPositionFor(b){let S=a.getArg(b,"source");if(S=this._findSourceIndex(S),S<0)return{line:null,column:null,lastColumn:null};const E={source:S,originalLine:a.getArg(b,"line"),originalColumn:a.getArg(b,"column")};if(E.originalLine<1)throw new Error("Line numbers must be >= 1");if(E.originalColumn<0)throw new Error("Column numbers must be >= 0");let A=a.getArg(b,"bias",m.GREATEST_LOWER_BOUND);A==null&&(A=m.GREATEST_LOWER_BOUND);let N;if(this._wasm.withMappingCallback(B=>N=B,()=>{this._wasm.exports.generated_location_for(this._getMappingsPtr(),E.source,E.originalLine-1,E.originalColumn,A)}),N&&N.source===E.source){let B=N.lastGeneratedColumn;return this._computedColumnSpans&&B===null&&(B=1/0),{line:a.getArg(N,"generatedLine",null),column:a.getArg(N,"generatedColumn",null),lastColumn:B}}return{line:null,column:null,lastColumn:null}}}d.prototype.consumer=m,Qi.BasicSourceMapConsumer=d;class p extends m{constructor(b,S){return super(f).then(E=>{let A=b;typeof b=="string"&&(A=a.parseSourceMapInput(b));const N=a.getArg(A,"version"),B=a.getArg(A,"sections");if(N!=E._version)throw new Error("Unsupported version: "+N);let M={line:-1,column:0};return Promise.all(B.map(R=>{if(R.url)throw new Error("Support for url field in sections not implemented.");const _=a.getArg(R,"offset"),w=a.getArg(_,"line"),k=a.getArg(_,"column");if(w<M.line||w===M.line&&k<M.column)throw new Error("Section offsets must be ordered and non-overlapping.");return M=_,new m(a.getArg(R,"map"),S).then(Z=>({generatedOffset:{generatedLine:w+1,generatedColumn:k+1},consumer:Z}))})).then(R=>(E._sections=R,E))})}get sources(){const b=[];for(let S=0;S<this._sections.length;S++)for(let E=0;E<this._sections[S].consumer.sources.length;E++)b.push(this._sections[S].consumer.sources[E]);return b}originalPositionFor(b){const S={generatedLine:a.getArg(b,"line"),generatedColumn:a.getArg(b,"column")},E=r.search(S,this._sections,function(N,B){const M=N.generatedLine-B.generatedOffset.generatedLine;return M||N.generatedColumn-(B.generatedOffset.generatedColumn-1)}),A=this._sections[E];return A?A.consumer.originalPositionFor({line:S.generatedLine-(A.generatedOffset.generatedLine-1),column:S.generatedColumn-(A.generatedOffset.generatedLine===S.generatedLine?A.generatedOffset.generatedColumn-1:0),bias:b.bias}):{source:null,line:null,column:null,name:null}}hasContentsOfAllSources(){return this._sections.every(function(b){return b.consumer.hasContentsOfAllSources()})}sourceContentFor(b,S){for(let E=0;E<this._sections.length;E++){const N=this._sections[E].consumer.sourceContentFor(b,!0);if(N)return N}if(S)return null;throw new Error('"'+b+'" is not in the SourceMap.')}_findSectionIndex(b){for(let S=0;S<this._sections.length;S++){const{consumer:E}=this._sections[S];if(E._findSourceIndex(b)!==-1)return S}return-1}generatedPositionFor(b){const S=this._findSectionIndex(a.getArg(b,"source")),E=S>=0?this._sections[S]:null,A=S>=0&&S+1<this._sections.length?this._sections[S+1]:null,N=E&&E.consumer.generatedPositionFor(b);if(N&&N.line!==null){const B=E.generatedOffset.generatedLine-1,M=E.generatedOffset.generatedColumn-1;return N.line===1&&(N.column+=M,typeof N.lastColumn=="number"&&(N.lastColumn+=M)),N.lastColumn===1/0&&A&&N.line===A.generatedOffset.generatedLine&&(N.lastColumn=A.generatedOffset.generatedColumn-2),N.line+=B,N}return{line:null,column:null,lastColumn:null}}allGeneratedPositionsFor(b){const S=this._findSectionIndex(a.getArg(b,"source")),E=S>=0?this._sections[S]:null,A=S>=0&&S+1<this._sections.length?this._sections[S+1]:null;return E?E.consumer.allGeneratedPositionsFor(b).map(N=>{const B=E.generatedOffset.generatedLine-1,M=E.generatedOffset.generatedColumn-1;return N.line===1&&(N.column+=M,typeof N.lastColumn=="number"&&(N.lastColumn+=M)),N.lastColumn===1/0&&A&&N.line===A.generatedOffset.generatedLine&&(N.lastColumn=A.generatedOffset.generatedColumn-2),N.line+=B,N}):[]}eachMapping(b,S,E){this._sections.forEach((A,N)=>{const B=N+1<this._sections.length?this._sections[N+1]:null,{generatedOffset:M}=A,R=M.generatedLine-1,_=M.generatedColumn-1;A.consumer.eachMapping(function(w){w.generatedLine===1&&(w.generatedColumn+=_,typeof w.lastGeneratedColumn=="number"&&(w.lastGeneratedColumn+=_)),w.lastGeneratedColumn===1/0&&B&&w.generatedLine===B.generatedOffset.generatedLine&&(w.lastGeneratedColumn=B.generatedOffset.generatedColumn-2),w.generatedLine+=R,b.call(this,w)},S,E)})}computeColumnSpans(){for(let b=0;b<this._sections.length;b++)this._sections[b].consumer.computeColumnSpans()}destroy(){for(let b=0;b<this._sections.length;b++)this._sections[b].consumer.destroy()}}Qi.IndexedSourceMapConsumer=p;function y(v,b){let S=v;typeof v=="string"&&(S=a.parseSourceMapInput(v));const E=S.sections!=null?new p(S,b):new d(S,b);return Promise.resolve(E)}function g(v,b){return d.fromSourceMap(v,b)}return Qi}var yc={},hp;function r1(){if(hp)return yc;hp=1;const a=Yp().SourceMapGenerator,r=Cu(),i=/(\r?\n)/,u=10,s="$$$isSourceNode$$$";class f{constructor(d,p,y,g,v){this.children=[],this.sourceContents={},this.line=d??null,this.column=p??null,this.source=y??null,this.name=v??null,this[s]=!0,g!=null&&this.add(g)}static fromStringWithSourceMap(d,p,y){const g=new f,v=d.split(i);let b=0;const S=function(){const R=w(),_=w()||"";return R+_;function w(){return b<v.length?v[b++]:void 0}};let E=1,A=0,N=null,B;return p.eachMapping(function(R){if(N!==null)if(E<R.generatedLine)M(N,S()),E++,A=0;else{B=v[b]||"";const _=B.substr(0,R.generatedColumn-A);v[b]=B.substr(R.generatedColumn-A),A=R.generatedColumn,M(N,_),N=R;return}for(;E<R.generatedLine;)g.add(S()),E++;A<R.generatedColumn&&(B=v[b]||"",g.add(B.substr(0,R.generatedColumn)),v[b]=B.substr(R.generatedColumn),A=R.generatedColumn),N=R},this),b<v.length&&(N&&M(N,S()),g.add(v.splice(b).join(""))),p.sources.forEach(function(R){const _=p.sourceContentFor(R);_!=null&&(y!=null&&(R=r.join(y,R)),g.setSourceContent(R,_))}),g;function M(R,_){if(R===null||R.source===void 0)g.add(_);else{const w=y?r.join(y,R.source):R.source;g.add(new f(R.originalLine,R.originalColumn,w,_,R.name))}}}add(d){if(Array.isArray(d))d.forEach(function(p){this.add(p)},this);else if(d[s]||typeof d=="string")d&&this.children.push(d);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+d);return this}prepend(d){if(Array.isArray(d))for(let p=d.length-1;p>=0;p--)this.prepend(d[p]);else if(d[s]||typeof d=="string")this.children.unshift(d);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+d);return this}walk(d){let p;for(let y=0,g=this.children.length;y<g;y++)p=this.children[y],p[s]?p.walk(d):p!==""&&d(p,{source:this.source,line:this.line,column:this.column,name:this.name})}join(d){let p,y;const g=this.children.length;if(g>0){for(p=[],y=0;y<g-1;y++)p.push(this.children[y]),p.push(d);p.push(this.children[y]),this.children=p}return this}replaceRight(d,p){const y=this.children[this.children.length-1];return y[s]?y.replaceRight(d,p):typeof y=="string"?this.children[this.children.length-1]=y.replace(d,p):this.children.push("".replace(d,p)),this}setSourceContent(d,p){this.sourceContents[r.toSetString(d)]=p}walkSourceContents(d){for(let y=0,g=this.children.length;y<g;y++)this.children[y][s]&&this.children[y].walkSourceContents(d);const p=Object.keys(this.sourceContents);for(let y=0,g=p.length;y<g;y++)d(r.fromSetString(p[y]),this.sourceContents[p[y]])}toString(){let d="";return this.walk(function(p){d+=p}),d}toStringWithSourceMap(d){const p={code:"",line:1,column:0},y=new a(d);let g=!1,v=null,b=null,S=null,E=null;return this.walk(function(A,N){p.code+=A,N.source!==null&&N.line!==null&&N.column!==null?((v!==N.source||b!==N.line||S!==N.column||E!==N.name)&&y.addMapping({source:N.source,original:{line:N.line,column:N.column},generated:{line:p.line,column:p.column},name:N.name}),v=N.source,b=N.line,S=N.column,E=N.name,g=!0):g&&(y.addMapping({generated:{line:p.line,column:p.column}}),v=null,g=!1);for(let B=0,M=A.length;B<M;B++)A.charCodeAt(B)===u?(p.line++,p.column=0,B+1===M?(v=null,g=!1):g&&y.addMapping({source:N.source,original:{line:N.line,column:N.column},generated:{line:p.line,column:p.column},name:N.name})):p.column++}),this.walkSourceContents(function(A,N){y.setSourceContent(A,N)}),{code:p.code,map:y}}}return yc.SourceNode=f,yc}var pp;function u1(){return pp||(pp=1,Yi.SourceMapGenerator=Yp().SourceMapGenerator,Yi.SourceMapConsumer=i1().SourceMapConsumer,Yi.SourceNode=r1().SourceNode),Yi}var o1=u1();function s1(a,r={}){const i=r.target??"esm",u=r.includeRuntime!==!1,s=new p1(r.sourceMap===!0),f=h1(a),m=f.size>0;u?i==="cjs"?(s.append('const { io, str, math, list, vec, hashmap, hashset, channel, thread, sync, fs, http, time, regex, crypto, Result, Option, __set, formatValue, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index, LuminaPanic } = require("./lumina-runtime.cjs");',"Runtime"),s.append(`
`)):(s.append('import { io, str, math, list, vec, hashmap, hashset, channel, thread, sync, fs, http, time, regex, crypto, Result, Option, __set, formatValue, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index, LuminaPanic } from "./lumina-runtime.js";',"Runtime"),s.append(`
`)):(s.append("const io = { println: (...args) => console.log(...args), print: (...args) => console.log(...args), eprint: (...args) => console.error(...args), eprintln: (...args) => console.error(...args) };","Runtime"),s.append(`
`),s.append("const str = { length: (value) => value.length, concat: (a, b) => a + b, split: (value, sep) => value.split(sep), trim: (value) => value.trim(), contains: (haystack, needle) => haystack.includes(needle) };","Runtime"),s.append(`
`),s.append("const math = { abs: (value) => Math.trunc(Math.abs(value)), min: (a, b) => Math.trunc(Math.min(a, b)), max: (a, b) => Math.trunc(Math.max(a, b)), absf: (value) => Math.abs(value), minf: (a, b) => Math.min(a, b), maxf: (a, b) => Math.max(a, b), sqrt: (value) => Math.sqrt(value), pow: (base, exp) => Math.pow(base, exp), floor: (value) => Math.floor(value), ceil: (value) => Math.ceil(value), round: (value) => Math.round(value), pi: Math.PI, e: Math.E };","Runtime"),s.append(`
`),s.append('const fs = { readFile: async () => ({ $tag: "Err", $payload: "No fs runtime" }), writeFile: async () => ({ $tag: "Err", $payload: "No fs runtime" }) };',"Runtime"),s.append(`
`),s.append('const http = { fetch: async () => ({ $tag: "Err", $payload: "No http runtime" }) };',"Runtime"),s.append(`
`),s.append("const time = { nowMs: () => Date.now(), nowIso: () => new Date().toISOString(), instantNow: () => Date.now(), elapsedMs: (since) => Math.max(0, Date.now() - since), sleep: async (ms) => await new Promise((resolve) => setTimeout(resolve, Math.max(0, Math.trunc(ms)))) };","Runtime"),s.append(`
`),s.append('const regex = { isValid: () => false, test: async () => ({ $tag: "Err", $payload: "No regex runtime" }), find: () => ({ $tag: "None" }), findAll: async () => ({ $tag: "Err", $payload: "No regex runtime" }), replace: async () => ({ $tag: "Err", $payload: "No regex runtime" }) };',"Runtime"),s.append(`
`),s.append('const crypto = { isAvailable: async () => false, sha256: async () => ({ $tag: "Err", $payload: "No crypto runtime" }), hmacSha256: async () => ({ $tag: "Err", $payload: "No crypto runtime" }), randomBytes: async () => ({ $tag: "Err", $payload: "No crypto runtime" }), randomInt: async () => ({ $tag: "Err", $payload: "No crypto runtime" }), aesGcmEncrypt: async () => ({ $tag: "Err", $payload: "No crypto runtime" }), aesGcmDecrypt: async () => ({ $tag: "Err", $payload: "No crypto runtime" }) };',"Runtime"),s.append(`
`),s.append("function __set(obj, prop, value) { obj[prop] = value; return value; }","Runtime"),s.append(`
`),s.append("function __lumina_stringify(value) { return String(value); }","Runtime"),s.append(`
`),s.append("function __lumina_range(start, end, inclusive, hasStart, hasEnd) { return { start: hasStart ? Number(start) : null, end: hasEnd ? Number(end) : null, inclusive: !!inclusive }; }","Runtime"),s.append(`
`),s.append("function __lumina_slice(str, start, end, inclusive) { const actualStart = start ?? 0; const actualEnd = end ?? str.length; const finalEnd = inclusive ? actualEnd + 1 : actualEnd; if (actualStart < 0 || actualStart > str.length) { throw new Error(`String slice start index ${actualStart} out of bounds`); } if (finalEnd < 0 || finalEnd > str.length) { throw new Error(`String slice end index ${finalEnd} out of bounds`); } return str.substring(actualStart, finalEnd); }","Runtime"),s.append(`
`),s.append('function __lumina_index(target, index) { if (typeof target === "string" && index && typeof index === "object" && "start" in index) { const start = index.start == null ? 0 : Math.max(0, index.start); const endBase = index.end == null ? target.length : Math.max(0, index.end); return __lumina_slice(target, start, endBase, index.inclusive); } return target ? target[index] : undefined; }',"Runtime"),s.append(`
`)),m&&(s.append(m1(),"Runtime"),s.append(`
`));const d=a.kind==="Program"&&a.ssa===!0;tl(a,0,s,{hoistSsa:d,tryFunctions:f});let p=s.toString().trimEnd()+`
`;u?i==="cjs"?p+=`module.exports = { io, str, math, list, vec, hashmap, hashset, channel, thread, sync, fs, http, time, regex, crypto, Result, Option, __set, formatValue, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index, LuminaPanic };
`:p+=`export { io, str, math, list, vec, hashmap, hashset, channel, thread, sync, fs, http, time, regex, crypto, Result, Option, __set, formatValue, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index, LuminaPanic };
`:i==="cjs"?p+=`module.exports = { io, str, math, fs, http, time, regex, crypto, __set, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index };
`:p+=`export { io, str, math, fs, http, time, regex, crypto, __set, __lumina_stringify, __lumina_range, __lumina_slice, __lumina_index };
`;const y=r.sourceMap?g1(s,r):void 0;return{code:p,map:y}}const yp=/_\d+$/;function Et(a,r){for(const i of a)switch(i.kind){case"Let":yp.test(i.name)&&r.add(i.name),Et([i.value],r);break;case"Phi":yp.test(i.name)&&r.add(i.name),Et([i.condition,i.thenValue,i.elseValue],r);break;case"If":Et([i.condition],r),Et(i.thenBody,r),i.elseBody&&Et(i.elseBody,r);break;case"While":Et([i.condition],r),Et(i.body,r);break;case"Return":Et([i.value],r);break;case"ExprStmt":Et([i.expr],r);break;case"Binary":Et([i.left,i.right],r);break;case"Cast":Et([i.expr],r);break;case"Call":Et(i.args,r);break;case"StructLiteral":Et(i.fields.map(u=>u.value),r);break;case"Member":Et([i.object],r);break;case"Index":Et([i.target],r);break;case"Enum":Et(i.values,r);break;case"MatchExpr":Et([i.value],r),Et(i.arms.map(u=>u.body),r);break}}function tl(a,r,i,u){const s="  ".repeat(r);switch(a.kind){case"Program":a.body.forEach(f=>tl(f,r,i,u));return;case"Function":{const f=a.params.join(", ");i.append(`${s}function ${a.name}(${f}) {`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.append(`
`);let m=null;if(u.hoistSsa){const y=new Set;Et(a.body,y),y.size>0&&(m=y)}if(m&&m.size>0){const y="  ".repeat(r+1);for(const g of Array.from(m).sort())i.append(`${y}let ${g};`,"Let"),i.append(`
`)}const d={...u,ssaNames:m};u.tryFunctions?.has(a.name)??!1?(i.append(`${s}  try {`),i.append(`
`),a.body.forEach(y=>tl(y,r+2,i,d)),i.append(`${s}  } catch (err) {`),i.append(`
`),i.append(`${s}    if (err && err.__lumina_try) return err.value;`),i.append(`
`),i.append(`${s}    throw err;`),i.append(`
`),i.append(`${s}  }`),i.append(`
`)):a.body.forEach(y=>tl(y,r+1,i,d)),i.append(`${s}}`,a.kind,a.location?{line:a.location.end.line,column:a.location.end.column}:void 0),i.append(`
`);return}case"Let":u.ssaNames?.has(a.name)?i.append(`${s}${a.name} = `,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0):i.append(`${s}let ${a.name} = `,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.value)),i.append(";"),i.append(`
`);return;case"Phi":u.ssaNames?.has(a.name)?i.append(`${s}${a.name} = (`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0):i.append(`${s}let ${a.name} = (`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.condition)),i.append(") ? "),i.appendExpr(ht(a.thenValue)),i.append(" : "),i.appendExpr(ht(a.elseValue)),i.append(";"),i.append(`
`);return;case"Return":i.append(`${s}return `,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.value)),i.append(";"),i.append(`
`);return;case"ExprStmt":i.append(`${s}`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.expr)),i.append(";"),i.append(`
`);return;case"If":{i.append(`${s}if (`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.condition)),i.append(") {"),i.append(`
`),a.thenBody.forEach(f=>tl(f,r+1,i,u)),a.elseBody&&a.elseBody.length>0&&(i.append(`${s}} else {`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.append(`
`),a.elseBody.forEach(f=>tl(f,r+1,i,u))),i.append(`${s}}`,a.kind,a.location?{line:a.location.end.line,column:a.location.end.column}:void 0),i.append(`
`);return}case"While":{i.append(`${s}while (`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.condition)),i.append(") {"),i.append(`
`),a.body.forEach(f=>tl(f,r+1,i,u)),i.append(`${s}}`,a.kind,a.location?{line:a.location.end.line,column:a.location.end.column}:void 0),i.append(`
`);return}case"Assign":i.append(`${s}${a.target} = `,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a.value)),i.append(";"),i.append(`
`);return;case"Binary":case"StructLiteral":case"Number":case"Boolean":case"String":case"Identifier":case"Call":case"Member":case"Index":case"Enum":case"MatchExpr":i.append(`${s}`,a.kind,a.location?{line:a.location.start.line,column:a.location.start.column}:void 0),i.appendExpr(ht(a)),i.append(";"),i.append(`
`);return;default:i.append(`${s}// unsupported`,"Unsupported"),i.append(`
`);return}}const c1=a=>a==="int"?"i32":a==="float"?"f64":a,f1=a=>a==="int"||a.startsWith("i")||a.startsWith("u"),d1=a=>a==="f32"||a==="f64"||a==="float";function ht(a){const r=a.location?.start?{line:a.location.start.line,column:a.location.start.column}:void 0,i=s=>(r&&s.mappings.unshift({offset:0,source:r}),s),u=(...s)=>{let f="";const m=[];for(const d of s){if(typeof d=="string"){f+=d;continue}for(const p of d.mappings)m.push({offset:p.offset+f.length,source:p.source});f+=d.code}return{code:f,mappings:m}};switch(a.kind){case"Binary":return a.op==="+"&&(a.left.kind==="String"||a.right.kind==="String")?i(u("(",ht(a.left)," + ",ht(a.right),")")):i(u("(",ht(a.left),` ${a.op} `,ht(a.right),")"));case"Call":{const s=[`${a.callee}(`];return a.args.forEach((f,m)=>{m>0&&s.push(", "),s.push(ht(f))}),s.push(")"),i(u(...s))}case"Member":return i(u(ht(a.object),".",a.property));case"Index":return i(u(ht(a.target),`[${a.index}]`));case"Enum":{const s=[`{ tag: ${JSON.stringify(a.tag)}, values: [`];return a.values.forEach((f,m)=>{m>0&&s.push(", "),s.push(ht(f))}),s.push("] }"),i(u(...s))}case"StructLiteral":{const s=["{ "];return a.fields.forEach((f,m)=>{m>0&&s.push(", "),s.push(`${f.name}: `),s.push(ht(f.value))}),s.push(" }"),i(u(...s))}case"MatchExpr":{const s=`__match_expr_${Math.random().toString(36).slice(2,8)}`,f={code:"",mappings:[]},m=y=>{const g=u(f,y);f.code=g.code,f.mappings=g.mappings};m(`(() => {
const ${s} = `),m(ht(a.value)),m(`;
`);const d=y=>y.map((g,v)=>`const ${g} = ${s}.values[${v}];`).join(`
`);return a.arms.map(y=>{const g=ht(y.body);if(y.variant===null){const b=y.bindings.length>0?d(y.bindings)+`
`:"";return u(`{
${b}return `,g,`;
}`)}const v=y.bindings.length>0?d(y.bindings)+`
`:"";return u(`if (${s}.tag === ${JSON.stringify(y.variant)}) {
${v}return `,g,`;
}`)}).forEach((y,g)=>{g===0||m(" else "),m(y)}),m(`
})()`),i(f)}case"Cast":{const s=ht(a.expr),f=c1(a.targetType),m=(d,p="")=>u(d,s,p);if(d1(f))return i(f==="f32"?m("Math.fround(",")"):s);if(f1(f)){const d=m("Math.trunc(",")");switch(f){case"i8":return i(u("(",d," << 24) >> 24"));case"u8":return i(u("(",d," & 0xFF)"));case"i16":return i(u("(",d," << 16) >> 16"));case"u16":return i(u("(",d," & 0xFFFF)"));case"u32":return i(u("(",d," >>> 0)"));case"i32":return i(u("(",d," | 0)"));default:return i(d)}}return i(s)}case"Number":return i({code:String(a.value),mappings:[]});case"Boolean":return i({code:a.value?"true":"false",mappings:[]});case"String":return i({code:JSON.stringify(a.value),mappings:[]});case"Identifier":return i({code:a.name,mappings:[]});default:return i({code:"undefined",mappings:[]})}}const m1=()=>`
function __lumina_try(value) {
  if (value && typeof value === 'object') {
    const tag = value.$tag ?? value.tag;
    if (tag === 'Ok') {
      if ('$payload' in value) return value.$payload;
      const values = value.values;
      if (Array.isArray(values)) return values.length > 1 ? values : values[0];
    }
    if (tag === 'Err') {
      throw { __lumina_try: true, value };
    }
  }
  return value;
}`.trim(),h1=a=>{const r=new Set,i=u=>{switch(u.kind){case"Call":return u.callee==="__lumina_try"?!0:u.args.some(i);case"Let":return i(u.value);case"Return":return i(u.value);case"ExprStmt":return i(u.expr);case"Binary":return i(u.left)||i(u.right);case"Cast":return i(u.expr);case"StructLiteral":return u.fields.some(s=>i(s.value));case"Member":return i(u.object);case"Index":return i(u.target);case"Enum":return u.values.some(i);case"MatchExpr":return i(u.value)||u.arms.some(s=>i(s.body));case"If":return i(u.condition)||u.thenBody.some(i)||(u.elseBody?u.elseBody.some(i):!1);case"While":return i(u.condition)||u.body.some(i);case"Program":return u.body.some(i);case"Function":{const s=u.body.some(i);return s&&r.add(u.name),s}default:return!1}};return i(a),r};class p1{constructor(r){this.chunks=[],this.line=1,this.column=0,r&&(this.map={mappings:[]})}append(r,i,u){if(r){this.map&&i&&u&&this.map.mappings.push({line:this.line,column:this.column,kind:i,source:u}),this.chunks.push(r);for(let s=0;s<r.length;s++)r[s]===`
`?(this.line+=1,this.column=0):this.column+=1}}appendExpr(r){if(r.code){if(this.map)for(const i of r.mappings){const u=y1(r.code,i.offset),s=this.line+u.lineOffset,f=u.lineOffset===0?this.column+u.columnOffset:u.columnOffset;this.map.mappings.push({line:s,column:f,kind:"Expr",source:i.source})}this.append(r.code)}}toString(){return this.chunks.join("")}}function y1(a,r){let i=0,u=0;const s=Math.min(r,a.length);for(let f=0;f<s;f++)a[f]===`
`?(i+=1,u=0):u+=1;return{lineOffset:i,columnOffset:u}}function g1(a,r){if(!a.map)return;const i=r.sourceFile??"input.lm",u=new o1.SourceMapGenerator({file:void 0});for(const s of a.map.mappings)s.source&&u.addMapping({generated:{line:s.line,column:s.column},original:{line:s.source.line,column:Math.max(0,s.source.column-1)},source:i});return r.sourceContent&&u.setSourceContent(i,r.sourceContent),u.toJSON()}const Xp=`Expression
  = left:Term _ operator:("+" / "-") _ right:Expression {
      return { type: 'Expression', operator, left, right };
    }
  / Term

Term
  = left:Factor _ operator:("*" / "/") _ right:Term {
      return { type: 'Expression', operator, left, right };
    }
  / Factor

Factor
  = "(" _ expr:Expression _ ")" { return expr; }
  / Number

Number
  = _ [0-9]+ {
      return { type: 'Number', value: parseInt(text(), 10) };
    }

_ = [ \\t\\n\\r]*`,v1=[{name:"Simple Math",code:"3 + 4 * (2 - 1)",description:"Basic arithmetic expression"},{name:"Complex Expression",code:"((5 + 3) * 2) / (4 - 1)",description:"Nested parentheses"},{name:"Single Number",code:"42",description:"Just a number"},{name:"Error Case",code:"3 + error",description:"Demonstrates error handling"}],b1=[{name:"Math Calculator",grammar:Xp},{name:"JSON Parser",grammar:`Object
  = "{" pairs:Pair* "}" { return Object.fromEntries(pairs); }

Pair
  = key:String ":" value:Value { return [key, value]; }`},{name:"Simple Language",grammar:`Program
  = Statement*

Statement
  = Assignment / Expression`}],S1=`import { io } from "@std";
import { add } from "lib/math.lm";

struct User { id: int, name: string }
enum Result { Ok(int), Err(string) }

fn total(cost: int, tax: int) {
  return cost + tax;
}

fn main() {
  let cost = 400;
  let tax = 20;
  let answer = add(total(cost, tax), 0);
  return answer;
}`,gp=[{name:"String Interpolation",description:"String templates + stdlib usage",code:`import { io } from "@std";

fn main() -> void {
  let name = "Lumina";
  let version = "0.3.x";
  io.println("Hello {name}, release line {version}");
}`},{name:"Traits + Impl",description:"Trait declaration and method dispatch",code:`trait Printable {
  fn debug(self: Self) -> string;
}

struct User {
  name: string
}

impl Printable for User {
  fn debug(self: Self) -> string {
    self.name
  }
}

fn main() -> void {
  let user = User { name: "Ada" };
  let text = user.debug();
}`},{name:"Channels + Async",description:"Message passing primitives",code:`import { channel } from "@std";

async fn main() -> void {
  let ch = channel.new<i32>();
  let sent = channel.send(ch.sender, 42);
  let _ = sent;
}`},{name:"WASM Numeric Hot Path",description:"Recursive computation for wasm target",code:`fn fib(n: i32) -> i32 {
  if n <= 1 { n } else { fib(n - 1) + fib(n - 2) }
}

fn main() -> i32 {
  fib(20)
}`}],_1=[{feature:"io/str/math/list",browser:"stable",node:"stable",notes:"Core runtime modules"},{feature:"fs",browser:"partial",node:"stable",notes:"Node full; browser returns Result.Err for writes/metadata"},{feature:"time",browser:"stable",node:"stable",notes:"Monotonic + wall clock helpers"},{feature:"regex",browser:"stable",node:"stable",notes:"RegExp wrappers with Result/Option"},{feature:"crypto",browser:"stable",node:"stable",notes:"WebCrypto + Node fallback"},{feature:"channel",browser:"stable",node:"stable",notes:"MessageChannel-based channels"},{feature:"thread",browser:"partial",node:"stable",notes:"Worker availability varies by host"},{feature:"sync/atomics",browser:"partial",node:"stable",notes:"Requires SharedArrayBuffer + Atomics"},{feature:"wasm backend",browser:"partial",node:"stable",notes:"Compile in CLI; run in both hosts"}],vp={stable:"bg-green-700/40 text-green-300 border-green-600",partial:"bg-yellow-700/30 text-yellow-300 border-yellow-600",node:"bg-blue-700/30 text-blue-300 border-blue-600",planned:"bg-gray-700/50 text-gray-300 border-gray-600"},T1=hv.define({token(a){return a.match(/\/\/.*/)?"comment":a.match(/"(?:\\.|[^"])*"/)||a.match(/'(?:\\.|[^'])*'/)||a.match(/\[[^\]]*\]/)?"string":a.match(/[_a-zA-Z][_a-zA-Z0-9]*/)?"variableName":a.match(/[:=(){}/*+?]|\/+/)?"operator":(a.next(),null)}}),wc=(a,r=0)=>{if(typeof a!="object"||a===null)return{name:String(a),type:"literal"};if(Array.isArray(a))return{name:`Array[${a.length}]`,type:"array",children:a.map((s,f)=>({name:`[${f}]`,children:[wc(s,r+1)]}))};const i=a,u=Object.entries(i).filter(([s])=>s!=="type").map(([s,f])=>({name:s,children:[wc(f,r+1)]}));return{name:i.type||"Object",type:"object",children:u.length>0?u:void 0}},N1=({data:a,onNodeClick:r})=>{const[i,u]=Le.useState(new Set),s=m=>{const d=new Set(i);d.has(m)?d.delete(m):d.add(m),u(d)},f=(m,d="",p=0)=>{const y=m.children&&m.children.length>0,g=i.has(d);return z.jsxs("div",{className:"tree-node",children:[z.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-gray-600 rounded cursor-pointer transition-colors",style:{marginLeft:`${p*20}px`},onClick:()=>{y&&s(d),r?.(m,d)},children:[y?g?z.jsx(Av,{size:16}):z.jsx(zv,{size:16}):z.jsx("div",{className:"w-4"}),z.jsx("span",{className:`ml-2 font-mono text-sm ${m.type==="literal"?"text-green-400":m.type==="array"?"text-blue-400":"text-yellow-400"}`,children:m.name})]}),y&&g&&z.jsx("div",{className:"tree-children",children:m.children.map((v,b)=>f(v,`${d}/${b}`,p+1))})]},d)};return Le.useEffect(()=>{a&&u(new Set(["0"]))},[a]),z.jsx("div",{className:"tree-container h-full overflow-auto text-sm",children:a?f(a):z.jsx("p",{className:"text-gray-400 p-4",children:"No AST data"})})},E1=({data:a})=>{if(a.length<2)return z.jsx("div",{className:"text-xs text-gray-400",children:"No history"});const r=120,i=24,u=Math.max(...a,1),s=a.map((f,m)=>{const d=m/(a.length-1)*r,p=i-f/u*i;return`${d},${p}`}).join(" ");return z.jsx("svg",{width:r,height:i,className:"block",children:z.jsx("polyline",{fill:"none",stroke:"#60A5FA",strokeWidth:"2",points:s})})},x1=a=>{const r=new Set,i=[];for(const u of a){const s=u.location,f=[u.severity,u.code??"",u.message,s?.start.line??0,s?.start.column??0,s?.end.line??0,s?.end.column??0].join("|");r.has(f)||(r.add(f),i.push(u))}return i},M1=a=>Tp.generate(a,{output:"parser",format:"bare",optimize:"speed"}),w1=(a,r)=>{try{return{result:a.parse(r)}}catch(i){if(typeof i=="object"&&i!==null&&"message"in i){const u=i;return{error:u.message,location:u.location,expected:u.expected,found:u.found??null,input:r}}return{error:"Unknown parse error",input:r}}},A1=a=>{const r=[`Parse Error: ${a.error}`];if(a.location){const{start:i,end:u}=a.location;r.push(`At ${i.line}:${i.column}  ${u.line}:${u.column}`)}return a.expected&&a.expected.length>0&&r.push(`Expected: ${a.expected.join(", ")}`),a.found!==void 0&&a.found!==null&&r.push(`Found: "${a.found}"`),r.join(`
`)},bp=()=>{if(typeof window>"u")return"home";const a=window.location.hash.replace(/^#\/?/,"").trim();return a==="playground"||a==="lumina"?a:"home"};function k1(){const[a,r]=Le.useState(()=>bp()),[i,u]=Le.useState("3 + 4 * (2 - 1)"),[s,f]=Le.useState(Xp),[m,d]=Le.useState(""),[p,y]=Le.useState(null),[g,v]=Le.useState("output"),[b,S]=Le.useState("examples"),[E,A]=Le.useState("idle"),[N,B]=Le.useState(null),[M,R]=Le.useState(null),[_,w]=Le.useState(!1),[k,V]=Le.useState(!1),[Z,le]=Le.useState(null),[G,x]=Le.useState([]),$=Le.useRef(null),[K,D]=Le.useState(S1),[I,C]=Le.useState(0),[H,F]=Le.useState(null),[ne,ee]=Le.useState([]),[oe,re]=Le.useState(""),[ie,de]=Le.useState("idle"),[Ae,_e]=Le.useState("diagnostics"),[Me,ut]=Le.useState(null);Le.useEffect(()=>{const ue=()=>r(bp());return window.addEventListener("hashchange",ue),()=>window.removeEventListener("hashchange",ue)},[]);const Be=ue=>{ue==="home"?window.location.hash="":window.location.hash=ue,r(ue)},He=()=>{const ue=window.performance.now();A("parsing"),B(null);try{const Se=M1(s),Ue=w1(Se,i),ft=window.performance.now();if("result"in Ue){const Ye=JSON.stringify(Ue.result,null,2);d(Ye);const Fn=wc(Ue.result);y(Fn),A("success");const Oa=ft-ue;le({time:Oa,nodes:ct(Ue.result)}),x(Fi=>[...Fi,Oa].slice(-30))}else{d(A1(Ue)),y(null),A("error");const Ye=ft-ue;le({time:Ye,nodes:0}),x(Fn=>[...Fn,Ye].slice(-30))}}catch(Se){Se instanceof Error?(d(`Error: ${Se.message}`),B(Se.message)):d("Unknown error occurred"),y(null),A("error");const Ue=window.performance.now()-ue;le({time:Ue,nodes:0}),x(ft=>[...ft,Ue].slice(-30))}},Tt=()=>{de("parsing"),ee([]),re("");try{const ue=S0(Kv),Se=new Cb(ue,{preludeText:Jv});Se.registerVirtualFile("lib/math.lm","pub fn add(a: int, b: int) -> int { return a + b; }"),Se.addOrUpdateDocument("main.lm",K,1);const Ue=x1(Se.getDiagnostics("main.lm")),ft=Se.getDocumentAst("main.lm");if(F(ft??null),ee(Ue),ft&&typeof ft=="object"){const Ye=Db(ft),Fn=Vb(Ye),Oa=Fn?s1(Fn).code:"// IR optimized away";re(Oa)}else re("");de(Ue.length>0?"error":"ok")}catch(ue){const Se=ue instanceof Error?ue.message:"Unknown error";ee([{severity:"error",message:Se}]),de("error")}},ct=ue=>typeof ue!="object"||ue===null?1:Array.isArray(ue)?ue.reduce((Se,Ue)=>Se+ct(Ue),0):1+Object.values(ue).reduce((Se,Ue)=>Se+ct(Ue),0),tn=ue=>{u(ue.code),_&&setTimeout(He,100)},wt=ue=>{f(ue.grammar),_&&setTimeout(He,100)},nn=ue=>{const Se=gp[ue];Se&&(C(ue),D(Se.code),ee([]),re(""),F(null),de("idle"))},At=()=>{const ue={grammar:s,code:i,output:m,timestamp:new Date().toISOString()},Se=new Blob([JSON.stringify(ue,null,2)],{type:"application/json"}),Ue=URL.createObjectURL(Se),ft=document.createElement("a");ft.href=Ue,ft.download="parser-session.json",ft.click(),URL.revokeObjectURL(Ue)},Nn=ue=>{const Se=ue.target.files?.[0];if(Se){const Ue=new FileReader;Ue.onload=ft=>{try{const Ye=JSON.parse(ft.target?.result);Ye.grammar&&f(Ye.grammar),Ye.code&&u(Ye.code),Ye.output&&d(Ye.output)}catch(Ye){console.error("Error importing data:",Ye),alert("Invalid file format")}},Ue.readAsText(Se)}},Qt=()=>{switch(E){case"success":return z.jsx(Cv,{className:"text-green-400",size:16});case"error":return z.jsx(Vh,{className:"text-red-400",size:16});case"parsing":return z.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full"});default:return z.jsx(Rv,{className:"text-gray-400",size:16})}},Ct=async(ue,Se)=>{if(Se)try{await navigator.clipboard.writeText(Se),ut(`${ue} copied`)}catch{const Ue=document.createElement("textarea");Ue.value=Se,Ue.style.position="fixed",Ue.style.opacity="0",document.body.appendChild(Ue),Ue.select(),document.execCommand("copy"),document.body.removeChild(Ue),ut(`${ue} copied`)}finally{setTimeout(()=>ut(null),2e3)}};return Le.useEffect(()=>{if(_){const ue=setTimeout(He,500);return()=>clearTimeout(ue)}},[i,s,_]),z.jsxs("div",{className:"bg-gray-900 text-white min-h-screen flex flex-col",children:[z.jsx("header",{className:"border-b border-gray-800 bg-gray-900/90 backdrop-blur",children:z.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-3",children:[z.jsx(vu,{className:"text-blue-400"}),z.jsxs("div",{children:[z.jsx("div",{className:"text-lg font-semibold",children:"Lumina Parser Studio"}),z.jsx("div",{className:"text-xs text-gray-400",children:"Interactive demo for the parser + tooling pipeline"})]})]}),z.jsxs("nav",{className:"flex items-center gap-2",children:[z.jsx("button",{onClick:()=>Be("home"),className:`px-3 py-1.5 rounded text-sm ${a==="home"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Home"}),z.jsx("button",{onClick:()=>Be("playground"),className:`px-3 py-1.5 rounded text-sm ${a==="playground"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Playground"}),z.jsx("button",{onClick:()=>Be("lumina"),className:`px-3 py-1.5 rounded text-sm ${a==="lumina"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Lumina"})]})]})}),a==="home"&&z.jsx("main",{className:"flex-1",children:z.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[z.jsxs("section",{className:"grid gap-8 lg:grid-cols-2 items-center",children:[z.jsxs("div",{className:"space-y-4",children:[z.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Lumina v0.3.x"}),z.jsx("h1",{className:"text-4xl font-semibold leading-tight",children:"Build grammars, compile apps, and ship cross-runtime tooling."}),z.jsx("p",{className:"text-gray-300 leading-relaxed",children:"Lumina now includes package management, traits, channels/threading primitives, WASM codegen, and a fuller stdlib. This site is the fastest way to inspect parser internals and preview the language pipeline in-browser."}),z.jsxs("div",{className:"flex flex-wrap gap-3",children:[z.jsx("button",{onClick:()=>Be("playground"),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm font-medium",children:"Open Playground"}),z.jsx("button",{onClick:()=>Be("lumina"),className:"bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded text-sm",children:"Lumina Overview"})]})]}),z.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6 space-y-4",children:[z.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-300",children:[z.jsx(Gi,{size:14})," Capability Snapshot"]}),z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`Lexer  Parser  HM/Semantic  IR/SSA  JS/WASM

Features:
- Package management + lockfile
- Tooling: fmt / lint / doc
- Concurrency: channel / thread / sync
- Runtime modules: fs, time, regex, crypto`}),z.jsxs("div",{className:"flex gap-2 text-xs text-gray-400",children:[z.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"PEG + Moo"}),z.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"Lumina CLI"}),z.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"LSP"}),z.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"WASM"})]})]})]}),z.jsxs("section",{className:"grid gap-6 md:grid-cols-4",children:[z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[z.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[z.jsx(qh,{size:16})," Grammar Studio"]}),z.jsx("p",{className:"text-sm text-gray-300",children:"Load PEG grammars, parse samples, inspect JSON output or AST trees."})]}),z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[z.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[z.jsx(vu,{size:16})," Semantic Layer"]}),z.jsx("p",{className:"text-sm text-gray-300",children:"Track types, match exhaustiveness, DI, and SSA-ready IR."})]}),z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[z.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[z.jsx(gu,{size:16})," Tooling DX"]}),z.jsx("p",{className:"text-sm text-gray-300",children:"CLI pipeline, LSP diagnostics, rename/references, plus fmt/lint/doc tooling."})]}),z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[z.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[z.jsx(Gi,{size:16})," Runtime + WASM"]}),z.jsx("p",{className:"text-sm text-gray-300",children:"Node + browser runtime modules with optional WASM backend for hot paths."})]})]}),z.jsxs("section",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6",children:[z.jsxs("div",{className:"flex items-center gap-2 text-blue-300 text-sm mb-3",children:[z.jsx(Gh,{size:14})," Try It Quickly"]}),z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina repl
lumina compile examples/hello.lm --out dist/hello.js
lumina check examples/hello.lm
lumina fmt "examples/**/*.lm" --check
lumina lint "examples/**/*.lm"
lumina doc "examples/**/*.lm" --out docs/API.md
npm run verify`})]}),z.jsxs("section",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6 space-y-3",children:[z.jsx("div",{className:"text-sm text-blue-300",children:"Docs + References"}),z.jsxs("div",{className:"flex flex-wrap gap-2 text-xs",children:[z.jsx("a",{className:"px-3 py-1 rounded bg-gray-900 hover:bg-gray-700",href:"https://github.com/nyigoro/lumina-lang/blob/main/docs/STDLIB.md",target:"_blank",rel:"noreferrer",children:"Stdlib"}),z.jsx("a",{className:"px-3 py-1 rounded bg-gray-900 hover:bg-gray-700",href:"https://github.com/nyigoro/lumina-lang/blob/main/docs/CAPABILITIES.md",target:"_blank",rel:"noreferrer",children:"Capabilities"}),z.jsx("a",{className:"px-3 py-1 rounded bg-gray-900 hover:bg-gray-700",href:"https://github.com/nyigoro/lumina-lang/blob/main/docs/PACKAGE_USAGE.md",target:"_blank",rel:"noreferrer",children:"Packages"}),z.jsx("a",{className:"px-3 py-1 rounded bg-gray-900 hover:bg-gray-700",href:"https://github.com/nyigoro/lumina-lang/blob/main/README.md",target:"_blank",rel:"noreferrer",children:"README"})]})]})]})}),a==="lumina"&&z.jsx("main",{className:"flex-1",children:z.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-10",children:[z.jsxs("section",{className:"space-y-4",children:[z.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Lumina Toolchain"}),z.jsx("h2",{className:"text-3xl font-semibold",children:"Language, runtime, and tooling status"}),z.jsx("p",{className:"text-gray-300",children:"Current focus: production CLI flow (`verify`), expanded stdlib modules, and cross-runtime concurrency APIs."})]}),z.jsxs("section",{className:"grid gap-6 md:grid-cols-3",children:[z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[z.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[z.jsx(Gi,{size:14})," Compiler Pipeline"]}),z.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[z.jsx("li",{children:"Lexer + PEG parser with panic-mode recovery"}),z.jsx("li",{children:"HM inference, traits, and diagnostics codes"}),z.jsx("li",{children:"IR optimization + AST codegen paths"}),z.jsx("li",{children:"JS and WASM backend targets"})]})]}),z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[z.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[z.jsx(Hh,{size:14})," IDE + LSP"]}),z.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[z.jsx("li",{children:"Diagnostics with code-level reporting"}),z.jsx("li",{children:"Go-to-definition and references"}),z.jsx("li",{children:"Cross-file package symbol resolution"}),z.jsx("li",{children:"Semantic tokens + completion + hover"})]})]}),z.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[z.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[z.jsx(gu,{size:14})," Tooling"]}),z.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[z.jsxs("li",{children:[z.jsx("code",{children:"lumina fmt"})," for normalization/check mode"]}),z.jsxs("li",{children:[z.jsx("code",{children:"lumina lint"})," for semantic + style checks"]}),z.jsxs("li",{children:[z.jsx("code",{children:"lumina doc"})," for markdown API generation"]}),z.jsxs("li",{children:[z.jsx("code",{children:"npm run verify"})," as release safety gate"]})]})]})]}),z.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[z.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[z.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"CLI"}),z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina compile src/main.lm --out dist/main.js
lumina compile src/main.lm --sourcemap --debug-ir
lumina check src/main.lm
lumina watch examples
lumina fmt "src/**/*.lm" --check
lumina lint "src/**/*.lm"
lumina doc "src/**/*.lm" --out docs/API.md`})]}),z.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[z.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"Release Signals"}),z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`Version: lumina-lang@0.3.x
Latest verify: lint:check + build + test
WASM benchmark: ~100x on recursive hot path
Runtime modules: io/str/math/list/vec/hashmap/hashset
Expanded modules: fs/time/regex/crypto/channel/thread/sync`}),z.jsx("div",{className:"mt-4 text-xs text-gray-300",children:"Project flow:"}),z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`ProjectContext
   std/prelude.lm
   user sources
   dependency graph
   diagnostics + IR`})]})]}),z.jsxs("section",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5 space-y-3",children:[z.jsx("div",{className:"text-sm text-blue-300",children:"Runtime Compatibility Matrix"}),z.jsx("div",{className:"overflow-auto",children:z.jsxs("table",{className:"w-full text-xs border-collapse",children:[z.jsx("thead",{children:z.jsxs("tr",{className:"text-left text-gray-400 border-b border-gray-700",children:[z.jsx("th",{className:"py-2 pr-4",children:"Feature"}),z.jsx("th",{className:"py-2 pr-4",children:"Browser"}),z.jsx("th",{className:"py-2 pr-4",children:"Node"}),z.jsx("th",{className:"py-2",children:"Notes"})]})}),z.jsx("tbody",{children:_1.map(ue=>z.jsxs("tr",{className:"border-b border-gray-800",children:[z.jsx("td",{className:"py-2 pr-4 text-gray-200",children:ue.feature}),z.jsx("td",{className:"py-2 pr-4",children:z.jsx("span",{className:`inline-block px-2 py-0.5 rounded border ${vp[ue.browser]}`,children:ue.browser})}),z.jsx("td",{className:"py-2 pr-4",children:z.jsx("span",{className:`inline-block px-2 py-0.5 rounded border ${vp[ue.node]}`,children:ue.node})}),z.jsx("td",{className:"py-2 text-gray-400",children:ue.notes})]},ue.feature))})]})})]}),z.jsxs("section",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-6 space-y-4",children:[z.jsxs("div",{className:"flex items-center justify-between",children:[z.jsxs("div",{children:[z.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[z.jsx(Gi,{size:14})," Lumina Playground"]}),z.jsx("div",{className:"text-xs text-gray-400",children:"Runs Lumina parse + semantic analysis in-browser (no runtime execution)."})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("button",{onClick:()=>Ct("CLI snippet",`lumina lint src/main.lm
lumina compile src/main.lm --out dist/main.js`),className:"bg-gray-700 hover:bg-gray-600 px-3 py-2 rounded text-xs",children:"Copy CLI snippet"}),z.jsx("button",{onClick:Tt,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm",children:"Analyze"})]})]}),z.jsx("div",{className:"grid gap-2 sm:grid-cols-2 lg:grid-cols-4",children:gp.map((ue,Se)=>z.jsxs("button",{onClick:()=>nn(Se),className:`text-left rounded border px-3 py-2 ${I===Se?"border-blue-500 bg-blue-600/10":"border-gray-700 bg-gray-900/40 hover:bg-gray-900/70"}`,children:[z.jsx("div",{className:"text-xs text-blue-300",children:ue.name}),z.jsx("div",{className:"text-[11px] text-gray-400",children:ue.description})]},ue.name))}),z.jsx(Ks,{value:K,height:"12rem",theme:Js,extensions:[Ch()],onChange:ue=>D(ue),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),z.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[z.jsx("span",{children:"Status:"}),z.jsx("span",{className:ie==="ok"?"text-green-400":ie==="error"?"text-red-400":"text-gray-400",children:ie})]}),z.jsxs("div",{className:"flex bg-gray-900/60 border border-gray-700 rounded",children:[z.jsx("button",{onClick:()=>_e("diagnostics"),className:`px-4 py-2 text-sm ${Ae==="diagnostics"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"Diagnostics"}),z.jsx("button",{onClick:()=>_e("ast"),className:`px-4 py-2 text-sm ${Ae==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"AST"}),z.jsx("button",{onClick:()=>_e("js"),className:`px-4 py-2 text-sm ${Ae==="js"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"JS Output"}),z.jsxs("div",{className:"ml-auto flex items-center gap-2 px-3",children:[Me&&z.jsx("span",{className:"text-xs text-green-400",children:Me}),Ae==="diagnostics"&&z.jsxs("button",{onClick:()=>Ct("Diagnostics",JSON.stringify(ne,null,2)),className:"text-xs bg-gray-800 hover:bg-gray-700 px-2 py-1 rounded flex items-center gap-1",children:[z.jsx(Hi,{size:12})," Copy"]}),Ae==="ast"&&z.jsxs("button",{onClick:()=>Ct("AST",H?JSON.stringify(H,null,2):""),className:"text-xs bg-gray-800 hover:bg-gray-700 px-2 py-1 rounded flex items-center gap-1",children:[z.jsx(Hi,{size:12})," Copy"]}),Ae==="js"&&z.jsxs("button",{onClick:()=>Ct("JS output",oe),className:"text-xs bg-gray-800 hover:bg-gray-700 px-2 py-1 rounded flex items-center gap-1",children:[z.jsx(Hi,{size:12})," Copy"]})]})]}),z.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[Ae==="diagnostics"&&z.jsxs("div",{className:"space-y-2 text-sm",children:[ne.length===0&&z.jsx("div",{className:"text-gray-400",children:"No diagnostics yet."}),ne.map((ue,Se)=>z.jsxs("div",{className:"border border-gray-700 rounded p-3",children:[z.jsxs("div",{className:"text-xs uppercase text-gray-400 flex items-center gap-2",children:[z.jsx("span",{children:ue.severity}),ue.code&&z.jsxs("span",{className:"text-blue-300",children:["[",ue.code,"]"]})]}),z.jsx("div",{className:"text-sm",children:ue.message}),ue.location&&z.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[ue.location.start.line,":",ue.location.start.column]})]},Se))]}),Ae==="ast"&&z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:H?JSON.stringify(H,null,2):"No AST yet."}),Ae==="js"&&z.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:oe||"No JS output yet."})]})]})]})}),a==="playground"&&z.jsxs("main",{className:"flex-1 flex",children:[z.jsxs("div",{className:"w-80 bg-gray-800 flex flex-col border-r border-gray-700",children:[z.jsx("div",{className:"p-4 border-b border-gray-700",children:z.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[z.jsx(vu,{className:"text-blue-400"}),"Parser Studio"]})}),z.jsxs("div",{className:"flex border-b border-gray-700",children:[z.jsxs("button",{onClick:()=>S("examples"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${b==="examples"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[z.jsx(Gh,{size:14})," Examples"]}),z.jsxs("button",{onClick:()=>S("presets"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${b==="presets"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[z.jsx(gu,{size:14})," Grammars"]})]}),z.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[b==="examples"&&z.jsx("div",{className:"space-y-2",children:v1.map((ue,Se)=>z.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>tn(ue),children:[z.jsx("div",{className:"font-medium text-sm",children:ue.name}),z.jsx("div",{className:"text-xs text-gray-400 mt-1",children:ue.description}),z.jsx("div",{className:"text-xs text-blue-300 mt-1 font-mono",children:ue.code})]},Se))}),b==="presets"&&z.jsx("div",{className:"space-y-2",children:b1.map((ue,Se)=>z.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>wt(ue),children:[z.jsx("div",{className:"font-medium text-sm",children:ue.name}),z.jsxs("div",{className:"text-xs text-gray-400 mt-1 font-mono overflow-hidden",children:[ue.grammar.substring(0,60),"..."]})]},Se))})]}),z.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-3",children:[z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("input",{type:"checkbox",checked:_,onChange:ue=>w(ue.target.checked),className:"rounded"}),z.jsx("label",{className:"text-sm",children:"Auto-parse"})]}),z.jsxs("div",{className:"flex gap-2",children:[z.jsxs("button",{onClick:At,className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[z.jsx(Lv,{size:12})," Export"]}),z.jsxs("button",{onClick:()=>$.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[z.jsx(Qv,{size:12})," Import"]})]}),z.jsx("input",{ref:$,type:"file",accept:".json",onChange:Nn,className:"hidden"})]})]}),z.jsxs("div",{className:"flex-1 flex flex-col",children:[z.jsxs("div",{className:"bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[z.jsxs("div",{className:"flex items-center gap-4",children:[z.jsxs("button",{onClick:()=>V(!k),className:"bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-2",children:[z.jsx(qh,{size:14})," ",k?"Hide":"Show"," Grammar"]}),z.jsxs("div",{className:"flex items-center gap-2",children:[Qt(),z.jsx("span",{className:"text-sm capitalize",children:E}),Z&&z.jsxs("span",{className:"text-xs text-gray-400",children:["(",Z.time.toFixed(1),"ms, ",Z.nodes," nodes)"]})]}),z.jsxs("div",{className:"flex items-center gap-2",children:[z.jsx("span",{className:"text-xs text-gray-400",children:"History"}),z.jsx(E1,{data:G})]})]}),z.jsxs("button",{onClick:He,disabled:E==="parsing",className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded flex items-center gap-2 transition-colors",children:[z.jsx(Gi,{size:14})," Parse"]})]}),k&&z.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:[z.jsx(Ks,{value:s,height:"8rem",theme:Js,extensions:[T1],onChange:ue=>f(ue),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),N&&z.jsxs("div",{className:"mt-3 text-sm text-red-300 bg-red-900/30 border border-red-700 rounded p-2",children:["Grammar error: ",N]})]}),z.jsxs("div",{className:"flex-1 flex",children:[z.jsxs("div",{className:"flex-1 flex flex-col",children:[z.jsx("div",{className:"bg-gray-800 p-4",children:z.jsx(Ks,{value:i,height:"10rem",theme:Js,extensions:[Ch()],onChange:ue=>u(ue),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"})}),z.jsxs("div",{className:"flex bg-gray-800 border-t border-gray-700",children:[z.jsxs("button",{onClick:()=>v("output"),className:`px-6 py-3 text-sm flex items-center gap-2 ${g==="output"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[z.jsx(gu,{size:14})," JSON Output"]}),z.jsxs("button",{onClick:()=>v("ast"),className:`px-6 py-3 text-sm flex items-center gap-2 ${g==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[z.jsx(vu,{size:14})," AST Tree"]}),z.jsxs("div",{className:"ml-auto flex items-center gap-2 px-3",children:[Me&&z.jsx("span",{className:"text-xs text-green-400",children:Me}),g==="output"&&z.jsxs("button",{onClick:()=>Ct("Output",m),className:"text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded flex items-center gap-1",children:[z.jsx(Hi,{size:12})," Copy"]}),g==="ast"&&z.jsxs("button",{onClick:()=>Ct("AST tree",p?JSON.stringify(p,null,2):""),className:"text-xs bg-gray-700 hover:bg-gray-600 px-2 py-1 rounded flex items-center gap-1",children:[z.jsx(Hi,{size:12})," Copy"]})]})]}),z.jsxs("div",{className:"flex-1 bg-gray-700 overflow-auto",children:[g==="output"&&z.jsx("pre",{className:"p-4 text-sm font-mono h-full overflow-auto whitespace-pre-wrap",children:m||"No output yet - click Parse to generate"}),g==="ast"&&z.jsx(N1,{data:p,onNodeClick:(ue,Se)=>R({node:ue,path:Se})})]})]}),M&&z.jsxs("div",{className:"w-80 bg-gray-800 border-l border-gray-700 flex flex-col",children:[z.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[z.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[z.jsx(Hh,{size:14})," Node Inspector"]}),z.jsx("button",{onClick:()=>R(null),className:"text-gray-400 hover:text-white",children:z.jsx(Vh,{size:16})})]}),z.jsx("div",{className:"flex-1 p-4 overflow-auto",children:z.jsxs("div",{className:"space-y-3",children:[z.jsxs("div",{children:[z.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Name"}),z.jsx("div",{className:"font-mono text-sm",children:M.node.name})]}),z.jsxs("div",{children:[z.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Type"}),z.jsx("div",{className:"font-mono text-sm",children:M.node.type||"unknown"})]}),z.jsxs("div",{children:[z.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Path"}),z.jsx("div",{className:"font-mono text-sm text-blue-300",children:M.path})]}),M.node.children&&z.jsxs("div",{children:[z.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Children"}),z.jsx("div",{className:"font-mono text-sm",children:M.node.children.length})]})]})})]})]})]})]})]})}_v.createRoot(document.getElementById("root")).render(z.jsx(k1,{}));
//# sourceMappingURL=index-C2YYw0IR.js.map
