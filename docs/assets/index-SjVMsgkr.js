(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const f of o)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function a(o){const f={};return o.integrity&&(f.integrity=o.integrity),o.referrerPolicy&&(f.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?f.credentials="include":o.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(o){if(o.ep)return;o.ep=!0;const f=a(o);fetch(o.href,f)}})();function getDefaultExportFromCjs(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var jsxRuntime={exports:{}},reactJsxRuntime_production={};var hasRequiredReactJsxRuntime_production;function requireReactJsxRuntime_production(){if(hasRequiredReactJsxRuntime_production)return reactJsxRuntime_production;hasRequiredReactJsxRuntime_production=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function a(l,o,f){var h=null;if(f!==void 0&&(h=""+f),o.key!==void 0&&(h=""+o.key),"key"in o){f={};for(var d in o)d!=="key"&&(f[d]=o[d])}else f=o;return o=f.ref,{$$typeof:s,type:l,key:h,ref:o!==void 0?o:null,props:f}}return reactJsxRuntime_production.Fragment=r,reactJsxRuntime_production.jsx=a,reactJsxRuntime_production.jsxs=a,reactJsxRuntime_production}var hasRequiredJsxRuntime;function requireJsxRuntime(){return hasRequiredJsxRuntime||(hasRequiredJsxRuntime=1,jsxRuntime.exports=requireReactJsxRuntime_production()),jsxRuntime.exports}var jsxRuntimeExports=requireJsxRuntime(),react={exports:{}},react_production={};var hasRequiredReact_production;function requireReact_production(){if(hasRequiredReact_production)return react_production;hasRequiredReact_production=1;var s=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),x=Symbol.iterator;function w(N){return N===null||typeof N!="object"?null:(N=x&&N[x]||N["@@iterator"],typeof N=="function"?N:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,M={};function L(N,Y,ae){this.props=N,this.context=Y,this.refs=M,this.updater=ae||Q}L.prototype.isReactComponent={},L.prototype.setState=function(N,Y){if(typeof N!="object"&&typeof N!="function"&&N!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,N,Y,"setState")},L.prototype.forceUpdate=function(N){this.updater.enqueueForceUpdate(this,N,"forceUpdate")};function Z(){}Z.prototype=L.prototype;function z(N,Y,ae){this.props=N,this.context=Y,this.refs=M,this.updater=ae||Q}var j=z.prototype=new Z;j.constructor=z,A(j,L.prototype),j.isPureReactComponent=!0;var B=Array.isArray;function G(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function W(N,Y,ae){var ue=ae.ref;return{$$typeof:s,type:N,key:Y,ref:ue!==void 0?ue:null,props:ae}}function se(N,Y){return W(N.type,Y,N.props)}function ce(N){return typeof N=="object"&&N!==null&&N.$$typeof===s}function Se(N){var Y={"=":"=0",":":"=2"};return"$"+N.replace(/[=:]/g,function(ae){return Y[ae]})}var ve=/\/+/g;function $e(N,Y){return typeof N=="object"&&N!==null&&N.key!=null?Se(""+N.key):Y.toString(36)}function Re(N){switch(N.status){case"fulfilled":return N.value;case"rejected":throw N.reason;default:switch(typeof N.status=="string"?N.then(G,G):(N.status="pending",N.then(function(Y){N.status==="pending"&&(N.status="fulfilled",N.value=Y)},function(Y){N.status==="pending"&&(N.status="rejected",N.reason=Y)})),N.status){case"fulfilled":return N.value;case"rejected":throw N.reason}}throw N}function re(N,Y,ae,ue,we){var _e=typeof N;(_e==="undefined"||_e==="boolean")&&(N=null);var me=!1;if(N===null)me=!0;else switch(_e){case"bigint":case"string":case"number":me=!0;break;case"object":switch(N.$$typeof){case s:case r:me=!0;break;case y:return me=N._init,re(me(N._payload),Y,ae,ue,we)}}if(me)return we=we(N),me=ue===""?"."+$e(N,0):ue,B(we)?(ae="",me!=null&&(ae=me.replace(ve,"$&/")+"/"),re(we,Y,ae,"",function(yt){return yt})):we!=null&&(ce(we)&&(we=se(we,ae+(we.key==null||N&&N.key===we.key?"":(""+we.key).replace(ve,"$&/")+"/")+me)),Y.push(we)),1;me=0;var Ne=ue===""?".":ue+":";if(B(N))for(var De=0;De<N.length;De++)ue=N[De],_e=Ne+$e(ue,De),me+=re(ue,Y,ae,_e,we);else if(De=w(N),typeof De=="function")for(N=De.call(N),De=0;!(ue=N.next()).done;)ue=ue.value,_e=Ne+$e(ue,De++),me+=re(ue,Y,ae,_e,we);else if(_e==="object"){if(typeof N.then=="function")return re(Re(N),Y,ae,ue,we);throw Y=String(N),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(N).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return me}function Oe(N,Y,ae){if(N==null)return N;var ue=[],we=0;return re(N,ue,"","",function(_e){return Y.call(ae,_e,we++)}),ue}function Ee(N){if(N._status===-1){var Y=N._result;Y=Y(),Y.then(function(ae){(N._status===0||N._status===-1)&&(N._status=1,N._result=ae)},function(ae){(N._status===0||N._status===-1)&&(N._status=2,N._result=ae)}),N._status===-1&&(N._status=0,N._result=Y)}if(N._status===1)return N._result.default;throw N._result}var be=typeof reportError=="function"?reportError:function(N){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof N=="object"&&N!==null&&typeof N.message=="string"?String(N.message):String(N),error:N});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",N);return}console.error(N)},X={map:Oe,forEach:function(N,Y,ae){Oe(N,function(){Y.apply(this,arguments)},ae)},count:function(N){var Y=0;return Oe(N,function(){Y++}),Y},toArray:function(N){return Oe(N,function(Y){return Y})||[]},only:function(N){if(!ce(N))throw Error("React.Children.only expected to receive a single React element child.");return N}};return react_production.Activity=S,react_production.Children=X,react_production.Component=L,react_production.Fragment=a,react_production.Profiler=o,react_production.PureComponent=z,react_production.StrictMode=l,react_production.Suspense=g,react_production.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,react_production.__COMPILER_RUNTIME={__proto__:null,c:function(N){return D.H.useMemoCache(N)}},react_production.cache=function(N){return function(){return N.apply(null,arguments)}},react_production.cacheSignal=function(){return null},react_production.cloneElement=function(N,Y,ae){if(N==null)throw Error("The argument must be a React element, but you passed "+N+".");var ue=A({},N.props),we=N.key;if(Y!=null)for(_e in Y.key!==void 0&&(we=""+Y.key),Y)!I.call(Y,_e)||_e==="key"||_e==="__self"||_e==="__source"||_e==="ref"&&Y.ref===void 0||(ue[_e]=Y[_e]);var _e=arguments.length-2;if(_e===1)ue.children=ae;else if(1<_e){for(var me=Array(_e),Ne=0;Ne<_e;Ne++)me[Ne]=arguments[Ne+2];ue.children=me}return W(N.type,we,ue)},react_production.createContext=function(N){return N={$$typeof:h,_currentValue:N,_currentValue2:N,_threadCount:0,Provider:null,Consumer:null},N.Provider=N,N.Consumer={$$typeof:f,_context:N},N},react_production.createElement=function(N,Y,ae){var ue,we={},_e=null;if(Y!=null)for(ue in Y.key!==void 0&&(_e=""+Y.key),Y)I.call(Y,ue)&&ue!=="key"&&ue!=="__self"&&ue!=="__source"&&(we[ue]=Y[ue]);var me=arguments.length-2;if(me===1)we.children=ae;else if(1<me){for(var Ne=Array(me),De=0;De<me;De++)Ne[De]=arguments[De+2];we.children=Ne}if(N&&N.defaultProps)for(ue in me=N.defaultProps,me)we[ue]===void 0&&(we[ue]=me[ue]);return W(N,_e,we)},react_production.createRef=function(){return{current:null}},react_production.forwardRef=function(N){return{$$typeof:d,render:N}},react_production.isValidElement=ce,react_production.lazy=function(N){return{$$typeof:y,_payload:{_status:-1,_result:N},_init:Ee}},react_production.memo=function(N,Y){return{$$typeof:m,type:N,compare:Y===void 0?null:Y}},react_production.startTransition=function(N){var Y=D.T,ae={};D.T=ae;try{var ue=N(),we=D.S;we!==null&&we(ae,ue),typeof ue=="object"&&ue!==null&&typeof ue.then=="function"&&ue.then(G,be)}catch(_e){be(_e)}finally{Y!==null&&ae.types!==null&&(Y.types=ae.types),D.T=Y}},react_production.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},react_production.use=function(N){return D.H.use(N)},react_production.useActionState=function(N,Y,ae){return D.H.useActionState(N,Y,ae)},react_production.useCallback=function(N,Y){return D.H.useCallback(N,Y)},react_production.useContext=function(N){return D.H.useContext(N)},react_production.useDebugValue=function(){},react_production.useDeferredValue=function(N,Y){return D.H.useDeferredValue(N,Y)},react_production.useEffect=function(N,Y){return D.H.useEffect(N,Y)},react_production.useEffectEvent=function(N){return D.H.useEffectEvent(N)},react_production.useId=function(){return D.H.useId()},react_production.useImperativeHandle=function(N,Y,ae){return D.H.useImperativeHandle(N,Y,ae)},react_production.useInsertionEffect=function(N,Y){return D.H.useInsertionEffect(N,Y)},react_production.useLayoutEffect=function(N,Y){return D.H.useLayoutEffect(N,Y)},react_production.useMemo=function(N,Y){return D.H.useMemo(N,Y)},react_production.useOptimistic=function(N,Y){return D.H.useOptimistic(N,Y)},react_production.useReducer=function(N,Y,ae){return D.H.useReducer(N,Y,ae)},react_production.useRef=function(N){return D.H.useRef(N)},react_production.useState=function(N){return D.H.useState(N)},react_production.useSyncExternalStore=function(N,Y,ae){return D.H.useSyncExternalStore(N,Y,ae)},react_production.useTransition=function(){return D.H.useTransition()},react_production.version="19.2.4",react_production}var hasRequiredReact;function requireReact(){return hasRequiredReact||(hasRequiredReact=1,react.exports=requireReact_production()),react.exports}var reactExports=requireReact(),client={exports:{}},reactDomClient_production={},scheduler={exports:{}},scheduler_production={};var hasRequiredScheduler_production;function requireScheduler_production(){return hasRequiredScheduler_production||(hasRequiredScheduler_production=1,(function(s){function r(re,Oe){var Ee=re.length;re.push(Oe);e:for(;0<Ee;){var be=Ee-1>>>1,X=re[be];if(0<o(X,Oe))re[be]=Oe,re[Ee]=X,Ee=be;else break e}}function a(re){return re.length===0?null:re[0]}function l(re){if(re.length===0)return null;var Oe=re[0],Ee=re.pop();if(Ee!==Oe){re[0]=Ee;e:for(var be=0,X=re.length,N=X>>>1;be<N;){var Y=2*(be+1)-1,ae=re[Y],ue=Y+1,we=re[ue];if(0>o(ae,Ee))ue<X&&0>o(we,ae)?(re[be]=we,re[ue]=Ee,be=ue):(re[be]=ae,re[Y]=Ee,be=Y);else if(ue<X&&0>o(we,Ee))re[be]=we,re[ue]=Ee,be=ue;else break e}}return Oe}function o(re,Oe){var Ee=re.sortIndex-Oe.sortIndex;return Ee!==0?Ee:re.id-Oe.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,d=h.now();s.unstable_now=function(){return h.now()-d}}var g=[],m=[],y=1,S=null,x=3,w=!1,Q=!1,A=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,Z=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function j(re){for(var Oe=a(m);Oe!==null;){if(Oe.callback===null)l(m);else if(Oe.startTime<=re)l(m),Oe.sortIndex=Oe.expirationTime,r(g,Oe);else break;Oe=a(m)}}function B(re){if(A=!1,j(re),!Q)if(a(g)!==null)Q=!0,G||(G=!0,Se());else{var Oe=a(m);Oe!==null&&Re(B,Oe.startTime-re)}}var G=!1,D=-1,I=5,W=-1;function se(){return M?!0:!(s.unstable_now()-W<I)}function ce(){if(M=!1,G){var re=s.unstable_now();W=re;var Oe=!0;try{e:{Q=!1,A&&(A=!1,Z(D),D=-1),w=!0;var Ee=x;try{t:{for(j(re),S=a(g);S!==null&&!(S.expirationTime>re&&se());){var be=S.callback;if(typeof be=="function"){S.callback=null,x=S.priorityLevel;var X=be(S.expirationTime<=re);if(re=s.unstable_now(),typeof X=="function"){S.callback=X,j(re),Oe=!0;break t}S===a(g)&&l(g),j(re)}else l(g);S=a(g)}if(S!==null)Oe=!0;else{var N=a(m);N!==null&&Re(B,N.startTime-re),Oe=!1}}break e}finally{S=null,x=Ee,w=!1}Oe=void 0}}finally{Oe?Se():G=!1}}}var Se;if(typeof z=="function")Se=function(){z(ce)};else if(typeof MessageChannel<"u"){var ve=new MessageChannel,$e=ve.port2;ve.port1.onmessage=ce,Se=function(){$e.postMessage(null)}}else Se=function(){L(ce,0)};function Re(re,Oe){D=L(function(){re(s.unstable_now())},Oe)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(re){re.callback=null},s.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<re?Math.floor(1e3/re):5},s.unstable_getCurrentPriorityLevel=function(){return x},s.unstable_next=function(re){switch(x){case 1:case 2:case 3:var Oe=3;break;default:Oe=x}var Ee=x;x=Oe;try{return re()}finally{x=Ee}},s.unstable_requestPaint=function(){M=!0},s.unstable_runWithPriority=function(re,Oe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var Ee=x;x=re;try{return Oe()}finally{x=Ee}},s.unstable_scheduleCallback=function(re,Oe,Ee){var be=s.unstable_now();switch(typeof Ee=="object"&&Ee!==null?(Ee=Ee.delay,Ee=typeof Ee=="number"&&0<Ee?be+Ee:be):Ee=be,re){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=Ee+X,re={id:y++,callback:Oe,priorityLevel:re,startTime:Ee,expirationTime:X,sortIndex:-1},Ee>be?(re.sortIndex=Ee,r(m,re),a(g)===null&&re===a(m)&&(A?(Z(D),D=-1):A=!0,Re(B,Ee-be))):(re.sortIndex=X,r(g,re),Q||w||(Q=!0,G||(G=!0,Se()))),re},s.unstable_shouldYield=se,s.unstable_wrapCallback=function(re){var Oe=x;return function(){var Ee=x;x=Oe;try{return re.apply(this,arguments)}finally{x=Ee}}}})(scheduler_production)),scheduler_production}var hasRequiredScheduler;function requireScheduler(){return hasRequiredScheduler||(hasRequiredScheduler=1,scheduler.exports=requireScheduler_production()),scheduler.exports}var reactDom={exports:{}},reactDom_production={};var hasRequiredReactDom_production;function requireReactDom_production(){if(hasRequiredReactDom_production)return reactDom_production;hasRequiredReactDom_production=1;var s=requireReact();function r(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var l={d:{f:a,r:function(){throw Error(r(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},o=Symbol.for("react.portal");function f(g,m,y){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:S==null?null:""+S,children:g,containerInfo:m,implementation:y}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return reactDom_production.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,reactDom_production.createPortal=function(g,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(r(299));return f(g,m,null,y)},reactDom_production.flushSync=function(g){var m=h.T,y=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=m,l.p=y,l.d.f()}},reactDom_production.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,l.d.C(g,m))},reactDom_production.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},reactDom_production.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var y=m.as,S=d(y,m.crossOrigin),x=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?l.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:S,integrity:x,fetchPriority:w}):y==="script"&&l.d.X(g,{crossOrigin:S,integrity:x,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},reactDom_production.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=d(m.as,m.crossOrigin);l.d.M(g,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&l.d.M(g)},reactDom_production.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,S=d(y,m.crossOrigin);l.d.L(g,y,{crossOrigin:S,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},reactDom_production.preloadModule=function(g,m){if(typeof g=="string")if(m){var y=d(m.as,m.crossOrigin);l.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else l.d.m(g)},reactDom_production.requestFormReset=function(g){l.d.r(g)},reactDom_production.unstable_batchedUpdates=function(g,m){return g(m)},reactDom_production.useFormState=function(g,m,y){return h.H.useFormState(g,m,y)},reactDom_production.useFormStatus=function(){return h.H.useHostTransitionStatus()},reactDom_production.version="19.2.4",reactDom_production}var hasRequiredReactDom;function requireReactDom(){if(hasRequiredReactDom)return reactDom.exports;hasRequiredReactDom=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),reactDom.exports=requireReactDom_production(),reactDom.exports}var hasRequiredReactDomClient_production;function requireReactDomClient_production(){if(hasRequiredReactDomClient_production)return reactDomClient_production;hasRequiredReactDomClient_production=1;var s=requireScheduler(),r=requireReact(),a=requireReactDom();function l(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function f(c){var u=c,p=c;if(c.alternate)for(;u.return;)u=u.return;else{c=u;do u=c,(u.flags&4098)!==0&&(p=u.return),c=u.return;while(c)}return u.tag===3?p:null}function h(c){if(c.tag===13){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function d(c){if(c.tag===31){var u=c.memoizedState;if(u===null&&(c=c.alternate,c!==null&&(u=c.memoizedState)),u!==null)return u.dehydrated}return null}function g(c){if(f(c)!==c)throw Error(l(188))}function m(c){var u=c.alternate;if(!u){if(u=f(c),u===null)throw Error(l(188));return u!==c?null:c}for(var p=c,O=u;;){var v=p.return;if(v===null)break;var k=v.alternate;if(k===null){if(O=v.return,O!==null){p=O;continue}break}if(v.child===k.child){for(k=v.child;k;){if(k===p)return g(v),c;if(k===O)return g(v),u;k=k.sibling}throw Error(l(188))}if(p.return!==O.return)p=v,O=k;else{for(var _=!1,R=v.child;R;){if(R===p){_=!0,p=v,O=k;break}if(R===O){_=!0,O=v,p=k;break}R=R.sibling}if(!_){for(R=k.child;R;){if(R===p){_=!0,p=k,O=v;break}if(R===O){_=!0,O=k,p=v;break}R=R.sibling}if(!_)throw Error(l(189))}}if(p.alternate!==O)throw Error(l(190))}if(p.tag!==3)throw Error(l(188));return p.stateNode.current===p?c:u}function y(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c;for(c=c.child;c!==null;){if(u=y(c),u!==null)return u;c=c.sibling}return null}var S=Object.assign,x=Symbol.for("react.element"),w=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),M=Symbol.for("react.strict_mode"),L=Symbol.for("react.profiler"),Z=Symbol.for("react.consumer"),z=Symbol.for("react.context"),j=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),W=Symbol.for("react.activity"),se=Symbol.for("react.memo_cache_sentinel"),ce=Symbol.iterator;function Se(c){return c===null||typeof c!="object"?null:(c=ce&&c[ce]||c["@@iterator"],typeof c=="function"?c:null)}var ve=Symbol.for("react.client.reference");function $e(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===ve?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case A:return"Fragment";case L:return"Profiler";case M:return"StrictMode";case B:return"Suspense";case G:return"SuspenseList";case W:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case Q:return"Portal";case z:return c.displayName||"Context";case Z:return(c._context.displayName||"Context")+".Consumer";case j:var u=c.render;return c=c.displayName,c||(c=u.displayName||u.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case D:return u=c.displayName||null,u!==null?u:$e(c.type)||"Memo";case I:u=c._payload,c=c._init;try{return $e(c(u))}catch{}}return null}var Re=Array.isArray,re=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Oe=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Ee={pending:!1,data:null,method:null,action:null},be=[],X=-1;function N(c){return{current:c}}function Y(c){0>X||(c.current=be[X],be[X]=null,X--)}function ae(c,u){X++,be[X]=c.current,c.current=u}var ue=N(null),we=N(null),_e=N(null),me=N(null);function Ne(c,u){switch(ae(_e,u),ae(we,c),ae(ue,null),u.nodeType){case 9:case 11:c=(c=u.documentElement)&&(c=c.namespaceURI)?Md(c):0;break;default:if(c=u.tagName,u=u.namespaceURI)u=Md(u),c=Dd(u,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}Y(ue),ae(ue,c)}function De(){Y(ue),Y(we),Y(_e)}function yt(c){c.memoizedState!==null&&ae(me,c);var u=ue.current,p=Dd(u,c.type);u!==p&&(ae(we,c),ae(ue,p))}function Te(c){we.current===c&&(Y(ue),Y(we)),me.current===c&&(Y(me),ms._currentValue=Ee)}var je,xe;function ke(c){if(je===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);je=u&&u[1]||"",xe=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+je+c+xe}var Le=!1;function Ce(c,u){if(!c||Le)return"";Le=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var O={DetermineComponentFrameRoot:function(){try{if(u){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(oe){var le=oe}Reflect.construct(c,[],ge)}else{try{ge.call()}catch(oe){le=oe}c.call(ge.prototype)}}else{try{throw Error()}catch(oe){le=oe}(ge=c())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(oe){if(oe&&le&&typeof oe.stack=="string")return[oe.stack,le.stack]}return[null,null]}};O.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var v=Object.getOwnPropertyDescriptor(O.DetermineComponentFrameRoot,"name");v&&v.configurable&&Object.defineProperty(O.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var k=O.DetermineComponentFrameRoot(),_=k[0],R=k[1];if(_&&R){var q=_.split(`
`),te=R.split(`
`);for(v=O=0;O<q.length&&!q[O].includes("DetermineComponentFrameRoot");)O++;for(;v<te.length&&!te[v].includes("DetermineComponentFrameRoot");)v++;if(O===q.length||v===te.length)for(O=q.length-1,v=te.length-1;1<=O&&0<=v&&q[O]!==te[v];)v--;for(;1<=O&&0<=v;O--,v--)if(q[O]!==te[v]){if(O!==1||v!==1)do if(O--,v--,0>v||q[O]!==te[v]){var fe=`
`+q[O].replace(" at new "," at ");return c.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",c.displayName)),fe}while(1<=O&&0<=v);break}}}finally{Le=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?ke(p):""}function pt(c,u){switch(c.tag){case 26:case 27:case 5:return ke(c.type);case 16:return ke("Lazy");case 13:return c.child!==u&&u!==null?ke("Suspense Fallback"):ke("Suspense");case 19:return ke("SuspenseList");case 0:case 15:return Ce(c.type,!1);case 11:return Ce(c.type.render,!1);case 1:return Ce(c.type,!0);case 31:return ke("Activity");default:return""}}function ye(c){try{var u="",p=null;do u+=pt(c,p),p=c,c=c.return;while(c);return u}catch(O){return`
Error generating stack: `+O.message+`
`+O.stack}}var Ft=Object.prototype.hasOwnProperty,Xe=s.unstable_scheduleCallback,wt=s.unstable_cancelCallback,en=s.unstable_shouldYield,gi=s.unstable_requestPaint,Ct=s.unstable_now,Un=s.unstable_getCurrentPriorityLevel,Bi=s.unstable_ImmediatePriority,zi=s.unstable_UserBlockingPriority,gt=s.unstable_NormalPriority,Et=s.unstable_LowPriority,At=s.unstable_IdlePriority,Ut=s.log,Vt=s.unstable_setDisableYieldValue,Dt=null,bt=null;function Je(c){if(typeof Ut=="function"&&Vt(c),bt&&typeof bt.setStrictMode=="function")try{bt.setStrictMode(Dt,c)}catch{}}var Tt=Math.clz32?Math.clz32:tl,qt=Math.log,ri=Math.LN2;function tl(c){return c>>>=0,c===0?32:31-(qt(c)/ri|0)|0}var Pr=256,Oi=262144,yi=4194304;function Si(c){var u=c&42;if(u!==0)return u;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Mr(c,u,p){var O=c.pendingLanes;if(O===0)return 0;var v=0,k=c.suspendedLanes,_=c.pingedLanes;c=c.warmLanes;var R=O&134217727;return R!==0?(O=R&~k,O!==0?v=Si(O):(_&=R,_!==0?v=Si(_):p||(p=R&~c,p!==0&&(v=Si(p))))):(R=O&~k,R!==0?v=Si(R):_!==0?v=Si(_):p||(p=O&~c,p!==0&&(v=Si(p)))),v===0?0:u!==0&&u!==v&&(u&k)===0&&(k=v&-v,p=u&-u,k>=p||k===32&&(p&4194048)!==0)?u:v}function dn(c,u){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&u)===0}function ai(c,u){switch(c){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ss(){var c=yi;return yi<<=1,(yi&62914560)===0&&(yi=4194304),c}function Dr(c){for(var u=[],p=0;31>p;p++)u.push(c);return u}function ji(c,u){c.pendingLanes|=u,u!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function ic(c,u,p,O,v,k){var _=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var R=c.entanglements,q=c.expirationTimes,te=c.hiddenUpdates;for(p=_&~p;0<p;){var fe=31-Tt(p),ge=1<<fe;R[fe]=0,q[fe]=-1;var le=te[fe];if(le!==null)for(te[fe]=null,fe=0;fe<le.length;fe++){var oe=le[fe];oe!==null&&(oe.lane&=-536870913)}p&=~ge}O!==0&&vs(c,O,0),k!==0&&v===0&&c.tag!==0&&(c.suspendedLanes|=k&~(_&~u))}function vs(c,u,p){c.pendingLanes|=u,c.suspendedLanes&=~u;var O=31-Tt(u);c.entangledLanes|=u,c.entanglements[O]=c.entanglements[O]|1073741824|p&261930}function bs(c,u){var p=c.entangledLanes|=u;for(c=c.entanglements;p;){var O=31-Tt(p),v=1<<O;v&u|c[O]&u&&(c[O]|=u),p&=~v}}function xs(c,u){var p=u&-u;return p=(p&42)!==0?1:ya(p),(p&(c.suspendedLanes|u))!==0?0:p}function ya(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function nl(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function ks(){var c=Oe.p;return c!==0?c:(c=window.event,c===void 0?32:rp(c.type))}function ws(c,u){var p=Oe.p;try{return Oe.p=c,u()}finally{Oe.p=p}}var Vn=Math.random().toString(36).slice(2),zt="__reactFiber$"+Vn,nn="__reactProps$"+Vn,Xi="__reactContainer$"+Vn,il="__reactEvents$"+Vn,rc="__reactListeners$"+Vn,ac="__reactHandles$"+Vn,Ts="__reactResources$"+Vn,Lr="__reactMarker$"+Vn;function rl(c){delete c[zt],delete c[nn],delete c[il],delete c[rc],delete c[ac]}function Ui(c){var u=c[zt];if(u)return u;for(var p=c.parentNode;p;){if(u=p[Xi]||p[zt]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(c=Xd(c);c!==null;){if(p=c[zt])return p;c=Xd(c)}return u}c=p,p=c.parentNode}return null}function Vi(c){if(c=c[zt]||c[Xi]){var u=c.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return c}return null}function zr(c){var u=c.tag;if(u===5||u===26||u===27||u===6)return c.stateNode;throw Error(l(33))}function qi(c){var u=c[Ts];return u||(u=c[Ts]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function $t(c){c[Lr]=!0}var vi=new Set,Cs={};function bi(c,u){Yi(c,u),Yi(c+"Capture",u)}function Yi(c,u){for(Cs[c]=u,c=0;c<u.length;c++)vi.add(u[c])}var Gi=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Es={},Qs={};function _s(c){return Ft.call(Qs,c)?!0:Ft.call(Es,c)?!1:Gi.test(c)?Qs[c]=!0:(Es[c]=!0,!1)}function Sa(c,u,p){if(_s(u))if(p===null)c.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(u);return;case"boolean":var O=u.toLowerCase().slice(0,5);if(O!=="data-"&&O!=="aria-"){c.removeAttribute(u);return}}c.setAttribute(u,""+p)}}function Xr(c,u,p){if(p===null)c.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(u);return}c.setAttribute(u,""+p)}}function Mn(c,u,p,O){if(O===null)c.removeAttribute(p);else{switch(typeof O){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(u,p,""+O)}}function pn(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function As(c){var u=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function lc(c,u,p){var O=Object.getOwnPropertyDescriptor(c.constructor.prototype,u);if(!c.hasOwnProperty(u)&&typeof O<"u"&&typeof O.get=="function"&&typeof O.set=="function"){var v=O.get,k=O.set;return Object.defineProperty(c,u,{configurable:!0,get:function(){return v.call(this)},set:function(_){p=""+_,k.call(this,_)}}),Object.defineProperty(c,u,{enumerable:O.enumerable}),{getValue:function(){return p},setValue:function(_){p=""+_},stopTracking:function(){c._valueTracker=null,delete c[u]}}}}function al(c){if(!c._valueTracker){var u=As(c)?"checked":"value";c._valueTracker=lc(c,u,""+c[u])}}function $s(c){if(!c)return!1;var u=c._valueTracker;if(!u)return!0;var p=u.getValue(),O="";return c&&(O=As(c)?c.checked?"true":"false":c.value),c=O,c!==p?(u.setValue(c),!0):!1}function va(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var sc=/[\n"\\]/g;function mn(c){return c.replace(sc,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function ll(c,u,p,O,v,k,_,R){c.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?c.type=_:c.removeAttribute("type"),u!=null?_==="number"?(u===0&&c.value===""||c.value!=u)&&(c.value=""+pn(u)):c.value!==""+pn(u)&&(c.value=""+pn(u)):_!=="submit"&&_!=="reset"||c.removeAttribute("value"),u!=null?sl(c,_,pn(u)):p!=null?sl(c,_,pn(p)):O!=null&&c.removeAttribute("value"),v==null&&k!=null&&(c.defaultChecked=!!k),v!=null&&(c.checked=v&&typeof v!="function"&&typeof v!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?c.name=""+pn(R):c.removeAttribute("name")}function ba(c,u,p,O,v,k,_,R){if(k!=null&&typeof k!="function"&&typeof k!="symbol"&&typeof k!="boolean"&&(c.type=k),u!=null||p!=null){if(!(k!=="submit"&&k!=="reset"||u!=null)){al(c);return}p=p!=null?""+pn(p):"",u=u!=null?""+pn(u):p,R||u===c.value||(c.value=u),c.defaultValue=u}O=O??v,O=typeof O!="function"&&typeof O!="symbol"&&!!O,c.checked=R?c.checked:!!O,c.defaultChecked=!!O,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(c.name=_),al(c)}function sl(c,u,p){u==="number"&&va(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Hi(c,u,p,O){if(c=c.options,u){u={};for(var v=0;v<p.length;v++)u["$"+p[v]]=!0;for(p=0;p<c.length;p++)v=u.hasOwnProperty("$"+c[p].value),c[p].selected!==v&&(c[p].selected=v),v&&O&&(c[p].defaultSelected=!0)}else{for(p=""+pn(p),u=null,v=0;v<c.length;v++){if(c[v].value===p){c[v].selected=!0,O&&(c[v].defaultSelected=!0);return}u!==null||c[v].disabled||(u=c[v])}u!==null&&(u.selected=!0)}}function Ps(c,u,p){if(u!=null&&(u=""+pn(u),u!==c.value&&(c.value=u),p==null)){c.defaultValue!==u&&(c.defaultValue=u);return}c.defaultValue=p!=null?""+pn(p):""}function Rs(c,u,p,O){if(u==null){if(O!=null){if(p!=null)throw Error(l(92));if(Re(O)){if(1<O.length)throw Error(l(93));O=O[0]}p=O}p==null&&(p=""),u=p}p=pn(u),c.defaultValue=p,O=c.textContent,O===p&&O!==""&&O!==null&&(c.value=O),al(c)}function Ii(c,u){if(u){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=u;return}}c.textContent=u}var oc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ms(c,u,p){var O=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?O?c.setProperty(u,""):u==="float"?c.cssFloat="":c[u]="":O?c.setProperty(u,p):typeof p!="number"||p===0||oc.has(u)?u==="float"?c.cssFloat=p:c[u]=(""+p).trim():c[u]=p+"px"}function Ds(c,u,p){if(u!=null&&typeof u!="object")throw Error(l(62));if(c=c.style,p!=null){for(var O in p)!p.hasOwnProperty(O)||u!=null&&u.hasOwnProperty(O)||(O.indexOf("--")===0?c.setProperty(O,""):O==="float"?c.cssFloat="":c[O]="");for(var v in u)O=u[v],u.hasOwnProperty(v)&&p[v]!==O&&Ms(c,v,O)}else for(var k in u)u.hasOwnProperty(k)&&Ms(c,k,u[k])}function ol(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),uc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xa(c){return uc.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function qn(){}var cl=null;function ul(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Yn=null,Wi=null;function Ns(c){var u=Vi(c);if(u&&(c=u.stateNode)){var p=c[nn]||null;e:switch(c=u.stateNode,u.type){case"input":if(ll(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+mn(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var O=p[u];if(O!==c&&O.form===c.form){var v=O[nn]||null;if(!v)throw Error(l(90));ll(O,v.value,v.defaultValue,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name)}}for(u=0;u<p.length;u++)O=p[u],O.form===c.form&&$s(O)}break e;case"textarea":Ps(c,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&Hi(c,!!p.multiple,u,!1)}}}var fl=!1;function Ls(c,u,p){if(fl)return c(u,p);fl=!0;try{var O=c(u);return O}finally{if(fl=!1,(Yn!==null||Wi!==null)&&(Do(),Yn&&(u=Yn,c=Wi,Wi=Yn=null,Ns(u),c)))for(u=0;u<c.length;u++)Ns(c[u])}}function Ur(c,u){var p=c.stateNode;if(p===null)return null;var O=p[nn]||null;if(O===null)return null;p=O[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(O=!O.disabled)||(c=c.type,O=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!O;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(l(231,u,typeof p));return p}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hl=!1;if(Gn)try{var Vr={};Object.defineProperty(Vr,"passive",{get:function(){hl=!0}}),window.addEventListener("test",Vr,Vr),window.removeEventListener("test",Vr,Vr)}catch{hl=!1}var li=null,dl=null,ka=null;function Zs(){if(ka)return ka;var c,u=dl,p=u.length,O,v="value"in li?li.value:li.textContent,k=v.length;for(c=0;c<p&&u[c]===v[c];c++);var _=p-c;for(O=1;O<=_&&u[p-O]===v[k-O];O++);return ka=v.slice(c,1<O?1-O:void 0)}function wa(c){var u=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&u===13&&(c=13)):c=u,c===10&&(c=13),32<=c||c===13?c:0}function Ta(){return!0}function Bs(){return!1}function ln(c){function u(p,O,v,k,_){this._reactName=p,this._targetInst=v,this.type=O,this.nativeEvent=k,this.target=_,this.currentTarget=null;for(var R in c)c.hasOwnProperty(R)&&(p=c[R],this[R]=p?p(k):k[R]);return this.isDefaultPrevented=(k.defaultPrevented!=null?k.defaultPrevented:k.returnValue===!1)?Ta:Bs,this.isPropagationStopped=Bs,this}return S(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),u}var xi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ca=ln(xi),qr=S({},xi,{view:0,detail:0}),fc=ln(qr),pl,ml,Hr,Ea=S({},qr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ol,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Hr&&(Hr&&c.type==="mousemove"?(pl=c.screenX-Hr.screenX,ml=c.screenY-Hr.screenY):ml=pl=0,Hr=c),pl)},movementY:function(c){return"movementY"in c?c.movementY:ml}}),zs=ln(Ea),hc=S({},Ea,{dataTransfer:0}),dc=ln(hc),pc=S({},qr,{relatedTarget:0}),gl=ln(pc),mc=S({},xi,{animationName:0,elapsedTime:0,pseudoElement:0}),gc=ln(mc),Oc=S({},xi,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),yc=ln(Oc),Sc=S({},xi,{data:0}),js=ln(Sc),vc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bc={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kc(c){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(c):(c=xc[c])?!!u[c]:!1}function Ol(){return kc}var wc=S({},qr,{key:function(c){if(c.key){var u=vc[c.key]||c.key;if(u!=="Unidentified")return u}return c.type==="keypress"?(c=wa(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?bc[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ol,charCode:function(c){return c.type==="keypress"?wa(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?wa(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Tc=ln(wc),Cc=S({},Ea,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Us=ln(Cc),Ec=S({},qr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ol}),Qc=ln(Ec),_c=S({},xi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ac=ln(_c),$c=S({},Ea,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Pc=ln($c),Rc=S({},xi,{newState:0,oldState:0}),Mc=ln(Rc),Dc=[9,13,27,32],yl=Gn&&"CompositionEvent"in window,Ir=null;Gn&&"documentMode"in document&&(Ir=document.documentMode);var Nc=Gn&&"TextEvent"in window&&!Ir,Vs=Gn&&(!yl||Ir&&8<Ir&&11>=Ir),qs=" ",Ys=!1;function Gs(c,u){switch(c){case"keyup":return Dc.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hs(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Fi=!1;function T(c,u){switch(c){case"compositionend":return Hs(u);case"keypress":return u.which!==32?null:(Ys=!0,qs);case"textInput":return c=u.data,c===qs&&Ys?null:c;default:return null}}function Ae(c,u){if(Fi)return c==="compositionend"||!yl&&Gs(c,u)?(c=Zs(),ka=dl=li=null,Fi=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return Vs&&u.locale!=="ko"?null:u.data;default:return null}}var Ki={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function gn(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u==="input"?!!Ki[c.type]:u==="textarea"}function Wr(c,u,p,O){Yn?Wi?Wi.push(O):Wi=[O]:Yn=O,u=Xo(u,"onChange"),0<u.length&&(p=new Ca("onChange","change",null,p,O),c.push({event:p,listeners:u}))}var J=null,Hn=null;function Lc(c){Qd(c,0)}function He(c){var u=zr(c);if($s(u))return c}function si(c,u){if(c==="change")return u}var Fr=!1;if(Gn){var qe;if(Gn){var St="oninput"in document;if(!St){var Is=document.createElement("div");Is.setAttribute("oninput","return;"),St=typeof Is.oninput=="function"}qe=St}else qe=!1;Fr=qe&&(!document.documentMode||9<document.documentMode)}function Ws(){J&&(J.detachEvent("onpropertychange",In),Hn=J=null)}function In(c){if(c.propertyName==="value"&&He(Hn)){var u=[];Wr(u,Hn,c,ul(c)),Ls(Lc,u)}}function Fs(c,u,p){c==="focusin"?(Ws(),J=u,Hn=p,J.attachEvent("onpropertychange",In)):c==="focusout"&&Ws()}function Qa(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return He(Hn)}function de(c,u){if(c==="click")return He(u)}function Zc(c,u){if(c==="input"||c==="change")return He(u)}function Bc(c,u){return c===u&&(c!==0||1/c===1/u)||c!==c&&u!==u}var sn=typeof Object.is=="function"?Object.is:Bc;function Kr(c,u){if(sn(c,u))return!0;if(typeof c!="object"||c===null||typeof u!="object"||u===null)return!1;var p=Object.keys(c),O=Object.keys(u);if(p.length!==O.length)return!1;for(O=0;O<p.length;O++){var v=p[O];if(!Ft.call(u,v)||!sn(c[v],u[v]))return!1}return!0}function Js(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function eo(c,u){var p=Js(c);c=0;for(var O;p;){if(p.nodeType===3){if(O=c+p.textContent.length,c<=u&&O>=u)return{node:p,offset:u-c};c=O}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=Js(p)}}function Sl(c,u){return c&&u?c===u?!0:c&&c.nodeType===3?!1:u&&u.nodeType===3?Sl(c,u.parentNode):"contains"in c?c.contains(u):c.compareDocumentPosition?!!(c.compareDocumentPosition(u)&16):!1:!1}function vl(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var u=va(c.document);u instanceof c.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)c=u.contentWindow;else break;u=va(c.document)}return u}function bl(c){var u=c&&c.nodeName&&c.nodeName.toLowerCase();return u&&(u==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||u==="textarea"||c.contentEditable==="true")}var zc=Gn&&"documentMode"in document&&11>=document.documentMode,ki=null,Aa=null,na=null,xl=!1;function kl(c,u,p){var O=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;xl||ki==null||ki!==va(O)||(O=ki,"selectionStart"in O&&bl(O)?O={start:O.selectionStart,end:O.selectionEnd}:(O=(O.ownerDocument&&O.ownerDocument.defaultView||window).getSelection(),O={anchorNode:O.anchorNode,anchorOffset:O.anchorOffset,focusNode:O.focusNode,focusOffset:O.focusOffset}),na&&Kr(na,O)||(na=O,O=Xo(Aa,"onSelect"),0<O.length&&(u=new Ca("onSelect","select",null,u,p),c.push({event:u,listeners:O}),u.target=ki)))}function oi(c,u){var p={};return p[c.toLowerCase()]=u.toLowerCase(),p["Webkit"+c]="webkit"+u,p["Moz"+c]="moz"+u,p}var Wn={animationend:oi("Animation","AnimationEnd"),animationiteration:oi("Animation","AnimationIteration"),animationstart:oi("Animation","AnimationStart"),transitionrun:oi("Transition","TransitionRun"),transitionstart:oi("Transition","TransitionStart"),transitioncancel:oi("Transition","TransitionCancel"),transitionend:oi("Transition","TransitionEnd")},wl={},to={};Gn&&(to=document.createElement("div").style,"AnimationEvent"in window||(delete Wn.animationend.animation,delete Wn.animationiteration.animation,delete Wn.animationstart.animation),"TransitionEvent"in window||delete Wn.transitionend.transition);function wi(c){if(wl[c])return wl[c];if(!Wn[c])return c;var u=Wn[c],p;for(p in u)if(u.hasOwnProperty(p)&&p in to)return wl[c]=u[p];return c}var no=wi("animationend"),Tl=wi("animationiteration"),$a=wi("animationstart"),Cl=wi("transitionrun"),jc=wi("transitionstart"),El=wi("transitioncancel"),io=wi("transitionend"),_l=new Map,ia="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ia.push("scrollEnd");function En(c,u){_l.set(c,u),bi(u,[c])}var ra=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},On=[],Ji=0,Al=0;function er(){for(var c=Ji,u=Al=Ji=0;u<c;){var p=On[u];On[u++]=null;var O=On[u];On[u++]=null;var v=On[u];On[u++]=null;var k=On[u];if(On[u++]=null,O!==null&&v!==null){var _=O.pending;_===null?v.next=v:(v.next=_.next,_.next=v),O.pending=v}k!==0&&ro(p,v,k)}}function nr(c,u,p,O){On[Ji++]=c,On[Ji++]=u,On[Ji++]=p,On[Ji++]=O,Al|=O,c.lanes|=O,c=c.alternate,c!==null&&(c.lanes|=O)}function $l(c,u,p,O){return nr(c,u,p,O),jt(c)}function Ti(c,u){return nr(c,null,null,u),jt(c)}function ro(c,u,p){c.lanes|=p;var O=c.alternate;O!==null&&(O.lanes|=p);for(var v=!1,k=c.return;k!==null;)k.childLanes|=p,O=k.alternate,O!==null&&(O.childLanes|=p),k.tag===22&&(c=k.stateNode,c===null||c._visibility&1||(v=!0)),c=k,k=k.return;return c.tag===3?(k=c.stateNode,v&&u!==null&&(v=31-Tt(p),c=k.hiddenUpdates,O=c[v],O===null?c[v]=[u]:O.push(u),u.lane=p|536870912),k):null}function jt(c){if(50<os)throw os=0,zu=null,Error(l(185));for(var u=c.return;u!==null;)c=u,u=c.return;return c.tag===3?c.stateNode:null}var rr={};function Xc(c,u,p,O){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=O,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yt(c,u,p,O){return new Xc(c,u,p,O)}function Ci(c){return c=c.prototype,!(!c||!c.isReactComponent)}function yn(c,u){var p=c.alternate;return p===null?(p=Yt(c.tag,u,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=u,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,u=c.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function Pl(c,u){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=u,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,u=p.dependencies,c.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),c}function Pa(c,u,p,O,v,k){var _=0;if(O=c,typeof c=="function")Ci(c)&&(_=1);else if(typeof c=="string")_=pm(c,p,ue.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case W:return c=Yt(31,p,u,v),c.elementType=W,c.lanes=k,c;case A:return ci(p.children,v,k,u);case M:_=8,v|=24;break;case L:return c=Yt(12,p,u,v|2),c.elementType=L,c.lanes=k,c;case B:return c=Yt(13,p,u,v),c.elementType=B,c.lanes=k,c;case G:return c=Yt(19,p,u,v),c.elementType=G,c.lanes=k,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case z:_=10;break e;case Z:_=9;break e;case j:_=11;break e;case D:_=14;break e;case I:_=16,O=null;break e}_=29,p=Error(l(130,c===null?"null":typeof c,"")),O=null}return u=Yt(_,p,u,v),u.elementType=c,u.type=O,u.lanes=k,u}function ci(c,u,p,O){return c=Yt(7,c,O,u),c.lanes=p,c}function Ra(c,u,p){return c=Yt(6,c,null,u),c.lanes=p,c}function Fn(c){var u=Yt(18,null,null,0);return u.stateNode=c,u}function Rl(c,u,p){return u=Yt(4,c.children!==null?c.children:[],c.key,u),u.lanes=p,u.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},u}var Ml=new WeakMap;function Sn(c,u){if(typeof c=="object"&&c!==null){var p=Ml.get(c);return p!==void 0?p:(u={value:c,source:u,stack:ye(u)},Ml.set(c,u),u)}return{value:c,source:u,stack:ye(u)}}var Dn=[],Ei=0,aa=null,la=0,fn=[],vn=0,ui=null,Nn=1,Ln="";function Kn(c,u){Dn[Ei++]=la,Dn[Ei++]=aa,aa=c,la=u}function sa(c,u,p){fn[vn++]=Nn,fn[vn++]=Ln,fn[vn++]=ui,ui=c;var O=Nn;c=Ln;var v=32-Tt(O)-1;O&=~(1<<v),p+=1;var k=32-Tt(u)+v;if(30<k){var _=v-v%5;k=(O&(1<<_)-1).toString(32),O>>=_,v-=_,Nn=1<<32-Tt(u)+v|p<<v|O,Ln=k+c}else Nn=1<<k|p<<v|O,Ln=c}function oa(c){c.return!==null&&(Kn(c,1),sa(c,1,0))}function Dl(c){for(;c===aa;)aa=Dn[--Ei],Dn[Ei]=null,la=Dn[--Ei],Dn[Ei]=null;for(;c===ui;)ui=fn[--vn],fn[vn]=null,Ln=fn[--vn],fn[vn]=null,Nn=fn[--vn],fn[vn]=null}function ao(c,u){fn[vn++]=Nn,fn[vn++]=Ln,fn[vn++]=ui,Nn=u.id,Ln=u.overflow,ui=c}var Nt=null,ot=null,Ie=!1,Zn=null,on=!1,Nl=Error(l(519));function Jn(c){var u=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw bn(Sn(u,c)),Nl}function lo(c){var u=c.stateNode,p=c.type,O=c.memoizedProps;switch(u[zt]=c,u[nn]=O,p){case"dialog":Fe("cancel",u),Fe("close",u);break;case"iframe":case"object":case"embed":Fe("load",u);break;case"video":case"audio":for(p=0;p<us.length;p++)Fe(us[p],u);break;case"source":Fe("error",u);break;case"img":case"image":case"link":Fe("error",u),Fe("load",u);break;case"details":Fe("toggle",u);break;case"input":Fe("invalid",u),ba(u,O.value,O.defaultValue,O.checked,O.defaultChecked,O.type,O.name,!0);break;case"select":Fe("invalid",u);break;case"textarea":Fe("invalid",u),Rs(u,O.value,O.defaultValue,O.children)}p=O.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||O.suppressHydrationWarning===!0||Pd(u.textContent,p)?(O.popover!=null&&(Fe("beforetoggle",u),Fe("toggle",u)),O.onScroll!=null&&Fe("scroll",u),O.onScrollEnd!=null&&Fe("scrollend",u),O.onClick!=null&&(u.onclick=qn),u=!0):u=!1,u||Jn(c,!0)}function so(c){for(Nt=c.return;Nt;)switch(Nt.tag){case 5:case 31:case 13:on=!1;return;case 27:case 3:on=!0;return;default:Nt=Nt.return}}function ar(c){if(c!==Nt)return!1;if(!Ie)return so(c),Ie=!0,!1;var u=c.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||tf(c.type,c.memoizedProps)),p=!p),p&&ot&&Jn(c),so(c),u===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));ot=jd(c)}else if(u===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(317));ot=jd(c)}else u===27?(u=ot,wr(c.type)?(c=sf,sf=null,ot=c):ot=u):ot=Nt?jn(c.stateNode.nextSibling):null;return!0}function fi(){ot=Nt=null,Ie=!1}function sr(){var c=Zn;return c!==null&&(Tn===null?Tn=c:Tn.push.apply(Tn,c),Zn=null),c}function bn(c){Zn===null?Zn=[c]:Zn.push(c)}var Ll=N(null),Qn=null,ei=null;function Bn(c,u,p){ae(Ll,u._currentValue),u._currentValue=p}function ti(c){c._currentValue=Ll.current,Y(Ll)}function Ze(c,u,p){for(;c!==null;){var O=c.alternate;if((c.childLanes&u)!==u?(c.childLanes|=u,O!==null&&(O.childLanes|=u)):O!==null&&(O.childLanes&u)!==u&&(O.childLanes|=u),c===p)break;c=c.return}}function Bl(c,u,p,O){var v=c.child;for(v!==null&&(v.return=c);v!==null;){var k=v.dependencies;if(k!==null){var _=v.child;k=k.firstContext;e:for(;k!==null;){var R=k;k=v;for(var q=0;q<u.length;q++)if(R.context===u[q]){k.lanes|=p,R=k.alternate,R!==null&&(R.lanes|=p),Ze(k.return,p,c),O||(_=null);break e}k=R.next}}else if(v.tag===18){if(_=v.return,_===null)throw Error(l(341));_.lanes|=p,k=_.alternate,k!==null&&(k.lanes|=p),Ze(_,p,c),_=null}else _=v.child;if(_!==null)_.return=v;else for(_=v;_!==null;){if(_===c){_=null;break}if(v=_.sibling,v!==null){v.return=_.return,_=v;break}_=_.return}v=_}}function hi(c,u,p,O){c=null;for(var v=u,k=!1;v!==null;){if(!k){if((v.flags&524288)!==0)k=!0;else if((v.flags&262144)!==0)break}if(v.tag===10){var _=v.alternate;if(_===null)throw Error(l(387));if(_=_.memoizedProps,_!==null){var R=v.type;sn(v.pendingProps.value,_.value)||(c!==null?c.push(R):c=[R])}}else if(v===me.current){if(_=v.alternate,_===null)throw Error(l(387));_.memoizedState.memoizedState!==v.memoizedState.memoizedState&&(c!==null?c.push(ms):c=[ms])}v=v.return}c!==null&&Bl(u,c,p,O),u.flags|=262144}function Ma(c){for(c=c.firstContext;c!==null;){if(!sn(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function di(c){Qn=c,ei=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Pt(c){return b(Qn,c)}function ca(c,u){return Qn===null&&di(c),b(c,u)}function b(c,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ei===null){if(c===null)throw Error(l(308));ei=u,c.dependencies={lanes:0,firstContext:u},c.flags|=524288}else ei=ei.next=u;return p}var E=typeof AbortController<"u"?AbortController:function(){var c=[],u=this.signal={aborted:!1,addEventListener:function(p,O){c.push(O)}};this.abort=function(){u.aborted=!0,c.forEach(function(p){return p()})}},$=s.unstable_scheduleCallback,P=s.unstable_NormalPriority,V={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ne(){return{controller:new E,data:new Map,refCount:0}}function Ue(c){c.refCount--,c.refCount===0&&$(P,function(){c.controller.abort()})}var xt=null,Uc=0,Da=0,Na=null;function hp(c,u){if(xt===null){var p=xt=[];Uc=0,Da=Yu(),Na={status:"pending",value:void 0,then:function(O){p.push(O)}}}return Uc++,u.then(Of,Of),u}function Of(){if(--Uc===0&&xt!==null){Na!==null&&(Na.status="fulfilled");var c=xt;xt=null,Da=0,Na=null;for(var u=0;u<c.length;u++)(0,c[u])()}}function dp(c,u){var p=[],O={status:"pending",value:null,reason:null,then:function(v){p.push(v)}};return c.then(function(){O.status="fulfilled",O.value=u;for(var v=0;v<p.length;v++)(0,p[v])(u)},function(v){for(O.status="rejected",O.reason=v,v=0;v<p.length;v++)(0,p[v])(void 0)}),O}var yf=re.S;re.S=function(c,u){td=Ct(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&hp(c,u),yf!==null&&yf(c,u)};var ua=N(null);function Vc(){var c=ua.current;return c!==null?c:Ot.pooledCache}function oo(c,u){u===null?ae(ua,ua.current):ae(ua,u.pool)}function Sf(){var c=Vc();return c===null?null:{parent:V._currentValue,pool:c}}var La=Error(l(460)),qc=Error(l(474)),co=Error(l(542)),uo={then:function(){}};function vf(c){return c=c.status,c==="fulfilled"||c==="rejected"}function bf(c,u,p){switch(p=c[p],p===void 0?c.push(u):p!==u&&(u.then(qn,qn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,kf(c),c;default:if(typeof u.status=="string")u.then(qn,qn);else{if(c=Ot,c!==null&&100<c.shellSuspendCounter)throw Error(l(482));c=u,c.status="pending",c.then(function(O){if(u.status==="pending"){var v=u;v.status="fulfilled",v.value=O}},function(O){if(u.status==="pending"){var v=u;v.status="rejected",v.reason=O}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw c=u.reason,kf(c),c}throw ha=u,La}}function fa(c){try{var u=c._init;return u(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(ha=p,La):p}}var ha=null;function xf(){if(ha===null)throw Error(l(459));var c=ha;return ha=null,c}function kf(c){if(c===La||c===co)throw Error(l(483))}var Za=null,zl=0;function fo(c){var u=zl;return zl+=1,Za===null&&(Za=[]),bf(Za,c,u)}function jl(c,u){u=u.props.ref,c.ref=u!==void 0?u:null}function ho(c,u){throw u.$$typeof===x?Error(l(525)):(c=Object.prototype.toString.call(u),Error(l(31,c==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":c)))}function wf(c){function u(F,H){if(c){var ee=F.deletions;ee===null?(F.deletions=[H],F.flags|=16):ee.push(H)}}function p(F,H){if(!c)return null;for(;H!==null;)u(F,H),H=H.sibling;return null}function O(F){for(var H=new Map;F!==null;)F.key!==null?H.set(F.key,F):H.set(F.index,F),F=F.sibling;return H}function v(F,H){return F=yn(F,H),F.index=0,F.sibling=null,F}function k(F,H,ee){return F.index=ee,c?(ee=F.alternate,ee!==null?(ee=ee.index,ee<H?(F.flags|=67108866,H):ee):(F.flags|=67108866,H)):(F.flags|=1048576,H)}function _(F){return c&&F.alternate===null&&(F.flags|=67108866),F}function R(F,H,ee,pe){return H===null||H.tag!==6?(H=Ra(ee,F.mode,pe),H.return=F,H):(H=v(H,ee),H.return=F,H)}function q(F,H,ee,pe){var Be=ee.type;return Be===A?fe(F,H,ee.props.children,pe,ee.key):H!==null&&(H.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&fa(Be)===H.type)?(H=v(H,ee.props),jl(H,ee),H.return=F,H):(H=Pa(ee.type,ee.key,ee.props,null,F.mode,pe),jl(H,ee),H.return=F,H)}function te(F,H,ee,pe){return H===null||H.tag!==4||H.stateNode.containerInfo!==ee.containerInfo||H.stateNode.implementation!==ee.implementation?(H=Rl(ee,F.mode,pe),H.return=F,H):(H=v(H,ee.children||[]),H.return=F,H)}function fe(F,H,ee,pe,Be){return H===null||H.tag!==7?(H=ci(ee,F.mode,pe,Be),H.return=F,H):(H=v(H,ee),H.return=F,H)}function ge(F,H,ee){if(typeof H=="string"&&H!==""||typeof H=="number"||typeof H=="bigint")return H=Ra(""+H,F.mode,ee),H.return=F,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case w:return ee=Pa(H.type,H.key,H.props,null,F.mode,ee),jl(ee,H),ee.return=F,ee;case Q:return H=Rl(H,F.mode,ee),H.return=F,H;case I:return H=fa(H),ge(F,H,ee)}if(Re(H)||Se(H))return H=ci(H,F.mode,ee,null),H.return=F,H;if(typeof H.then=="function")return ge(F,fo(H),ee);if(H.$$typeof===z)return ge(F,ca(F,H),ee);ho(F,H)}return null}function le(F,H,ee,pe){var Be=H!==null?H.key:null;if(typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint")return Be!==null?null:R(F,H,""+ee,pe);if(typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:return ee.key===Be?q(F,H,ee,pe):null;case Q:return ee.key===Be?te(F,H,ee,pe):null;case I:return ee=fa(ee),le(F,H,ee,pe)}if(Re(ee)||Se(ee))return Be!==null?null:fe(F,H,ee,pe,null);if(typeof ee.then=="function")return le(F,H,fo(ee),pe);if(ee.$$typeof===z)return le(F,H,ca(F,ee),pe);ho(F,ee)}return null}function oe(F,H,ee,pe,Be){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return F=F.get(ee)||null,R(H,F,""+pe,Be);if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case w:return F=F.get(pe.key===null?ee:pe.key)||null,q(H,F,pe,Be);case Q:return F=F.get(pe.key===null?ee:pe.key)||null,te(H,F,pe,Be);case I:return pe=fa(pe),oe(F,H,ee,pe,Be)}if(Re(pe)||Se(pe))return F=F.get(ee)||null,fe(H,F,pe,Be,null);if(typeof pe.then=="function")return oe(F,H,ee,fo(pe),Be);if(pe.$$typeof===z)return oe(F,H,ee,ca(H,pe),Be);ho(H,pe)}return null}function Pe(F,H,ee,pe){for(var Be=null,nt=null,Me=H,Ge=H=0,tt=null;Me!==null&&Ge<ee.length;Ge++){Me.index>Ge?(tt=Me,Me=null):tt=Me.sibling;var it=le(F,Me,ee[Ge],pe);if(it===null){Me===null&&(Me=tt);break}c&&Me&&it.alternate===null&&u(F,Me),H=k(it,H,Ge),nt===null?Be=it:nt.sibling=it,nt=it,Me=tt}if(Ge===ee.length)return p(F,Me),Ie&&Kn(F,Ge),Be;if(Me===null){for(;Ge<ee.length;Ge++)Me=ge(F,ee[Ge],pe),Me!==null&&(H=k(Me,H,Ge),nt===null?Be=Me:nt.sibling=Me,nt=Me);return Ie&&Kn(F,Ge),Be}for(Me=O(Me);Ge<ee.length;Ge++)tt=oe(Me,F,Ge,ee[Ge],pe),tt!==null&&(c&&tt.alternate!==null&&Me.delete(tt.key===null?Ge:tt.key),H=k(tt,H,Ge),nt===null?Be=tt:nt.sibling=tt,nt=tt);return c&&Me.forEach(function($r){return u(F,$r)}),Ie&&Kn(F,Ge),Be}function ze(F,H,ee,pe){if(ee==null)throw Error(l(151));for(var Be=null,nt=null,Me=H,Ge=H=0,tt=null,it=ee.next();Me!==null&&!it.done;Ge++,it=ee.next()){Me.index>Ge?(tt=Me,Me=null):tt=Me.sibling;var $r=le(F,Me,it.value,pe);if($r===null){Me===null&&(Me=tt);break}c&&Me&&$r.alternate===null&&u(F,Me),H=k($r,H,Ge),nt===null?Be=$r:nt.sibling=$r,nt=$r,Me=tt}if(it.done)return p(F,Me),Ie&&Kn(F,Ge),Be;if(Me===null){for(;!it.done;Ge++,it=ee.next())it=ge(F,it.value,pe),it!==null&&(H=k(it,H,Ge),nt===null?Be=it:nt.sibling=it,nt=it);return Ie&&Kn(F,Ge),Be}for(Me=O(Me);!it.done;Ge++,it=ee.next())it=oe(Me,F,Ge,it.value,pe),it!==null&&(c&&it.alternate!==null&&Me.delete(it.key===null?Ge:it.key),H=k(it,H,Ge),nt===null?Be=it:nt.sibling=it,nt=it);return c&&Me.forEach(function(Tm){return u(F,Tm)}),Ie&&Kn(F,Ge),Be}function dt(F,H,ee,pe){if(typeof ee=="object"&&ee!==null&&ee.type===A&&ee.key===null&&(ee=ee.props.children),typeof ee=="object"&&ee!==null){switch(ee.$$typeof){case w:e:{for(var Be=ee.key;H!==null;){if(H.key===Be){if(Be=ee.type,Be===A){if(H.tag===7){p(F,H.sibling),pe=v(H,ee.props.children),pe.return=F,F=pe;break e}}else if(H.elementType===Be||typeof Be=="object"&&Be!==null&&Be.$$typeof===I&&fa(Be)===H.type){p(F,H.sibling),pe=v(H,ee.props),jl(pe,ee),pe.return=F,F=pe;break e}p(F,H);break}else u(F,H);H=H.sibling}ee.type===A?(pe=ci(ee.props.children,F.mode,pe,ee.key),pe.return=F,F=pe):(pe=Pa(ee.type,ee.key,ee.props,null,F.mode,pe),jl(pe,ee),pe.return=F,F=pe)}return _(F);case Q:e:{for(Be=ee.key;H!==null;){if(H.key===Be)if(H.tag===4&&H.stateNode.containerInfo===ee.containerInfo&&H.stateNode.implementation===ee.implementation){p(F,H.sibling),pe=v(H,ee.children||[]),pe.return=F,F=pe;break e}else{p(F,H);break}else u(F,H);H=H.sibling}pe=Rl(ee,F.mode,pe),pe.return=F,F=pe}return _(F);case I:return ee=fa(ee),dt(F,H,ee,pe)}if(Re(ee))return Pe(F,H,ee,pe);if(Se(ee)){if(Be=Se(ee),typeof Be!="function")throw Error(l(150));return ee=Be.call(ee),ze(F,H,ee,pe)}if(typeof ee.then=="function")return dt(F,H,fo(ee),pe);if(ee.$$typeof===z)return dt(F,H,ca(F,ee),pe);ho(F,ee)}return typeof ee=="string"&&ee!==""||typeof ee=="number"||typeof ee=="bigint"?(ee=""+ee,H!==null&&H.tag===6?(p(F,H.sibling),pe=v(H,ee),pe.return=F,F=pe):(p(F,H),pe=Ra(ee,F.mode,pe),pe.return=F,F=pe),_(F)):p(F,H)}return function(F,H,ee,pe){try{zl=0;var Be=dt(F,H,ee,pe);return Za=null,Be}catch(Me){if(Me===La||Me===co)throw Me;var nt=Yt(29,Me,null,F.mode);return nt.lanes=pe,nt.return=F,nt}}}var da=wf(!0),Tf=wf(!1),or=!1;function Yc(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Gc(c,u){c=c.updateQueue,u.updateQueue===c&&(u.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function cr(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function ur(c,u,p){var O=c.updateQueue;if(O===null)return null;if(O=O.shared,(rt&2)!==0){var v=O.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),O.pending=u,u=jt(c),ro(c,null,p),u}return nr(c,O,u,p),jt(c)}function Ul(c,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var O=u.lanes;O&=c.pendingLanes,p|=O,u.lanes=p,bs(c,p)}}function Hc(c,u){var p=c.updateQueue,O=c.alternate;if(O!==null&&(O=O.updateQueue,p===O)){var v=null,k=null;if(p=p.firstBaseUpdate,p!==null){do{var _={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};k===null?v=k=_:k=k.next=_,p=p.next}while(p!==null);k===null?v=k=u:k=k.next=u}else v=k=u;p={baseState:O.baseState,firstBaseUpdate:v,lastBaseUpdate:k,shared:O.shared,callbacks:O.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=u:c.next=u,p.lastBaseUpdate=u}var Ic=!1;function Vl(){if(Ic){var c=Na;if(c!==null)throw c}}function ql(c,u,p,O){Ic=!1;var v=c.updateQueue;or=!1;var k=v.firstBaseUpdate,_=v.lastBaseUpdate,R=v.shared.pending;if(R!==null){v.shared.pending=null;var q=R,te=q.next;q.next=null,_===null?k=te:_.next=te,_=q;var fe=c.alternate;fe!==null&&(fe=fe.updateQueue,R=fe.lastBaseUpdate,R!==_&&(R===null?fe.firstBaseUpdate=te:R.next=te,fe.lastBaseUpdate=q))}if(k!==null){var ge=v.baseState;_=0,fe=te=q=null,R=k;do{var le=R.lane&-536870913,oe=le!==R.lane;if(oe?(et&le)===le:(O&le)===le){le!==0&&le===Da&&(Ic=!0),fe!==null&&(fe=fe.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});e:{var Pe=c,ze=R;le=u;var dt=p;switch(ze.tag){case 1:if(Pe=ze.payload,typeof Pe=="function"){ge=Pe.call(dt,ge,le);break e}ge=Pe;break e;case 3:Pe.flags=Pe.flags&-65537|128;case 0:if(Pe=ze.payload,le=typeof Pe=="function"?Pe.call(dt,ge,le):Pe,le==null)break e;ge=S({},ge,le);break e;case 2:or=!0}}le=R.callback,le!==null&&(c.flags|=64,oe&&(c.flags|=8192),oe=v.callbacks,oe===null?v.callbacks=[le]:oe.push(le))}else oe={lane:le,tag:R.tag,payload:R.payload,callback:R.callback,next:null},fe===null?(te=fe=oe,q=ge):fe=fe.next=oe,_|=le;if(R=R.next,R===null){if(R=v.shared.pending,R===null)break;oe=R,R=oe.next,oe.next=null,v.lastBaseUpdate=oe,v.shared.pending=null}}while(!0);fe===null&&(q=ge),v.baseState=q,v.firstBaseUpdate=te,v.lastBaseUpdate=fe,k===null&&(v.shared.lanes=0),gr|=_,c.lanes=_,c.memoizedState=ge}}function Cf(c,u){if(typeof c!="function")throw Error(l(191,c));c.call(u)}function Ef(c,u){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)Cf(p[c],u)}var Ba=N(null),po=N(0);function Qf(c,u){c=Ni,ae(po,c),ae(Ba,u),Ni=c|u.baseLanes}function Wc(){ae(po,Ni),ae(Ba,Ba.current)}function Fc(){Ni=po.current,Y(Ba),Y(po)}var _n=N(null),zn=null;function fr(c){var u=c.alternate;ae(Rt,Rt.current&1),ae(_n,c),zn===null&&(u===null||Ba.current!==null||u.memoizedState!==null)&&(zn=c)}function Kc(c){ae(Rt,Rt.current),ae(_n,c),zn===null&&(zn=c)}function _f(c){c.tag===22?(ae(Rt,Rt.current),ae(_n,c),zn===null&&(zn=c)):hr()}function hr(){ae(Rt,Rt.current),ae(_n,_n.current)}function An(c){Y(_n),zn===c&&(zn=null),Y(Rt)}var Rt=N(0);function mo(c){for(var u=c;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||af(p)||lf(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var Qi=0,Ye=null,ct=null,Lt=null,go=!1,za=!1,pa=!1,Oo=0,Yl=0,ja=null,pp=0;function Qt(){throw Error(l(321))}function Jc(c,u){if(u===null)return!1;for(var p=0;p<u.length&&p<c.length;p++)if(!sn(c[p],u[p]))return!1;return!0}function eu(c,u,p,O,v,k){return Qi=k,Ye=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,re.H=c===null||c.memoizedState===null?hh:mu,pa=!1,k=p(O,v),pa=!1,za&&(k=$f(u,p,O,v)),Af(c),k}function Af(c){re.H=Il;var u=ct!==null&&ct.next!==null;if(Qi=0,Lt=ct=Ye=null,go=!1,Yl=0,ja=null,u)throw Error(l(300));c===null||Zt||(c=c.dependencies,c!==null&&Ma(c)&&(Zt=!0))}function $f(c,u,p,O){Ye=c;var v=0;do{if(za&&(ja=null),Yl=0,za=!1,25<=v)throw Error(l(301));if(v+=1,Lt=ct=null,c.updateQueue!=null){var k=c.updateQueue;k.lastEffect=null,k.events=null,k.stores=null,k.memoCache!=null&&(k.memoCache.index=0)}re.H=dh,k=u(p,O)}while(za);return k}function mp(){var c=re.H,u=c.useState()[0];return u=typeof u.then=="function"?Gl(u):u,c=c.useState()[0],(ct!==null?ct.memoizedState:null)!==c&&(Ye.flags|=1024),u}function tu(){var c=Oo!==0;return Oo=0,c}function nu(c,u,p){u.updateQueue=c.updateQueue,u.flags&=-2053,c.lanes&=~p}function iu(c){if(go){for(c=c.memoizedState;c!==null;){var u=c.queue;u!==null&&(u.pending=null),c=c.next}go=!1}Qi=0,Lt=ct=Ye=null,za=!1,Yl=Oo=0,ja=null}function hn(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?Ye.memoizedState=Lt=c:Lt=Lt.next=c,Lt}function Mt(){if(ct===null){var c=Ye.alternate;c=c!==null?c.memoizedState:null}else c=ct.next;var u=Lt===null?Ye.memoizedState:Lt.next;if(u!==null)Lt=u,ct=c;else{if(c===null)throw Ye.alternate===null?Error(l(467)):Error(l(310));ct=c,c={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},Lt===null?Ye.memoizedState=Lt=c:Lt=Lt.next=c}return Lt}function yo(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Gl(c){var u=Yl;return Yl+=1,ja===null&&(ja=[]),c=bf(ja,c,u),u=Ye,(Lt===null?u.memoizedState:Lt.next)===null&&(u=u.alternate,re.H=u===null||u.memoizedState===null?hh:mu),c}function So(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Gl(c);if(c.$$typeof===z)return Pt(c)}throw Error(l(438,String(c)))}function ru(c){var u=null,p=Ye.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var O=Ye.alternate;O!==null&&(O=O.updateQueue,O!==null&&(O=O.memoCache,O!=null&&(u={data:O.data.map(function(v){return v.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=yo(),Ye.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(c),O=0;O<c;O++)p[O]=se;return u.index++,p}function _i(c,u){return typeof u=="function"?u(c):u}function vo(c){var u=Mt();return au(u,ct,c)}function au(c,u,p){var O=c.queue;if(O===null)throw Error(l(311));O.lastRenderedReducer=p;var v=c.baseQueue,k=O.pending;if(k!==null){if(v!==null){var _=v.next;v.next=k.next,k.next=_}u.baseQueue=v=k,O.pending=null}if(k=c.baseState,v===null)c.memoizedState=k;else{u=v.next;var R=_=null,q=null,te=u,fe=!1;do{var ge=te.lane&-536870913;if(ge!==te.lane?(et&ge)===ge:(Qi&ge)===ge){var le=te.revertLane;if(le===0)q!==null&&(q=q.next={lane:0,revertLane:0,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null}),ge===Da&&(fe=!0);else if((Qi&le)===le){te=te.next,le===Da&&(fe=!0);continue}else ge={lane:0,revertLane:te.revertLane,gesture:null,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(R=q=ge,_=k):q=q.next=ge,Ye.lanes|=le,gr|=le;ge=te.action,pa&&p(k,ge),k=te.hasEagerState?te.eagerState:p(k,ge)}else le={lane:ge,revertLane:te.revertLane,gesture:te.gesture,action:te.action,hasEagerState:te.hasEagerState,eagerState:te.eagerState,next:null},q===null?(R=q=le,_=k):q=q.next=le,Ye.lanes|=ge,gr|=ge;te=te.next}while(te!==null&&te!==u);if(q===null?_=k:q.next=R,!sn(k,c.memoizedState)&&(Zt=!0,fe&&(p=Na,p!==null)))throw p;c.memoizedState=k,c.baseState=_,c.baseQueue=q,O.lastRenderedState=k}return v===null&&(O.lanes=0),[c.memoizedState,O.dispatch]}function lu(c){var u=Mt(),p=u.queue;if(p===null)throw Error(l(311));p.lastRenderedReducer=c;var O=p.dispatch,v=p.pending,k=u.memoizedState;if(v!==null){p.pending=null;var _=v=v.next;do k=c(k,_.action),_=_.next;while(_!==v);sn(k,u.memoizedState)||(Zt=!0),u.memoizedState=k,u.baseQueue===null&&(u.baseState=k),p.lastRenderedState=k}return[k,O]}function Pf(c,u,p){var O=Ye,v=Mt(),k=Ie;if(k){if(p===void 0)throw Error(l(407));p=p()}else p=u();var _=!sn((ct||v).memoizedState,p);if(_&&(v.memoizedState=p,Zt=!0),v=v.queue,cu(Df.bind(null,O,v,c),[c]),v.getSnapshot!==u||_||Lt!==null&&Lt.memoizedState.tag&1){if(O.flags|=2048,Xa(9,{destroy:void 0},Mf.bind(null,O,v,p,u),null),Ot===null)throw Error(l(349));k||(Qi&127)!==0||Rf(O,u,p)}return p}function Rf(c,u,p){c.flags|=16384,c={getSnapshot:u,value:p},u=Ye.updateQueue,u===null?(u=yo(),Ye.updateQueue=u,u.stores=[c]):(p=u.stores,p===null?u.stores=[c]:p.push(c))}function Mf(c,u,p,O){u.value=p,u.getSnapshot=O,Nf(u)&&Lf(c)}function Df(c,u,p){return p(function(){Nf(u)&&Lf(c)})}function Nf(c){var u=c.getSnapshot;c=c.value;try{var p=u();return!sn(c,p)}catch{return!0}}function Lf(c){var u=Ti(c,2);u!==null&&Cn(u,c,2)}function su(c){var u=hn();if(typeof c=="function"){var p=c;if(c=p(),pa){Je(!0);try{p()}finally{Je(!1)}}}return u.memoizedState=u.baseState=c,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:c},u}function Zf(c,u,p,O){return c.baseState=p,au(c,ct,typeof O=="function"?O:_i)}function gp(c,u,p,O,v){if(ko(c))throw Error(l(485));if(c=u.action,c!==null){var k={payload:v,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){k.listeners.push(_)}};re.T!==null?p(!0):k.isTransition=!1,O(k),p=u.pending,p===null?(k.next=u.pending=k,Bf(u,k)):(k.next=p.next,u.pending=p.next=k)}}function Bf(c,u){var p=u.action,O=u.payload,v=c.state;if(u.isTransition){var k=re.T,_={};re.T=_;try{var R=p(v,O),q=re.S;q!==null&&q(_,R),zf(c,u,R)}catch(te){ou(c,u,te)}finally{k!==null&&_.types!==null&&(k.types=_.types),re.T=k}}else try{k=p(v,O),zf(c,u,k)}catch(te){ou(c,u,te)}}function zf(c,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(O){jf(c,u,O)},function(O){return ou(c,u,O)}):jf(c,u,p)}function jf(c,u,p){u.status="fulfilled",u.value=p,Xf(u),c.state=p,u=c.pending,u!==null&&(p=u.next,p===u?c.pending=null:(p=p.next,u.next=p,Bf(c,p)))}function ou(c,u,p){var O=c.pending;if(c.pending=null,O!==null){O=O.next;do u.status="rejected",u.reason=p,Xf(u),u=u.next;while(u!==O)}c.action=null}function Xf(c){c=c.listeners;for(var u=0;u<c.length;u++)(0,c[u])()}function Uf(c,u){return u}function Vf(c,u){if(Ie){var p=Ot.formState;if(p!==null){e:{var O=Ye;if(Ie){if(ot){t:{for(var v=ot,k=on;v.nodeType!==8;){if(!k){v=null;break t}if(v=jn(v.nextSibling),v===null){v=null;break t}}k=v.data,v=k==="F!"||k==="F"?v:null}if(v){ot=jn(v.nextSibling),O=v.data==="F!";break e}}Jn(O)}O=!1}O&&(u=p[0])}}return p=hn(),p.memoizedState=p.baseState=u,O={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Uf,lastRenderedState:u},p.queue=O,p=ch.bind(null,Ye,O),O.dispatch=p,O=su(!1),k=pu.bind(null,Ye,!1,O.queue),O=hn(),v={state:u,dispatch:null,action:c,pending:null},O.queue=v,p=gp.bind(null,Ye,v,k,p),v.dispatch=p,O.memoizedState=c,[u,p,!1]}function qf(c){var u=Mt();return Yf(u,ct,c)}function Yf(c,u,p){if(u=au(c,u,Uf)[0],c=vo(_i)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var O=Gl(u)}catch(_){throw _===La?co:_}else O=u;u=Mt();var v=u.queue,k=v.dispatch;return p!==u.memoizedState&&(Ye.flags|=2048,Xa(9,{destroy:void 0},Op.bind(null,v,p),null)),[O,k,c]}function Op(c,u){c.action=u}function Gf(c){var u=Mt(),p=ct;if(p!==null)return Yf(u,p,c);Mt(),u=u.memoizedState,p=Mt();var O=p.queue.dispatch;return p.memoizedState=c,[u,O,!1]}function Xa(c,u,p,O){return c={tag:c,create:p,deps:O,inst:u,next:null},u=Ye.updateQueue,u===null&&(u=yo(),Ye.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=c.next=c:(O=p.next,p.next=c,c.next=O,u.lastEffect=c),c}function Hf(){return Mt().memoizedState}function bo(c,u,p,O){var v=hn();Ye.flags|=c,v.memoizedState=Xa(1|u,{destroy:void 0},p,O===void 0?null:O)}function xo(c,u,p,O){var v=Mt();O=O===void 0?null:O;var k=v.memoizedState.inst;ct!==null&&O!==null&&Jc(O,ct.memoizedState.deps)?v.memoizedState=Xa(u,k,p,O):(Ye.flags|=c,v.memoizedState=Xa(1|u,k,p,O))}function If(c,u){bo(8390656,8,c,u)}function cu(c,u){xo(2048,8,c,u)}function yp(c){Ye.flags|=4;var u=Ye.updateQueue;if(u===null)u=yo(),Ye.updateQueue=u,u.events=[c];else{var p=u.events;p===null?u.events=[c]:p.push(c)}}function Wf(c){var u=Mt().memoizedState;return yp({ref:u,nextImpl:c}),function(){if((rt&2)!==0)throw Error(l(440));return u.impl.apply(void 0,arguments)}}function Ff(c,u){return xo(4,2,c,u)}function Kf(c,u){return xo(4,4,c,u)}function Jf(c,u){if(typeof u=="function"){c=c();var p=u(c);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return c=c(),u.current=c,function(){u.current=null}}function eh(c,u,p){p=p!=null?p.concat([c]):null,xo(4,4,Jf.bind(null,u,c),p)}function uu(){}function th(c,u){var p=Mt();u=u===void 0?null:u;var O=p.memoizedState;return u!==null&&Jc(u,O[1])?O[0]:(p.memoizedState=[c,u],c)}function nh(c,u){var p=Mt();u=u===void 0?null:u;var O=p.memoizedState;if(u!==null&&Jc(u,O[1]))return O[0];if(O=c(),pa){Je(!0);try{c()}finally{Je(!1)}}return p.memoizedState=[O,u],O}function fu(c,u,p){return p===void 0||(Qi&1073741824)!==0&&(et&261930)===0?c.memoizedState=u:(c.memoizedState=p,c=rd(),Ye.lanes|=c,gr|=c,p)}function ih(c,u,p,O){return sn(p,u)?p:Ba.current!==null?(c=fu(c,p,O),sn(c,u)||(Zt=!0),c):(Qi&42)===0||(Qi&1073741824)!==0&&(et&261930)===0?(Zt=!0,c.memoizedState=p):(c=rd(),Ye.lanes|=c,gr|=c,u)}function rh(c,u,p,O,v){var k=Oe.p;Oe.p=k!==0&&8>k?k:8;var _=re.T,R={};re.T=R,pu(c,!1,u,p);try{var q=v(),te=re.S;if(te!==null&&te(R,q),q!==null&&typeof q=="object"&&typeof q.then=="function"){var fe=dp(q,O);Hl(c,u,fe,Rn(c))}else Hl(c,u,O,Rn(c))}catch(ge){Hl(c,u,{then:function(){},status:"rejected",reason:ge},Rn())}finally{Oe.p=k,_!==null&&R.types!==null&&(_.types=R.types),re.T=_}}function Sp(){}function hu(c,u,p,O){if(c.tag!==5)throw Error(l(476));var v=ah(c).queue;rh(c,v,u,Ee,p===null?Sp:function(){return lh(c),p(O)})}function ah(c){var u=c.memoizedState;if(u!==null)return u;u={memoizedState:Ee,baseState:Ee,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:Ee},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:_i,lastRenderedState:p},next:null},c.memoizedState=u,c=c.alternate,c!==null&&(c.memoizedState=u),u}function lh(c){var u=ah(c);u.next===null&&(u=c.alternate.memoizedState),Hl(c,u.next.queue,{},Rn())}function du(){return Pt(ms)}function sh(){return Mt().memoizedState}function oh(){return Mt().memoizedState}function vp(c){for(var u=c.return;u!==null;){switch(u.tag){case 24:case 3:var p=Rn();c=cr(p);var O=ur(u,c,p);O!==null&&(Cn(O,u,p),Ul(O,u,p)),u={cache:ne()},c.payload=u;return}u=u.return}}function bp(c,u,p){var O=Rn();p={lane:O,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},ko(c)?uh(u,p):(p=$l(c,u,p,O),p!==null&&(Cn(p,c,O),fh(p,u,O)))}function ch(c,u,p){var O=Rn();Hl(c,u,p,O)}function Hl(c,u,p,O){var v={lane:O,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(ko(c))uh(u,v);else{var k=c.alternate;if(c.lanes===0&&(k===null||k.lanes===0)&&(k=u.lastRenderedReducer,k!==null))try{var _=u.lastRenderedState,R=k(_,p);if(v.hasEagerState=!0,v.eagerState=R,sn(R,_))return nr(c,u,v,0),Ot===null&&er(),!1}catch{}if(p=$l(c,u,v,O),p!==null)return Cn(p,c,O),fh(p,u,O),!0}return!1}function pu(c,u,p,O){if(O={lane:2,revertLane:Yu(),gesture:null,action:O,hasEagerState:!1,eagerState:null,next:null},ko(c)){if(u)throw Error(l(479))}else u=$l(c,p,O,2),u!==null&&Cn(u,c,2)}function ko(c){var u=c.alternate;return c===Ye||u!==null&&u===Ye}function uh(c,u){za=go=!0;var p=c.pending;p===null?u.next=u:(u.next=p.next,p.next=u),c.pending=u}function fh(c,u,p){if((p&4194048)!==0){var O=u.lanes;O&=c.pendingLanes,p|=O,u.lanes=p,bs(c,p)}}var Il={readContext:Pt,use:So,useCallback:Qt,useContext:Qt,useEffect:Qt,useImperativeHandle:Qt,useLayoutEffect:Qt,useInsertionEffect:Qt,useMemo:Qt,useReducer:Qt,useRef:Qt,useState:Qt,useDebugValue:Qt,useDeferredValue:Qt,useTransition:Qt,useSyncExternalStore:Qt,useId:Qt,useHostTransitionStatus:Qt,useFormState:Qt,useActionState:Qt,useOptimistic:Qt,useMemoCache:Qt,useCacheRefresh:Qt};Il.useEffectEvent=Qt;var hh={readContext:Pt,use:So,useCallback:function(c,u){return hn().memoizedState=[c,u===void 0?null:u],c},useContext:Pt,useEffect:If,useImperativeHandle:function(c,u,p){p=p!=null?p.concat([c]):null,bo(4194308,4,Jf.bind(null,u,c),p)},useLayoutEffect:function(c,u){return bo(4194308,4,c,u)},useInsertionEffect:function(c,u){bo(4,2,c,u)},useMemo:function(c,u){var p=hn();u=u===void 0?null:u;var O=c();if(pa){Je(!0);try{c()}finally{Je(!1)}}return p.memoizedState=[O,u],O},useReducer:function(c,u,p){var O=hn();if(p!==void 0){var v=p(u);if(pa){Je(!0);try{p(u)}finally{Je(!1)}}}else v=u;return O.memoizedState=O.baseState=v,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:v},O.queue=c,c=c.dispatch=bp.bind(null,Ye,c),[O.memoizedState,c]},useRef:function(c){var u=hn();return c={current:c},u.memoizedState=c},useState:function(c){c=su(c);var u=c.queue,p=ch.bind(null,Ye,u);return u.dispatch=p,[c.memoizedState,p]},useDebugValue:uu,useDeferredValue:function(c,u){var p=hn();return fu(p,c,u)},useTransition:function(){var c=su(!1);return c=rh.bind(null,Ye,c.queue,!0,!1),hn().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,u,p){var O=Ye,v=hn();if(Ie){if(p===void 0)throw Error(l(407));p=p()}else{if(p=u(),Ot===null)throw Error(l(349));(et&127)!==0||Rf(O,u,p)}v.memoizedState=p;var k={value:p,getSnapshot:u};return v.queue=k,If(Df.bind(null,O,k,c),[c]),O.flags|=2048,Xa(9,{destroy:void 0},Mf.bind(null,O,k,p,u),null),p},useId:function(){var c=hn(),u=Ot.identifierPrefix;if(Ie){var p=Ln,O=Nn;p=(O&~(1<<32-Tt(O)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Oo++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=pp++,u="_"+u+"r_"+p.toString(32)+"_";return c.memoizedState=u},useHostTransitionStatus:du,useFormState:Vf,useActionState:Vf,useOptimistic:function(c){var u=hn();u.memoizedState=u.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=pu.bind(null,Ye,!0,p),p.dispatch=u,[c,u]},useMemoCache:ru,useCacheRefresh:function(){return hn().memoizedState=vp.bind(null,Ye)},useEffectEvent:function(c){var u=hn(),p={impl:c};return u.memoizedState=p,function(){if((rt&2)!==0)throw Error(l(440));return p.impl.apply(void 0,arguments)}}},mu={readContext:Pt,use:So,useCallback:th,useContext:Pt,useEffect:cu,useImperativeHandle:eh,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:nh,useReducer:vo,useRef:Hf,useState:function(){return vo(_i)},useDebugValue:uu,useDeferredValue:function(c,u){var p=Mt();return ih(p,ct.memoizedState,c,u)},useTransition:function(){var c=vo(_i)[0],u=Mt().memoizedState;return[typeof c=="boolean"?c:Gl(c),u]},useSyncExternalStore:Pf,useId:sh,useHostTransitionStatus:du,useFormState:qf,useActionState:qf,useOptimistic:function(c,u){var p=Mt();return Zf(p,ct,c,u)},useMemoCache:ru,useCacheRefresh:oh};mu.useEffectEvent=Wf;var dh={readContext:Pt,use:So,useCallback:th,useContext:Pt,useEffect:cu,useImperativeHandle:eh,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:nh,useReducer:lu,useRef:Hf,useState:function(){return lu(_i)},useDebugValue:uu,useDeferredValue:function(c,u){var p=Mt();return ct===null?fu(p,c,u):ih(p,ct.memoizedState,c,u)},useTransition:function(){var c=lu(_i)[0],u=Mt().memoizedState;return[typeof c=="boolean"?c:Gl(c),u]},useSyncExternalStore:Pf,useId:sh,useHostTransitionStatus:du,useFormState:Gf,useActionState:Gf,useOptimistic:function(c,u){var p=Mt();return ct!==null?Zf(p,ct,c,u):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:ru,useCacheRefresh:oh};dh.useEffectEvent=Wf;function gu(c,u,p,O){u=c.memoizedState,p=p(O,u),p=p==null?u:S({},u,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var Ou={enqueueSetState:function(c,u,p){c=c._reactInternals;var O=Rn(),v=cr(O);v.payload=u,p!=null&&(v.callback=p),u=ur(c,v,O),u!==null&&(Cn(u,c,O),Ul(u,c,O))},enqueueReplaceState:function(c,u,p){c=c._reactInternals;var O=Rn(),v=cr(O);v.tag=1,v.payload=u,p!=null&&(v.callback=p),u=ur(c,v,O),u!==null&&(Cn(u,c,O),Ul(u,c,O))},enqueueForceUpdate:function(c,u){c=c._reactInternals;var p=Rn(),O=cr(p);O.tag=2,u!=null&&(O.callback=u),u=ur(c,O,p),u!==null&&(Cn(u,c,p),Ul(u,c,p))}};function ph(c,u,p,O,v,k,_){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(O,k,_):u.prototype&&u.prototype.isPureReactComponent?!Kr(p,O)||!Kr(v,k):!0}function mh(c,u,p,O){c=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,O),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,O),u.state!==c&&Ou.enqueueReplaceState(u,u.state,null)}function ma(c,u){var p=u;if("ref"in u){p={};for(var O in u)O!=="ref"&&(p[O]=u[O])}if(c=c.defaultProps){p===u&&(p=S({},p));for(var v in c)p[v]===void 0&&(p[v]=c[v])}return p}function gh(c){ra(c)}function Oh(c){console.error(c)}function yh(c){ra(c)}function wo(c,u){try{var p=c.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(O){setTimeout(function(){throw O})}}function Sh(c,u,p){try{var O=c.onCaughtError;O(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(v){setTimeout(function(){throw v})}}function yu(c,u,p){return p=cr(p),p.tag=3,p.payload={element:null},p.callback=function(){wo(c,u)},p}function vh(c){return c=cr(c),c.tag=3,c}function bh(c,u,p,O){var v=p.type.getDerivedStateFromError;if(typeof v=="function"){var k=O.value;c.payload=function(){return v(k)},c.callback=function(){Sh(u,p,O)}}var _=p.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(c.callback=function(){Sh(u,p,O),typeof v!="function"&&(Or===null?Or=new Set([this]):Or.add(this));var R=O.stack;this.componentDidCatch(O.value,{componentStack:R!==null?R:""})})}function xp(c,u,p,O,v){if(p.flags|=32768,O!==null&&typeof O=="object"&&typeof O.then=="function"){if(u=p.alternate,u!==null&&hi(u,p,v,!0),p=_n.current,p!==null){switch(p.tag){case 31:case 13:return zn===null?No():p.alternate===null&&_t===0&&(_t=3),p.flags&=-257,p.flags|=65536,p.lanes=v,O===uo?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([O]):u.add(O),Uu(c,O,v)),!1;case 22:return p.flags|=65536,O===uo?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([O])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([O]):p.add(O)),Uu(c,O,v)),!1}throw Error(l(435,p.tag))}return Uu(c,O,v),No(),!1}if(Ie)return u=_n.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=v,O!==Nl&&(c=Error(l(422),{cause:O}),bn(Sn(c,p)))):(O!==Nl&&(u=Error(l(423),{cause:O}),bn(Sn(u,p))),c=c.current.alternate,c.flags|=65536,v&=-v,c.lanes|=v,O=Sn(O,p),v=yu(c.stateNode,O,v),Hc(c,v),_t!==4&&(_t=2)),!1;var k=Error(l(520),{cause:O});if(k=Sn(k,p),ss===null?ss=[k]:ss.push(k),_t!==4&&(_t=2),u===null)return!0;O=Sn(O,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,c=v&-v,p.lanes|=c,c=yu(p.stateNode,O,c),Hc(p,c),!1;case 1:if(u=p.type,k=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Or===null||!Or.has(k))))return p.flags|=65536,v&=-v,p.lanes|=v,v=vh(v),bh(v,c,p,O),Hc(p,v),!1}p=p.return}while(p!==null);return!1}var Su=Error(l(461)),Zt=!1;function It(c,u,p,O){u.child=c===null?Tf(u,null,p,O):da(u,c.child,p,O)}function xh(c,u,p,O,v){p=p.render;var k=u.ref;if("ref"in O){var _={};for(var R in O)R!=="ref"&&(_[R]=O[R])}else _=O;return di(u),O=eu(c,u,p,_,k,v),R=tu(),c!==null&&!Zt?(nu(c,u,v),Ai(c,u,v)):(Ie&&R&&oa(u),u.flags|=1,It(c,u,O,v),u.child)}function kh(c,u,p,O,v){if(c===null){var k=p.type;return typeof k=="function"&&!Ci(k)&&k.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=k,wh(c,u,k,O,v)):(c=Pa(p.type,null,O,u,u.mode,v),c.ref=u.ref,c.return=u,u.child=c)}if(k=c.child,!Eu(c,v)){var _=k.memoizedProps;if(p=p.compare,p=p!==null?p:Kr,p(_,O)&&c.ref===u.ref)return Ai(c,u,v)}return u.flags|=1,c=yn(k,O),c.ref=u.ref,c.return=u,u.child=c}function wh(c,u,p,O,v){if(c!==null){var k=c.memoizedProps;if(Kr(k,O)&&c.ref===u.ref)if(Zt=!1,u.pendingProps=O=k,Eu(c,v))(c.flags&131072)!==0&&(Zt=!0);else return u.lanes=c.lanes,Ai(c,u,v)}return vu(c,u,p,O,v)}function Th(c,u,p,O){var v=O.children,k=c!==null?c.memoizedState:null;if(c===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),O.mode==="hidden"){if((u.flags&128)!==0){if(k=k!==null?k.baseLanes|p:p,c!==null){for(O=u.child=c.child,v=0;O!==null;)v=v|O.lanes|O.childLanes,O=O.sibling;O=v&~k}else O=0,u.child=null;return Ch(c,u,k,p,O)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},c!==null&&oo(u,k!==null?k.cachePool:null),k!==null?Qf(u,k):Wc(),_f(u);else return O=u.lanes=536870912,Ch(c,u,k!==null?k.baseLanes|p:p,p,O)}else k!==null?(oo(u,k.cachePool),Qf(u,k),hr(),u.memoizedState=null):(c!==null&&oo(u,null),Wc(),hr());return It(c,u,v,p),u.child}function Wl(c,u){return c!==null&&c.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function Ch(c,u,p,O,v){var k=Vc();return k=k===null?null:{parent:V._currentValue,pool:k},u.memoizedState={baseLanes:p,cachePool:k},c!==null&&oo(u,null),Wc(),_f(u),c!==null&&hi(c,u,O,!0),u.childLanes=v,null}function To(c,u){return u=Eo({mode:u.mode,children:u.children},c.mode),u.ref=c.ref,c.child=u,u.return=c,u}function Eh(c,u,p){return da(u,c.child,null,p),c=To(u,u.pendingProps),c.flags|=2,An(u),u.memoizedState=null,c}function kp(c,u,p){var O=u.pendingProps,v=(u.flags&128)!==0;if(u.flags&=-129,c===null){if(Ie){if(O.mode==="hidden")return c=To(u,O),u.lanes=536870912,Wl(null,c);if(Kc(u),(c=ot)?(c=zd(c,on),c=c!==null&&c.data==="&"?c:null,c!==null&&(u.memoizedState={dehydrated:c,treeContext:ui!==null?{id:Nn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},p=Fn(c),p.return=u,u.child=p,Nt=u,ot=null)):c=null,c===null)throw Jn(u);return u.lanes=536870912,null}return To(u,O)}var k=c.memoizedState;if(k!==null){var _=k.dehydrated;if(Kc(u),v)if(u.flags&256)u.flags&=-257,u=Eh(c,u,p);else if(u.memoizedState!==null)u.child=c.child,u.flags|=128,u=null;else throw Error(l(558));else if(Zt||hi(c,u,p,!1),v=(p&c.childLanes)!==0,Zt||v){if(O=Ot,O!==null&&(_=xs(O,p),_!==0&&_!==k.retryLane))throw k.retryLane=_,Ti(c,_),Cn(O,c,_),Su;No(),u=Eh(c,u,p)}else c=k.treeContext,ot=jn(_.nextSibling),Nt=u,Ie=!0,Zn=null,on=!1,c!==null&&ao(u,c),u=To(u,O),u.flags|=4096;return u}return c=yn(c.child,{mode:O.mode,children:O.children}),c.ref=u.ref,u.child=c,c.return=u,c}function Co(c,u){var p=u.ref;if(p===null)c!==null&&c.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(l(284));(c===null||c.ref!==p)&&(u.flags|=4194816)}}function vu(c,u,p,O,v){return di(u),p=eu(c,u,p,O,void 0,v),O=tu(),c!==null&&!Zt?(nu(c,u,v),Ai(c,u,v)):(Ie&&O&&oa(u),u.flags|=1,It(c,u,p,v),u.child)}function Qh(c,u,p,O,v,k){return di(u),u.updateQueue=null,p=$f(u,O,p,v),Af(c),O=tu(),c!==null&&!Zt?(nu(c,u,k),Ai(c,u,k)):(Ie&&O&&oa(u),u.flags|=1,It(c,u,p,k),u.child)}function _h(c,u,p,O,v){if(di(u),u.stateNode===null){var k=rr,_=p.contextType;typeof _=="object"&&_!==null&&(k=Pt(_)),k=new p(O,k),u.memoizedState=k.state!==null&&k.state!==void 0?k.state:null,k.updater=Ou,u.stateNode=k,k._reactInternals=u,k=u.stateNode,k.props=O,k.state=u.memoizedState,k.refs={},Yc(u),_=p.contextType,k.context=typeof _=="object"&&_!==null?Pt(_):rr,k.state=u.memoizedState,_=p.getDerivedStateFromProps,typeof _=="function"&&(gu(u,p,_,O),k.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof k.getSnapshotBeforeUpdate=="function"||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(_=k.state,typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount(),_!==k.state&&Ou.enqueueReplaceState(k,k.state,null),ql(u,O,k,v),Vl(),k.state=u.memoizedState),typeof k.componentDidMount=="function"&&(u.flags|=4194308),O=!0}else if(c===null){k=u.stateNode;var R=u.memoizedProps,q=ma(p,R);k.props=q;var te=k.context,fe=p.contextType;_=rr,typeof fe=="object"&&fe!==null&&(_=Pt(fe));var ge=p.getDerivedStateFromProps;fe=typeof ge=="function"||typeof k.getSnapshotBeforeUpdate=="function",R=u.pendingProps!==R,fe||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(R||te!==_)&&mh(u,k,O,_),or=!1;var le=u.memoizedState;k.state=le,ql(u,O,k,v),Vl(),te=u.memoizedState,R||le!==te||or?(typeof ge=="function"&&(gu(u,p,ge,O),te=u.memoizedState),(q=or||ph(u,p,q,O,le,te,_))?(fe||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(u.flags|=4194308)):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=O,u.memoizedState=te),k.props=O,k.state=te,k.context=_,O=q):(typeof k.componentDidMount=="function"&&(u.flags|=4194308),O=!1)}else{k=u.stateNode,Gc(c,u),_=u.memoizedProps,fe=ma(p,_),k.props=fe,ge=u.pendingProps,le=k.context,te=p.contextType,q=rr,typeof te=="object"&&te!==null&&(q=Pt(te)),R=p.getDerivedStateFromProps,(te=typeof R=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(_!==ge||le!==q)&&mh(u,k,O,q),or=!1,le=u.memoizedState,k.state=le,ql(u,O,k,v),Vl();var oe=u.memoizedState;_!==ge||le!==oe||or||c!==null&&c.dependencies!==null&&Ma(c.dependencies)?(typeof R=="function"&&(gu(u,p,R,O),oe=u.memoizedState),(fe=or||ph(u,p,fe,O,le,oe,q)||c!==null&&c.dependencies!==null&&Ma(c.dependencies))?(te||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(O,oe,q),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(O,oe,q)),typeof k.componentDidUpdate=="function"&&(u.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof k.componentDidUpdate!="function"||_===c.memoizedProps&&le===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||_===c.memoizedProps&&le===c.memoizedState||(u.flags|=1024),u.memoizedProps=O,u.memoizedState=oe),k.props=O,k.state=oe,k.context=q,O=fe):(typeof k.componentDidUpdate!="function"||_===c.memoizedProps&&le===c.memoizedState||(u.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||_===c.memoizedProps&&le===c.memoizedState||(u.flags|=1024),O=!1)}return k=O,Co(c,u),O=(u.flags&128)!==0,k||O?(k=u.stateNode,p=O&&typeof p.getDerivedStateFromError!="function"?null:k.render(),u.flags|=1,c!==null&&O?(u.child=da(u,c.child,null,v),u.child=da(u,null,p,v)):It(c,u,p,v),u.memoizedState=k.state,c=u.child):c=Ai(c,u,v),c}function Ah(c,u,p,O){return fi(),u.flags|=256,It(c,u,p,O),u.child}var bu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function xu(c){return{baseLanes:c,cachePool:Sf()}}function ku(c,u,p){return c=c!==null?c.childLanes&~p:0,u&&(c|=Pn),c}function $h(c,u,p){var O=u.pendingProps,v=!1,k=(u.flags&128)!==0,_;if((_=k)||(_=c!==null&&c.memoizedState===null?!1:(Rt.current&2)!==0),_&&(v=!0,u.flags&=-129),_=(u.flags&32)!==0,u.flags&=-33,c===null){if(Ie){if(v?fr(u):hr(),(c=ot)?(c=zd(c,on),c=c!==null&&c.data!=="&"?c:null,c!==null&&(u.memoizedState={dehydrated:c,treeContext:ui!==null?{id:Nn,overflow:Ln}:null,retryLane:536870912,hydrationErrors:null},p=Fn(c),p.return=u,u.child=p,Nt=u,ot=null)):c=null,c===null)throw Jn(u);return lf(c)?u.lanes=32:u.lanes=536870912,null}var R=O.children;return O=O.fallback,v?(hr(),v=u.mode,R=Eo({mode:"hidden",children:R},v),O=ci(O,v,p,null),R.return=u,O.return=u,R.sibling=O,u.child=R,O=u.child,O.memoizedState=xu(p),O.childLanes=ku(c,_,p),u.memoizedState=bu,Wl(null,O)):(fr(u),wu(u,R))}var q=c.memoizedState;if(q!==null&&(R=q.dehydrated,R!==null)){if(k)u.flags&256?(fr(u),u.flags&=-257,u=Tu(c,u,p)):u.memoizedState!==null?(hr(),u.child=c.child,u.flags|=128,u=null):(hr(),R=O.fallback,v=u.mode,O=Eo({mode:"visible",children:O.children},v),R=ci(R,v,p,null),R.flags|=2,O.return=u,R.return=u,O.sibling=R,u.child=O,da(u,c.child,null,p),O=u.child,O.memoizedState=xu(p),O.childLanes=ku(c,_,p),u.memoizedState=bu,u=Wl(null,O));else if(fr(u),lf(R)){if(_=R.nextSibling&&R.nextSibling.dataset,_)var te=_.dgst;_=te,O=Error(l(419)),O.stack="",O.digest=_,bn({value:O,source:null,stack:null}),u=Tu(c,u,p)}else if(Zt||hi(c,u,p,!1),_=(p&c.childLanes)!==0,Zt||_){if(_=Ot,_!==null&&(O=xs(_,p),O!==0&&O!==q.retryLane))throw q.retryLane=O,Ti(c,O),Cn(_,c,O),Su;af(R)||No(),u=Tu(c,u,p)}else af(R)?(u.flags|=192,u.child=c.child,u=null):(c=q.treeContext,ot=jn(R.nextSibling),Nt=u,Ie=!0,Zn=null,on=!1,c!==null&&ao(u,c),u=wu(u,O.children),u.flags|=4096);return u}return v?(hr(),R=O.fallback,v=u.mode,q=c.child,te=q.sibling,O=yn(q,{mode:"hidden",children:O.children}),O.subtreeFlags=q.subtreeFlags&65011712,te!==null?R=yn(te,R):(R=ci(R,v,p,null),R.flags|=2),R.return=u,O.return=u,O.sibling=R,u.child=O,Wl(null,O),O=u.child,R=c.child.memoizedState,R===null?R=xu(p):(v=R.cachePool,v!==null?(q=V._currentValue,v=v.parent!==q?{parent:q,pool:q}:v):v=Sf(),R={baseLanes:R.baseLanes|p,cachePool:v}),O.memoizedState=R,O.childLanes=ku(c,_,p),u.memoizedState=bu,Wl(c.child,O)):(fr(u),p=c.child,c=p.sibling,p=yn(p,{mode:"visible",children:O.children}),p.return=u,p.sibling=null,c!==null&&(_=u.deletions,_===null?(u.deletions=[c],u.flags|=16):_.push(c)),u.child=p,u.memoizedState=null,p)}function wu(c,u){return u=Eo({mode:"visible",children:u},c.mode),u.return=c,c.child=u}function Eo(c,u){return c=Yt(22,c,null,u),c.lanes=0,c}function Tu(c,u,p){return da(u,c.child,null,p),c=wu(u,u.pendingProps.children),c.flags|=2,u.memoizedState=null,c}function Ph(c,u,p){c.lanes|=u;var O=c.alternate;O!==null&&(O.lanes|=u),Ze(c.return,u,p)}function Cu(c,u,p,O,v,k){var _=c.memoizedState;_===null?c.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:O,tail:p,tailMode:v,treeForkCount:k}:(_.isBackwards=u,_.rendering=null,_.renderingStartTime=0,_.last=O,_.tail=p,_.tailMode=v,_.treeForkCount=k)}function Rh(c,u,p){var O=u.pendingProps,v=O.revealOrder,k=O.tail;O=O.children;var _=Rt.current,R=(_&2)!==0;if(R?(_=_&1|2,u.flags|=128):_&=1,ae(Rt,_),It(c,u,O,p),O=Ie?la:0,!R&&c!==null&&(c.flags&128)!==0)e:for(c=u.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&Ph(c,p,u);else if(c.tag===19)Ph(c,p,u);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===u)break e;for(;c.sibling===null;){if(c.return===null||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(v){case"forwards":for(p=u.child,v=null;p!==null;)c=p.alternate,c!==null&&mo(c)===null&&(v=p),p=p.sibling;p=v,p===null?(v=u.child,u.child=null):(v=p.sibling,p.sibling=null),Cu(u,!1,v,p,k,O);break;case"backwards":case"unstable_legacy-backwards":for(p=null,v=u.child,u.child=null;v!==null;){if(c=v.alternate,c!==null&&mo(c)===null){u.child=v;break}c=v.sibling,v.sibling=p,p=v,v=c}Cu(u,!0,p,null,k,O);break;case"together":Cu(u,!1,null,null,void 0,O);break;default:u.memoizedState=null}return u.child}function Ai(c,u,p){if(c!==null&&(u.dependencies=c.dependencies),gr|=u.lanes,(p&u.childLanes)===0)if(c!==null){if(hi(c,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(c!==null&&u.child!==c.child)throw Error(l(153));if(u.child!==null){for(c=u.child,p=yn(c,c.pendingProps),u.child=p,p.return=u;c.sibling!==null;)c=c.sibling,p=p.sibling=yn(c,c.pendingProps),p.return=u;p.sibling=null}return u.child}function Eu(c,u){return(c.lanes&u)!==0?!0:(c=c.dependencies,!!(c!==null&&Ma(c)))}function wp(c,u,p){switch(u.tag){case 3:Ne(u,u.stateNode.containerInfo),Bn(u,V,c.memoizedState.cache),fi();break;case 27:case 5:yt(u);break;case 4:Ne(u,u.stateNode.containerInfo);break;case 10:Bn(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,Kc(u),null;break;case 13:var O=u.memoizedState;if(O!==null)return O.dehydrated!==null?(fr(u),u.flags|=128,null):(p&u.child.childLanes)!==0?$h(c,u,p):(fr(u),c=Ai(c,u,p),c!==null?c.sibling:null);fr(u);break;case 19:var v=(c.flags&128)!==0;if(O=(p&u.childLanes)!==0,O||(hi(c,u,p,!1),O=(p&u.childLanes)!==0),v){if(O)return Rh(c,u,p);u.flags|=128}if(v=u.memoizedState,v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),ae(Rt,Rt.current),O)break;return null;case 22:return u.lanes=0,Th(c,u,p,u.pendingProps);case 24:Bn(u,V,c.memoizedState.cache)}return Ai(c,u,p)}function Mh(c,u,p){if(c!==null)if(c.memoizedProps!==u.pendingProps)Zt=!0;else{if(!Eu(c,p)&&(u.flags&128)===0)return Zt=!1,wp(c,u,p);Zt=(c.flags&131072)!==0}else Zt=!1,Ie&&(u.flags&1048576)!==0&&sa(u,la,u.index);switch(u.lanes=0,u.tag){case 16:e:{var O=u.pendingProps;if(c=fa(u.elementType),u.type=c,typeof c=="function")Ci(c)?(O=ma(c,O),u.tag=1,u=_h(null,u,c,O,p)):(u.tag=0,u=vu(null,u,c,O,p));else{if(c!=null){var v=c.$$typeof;if(v===j){u.tag=11,u=xh(null,u,c,O,p);break e}else if(v===D){u.tag=14,u=kh(null,u,c,O,p);break e}}throw u=$e(c)||c,Error(l(306,u,""))}}return u;case 0:return vu(c,u,u.type,u.pendingProps,p);case 1:return O=u.type,v=ma(O,u.pendingProps),_h(c,u,O,v,p);case 3:e:{if(Ne(u,u.stateNode.containerInfo),c===null)throw Error(l(387));O=u.pendingProps;var k=u.memoizedState;v=k.element,Gc(c,u),ql(u,O,null,p);var _=u.memoizedState;if(O=_.cache,Bn(u,V,O),O!==k.cache&&Bl(u,[V],p,!0),Vl(),O=_.element,k.isDehydrated)if(k={element:O,isDehydrated:!1,cache:_.cache},u.updateQueue.baseState=k,u.memoizedState=k,u.flags&256){u=Ah(c,u,O,p);break e}else if(O!==v){v=Sn(Error(l(424)),u),bn(v),u=Ah(c,u,O,p);break e}else for(c=u.stateNode.containerInfo,c.nodeType===9?c=c.body:c=c.nodeName==="HTML"?c.ownerDocument.body:c,ot=jn(c.firstChild),Nt=u,Ie=!0,Zn=null,on=!0,p=Tf(u,null,O,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling;else{if(fi(),O===v){u=Ai(c,u,p);break e}It(c,u,O,p)}u=u.child}return u;case 26:return Co(c,u),c===null?(p=Yd(u.type,null,u.pendingProps,null))?u.memoizedState=p:Ie||(p=u.type,c=u.pendingProps,O=Uo(_e.current).createElement(p),O[zt]=u,O[nn]=c,Wt(O,p,c),$t(O),u.stateNode=O):u.memoizedState=Yd(u.type,c.memoizedProps,u.pendingProps,c.memoizedState),null;case 27:return yt(u),c===null&&Ie&&(O=u.stateNode=Ud(u.type,u.pendingProps,_e.current),Nt=u,on=!0,v=ot,wr(u.type)?(sf=v,ot=jn(O.firstChild)):ot=v),It(c,u,u.pendingProps.children,p),Co(c,u),c===null&&(u.flags|=4194304),u.child;case 5:return c===null&&Ie&&((v=O=ot)&&(O=em(O,u.type,u.pendingProps,on),O!==null?(u.stateNode=O,Nt=u,ot=jn(O.firstChild),on=!1,v=!0):v=!1),v||Jn(u)),yt(u),v=u.type,k=u.pendingProps,_=c!==null?c.memoizedProps:null,O=k.children,tf(v,k)?O=null:_!==null&&tf(v,_)&&(u.flags|=32),u.memoizedState!==null&&(v=eu(c,u,mp,null,null,p),ms._currentValue=v),Co(c,u),It(c,u,O,p),u.child;case 6:return c===null&&Ie&&((c=p=ot)&&(p=tm(p,u.pendingProps,on),p!==null?(u.stateNode=p,Nt=u,ot=null,c=!0):c=!1),c||Jn(u)),null;case 13:return $h(c,u,p);case 4:return Ne(u,u.stateNode.containerInfo),O=u.pendingProps,c===null?u.child=da(u,null,O,p):It(c,u,O,p),u.child;case 11:return xh(c,u,u.type,u.pendingProps,p);case 7:return It(c,u,u.pendingProps,p),u.child;case 8:return It(c,u,u.pendingProps.children,p),u.child;case 12:return It(c,u,u.pendingProps.children,p),u.child;case 10:return O=u.pendingProps,Bn(u,u.type,O.value),It(c,u,O.children,p),u.child;case 9:return v=u.type._context,O=u.pendingProps.children,di(u),v=Pt(v),O=O(v),u.flags|=1,It(c,u,O,p),u.child;case 14:return kh(c,u,u.type,u.pendingProps,p);case 15:return wh(c,u,u.type,u.pendingProps,p);case 19:return Rh(c,u,p);case 31:return kp(c,u,p);case 22:return Th(c,u,p,u.pendingProps);case 24:return di(u),O=Pt(V),c===null?(v=Vc(),v===null&&(v=Ot,k=ne(),v.pooledCache=k,k.refCount++,k!==null&&(v.pooledCacheLanes|=p),v=k),u.memoizedState={parent:O,cache:v},Yc(u),Bn(u,V,v)):((c.lanes&p)!==0&&(Gc(c,u),ql(u,null,null,p),Vl()),v=c.memoizedState,k=u.memoizedState,v.parent!==O?(v={parent:O,cache:O},u.memoizedState=v,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=v),Bn(u,V,O)):(O=k.cache,Bn(u,V,O),O!==v.cache&&Bl(u,[V],p,!0))),It(c,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(l(156,u.tag))}function $i(c){c.flags|=4}function Qu(c,u,p,O,v){if((u=(c.mode&32)!==0)&&(u=!1),u){if(c.flags|=16777216,(v&335544128)===v)if(c.stateNode.complete)c.flags|=8192;else if(od())c.flags|=8192;else throw ha=uo,qc}else c.flags&=-16777217}function Dh(c,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!Fd(u))if(od())c.flags|=8192;else throw ha=uo,qc}function Qo(c,u){u!==null&&(c.flags|=4),c.flags&16384&&(u=c.tag!==22?Ss():536870912,c.lanes|=u,Ya|=u)}function Fl(c,u){if(!Ie)switch(c.tailMode){case"hidden":u=c.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var O=null;p!==null;)p.alternate!==null&&(O=p),p=p.sibling;O===null?u||c.tail===null?c.tail=null:c.tail.sibling=null:O.sibling=null}}function vt(c){var u=c.alternate!==null&&c.alternate.child===c.child,p=0,O=0;if(u)for(var v=c.child;v!==null;)p|=v.lanes|v.childLanes,O|=v.subtreeFlags&65011712,O|=v.flags&65011712,v.return=c,v=v.sibling;else for(v=c.child;v!==null;)p|=v.lanes|v.childLanes,O|=v.subtreeFlags,O|=v.flags,v.return=c,v=v.sibling;return c.subtreeFlags|=O,c.childLanes=p,u}function Tp(c,u,p){var O=u.pendingProps;switch(Dl(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vt(u),null;case 1:return vt(u),null;case 3:return p=u.stateNode,O=null,c!==null&&(O=c.memoizedState.cache),u.memoizedState.cache!==O&&(u.flags|=2048),ti(V),De(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(ar(u)?$i(u):c===null||c.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,sr())),vt(u),null;case 26:var v=u.type,k=u.memoizedState;return c===null?($i(u),k!==null?(vt(u),Dh(u,k)):(vt(u),Qu(u,v,null,O,p))):k?k!==c.memoizedState?($i(u),vt(u),Dh(u,k)):(vt(u),u.flags&=-16777217):(c=c.memoizedProps,c!==O&&$i(u),vt(u),Qu(u,v,c,O,p)),null;case 27:if(Te(u),p=_e.current,v=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(!O){if(u.stateNode===null)throw Error(l(166));return vt(u),null}c=ue.current,ar(u)?lo(u):(c=Ud(v,O,p),u.stateNode=c,$i(u))}return vt(u),null;case 5:if(Te(u),v=u.type,c!==null&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(!O){if(u.stateNode===null)throw Error(l(166));return vt(u),null}if(k=ue.current,ar(u))lo(u);else{var _=Uo(_e.current);switch(k){case 1:k=_.createElementNS("http://www.w3.org/2000/svg",v);break;case 2:k=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;default:switch(v){case"svg":k=_.createElementNS("http://www.w3.org/2000/svg",v);break;case"math":k=_.createElementNS("http://www.w3.org/1998/Math/MathML",v);break;case"script":k=_.createElement("div"),k.innerHTML="<script><\/script>",k=k.removeChild(k.firstChild);break;case"select":k=typeof O.is=="string"?_.createElement("select",{is:O.is}):_.createElement("select"),O.multiple?k.multiple=!0:O.size&&(k.size=O.size);break;default:k=typeof O.is=="string"?_.createElement(v,{is:O.is}):_.createElement(v)}}k[zt]=u,k[nn]=O;e:for(_=u.child;_!==null;){if(_.tag===5||_.tag===6)k.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===u)break e;for(;_.sibling===null;){if(_.return===null||_.return===u)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}u.stateNode=k;e:switch(Wt(k,v,O),v){case"button":case"input":case"select":case"textarea":O=!!O.autoFocus;break e;case"img":O=!0;break e;default:O=!1}O&&$i(u)}}return vt(u),Qu(u,u.type,c===null?null:c.memoizedProps,u.pendingProps,p),null;case 6:if(c&&u.stateNode!=null)c.memoizedProps!==O&&$i(u);else{if(typeof O!="string"&&u.stateNode===null)throw Error(l(166));if(c=_e.current,ar(u)){if(c=u.stateNode,p=u.memoizedProps,O=null,v=Nt,v!==null)switch(v.tag){case 27:case 5:O=v.memoizedProps}c[zt]=u,c=!!(c.nodeValue===p||O!==null&&O.suppressHydrationWarning===!0||Pd(c.nodeValue,p)),c||Jn(u,!0)}else c=Uo(c).createTextNode(O),c[zt]=u,u.stateNode=c}return vt(u),null;case 31:if(p=u.memoizedState,c===null||c.memoizedState!==null){if(O=ar(u),p!==null){if(c===null){if(!O)throw Error(l(318));if(c=u.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(l(557));c[zt]=u}else fi(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;vt(u),c=!1}else p=sr(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return u.flags&256?(An(u),u):(An(u),null);if((u.flags&128)!==0)throw Error(l(558))}return vt(u),null;case 13:if(O=u.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(v=ar(u),O!==null&&O.dehydrated!==null){if(c===null){if(!v)throw Error(l(318));if(v=u.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(l(317));v[zt]=u}else fi(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;vt(u),v=!1}else v=sr(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=v),v=!0;if(!v)return u.flags&256?(An(u),u):(An(u),null)}return An(u),(u.flags&128)!==0?(u.lanes=p,u):(p=O!==null,c=c!==null&&c.memoizedState!==null,p&&(O=u.child,v=null,O.alternate!==null&&O.alternate.memoizedState!==null&&O.alternate.memoizedState.cachePool!==null&&(v=O.alternate.memoizedState.cachePool.pool),k=null,O.memoizedState!==null&&O.memoizedState.cachePool!==null&&(k=O.memoizedState.cachePool.pool),k!==v&&(O.flags|=2048)),p!==c&&p&&(u.child.flags|=8192),Qo(u,u.updateQueue),vt(u),null);case 4:return De(),c===null&&Wu(u.stateNode.containerInfo),vt(u),null;case 10:return ti(u.type),vt(u),null;case 19:if(Y(Rt),O=u.memoizedState,O===null)return vt(u),null;if(v=(u.flags&128)!==0,k=O.rendering,k===null)if(v)Fl(O,!1);else{if(_t!==0||c!==null&&(c.flags&128)!==0)for(c=u.child;c!==null;){if(k=mo(c),k!==null){for(u.flags|=128,Fl(O,!1),c=k.updateQueue,u.updateQueue=c,Qo(u,c),u.subtreeFlags=0,c=p,p=u.child;p!==null;)Pl(p,c),p=p.sibling;return ae(Rt,Rt.current&1|2),Ie&&Kn(u,O.treeForkCount),u.child}c=c.sibling}O.tail!==null&&Ct()>Ro&&(u.flags|=128,v=!0,Fl(O,!1),u.lanes=4194304)}else{if(!v)if(c=mo(k),c!==null){if(u.flags|=128,v=!0,c=c.updateQueue,u.updateQueue=c,Qo(u,c),Fl(O,!0),O.tail===null&&O.tailMode==="hidden"&&!k.alternate&&!Ie)return vt(u),null}else 2*Ct()-O.renderingStartTime>Ro&&p!==536870912&&(u.flags|=128,v=!0,Fl(O,!1),u.lanes=4194304);O.isBackwards?(k.sibling=u.child,u.child=k):(c=O.last,c!==null?c.sibling=k:u.child=k,O.last=k)}return O.tail!==null?(c=O.tail,O.rendering=c,O.tail=c.sibling,O.renderingStartTime=Ct(),c.sibling=null,p=Rt.current,ae(Rt,v?p&1|2:p&1),Ie&&Kn(u,O.treeForkCount),c):(vt(u),null);case 22:case 23:return An(u),Fc(),O=u.memoizedState!==null,c!==null?c.memoizedState!==null!==O&&(u.flags|=8192):O&&(u.flags|=8192),O?(p&536870912)!==0&&(u.flags&128)===0&&(vt(u),u.subtreeFlags&6&&(u.flags|=8192)):vt(u),p=u.updateQueue,p!==null&&Qo(u,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),O=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(O=u.memoizedState.cachePool.pool),O!==p&&(u.flags|=2048),c!==null&&Y(ua),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ti(V),vt(u),null;case 25:return null;case 30:return null}throw Error(l(156,u.tag))}function Cp(c,u){switch(Dl(u),u.tag){case 1:return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 3:return ti(V),De(),c=u.flags,(c&65536)!==0&&(c&128)===0?(u.flags=c&-65537|128,u):null;case 26:case 27:case 5:return Te(u),null;case 31:if(u.memoizedState!==null){if(An(u),u.alternate===null)throw Error(l(340));fi()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 13:if(An(u),c=u.memoizedState,c!==null&&c.dehydrated!==null){if(u.alternate===null)throw Error(l(340));fi()}return c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 19:return Y(Rt),null;case 4:return De(),null;case 10:return ti(u.type),null;case 22:case 23:return An(u),Fc(),c!==null&&Y(ua),c=u.flags,c&65536?(u.flags=c&-65537|128,u):null;case 24:return ti(V),null;case 25:return null;default:return null}}function Nh(c,u){switch(Dl(u),u.tag){case 3:ti(V),De();break;case 26:case 27:case 5:Te(u);break;case 4:De();break;case 31:u.memoizedState!==null&&An(u);break;case 13:An(u);break;case 19:Y(Rt);break;case 10:ti(u.type);break;case 22:case 23:An(u),Fc(),c!==null&&Y(ua);break;case 24:ti(V)}}function ns(c,u){try{var p=u.updateQueue,O=p!==null?p.lastEffect:null;if(O!==null){var v=O.next;p=v;do{if((p.tag&c)===c){O=void 0;var k=p.create,_=p.inst;O=k(),_.destroy=O}p=p.next}while(p!==v)}}catch(R){st(u,u.return,R)}}function dr(c,u,p){try{var O=u.updateQueue,v=O!==null?O.lastEffect:null;if(v!==null){var k=v.next;O=k;do{if((O.tag&c)===c){var _=O.inst,R=_.destroy;if(R!==void 0){_.destroy=void 0,v=u;var q=p,te=R;try{te()}catch(fe){st(v,q,fe)}}}O=O.next}while(O!==k)}}catch(fe){st(u,u.return,fe)}}function Lh(c){var u=c.updateQueue;if(u!==null){var p=c.stateNode;try{Ef(u,p)}catch(O){st(c,c.return,O)}}}function Zh(c,u,p){p.props=ma(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(O){st(c,u,O)}}function is(c,u){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var O=c.stateNode;break;case 30:O=c.stateNode;break;default:O=c.stateNode}typeof p=="function"?c.refCleanup=p(O):p.current=O}}catch(v){st(c,u,v)}}function pi(c,u){var p=c.ref,O=c.refCleanup;if(p!==null)if(typeof O=="function")try{O()}catch(v){st(c,u,v)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(v){st(c,u,v)}else p.current=null}function Bh(c){var u=c.type,p=c.memoizedProps,O=c.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&O.focus();break e;case"img":p.src?O.src=p.src:p.srcSet&&(O.srcset=p.srcSet)}}catch(v){st(c,c.return,v)}}function _u(c,u,p){try{var O=c.stateNode;Hp(O,c.type,p,u),O[nn]=u}catch(v){st(c,c.return,v)}}function zh(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&wr(c.type)||c.tag===4}function Au(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||zh(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&wr(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $u(c,u,p){var O=c.tag;if(O===5||O===6)c=c.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(c),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=qn));else if(O!==4&&(O===27&&wr(c.type)&&(p=c.stateNode,u=null),c=c.child,c!==null))for($u(c,u,p),c=c.sibling;c!==null;)$u(c,u,p),c=c.sibling}function _o(c,u,p){var O=c.tag;if(O===5||O===6)c=c.stateNode,u?p.insertBefore(c,u):p.appendChild(c);else if(O!==4&&(O===27&&wr(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(_o(c,u,p),c=c.sibling;c!==null;)_o(c,u,p),c=c.sibling}function jh(c){var u=c.stateNode,p=c.memoizedProps;try{for(var O=c.type,v=u.attributes;v.length;)u.removeAttributeNode(v[0]);Wt(u,O,p),u[zt]=c,u[nn]=p}catch(k){st(c,c.return,k)}}var Pi=!1,Bt=!1,Pu=!1,Xh=typeof WeakSet=="function"?WeakSet:Set,Gt=null;function Ep(c,u){if(c=c.containerInfo,Ju=Wo,c=vl(c),bl(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var O=p.getSelection&&p.getSelection();if(O&&O.rangeCount!==0){p=O.anchorNode;var v=O.anchorOffset,k=O.focusNode;O=O.focusOffset;try{p.nodeType,k.nodeType}catch{p=null;break e}var _=0,R=-1,q=-1,te=0,fe=0,ge=c,le=null;t:for(;;){for(var oe;ge!==p||v!==0&&ge.nodeType!==3||(R=_+v),ge!==k||O!==0&&ge.nodeType!==3||(q=_+O),ge.nodeType===3&&(_+=ge.nodeValue.length),(oe=ge.firstChild)!==null;)le=ge,ge=oe;for(;;){if(ge===c)break t;if(le===p&&++te===v&&(R=_),le===k&&++fe===O&&(q=_),(oe=ge.nextSibling)!==null)break;ge=le,le=ge.parentNode}ge=oe}p=R===-1||q===-1?null:{start:R,end:q}}else p=null}p=p||{start:0,end:0}}else p=null;for(ef={focusedElem:c,selectionRange:p},Wo=!1,Gt=u;Gt!==null;)if(u=Gt,c=u.child,(u.subtreeFlags&1028)!==0&&c!==null)c.return=u,Gt=c;else for(;Gt!==null;){switch(u=Gt,k=u.alternate,c=u.flags,u.tag){case 0:if((c&4)!==0&&(c=u.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)v=c[p],v.ref.impl=v.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&k!==null){c=void 0,p=u,v=k.memoizedProps,k=k.memoizedState,O=p.stateNode;try{var Pe=ma(p.type,v);c=O.getSnapshotBeforeUpdate(Pe,k),O.__reactInternalSnapshotBeforeUpdate=c}catch(ze){st(p,p.return,ze)}}break;case 3:if((c&1024)!==0){if(c=u.stateNode.containerInfo,p=c.nodeType,p===9)rf(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":rf(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(l(163))}if(c=u.sibling,c!==null){c.return=u.return,Gt=c;break}Gt=u.return}}function Uh(c,u,p){var O=p.flags;switch(p.tag){case 0:case 11:case 15:Mi(c,p),O&4&&ns(5,p);break;case 1:if(Mi(c,p),O&4)if(c=p.stateNode,u===null)try{c.componentDidMount()}catch(_){st(p,p.return,_)}else{var v=ma(p.type,u.memoizedProps);u=u.memoizedState;try{c.componentDidUpdate(v,u,c.__reactInternalSnapshotBeforeUpdate)}catch(_){st(p,p.return,_)}}O&64&&Lh(p),O&512&&is(p,p.return);break;case 3:if(Mi(c,p),O&64&&(c=p.updateQueue,c!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{Ef(c,u)}catch(_){st(p,p.return,_)}}break;case 27:u===null&&O&4&&jh(p);case 26:case 5:Mi(c,p),u===null&&O&4&&Bh(p),O&512&&is(p,p.return);break;case 12:Mi(c,p);break;case 31:Mi(c,p),O&4&&Yh(c,p);break;case 13:Mi(c,p),O&4&&Gh(c,p),O&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=Np.bind(null,p),nm(c,p))));break;case 22:if(O=p.memoizedState!==null||Pi,!O){u=u!==null&&u.memoizedState!==null||Bt,v=Pi;var k=Bt;Pi=O,(Bt=u)&&!k?Di(c,p,(p.subtreeFlags&8772)!==0):Mi(c,p),Pi=v,Bt=k}break;case 30:break;default:Mi(c,p)}}function Vh(c){var u=c.alternate;u!==null&&(c.alternate=null,Vh(u)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(u=c.stateNode,u!==null&&rl(u)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var kt=null,xn=!1;function Ri(c,u,p){for(p=p.child;p!==null;)qh(c,u,p),p=p.sibling}function qh(c,u,p){if(bt&&typeof bt.onCommitFiberUnmount=="function")try{bt.onCommitFiberUnmount(Dt,p)}catch{}switch(p.tag){case 26:Bt||pi(p,u),Ri(c,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Bt||pi(p,u);var O=kt,v=xn;wr(p.type)&&(kt=p.stateNode,xn=!1),Ri(c,u,p),hs(p.stateNode),kt=O,xn=v;break;case 5:Bt||pi(p,u);case 6:if(O=kt,v=xn,kt=null,Ri(c,u,p),kt=O,xn=v,kt!==null)if(xn)try{(kt.nodeType===9?kt.body:kt.nodeName==="HTML"?kt.ownerDocument.body:kt).removeChild(p.stateNode)}catch(k){st(p,u,k)}else try{kt.removeChild(p.stateNode)}catch(k){st(p,u,k)}break;case 18:kt!==null&&(xn?(c=kt,Zd(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),el(c)):Zd(kt,p.stateNode));break;case 4:O=kt,v=xn,kt=p.stateNode.containerInfo,xn=!0,Ri(c,u,p),kt=O,xn=v;break;case 0:case 11:case 14:case 15:dr(2,p,u),Bt||dr(4,p,u),Ri(c,u,p);break;case 1:Bt||(pi(p,u),O=p.stateNode,typeof O.componentWillUnmount=="function"&&Zh(p,u,O)),Ri(c,u,p);break;case 21:Ri(c,u,p);break;case 22:Bt=(O=Bt)||p.memoizedState!==null,Ri(c,u,p),Bt=O;break;default:Ri(c,u,p)}}function Yh(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{el(c)}catch(p){st(u,u.return,p)}}}function Gh(c,u){if(u.memoizedState===null&&(c=u.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{el(c)}catch(p){st(u,u.return,p)}}function Qp(c){switch(c.tag){case 31:case 13:case 19:var u=c.stateNode;return u===null&&(u=c.stateNode=new Xh),u;case 22:return c=c.stateNode,u=c._retryCache,u===null&&(u=c._retryCache=new Xh),u;default:throw Error(l(435,c.tag))}}function Ao(c,u){var p=Qp(c);u.forEach(function(O){if(!p.has(O)){p.add(O);var v=Lp.bind(null,c,O);O.then(v,v)}})}function kn(c,u){var p=u.deletions;if(p!==null)for(var O=0;O<p.length;O++){var v=p[O],k=c,_=u,R=_;e:for(;R!==null;){switch(R.tag){case 27:if(wr(R.type)){kt=R.stateNode,xn=!1;break e}break;case 5:kt=R.stateNode,xn=!1;break e;case 3:case 4:kt=R.stateNode.containerInfo,xn=!0;break e}R=R.return}if(kt===null)throw Error(l(160));qh(k,_,v),kt=null,xn=!1,k=v.alternate,k!==null&&(k.return=null),v.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Hh(u,c),u=u.sibling}var ni=null;function Hh(c,u){var p=c.alternate,O=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:kn(u,c),wn(c),O&4&&(dr(3,c,c.return),ns(3,c),dr(5,c,c.return));break;case 1:kn(u,c),wn(c),O&512&&(Bt||p===null||pi(p,p.return)),O&64&&Pi&&(c=c.updateQueue,c!==null&&(O=c.callbacks,O!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?O:p.concat(O))));break;case 26:var v=ni;if(kn(u,c),wn(c),O&512&&(Bt||p===null||pi(p,p.return)),O&4){var k=p!==null?p.memoizedState:null;if(O=c.memoizedState,p===null)if(O===null)if(c.stateNode===null){e:{O=c.type,p=c.memoizedProps,v=v.ownerDocument||v;t:switch(O){case"title":k=v.getElementsByTagName("title")[0],(!k||k[Lr]||k[zt]||k.namespaceURI==="http://www.w3.org/2000/svg"||k.hasAttribute("itemprop"))&&(k=v.createElement(O),v.head.insertBefore(k,v.querySelector("head > title"))),Wt(k,O,p),k[zt]=c,$t(k),O=k;break e;case"link":var _=Id("link","href",v).get(O+(p.href||""));if(_){for(var R=0;R<_.length;R++)if(k=_[R],k.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&k.getAttribute("rel")===(p.rel==null?null:p.rel)&&k.getAttribute("title")===(p.title==null?null:p.title)&&k.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){_.splice(R,1);break t}}k=v.createElement(O),Wt(k,O,p),v.head.appendChild(k);break;case"meta":if(_=Id("meta","content",v).get(O+(p.content||""))){for(R=0;R<_.length;R++)if(k=_[R],k.getAttribute("content")===(p.content==null?null:""+p.content)&&k.getAttribute("name")===(p.name==null?null:p.name)&&k.getAttribute("property")===(p.property==null?null:p.property)&&k.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&k.getAttribute("charset")===(p.charSet==null?null:p.charSet)){_.splice(R,1);break t}}k=v.createElement(O),Wt(k,O,p),v.head.appendChild(k);break;default:throw Error(l(468,O))}k[zt]=c,$t(k),O=k}c.stateNode=O}else Wd(v,c.type,c.stateNode);else c.stateNode=Hd(v,O,c.memoizedProps);else k!==O?(k===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):k.count--,O===null?Wd(v,c.type,c.stateNode):Hd(v,O,c.memoizedProps)):O===null&&c.stateNode!==null&&_u(c,c.memoizedProps,p.memoizedProps)}break;case 27:kn(u,c),wn(c),O&512&&(Bt||p===null||pi(p,p.return)),p!==null&&O&4&&_u(c,c.memoizedProps,p.memoizedProps);break;case 5:if(kn(u,c),wn(c),O&512&&(Bt||p===null||pi(p,p.return)),c.flags&32){v=c.stateNode;try{Ii(v,"")}catch(Pe){st(c,c.return,Pe)}}O&4&&c.stateNode!=null&&(v=c.memoizedProps,_u(c,v,p!==null?p.memoizedProps:v)),O&1024&&(Pu=!0);break;case 6:if(kn(u,c),wn(c),O&4){if(c.stateNode===null)throw Error(l(162));O=c.memoizedProps,p=c.stateNode;try{p.nodeValue=O}catch(Pe){st(c,c.return,Pe)}}break;case 3:if(Yo=null,v=ni,ni=Vo(u.containerInfo),kn(u,c),ni=v,wn(c),O&4&&p!==null&&p.memoizedState.isDehydrated)try{el(u.containerInfo)}catch(Pe){st(c,c.return,Pe)}Pu&&(Pu=!1,Ih(c));break;case 4:O=ni,ni=Vo(c.stateNode.containerInfo),kn(u,c),wn(c),ni=O;break;case 12:kn(u,c),wn(c);break;case 31:kn(u,c),wn(c),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 13:kn(u,c),wn(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Po=Ct()),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 22:v=c.memoizedState!==null;var q=p!==null&&p.memoizedState!==null,te=Pi,fe=Bt;if(Pi=te||v,Bt=fe||q,kn(u,c),Bt=fe,Pi=te,wn(c),O&8192)e:for(u=c.stateNode,u._visibility=v?u._visibility&-2:u._visibility|1,v&&(p===null||q||Pi||Bt||ga(c)),p=null,u=c;;){if(u.tag===5||u.tag===26){if(p===null){q=p=u;try{if(k=q.stateNode,v)_=k.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{R=q.stateNode;var ge=q.memoizedProps.style,le=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;R.style.display=le==null||typeof le=="boolean"?"":(""+le).trim()}}catch(Pe){st(q,q.return,Pe)}}}else if(u.tag===6){if(p===null){q=u;try{q.stateNode.nodeValue=v?"":q.memoizedProps}catch(Pe){st(q,q.return,Pe)}}}else if(u.tag===18){if(p===null){q=u;try{var oe=q.stateNode;v?Bd(oe,!0):Bd(q.stateNode,!1)}catch(Pe){st(q,q.return,Pe)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===c)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===c)break e;for(;u.sibling===null;){if(u.return===null||u.return===c)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}O&4&&(O=c.updateQueue,O!==null&&(p=O.retryQueue,p!==null&&(O.retryQueue=null,Ao(c,p))));break;case 19:kn(u,c),wn(c),O&4&&(O=c.updateQueue,O!==null&&(c.updateQueue=null,Ao(c,O)));break;case 30:break;case 21:break;default:kn(u,c),wn(c)}}function wn(c){var u=c.flags;if(u&2){try{for(var p,O=c.return;O!==null;){if(zh(O)){p=O;break}O=O.return}if(p==null)throw Error(l(160));switch(p.tag){case 27:var v=p.stateNode,k=Au(c);_o(c,k,v);break;case 5:var _=p.stateNode;p.flags&32&&(Ii(_,""),p.flags&=-33);var R=Au(c);_o(c,R,_);break;case 3:case 4:var q=p.stateNode.containerInfo,te=Au(c);$u(c,te,q);break;default:throw Error(l(161))}}catch(fe){st(c,c.return,fe)}c.flags&=-3}u&4096&&(c.flags&=-4097)}function Ih(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var u=c;Ih(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),c=c.sibling}}function Mi(c,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Uh(c,u.alternate,u),u=u.sibling}function ga(c){for(c=c.child;c!==null;){var u=c;switch(u.tag){case 0:case 11:case 14:case 15:dr(4,u,u.return),ga(u);break;case 1:pi(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&Zh(u,u.return,p),ga(u);break;case 27:hs(u.stateNode);case 26:case 5:pi(u,u.return),ga(u);break;case 22:u.memoizedState===null&&ga(u);break;case 30:ga(u);break;default:ga(u)}c=c.sibling}}function Di(c,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var O=u.alternate,v=c,k=u,_=k.flags;switch(k.tag){case 0:case 11:case 15:Di(v,k,p),ns(4,k);break;case 1:if(Di(v,k,p),O=k,v=O.stateNode,typeof v.componentDidMount=="function")try{v.componentDidMount()}catch(te){st(O,O.return,te)}if(O=k,v=O.updateQueue,v!==null){var R=O.stateNode;try{var q=v.shared.hiddenCallbacks;if(q!==null)for(v.shared.hiddenCallbacks=null,v=0;v<q.length;v++)Cf(q[v],R)}catch(te){st(O,O.return,te)}}p&&_&64&&Lh(k),is(k,k.return);break;case 27:jh(k);case 26:case 5:Di(v,k,p),p&&O===null&&_&4&&Bh(k),is(k,k.return);break;case 12:Di(v,k,p);break;case 31:Di(v,k,p),p&&_&4&&Yh(v,k);break;case 13:Di(v,k,p),p&&_&4&&Gh(v,k);break;case 22:k.memoizedState===null&&Di(v,k,p),is(k,k.return);break;case 30:break;default:Di(v,k,p)}u=u.sibling}}function Ru(c,u){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(c=u.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Ue(p))}function Mu(c,u){c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ue(c))}function ii(c,u,p,O){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Wh(c,u,p,O),u=u.sibling}function Wh(c,u,p,O){var v=u.flags;switch(u.tag){case 0:case 11:case 15:ii(c,u,p,O),v&2048&&ns(9,u);break;case 1:ii(c,u,p,O);break;case 3:ii(c,u,p,O),v&2048&&(c=null,u.alternate!==null&&(c=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==c&&(u.refCount++,c!=null&&Ue(c)));break;case 12:if(v&2048){ii(c,u,p,O),c=u.stateNode;try{var k=u.memoizedProps,_=k.id,R=k.onPostCommit;typeof R=="function"&&R(_,u.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(q){st(u,u.return,q)}}else ii(c,u,p,O);break;case 31:ii(c,u,p,O);break;case 13:ii(c,u,p,O);break;case 23:break;case 22:k=u.stateNode,_=u.alternate,u.memoizedState!==null?k._visibility&2?ii(c,u,p,O):rs(c,u):k._visibility&2?ii(c,u,p,O):(k._visibility|=2,Ua(c,u,p,O,(u.subtreeFlags&10256)!==0||!1)),v&2048&&Ru(_,u);break;case 24:ii(c,u,p,O),v&2048&&Mu(u.alternate,u);break;default:ii(c,u,p,O)}}function Ua(c,u,p,O,v){for(v=v&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var k=c,_=u,R=p,q=O,te=_.flags;switch(_.tag){case 0:case 11:case 15:Ua(k,_,R,q,v),ns(8,_);break;case 23:break;case 22:var fe=_.stateNode;_.memoizedState!==null?fe._visibility&2?Ua(k,_,R,q,v):rs(k,_):(fe._visibility|=2,Ua(k,_,R,q,v)),v&&te&2048&&Ru(_.alternate,_);break;case 24:Ua(k,_,R,q,v),v&&te&2048&&Mu(_.alternate,_);break;default:Ua(k,_,R,q,v)}u=u.sibling}}function rs(c,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=c,O=u,v=O.flags;switch(O.tag){case 22:rs(p,O),v&2048&&Ru(O.alternate,O);break;case 24:rs(p,O),v&2048&&Mu(O.alternate,O);break;default:rs(p,O)}u=u.sibling}}var as=8192;function Va(c,u,p){if(c.subtreeFlags&as)for(c=c.child;c!==null;)Fh(c,u,p),c=c.sibling}function Fh(c,u,p){switch(c.tag){case 26:Va(c,u,p),c.flags&as&&c.memoizedState!==null&&mm(p,ni,c.memoizedState,c.memoizedProps);break;case 5:Va(c,u,p);break;case 3:case 4:var O=ni;ni=Vo(c.stateNode.containerInfo),Va(c,u,p),ni=O;break;case 22:c.memoizedState===null&&(O=c.alternate,O!==null&&O.memoizedState!==null?(O=as,as=16777216,Va(c,u,p),as=O):Va(c,u,p));break;default:Va(c,u,p)}}function Kh(c){var u=c.alternate;if(u!==null&&(c=u.child,c!==null)){u.child=null;do u=c.sibling,c.sibling=null,c=u;while(c!==null)}}function ls(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var O=u[p];Gt=O,ed(O,c)}Kh(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)Jh(c),c=c.sibling}function Jh(c){switch(c.tag){case 0:case 11:case 15:ls(c),c.flags&2048&&dr(9,c,c.return);break;case 3:ls(c);break;case 12:ls(c);break;case 22:var u=c.stateNode;c.memoizedState!==null&&u._visibility&2&&(c.return===null||c.return.tag!==13)?(u._visibility&=-3,$o(c)):ls(c);break;default:ls(c)}}function $o(c){var u=c.deletions;if((c.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var O=u[p];Gt=O,ed(O,c)}Kh(c)}for(c=c.child;c!==null;){switch(u=c,u.tag){case 0:case 11:case 15:dr(8,u,u.return),$o(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,$o(u));break;default:$o(u)}c=c.sibling}}function ed(c,u){for(;Gt!==null;){var p=Gt;switch(p.tag){case 0:case 11:case 15:dr(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var O=p.memoizedState.cachePool.pool;O!=null&&O.refCount++}break;case 24:Ue(p.memoizedState.cache)}if(O=p.child,O!==null)O.return=p,Gt=O;else e:for(p=c;Gt!==null;){O=Gt;var v=O.sibling,k=O.return;if(Vh(O),O===p){Gt=null;break e}if(v!==null){v.return=k,Gt=v;break e}Gt=k}}}var _p={getCacheForType:function(c){var u=Pt(V),p=u.data.get(c);return p===void 0&&(p=c(),u.data.set(c,p)),p},cacheSignal:function(){return Pt(V).controller.signal}},Ap=typeof WeakMap=="function"?WeakMap:Map,rt=0,Ot=null,We=null,et=0,at=0,$n=null,mr=!1,qa=!1,Du=!1,Ni=0,_t=0,gr=0,Oa=0,Nu=0,Pn=0,Ya=0,ss=null,Tn=null,Lu=!1,Po=0,td=0,Ro=1/0,Mo=null,Or=null,Xt=0,Sr=null,Ga=null,Li=0,Zu=0,Bu=null,nd=null,os=0,zu=null;function Rn(){return(rt&2)!==0&&et!==0?et&-et:re.T!==null?Yu():ks()}function rd(){if(Pn===0)if((et&536870912)===0||Ie){var c=Oi;Oi<<=1,(Oi&3932160)===0&&(Oi=262144),Pn=c}else Pn=536870912;return c=_n.current,c!==null&&(c.flags|=32),Pn}function Cn(c,u,p){(c===Ot&&(at===2||at===9)||c.cancelPendingCommit!==null)&&(Ha(c,0),vr(c,et,Pn,!1)),ji(c,p),((rt&2)===0||c!==Ot)&&(c===Ot&&((rt&2)===0&&(Oa|=p),_t===4&&vr(c,et,Pn,!1)),mi(c))}function ad(c,u,p){if((rt&6)!==0)throw Error(l(327));var O=!p&&(u&127)===0&&(u&c.expiredLanes)===0||dn(c,u),v=O?Rp(c,u):Xu(c,u,!0),k=O;do{if(v===0){qa&&!O&&vr(c,u,0,!1);break}else{if(p=c.current.alternate,k&&!$p(p)){v=Xu(c,u,!1),k=!1;continue}if(v===2){if(k=u,c.errorRecoveryDisabledLanes&k)var _=0;else _=c.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){u=_;e:{var R=c;v=ss;var q=R.current.memoizedState.isDehydrated;if(q&&(Ha(R,_).flags|=256),_=Xu(R,_,!1),_!==2){if(Du&&!q){R.errorRecoveryDisabledLanes|=k,Oa|=k,v=4;break e}k=Tn,Tn=v,k!==null&&(Tn===null?Tn=k:Tn.push.apply(Tn,k))}v=_}if(k=!1,v!==2)continue}}if(v===1){Ha(c,0),vr(c,u,0,!0);break}e:{switch(O=c,k=v,k){case 0:case 1:throw Error(l(345));case 4:if((u&4194048)!==u)break;case 6:vr(O,u,Pn,!mr);break e;case 2:Tn=null;break;case 3:case 5:break;default:throw Error(l(329))}if((u&62914560)===u&&(v=Po+300-Ct(),10<v)){if(vr(O,u,Pn,!mr),Mr(O,0,!0)!==0)break e;Li=u,O.timeoutHandle=Nd(ld.bind(null,O,p,Tn,Mo,Lu,u,Pn,Oa,Ya,mr,k,"Throttled",-0,0),v);break e}ld(O,p,Tn,Mo,Lu,u,Pn,Oa,Ya,mr,k,null,-0,0)}}break}while(!0);mi(c)}function ld(c,u,p,O,v,k,_,R,q,te,fe,ge,le,oe){if(c.timeoutHandle=-1,ge=u.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:qn},Fh(u,k,ge);var Pe=(k&62914560)===k?Po-Ct():(k&4194048)===k?td-Ct():0;if(Pe=gm(ge,Pe),Pe!==null){Li=k,c.cancelPendingCommit=Pe(pd.bind(null,c,u,k,p,O,v,_,R,q,fe,ge,null,le,oe)),vr(c,k,_,!te);return}}pd(c,u,k,p,O,v,_,R,q)}function $p(c){for(var u=c;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var O=0;O<p.length;O++){var v=p[O],k=v.getSnapshot;v=v.value;try{if(!sn(k(),v))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===c)break;for(;u.sibling===null;){if(u.return===null||u.return===c)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function vr(c,u,p,O){u&=~Nu,u&=~Oa,c.suspendedLanes|=u,c.pingedLanes&=~u,O&&(c.warmLanes|=u),O=c.expirationTimes;for(var v=u;0<v;){var k=31-Tt(v),_=1<<k;O[k]=-1,v&=~_}p!==0&&vs(c,p,u)}function Do(){return(rt&6)===0?(cs(0),!1):!0}function ju(){if(We!==null){if(at===0)var c=We.return;else c=We,ei=Qn=null,iu(c),Za=null,zl=0,c=We;for(;c!==null;)Nh(c.alternate,c),c=c.return;We=null}}function Ha(c,u){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,Fp(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Li=0,ju(),Ot=c,We=p=yn(c.current,null),et=u,at=0,$n=null,mr=!1,qa=dn(c,u),Du=!1,Ya=Pn=Nu=Oa=gr=_t=0,Tn=ss=null,Lu=!1,(u&8)!==0&&(u|=u&32);var O=c.entangledLanes;if(O!==0)for(c=c.entanglements,O&=u;0<O;){var v=31-Tt(O),k=1<<v;u|=c[v],O&=~k}return Ni=u,er(),p}function sd(c,u){Ye=null,re.H=Il,u===La||u===co?(u=xf(),at=3):u===qc?(u=xf(),at=4):at=u===Su?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,$n=u,We===null&&(_t=1,wo(c,Sn(u,c.current)))}function od(){var c=_n.current;return c===null?!0:(et&4194048)===et?zn===null:(et&62914560)===et||(et&536870912)!==0?c===zn:!1}function cd(){var c=re.H;return re.H=Il,c===null?Il:c}function ud(){var c=re.A;return re.A=_p,c}function No(){_t=4,mr||(et&4194048)!==et&&_n.current!==null||(qa=!0),(gr&134217727)===0&&(Oa&134217727)===0||Ot===null||vr(Ot,et,Pn,!1)}function Xu(c,u,p){var O=rt;rt|=2;var v=cd(),k=ud();(Ot!==c||et!==u)&&(Mo=null,Ha(c,u)),u=!1;var _=_t;e:do try{if(at!==0&&We!==null){var R=We,q=$n;switch(at){case 8:ju(),_=6;break e;case 3:case 2:case 9:case 6:_n.current===null&&(u=!0);var te=at;if(at=0,$n=null,Ia(c,R,q,te),p&&qa){_=0;break e}break;default:te=at,at=0,$n=null,Ia(c,R,q,te)}}Pp(),_=_t;break}catch(fe){sd(c,fe)}while(!0);return u&&c.shellSuspendCounter++,ei=Qn=null,rt=O,re.H=v,re.A=k,We===null&&(Ot=null,et=0,er()),_}function Pp(){for(;We!==null;)fd(We)}function Rp(c,u){var p=rt;rt|=2;var O=cd(),v=ud();Ot!==c||et!==u?(Mo=null,Ro=Ct()+500,Ha(c,u)):qa=dn(c,u);e:do try{if(at!==0&&We!==null){u=We;var k=$n;t:switch(at){case 1:at=0,$n=null,Ia(c,u,k,1);break;case 2:case 9:if(vf(k)){at=0,$n=null,hd(u);break}u=function(){at!==2&&at!==9||Ot!==c||(at=7),mi(c)},k.then(u,u);break e;case 3:at=7;break e;case 4:at=5;break e;case 7:vf(k)?(at=0,$n=null,hd(u)):(at=0,$n=null,Ia(c,u,k,7));break;case 5:var _=null;switch(We.tag){case 26:_=We.memoizedState;case 5:case 27:var R=We;if(_?Fd(_):R.stateNode.complete){at=0,$n=null;var q=R.sibling;if(q!==null)We=q;else{var te=R.return;te!==null?(We=te,Lo(te)):We=null}break t}}at=0,$n=null,Ia(c,u,k,5);break;case 6:at=0,$n=null,Ia(c,u,k,6);break;case 8:ju(),_t=6;break e;default:throw Error(l(462))}}Mp();break}catch(fe){sd(c,fe)}while(!0);return ei=Qn=null,re.H=O,re.A=v,rt=p,We!==null?0:(Ot=null,et=0,er(),_t)}function Mp(){for(;We!==null&&!en();)fd(We)}function fd(c){var u=Mh(c.alternate,c,Ni);c.memoizedProps=c.pendingProps,u===null?Lo(c):We=u}function hd(c){var u=c,p=u.alternate;switch(u.tag){case 15:case 0:u=Qh(p,u,u.pendingProps,u.type,void 0,et);break;case 11:u=Qh(p,u,u.pendingProps,u.type.render,u.ref,et);break;case 5:iu(u);default:Nh(p,u),u=We=Pl(u,Ni),u=Mh(p,u,Ni)}c.memoizedProps=c.pendingProps,u===null?Lo(c):We=u}function Ia(c,u,p,O){ei=Qn=null,iu(u),Za=null,zl=0;var v=u.return;try{if(xp(c,v,u,p,et)){_t=1,wo(c,Sn(p,c.current)),We=null;return}}catch(k){if(v!==null)throw We=v,k;_t=1,wo(c,Sn(p,c.current)),We=null;return}u.flags&32768?(Ie||O===1?c=!0:qa||(et&536870912)!==0?c=!1:(mr=c=!0,(O===2||O===9||O===3||O===6)&&(O=_n.current,O!==null&&O.tag===13&&(O.flags|=16384))),dd(u,c)):Lo(u)}function Lo(c){var u=c;do{if((u.flags&32768)!==0){dd(u,mr);return}c=u.return;var p=Tp(u.alternate,u,Ni);if(p!==null){We=p;return}if(u=u.sibling,u!==null){We=u;return}We=u=c}while(u!==null);_t===0&&(_t=5)}function dd(c,u){do{var p=Cp(c.alternate,c);if(p!==null){p.flags&=32767,We=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(c=c.sibling,c!==null)){We=c;return}We=c=p}while(c!==null);_t=6,We=null}function pd(c,u,p,O,v,k,_,R,q){c.cancelPendingCommit=null;do Zo();while(Xt!==0);if((rt&6)!==0)throw Error(l(327));if(u!==null){if(u===c.current)throw Error(l(177));if(k=u.lanes|u.childLanes,k|=Al,ic(c,p,k,_,R,q),c===Ot&&(We=Ot=null,et=0),Ga=u,Sr=c,Li=p,Zu=k,Bu=v,nd=O,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Zp(gt,function(){return Sd(),null})):(c.callbackNode=null,c.callbackPriority=0),O=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||O){O=re.T,re.T=null,v=Oe.p,Oe.p=2,_=rt,rt|=4;try{Ep(c,u,p)}finally{rt=_,Oe.p=v,re.T=O}}Xt=1,md(),gd(),Od()}}function md(){if(Xt===1){Xt=0;var c=Sr,u=Ga,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=re.T,re.T=null;var O=Oe.p;Oe.p=2;var v=rt;rt|=4;try{Hh(u,c);var k=ef,_=vl(c.containerInfo),R=k.focusedElem,q=k.selectionRange;if(_!==R&&R&&R.ownerDocument&&Sl(R.ownerDocument.documentElement,R)){if(q!==null&&bl(R)){var te=q.start,fe=q.end;if(fe===void 0&&(fe=te),"selectionStart"in R)R.selectionStart=te,R.selectionEnd=Math.min(fe,R.value.length);else{var ge=R.ownerDocument||document,le=ge&&ge.defaultView||window;if(le.getSelection){var oe=le.getSelection(),Pe=R.textContent.length,ze=Math.min(q.start,Pe),dt=q.end===void 0?ze:Math.min(q.end,Pe);!oe.extend&&ze>dt&&(_=dt,dt=ze,ze=_);var F=eo(R,ze),H=eo(R,dt);if(F&&H&&(oe.rangeCount!==1||oe.anchorNode!==F.node||oe.anchorOffset!==F.offset||oe.focusNode!==H.node||oe.focusOffset!==H.offset)){var ee=ge.createRange();ee.setStart(F.node,F.offset),oe.removeAllRanges(),ze>dt?(oe.addRange(ee),oe.extend(H.node,H.offset)):(ee.setEnd(H.node,H.offset),oe.addRange(ee))}}}}for(ge=[],oe=R;oe=oe.parentNode;)oe.nodeType===1&&ge.push({element:oe,left:oe.scrollLeft,top:oe.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ge.length;R++){var pe=ge[R];pe.element.scrollLeft=pe.left,pe.element.scrollTop=pe.top}}Wo=!!Ju,ef=Ju=null}finally{rt=v,Oe.p=O,re.T=p}}c.current=u,Xt=2}}function gd(){if(Xt===2){Xt=0;var c=Sr,u=Ga,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=re.T,re.T=null;var O=Oe.p;Oe.p=2;var v=rt;rt|=4;try{Uh(c,u.alternate,u)}finally{rt=v,Oe.p=O,re.T=p}}Xt=3}}function Od(){if(Xt===4||Xt===3){Xt=0,gi();var c=Sr,u=Ga,p=Li,O=nd;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Xt=5:(Xt=0,Ga=Sr=null,yd(c,c.pendingLanes));var v=c.pendingLanes;if(v===0&&(Or=null),nl(p),u=u.stateNode,bt&&typeof bt.onCommitFiberRoot=="function")try{bt.onCommitFiberRoot(Dt,u,void 0,(u.current.flags&128)===128)}catch{}if(O!==null){u=re.T,v=Oe.p,Oe.p=2,re.T=null;try{for(var k=c.onRecoverableError,_=0;_<O.length;_++){var R=O[_];k(R.value,{componentStack:R.stack})}}finally{re.T=u,Oe.p=v}}(Li&3)!==0&&Zo(),mi(c),v=c.pendingLanes,(p&261930)!==0&&(v&42)!==0?c===zu?os++:(os=0,zu=c):os=0,cs(0)}}function yd(c,u){(c.pooledCacheLanes&=u)===0&&(u=c.pooledCache,u!=null&&(c.pooledCache=null,Ue(u)))}function Zo(){return md(),gd(),Od(),Sd()}function Sd(){if(Xt!==5)return!1;var c=Sr,u=Zu;Zu=0;var p=nl(Li),O=re.T,v=Oe.p;try{Oe.p=32>p?32:p,re.T=null,p=Bu,Bu=null;var k=Sr,_=Li;if(Xt=0,Ga=Sr=null,Li=0,(rt&6)!==0)throw Error(l(331));var R=rt;if(rt|=4,Jh(k.current),Wh(k,k.current,_,p),rt=R,cs(0,!1),bt&&typeof bt.onPostCommitFiberRoot=="function")try{bt.onPostCommitFiberRoot(Dt,k)}catch{}return!0}finally{Oe.p=v,re.T=O,yd(c,u)}}function vd(c,u,p){u=Sn(p,u),u=yu(c.stateNode,u,2),c=ur(c,u,2),c!==null&&(ji(c,2),mi(c))}function st(c,u,p){if(c.tag===3)vd(c,c,p);else for(;u!==null;){if(u.tag===3){vd(u,c,p);break}else if(u.tag===1){var O=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof O.componentDidCatch=="function"&&(Or===null||!Or.has(O))){c=Sn(p,c),p=vh(2),O=ur(u,p,2),O!==null&&(bh(p,O,u,c),ji(O,2),mi(O));break}}u=u.return}}function Uu(c,u,p){var O=c.pingCache;if(O===null){O=c.pingCache=new Ap;var v=new Set;O.set(u,v)}else v=O.get(u),v===void 0&&(v=new Set,O.set(u,v));v.has(p)||(Du=!0,v.add(p),c=Dp.bind(null,c,u,p),u.then(c,c))}function Dp(c,u,p){var O=c.pingCache;O!==null&&O.delete(u),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Ot===c&&(et&p)===p&&(_t===4||_t===3&&(et&62914560)===et&&300>Ct()-Po?(rt&2)===0&&Ha(c,0):Nu|=p,Ya===et&&(Ya=0)),mi(c)}function bd(c,u){u===0&&(u=Ss()),c=Ti(c,u),c!==null&&(ji(c,u),mi(c))}function Np(c){var u=c.memoizedState,p=0;u!==null&&(p=u.retryLane),bd(c,p)}function Lp(c,u){var p=0;switch(c.tag){case 31:case 13:var O=c.stateNode,v=c.memoizedState;v!==null&&(p=v.retryLane);break;case 19:O=c.stateNode;break;case 22:O=c.stateNode._retryCache;break;default:throw Error(l(314))}O!==null&&O.delete(u),bd(c,p)}function Zp(c,u){return Xe(c,u)}var Bo=null,Wa=null,Vu=!1,zo=!1,qu=!1,br=0;function mi(c){c!==Wa&&c.next===null&&(Wa===null?Bo=Wa=c:Wa=Wa.next=c),zo=!0,Vu||(Vu=!0,zp())}function cs(c,u){if(!qu&&zo){qu=!0;do for(var p=!1,O=Bo;O!==null;){if(c!==0){var v=O.pendingLanes;if(v===0)var k=0;else{var _=O.suspendedLanes,R=O.pingedLanes;k=(1<<31-Tt(42|c)+1)-1,k&=v&~(_&~R),k=k&201326741?k&201326741|1:k?k|2:0}k!==0&&(p=!0,Td(O,k))}else k=et,k=Mr(O,O===Ot?k:0,O.cancelPendingCommit!==null||O.timeoutHandle!==-1),(k&3)===0||dn(O,k)||(p=!0,Td(O,k));O=O.next}while(p);qu=!1}}function Bp(){xd()}function xd(){zo=Vu=!1;var c=0;br!==0&&Wp()&&(c=br);for(var u=Ct(),p=null,O=Bo;O!==null;){var v=O.next,k=kd(O,u);k===0?(O.next=null,p===null?Bo=v:p.next=v,v===null&&(Wa=p)):(p=O,(c!==0||(k&3)!==0)&&(zo=!0)),O=v}Xt!==0&&Xt!==5||cs(c),br!==0&&(br=0)}function kd(c,u){for(var p=c.suspendedLanes,O=c.pingedLanes,v=c.expirationTimes,k=c.pendingLanes&-62914561;0<k;){var _=31-Tt(k),R=1<<_,q=v[_];q===-1?((R&p)===0||(R&O)!==0)&&(v[_]=ai(R,u)):q<=u&&(c.expiredLanes|=R),k&=~R}if(u=Ot,p=et,p=Mr(c,c===u?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),O=c.callbackNode,p===0||c===u&&(at===2||at===9)||c.cancelPendingCommit!==null)return O!==null&&O!==null&&wt(O),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||dn(c,p)){if(u=p&-p,u===c.callbackPriority)return u;switch(O!==null&&wt(O),nl(p)){case 2:case 8:p=zi;break;case 32:p=gt;break;case 268435456:p=At;break;default:p=gt}return O=wd.bind(null,c),p=Xe(p,O),c.callbackPriority=u,c.callbackNode=p,u}return O!==null&&O!==null&&wt(O),c.callbackPriority=2,c.callbackNode=null,2}function wd(c,u){if(Xt!==0&&Xt!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Zo()&&c.callbackNode!==p)return null;var O=et;return O=Mr(c,c===Ot?O:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),O===0?null:(ad(c,O,u),kd(c,Ct()),c.callbackNode!=null&&c.callbackNode===p?wd.bind(null,c):null)}function Td(c,u){if(Zo())return null;ad(c,u,!0)}function zp(){Kp(function(){(rt&6)!==0?Xe(Bi,Bp):xd()})}function Yu(){if(br===0){var c=Da;c===0&&(c=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),br=c}return br}function Cd(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:xa(""+c)}function Ed(c,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,c.id&&p.setAttribute("form",c.id),u.parentNode.insertBefore(p,u),c=new FormData(c),p.parentNode.removeChild(p),c}function jp(c,u,p,O,v){if(u==="submit"&&p&&p.stateNode===v){var k=Cd((v[nn]||null).action),_=O.submitter;_&&(u=(u=_[nn]||null)?Cd(u.formAction):_.getAttribute("formAction"),u!==null&&(k=u,_=null));var R=new Ca("action","action",null,O,v);c.push({event:R,listeners:[{instance:null,listener:function(){if(O.defaultPrevented){if(br!==0){var q=_?Ed(v,_):new FormData(v);hu(p,{pending:!0,data:q,method:v.method,action:k},null,q)}}else typeof k=="function"&&(R.preventDefault(),q=_?Ed(v,_):new FormData(v),hu(p,{pending:!0,data:q,method:v.method,action:k},k,q))},currentTarget:v}]})}}for(var Gu=0;Gu<ia.length;Gu++){var Hu=ia[Gu],Xp=Hu.toLowerCase(),Up=Hu[0].toUpperCase()+Hu.slice(1);En(Xp,"on"+Up)}En(no,"onAnimationEnd"),En(Tl,"onAnimationIteration"),En($a,"onAnimationStart"),En("dblclick","onDoubleClick"),En("focusin","onFocus"),En("focusout","onBlur"),En(Cl,"onTransitionRun"),En(jc,"onTransitionStart"),En(El,"onTransitionCancel"),En(io,"onTransitionEnd"),Yi("onMouseEnter",["mouseout","mouseover"]),Yi("onMouseLeave",["mouseout","mouseover"]),Yi("onPointerEnter",["pointerout","pointerover"]),Yi("onPointerLeave",["pointerout","pointerover"]),bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Vp=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(us));function Qd(c,u){u=(u&4)!==0;for(var p=0;p<c.length;p++){var O=c[p],v=O.event;O=O.listeners;e:{var k=void 0;if(u)for(var _=O.length-1;0<=_;_--){var R=O[_],q=R.instance,te=R.currentTarget;if(R=R.listener,q!==k&&v.isPropagationStopped())break e;k=R,v.currentTarget=te;try{k(v)}catch(fe){ra(fe)}v.currentTarget=null,k=q}else for(_=0;_<O.length;_++){if(R=O[_],q=R.instance,te=R.currentTarget,R=R.listener,q!==k&&v.isPropagationStopped())break e;k=R,v.currentTarget=te;try{k(v)}catch(fe){ra(fe)}v.currentTarget=null,k=q}}}}function Fe(c,u){var p=u[il];p===void 0&&(p=u[il]=new Set);var O=c+"__bubble";p.has(O)||(_d(u,c,2,!1),p.add(O))}function Iu(c,u,p){var O=0;u&&(O|=4),_d(p,c,O,u)}var jo="_reactListening"+Math.random().toString(36).slice(2);function Wu(c){if(!c[jo]){c[jo]=!0,vi.forEach(function(p){p!=="selectionchange"&&(Vp.has(p)||Iu(p,!1,c),Iu(p,!0,c))});var u=c.nodeType===9?c:c.ownerDocument;u===null||u[jo]||(u[jo]=!0,Iu("selectionchange",!1,u))}}function _d(c,u,p,O){switch(rp(u)){case 2:var v=Sm;break;case 8:v=vm;break;default:v=hf}p=v.bind(null,u,p,c),v=void 0,!hl||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(v=!0),O?v!==void 0?c.addEventListener(u,p,{capture:!0,passive:v}):c.addEventListener(u,p,!0):v!==void 0?c.addEventListener(u,p,{passive:v}):c.addEventListener(u,p,!1)}function Fu(c,u,p,O,v){var k=O;if((u&1)===0&&(u&2)===0&&O!==null)e:for(;;){if(O===null)return;var _=O.tag;if(_===3||_===4){var R=O.stateNode.containerInfo;if(R===v)break;if(_===4)for(_=O.return;_!==null;){var q=_.tag;if((q===3||q===4)&&_.stateNode.containerInfo===v)return;_=_.return}for(;R!==null;){if(_=Ui(R),_===null)return;if(q=_.tag,q===5||q===6||q===26||q===27){O=k=_;continue e}R=R.parentNode}}O=O.return}Ls(function(){var te=k,fe=ul(p),ge=[];e:{var le=_l.get(c);if(le!==void 0){var oe=Ca,Pe=c;switch(c){case"keypress":if(wa(p)===0)break e;case"keydown":case"keyup":oe=Tc;break;case"focusin":Pe="focus",oe=gl;break;case"focusout":Pe="blur",oe=gl;break;case"beforeblur":case"afterblur":oe=gl;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":oe=zs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":oe=dc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":oe=Qc;break;case no:case Tl:case $a:oe=gc;break;case io:oe=Ac;break;case"scroll":case"scrollend":oe=fc;break;case"wheel":oe=Pc;break;case"copy":case"cut":case"paste":oe=yc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":oe=Us;break;case"toggle":case"beforetoggle":oe=Mc}var ze=(u&4)!==0,dt=!ze&&(c==="scroll"||c==="scrollend"),F=ze?le!==null?le+"Capture":null:le;ze=[];for(var H=te,ee;H!==null;){var pe=H;if(ee=pe.stateNode,pe=pe.tag,pe!==5&&pe!==26&&pe!==27||ee===null||F===null||(pe=Ur(H,F),pe!=null&&ze.push(fs(H,pe,ee))),dt)break;H=H.return}0<ze.length&&(le=new oe(le,Pe,null,p,fe),ge.push({event:le,listeners:ze}))}}if((u&7)===0){e:{if(le=c==="mouseover"||c==="pointerover",oe=c==="mouseout"||c==="pointerout",le&&p!==cl&&(Pe=p.relatedTarget||p.fromElement)&&(Ui(Pe)||Pe[Xi]))break e;if((oe||le)&&(le=fe.window===fe?fe:(le=fe.ownerDocument)?le.defaultView||le.parentWindow:window,oe?(Pe=p.relatedTarget||p.toElement,oe=te,Pe=Pe?Ui(Pe):null,Pe!==null&&(dt=f(Pe),ze=Pe.tag,Pe!==dt||ze!==5&&ze!==27&&ze!==6)&&(Pe=null)):(oe=null,Pe=te),oe!==Pe)){if(ze=zs,pe="onMouseLeave",F="onMouseEnter",H="mouse",(c==="pointerout"||c==="pointerover")&&(ze=Us,pe="onPointerLeave",F="onPointerEnter",H="pointer"),dt=oe==null?le:zr(oe),ee=Pe==null?le:zr(Pe),le=new ze(pe,H+"leave",oe,p,fe),le.target=dt,le.relatedTarget=ee,pe=null,Ui(fe)===te&&(ze=new ze(F,H+"enter",Pe,p,fe),ze.target=ee,ze.relatedTarget=dt,pe=ze),dt=pe,oe&&Pe)t:{for(ze=qp,F=oe,H=Pe,ee=0,pe=F;pe;pe=ze(pe))ee++;pe=0;for(var Be=H;Be;Be=ze(Be))pe++;for(;0<ee-pe;)F=ze(F),ee--;for(;0<pe-ee;)H=ze(H),pe--;for(;ee--;){if(F===H||H!==null&&F===H.alternate){ze=F;break t}F=ze(F),H=ze(H)}ze=null}else ze=null;oe!==null&&Ad(ge,le,oe,ze,!1),Pe!==null&&dt!==null&&Ad(ge,dt,Pe,ze,!0)}}e:{if(le=te?zr(te):window,oe=le.nodeName&&le.nodeName.toLowerCase(),oe==="select"||oe==="input"&&le.type==="file")var nt=si;else if(gn(le))if(Fr)nt=Zc;else{nt=Qa;var Me=Fs}else oe=le.nodeName,!oe||oe.toLowerCase()!=="input"||le.type!=="checkbox"&&le.type!=="radio"?te&&ol(te.elementType)&&(nt=si):nt=de;if(nt&&(nt=nt(c,te))){Wr(ge,nt,p,fe);break e}Me&&Me(c,le,te),c==="focusout"&&te&&le.type==="number"&&te.memoizedProps.value!=null&&sl(le,"number",le.value)}switch(Me=te?zr(te):window,c){case"focusin":(gn(Me)||Me.contentEditable==="true")&&(ki=Me,Aa=te,na=null);break;case"focusout":na=Aa=ki=null;break;case"mousedown":xl=!0;break;case"contextmenu":case"mouseup":case"dragend":xl=!1,kl(ge,p,fe);break;case"selectionchange":if(zc)break;case"keydown":case"keyup":kl(ge,p,fe)}var Ge;if(yl)e:{switch(c){case"compositionstart":var tt="onCompositionStart";break e;case"compositionend":tt="onCompositionEnd";break e;case"compositionupdate":tt="onCompositionUpdate";break e}tt=void 0}else Fi?Gs(c,p)&&(tt="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(tt="onCompositionStart");tt&&(Vs&&p.locale!=="ko"&&(Fi||tt!=="onCompositionStart"?tt==="onCompositionEnd"&&Fi&&(Ge=Zs()):(li=fe,dl="value"in li?li.value:li.textContent,Fi=!0)),Me=Xo(te,tt),0<Me.length&&(tt=new js(tt,c,null,p,fe),ge.push({event:tt,listeners:Me}),Ge?tt.data=Ge:(Ge=Hs(p),Ge!==null&&(tt.data=Ge)))),(Ge=Nc?T(c,p):Ae(c,p))&&(tt=Xo(te,"onBeforeInput"),0<tt.length&&(Me=new js("onBeforeInput","beforeinput",null,p,fe),ge.push({event:Me,listeners:tt}),Me.data=Ge)),jp(ge,c,te,p,fe)}Qd(ge,u)})}function fs(c,u,p){return{instance:c,listener:u,currentTarget:p}}function Xo(c,u){for(var p=u+"Capture",O=[];c!==null;){var v=c,k=v.stateNode;if(v=v.tag,v!==5&&v!==26&&v!==27||k===null||(v=Ur(c,p),v!=null&&O.unshift(fs(c,v,k)),v=Ur(c,u),v!=null&&O.push(fs(c,v,k))),c.tag===3)return O;c=c.return}return[]}function qp(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function Ad(c,u,p,O,v){for(var k=u._reactName,_=[];p!==null&&p!==O;){var R=p,q=R.alternate,te=R.stateNode;if(R=R.tag,q!==null&&q===O)break;R!==5&&R!==26&&R!==27||te===null||(q=te,v?(te=Ur(p,k),te!=null&&_.unshift(fs(p,te,q))):v||(te=Ur(p,k),te!=null&&_.push(fs(p,te,q)))),p=p.return}_.length!==0&&c.push({event:u,listeners:_})}var Yp=/\r\n?/g,Gp=/\u0000|\uFFFD/g;function $d(c){return(typeof c=="string"?c:""+c).replace(Yp,`
`).replace(Gp,"")}function Pd(c,u){return u=$d(u),$d(c)===u}function ut(c,u,p,O,v,k){switch(p){case"children":typeof O=="string"?u==="body"||u==="textarea"&&O===""||Ii(c,O):(typeof O=="number"||typeof O=="bigint")&&u!=="body"&&Ii(c,""+O);break;case"className":Xr(c,"class",O);break;case"tabIndex":Xr(c,"tabindex",O);break;case"dir":case"role":case"viewBox":case"width":case"height":Xr(c,p,O);break;case"style":Ds(c,O,k);break;case"data":if(u!=="object"){Xr(c,"data",O);break}case"src":case"href":if(O===""&&(u!=="a"||p!=="href")){c.removeAttribute(p);break}if(O==null||typeof O=="function"||typeof O=="symbol"||typeof O=="boolean"){c.removeAttribute(p);break}O=xa(""+O),c.setAttribute(p,O);break;case"action":case"formAction":if(typeof O=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof k=="function"&&(p==="formAction"?(u!=="input"&&ut(c,u,"name",v.name,v,null),ut(c,u,"formEncType",v.formEncType,v,null),ut(c,u,"formMethod",v.formMethod,v,null),ut(c,u,"formTarget",v.formTarget,v,null)):(ut(c,u,"encType",v.encType,v,null),ut(c,u,"method",v.method,v,null),ut(c,u,"target",v.target,v,null)));if(O==null||typeof O=="symbol"||typeof O=="boolean"){c.removeAttribute(p);break}O=xa(""+O),c.setAttribute(p,O);break;case"onClick":O!=null&&(c.onclick=qn);break;case"onScroll":O!=null&&Fe("scroll",c);break;case"onScrollEnd":O!=null&&Fe("scrollend",c);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(l(61));if(p=O.__html,p!=null){if(v.children!=null)throw Error(l(60));c.innerHTML=p}}break;case"multiple":c.multiple=O&&typeof O!="function"&&typeof O!="symbol";break;case"muted":c.muted=O&&typeof O!="function"&&typeof O!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(O==null||typeof O=="function"||typeof O=="boolean"||typeof O=="symbol"){c.removeAttribute("xlink:href");break}p=xa(""+O),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":O!=null&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,""+O):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":O&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":O===!0?c.setAttribute(p,""):O!==!1&&O!=null&&typeof O!="function"&&typeof O!="symbol"?c.setAttribute(p,O):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":O!=null&&typeof O!="function"&&typeof O!="symbol"&&!isNaN(O)&&1<=O?c.setAttribute(p,O):c.removeAttribute(p);break;case"rowSpan":case"start":O==null||typeof O=="function"||typeof O=="symbol"||isNaN(O)?c.removeAttribute(p):c.setAttribute(p,O);break;case"popover":Fe("beforetoggle",c),Fe("toggle",c),Sa(c,"popover",O);break;case"xlinkActuate":Mn(c,"http://www.w3.org/1999/xlink","xlink:actuate",O);break;case"xlinkArcrole":Mn(c,"http://www.w3.org/1999/xlink","xlink:arcrole",O);break;case"xlinkRole":Mn(c,"http://www.w3.org/1999/xlink","xlink:role",O);break;case"xlinkShow":Mn(c,"http://www.w3.org/1999/xlink","xlink:show",O);break;case"xlinkTitle":Mn(c,"http://www.w3.org/1999/xlink","xlink:title",O);break;case"xlinkType":Mn(c,"http://www.w3.org/1999/xlink","xlink:type",O);break;case"xmlBase":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:base",O);break;case"xmlLang":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:lang",O);break;case"xmlSpace":Mn(c,"http://www.w3.org/XML/1998/namespace","xml:space",O);break;case"is":Sa(c,"is",O);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=cc.get(p)||p,Sa(c,p,O))}}function Ku(c,u,p,O,v,k){switch(p){case"style":Ds(c,O,k);break;case"dangerouslySetInnerHTML":if(O!=null){if(typeof O!="object"||!("__html"in O))throw Error(l(61));if(p=O.__html,p!=null){if(v.children!=null)throw Error(l(60));c.innerHTML=p}}break;case"children":typeof O=="string"?Ii(c,O):(typeof O=="number"||typeof O=="bigint")&&Ii(c,""+O);break;case"onScroll":O!=null&&Fe("scroll",c);break;case"onScrollEnd":O!=null&&Fe("scrollend",c);break;case"onClick":O!=null&&(c.onclick=qn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Cs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(v=p.endsWith("Capture"),u=p.slice(2,v?p.length-7:void 0),k=c[nn]||null,k=k!=null?k[p]:null,typeof k=="function"&&c.removeEventListener(u,k,v),typeof O=="function")){typeof k!="function"&&k!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(u,O,v);break e}p in c?c[p]=O:O===!0?c.setAttribute(p,""):Sa(c,p,O)}}}function Wt(c,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Fe("error",c),Fe("load",c);var O=!1,v=!1,k;for(k in p)if(p.hasOwnProperty(k)){var _=p[k];if(_!=null)switch(k){case"src":O=!0;break;case"srcSet":v=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,u));default:ut(c,u,k,_,p,null)}}v&&ut(c,u,"srcSet",p.srcSet,p,null),O&&ut(c,u,"src",p.src,p,null);return;case"input":Fe("invalid",c);var R=k=_=v=null,q=null,te=null;for(O in p)if(p.hasOwnProperty(O)){var fe=p[O];if(fe!=null)switch(O){case"name":v=fe;break;case"type":_=fe;break;case"checked":q=fe;break;case"defaultChecked":te=fe;break;case"value":k=fe;break;case"defaultValue":R=fe;break;case"children":case"dangerouslySetInnerHTML":if(fe!=null)throw Error(l(137,u));break;default:ut(c,u,O,fe,p,null)}}ba(c,k,R,q,te,_,v,!1);return;case"select":Fe("invalid",c),O=_=k=null;for(v in p)if(p.hasOwnProperty(v)&&(R=p[v],R!=null))switch(v){case"value":k=R;break;case"defaultValue":_=R;break;case"multiple":O=R;default:ut(c,u,v,R,p,null)}u=k,p=_,c.multiple=!!O,u!=null?Hi(c,!!O,u,!1):p!=null&&Hi(c,!!O,p,!0);return;case"textarea":Fe("invalid",c),k=v=O=null;for(_ in p)if(p.hasOwnProperty(_)&&(R=p[_],R!=null))switch(_){case"value":O=R;break;case"defaultValue":v=R;break;case"children":k=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(l(91));break;default:ut(c,u,_,R,p,null)}Rs(c,O,v,k);return;case"option":for(q in p)p.hasOwnProperty(q)&&(O=p[q],O!=null)&&(q==="selected"?c.selected=O&&typeof O!="function"&&typeof O!="symbol":ut(c,u,q,O,p,null));return;case"dialog":Fe("beforetoggle",c),Fe("toggle",c),Fe("cancel",c),Fe("close",c);break;case"iframe":case"object":Fe("load",c);break;case"video":case"audio":for(O=0;O<us.length;O++)Fe(us[O],c);break;case"image":Fe("error",c),Fe("load",c);break;case"details":Fe("toggle",c);break;case"embed":case"source":case"link":Fe("error",c),Fe("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(te in p)if(p.hasOwnProperty(te)&&(O=p[te],O!=null))switch(te){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,u));default:ut(c,u,te,O,p,null)}return;default:if(ol(u)){for(fe in p)p.hasOwnProperty(fe)&&(O=p[fe],O!==void 0&&Ku(c,u,fe,O,p,void 0));return}}for(R in p)p.hasOwnProperty(R)&&(O=p[R],O!=null&&ut(c,u,R,O,p,null))}function Hp(c,u,p,O){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var v=null,k=null,_=null,R=null,q=null,te=null,fe=null;for(oe in p){var ge=p[oe];if(p.hasOwnProperty(oe)&&ge!=null)switch(oe){case"checked":break;case"value":break;case"defaultValue":q=ge;default:O.hasOwnProperty(oe)||ut(c,u,oe,null,O,ge)}}for(var le in O){var oe=O[le];if(ge=p[le],O.hasOwnProperty(le)&&(oe!=null||ge!=null))switch(le){case"type":k=oe;break;case"name":v=oe;break;case"checked":te=oe;break;case"defaultChecked":fe=oe;break;case"value":_=oe;break;case"defaultValue":R=oe;break;case"children":case"dangerouslySetInnerHTML":if(oe!=null)throw Error(l(137,u));break;default:oe!==ge&&ut(c,u,le,oe,O,ge)}}ll(c,_,R,q,te,fe,k,v);return;case"select":oe=_=R=le=null;for(k in p)if(q=p[k],p.hasOwnProperty(k)&&q!=null)switch(k){case"value":break;case"multiple":oe=q;default:O.hasOwnProperty(k)||ut(c,u,k,null,O,q)}for(v in O)if(k=O[v],q=p[v],O.hasOwnProperty(v)&&(k!=null||q!=null))switch(v){case"value":le=k;break;case"defaultValue":R=k;break;case"multiple":_=k;default:k!==q&&ut(c,u,v,k,O,q)}u=R,p=_,O=oe,le!=null?Hi(c,!!p,le,!1):!!O!=!!p&&(u!=null?Hi(c,!!p,u,!0):Hi(c,!!p,p?[]:"",!1));return;case"textarea":oe=le=null;for(R in p)if(v=p[R],p.hasOwnProperty(R)&&v!=null&&!O.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ut(c,u,R,null,O,v)}for(_ in O)if(v=O[_],k=p[_],O.hasOwnProperty(_)&&(v!=null||k!=null))switch(_){case"value":le=v;break;case"defaultValue":oe=v;break;case"children":break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(l(91));break;default:v!==k&&ut(c,u,_,v,O,k)}Ps(c,le,oe);return;case"option":for(var Pe in p)le=p[Pe],p.hasOwnProperty(Pe)&&le!=null&&!O.hasOwnProperty(Pe)&&(Pe==="selected"?c.selected=!1:ut(c,u,Pe,null,O,le));for(q in O)le=O[q],oe=p[q],O.hasOwnProperty(q)&&le!==oe&&(le!=null||oe!=null)&&(q==="selected"?c.selected=le&&typeof le!="function"&&typeof le!="symbol":ut(c,u,q,le,O,oe));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ze in p)le=p[ze],p.hasOwnProperty(ze)&&le!=null&&!O.hasOwnProperty(ze)&&ut(c,u,ze,null,O,le);for(te in O)if(le=O[te],oe=p[te],O.hasOwnProperty(te)&&le!==oe&&(le!=null||oe!=null))switch(te){case"children":case"dangerouslySetInnerHTML":if(le!=null)throw Error(l(137,u));break;default:ut(c,u,te,le,O,oe)}return;default:if(ol(u)){for(var dt in p)le=p[dt],p.hasOwnProperty(dt)&&le!==void 0&&!O.hasOwnProperty(dt)&&Ku(c,u,dt,void 0,O,le);for(fe in O)le=O[fe],oe=p[fe],!O.hasOwnProperty(fe)||le===oe||le===void 0&&oe===void 0||Ku(c,u,fe,le,O,oe);return}}for(var F in p)le=p[F],p.hasOwnProperty(F)&&le!=null&&!O.hasOwnProperty(F)&&ut(c,u,F,null,O,le);for(ge in O)le=O[ge],oe=p[ge],!O.hasOwnProperty(ge)||le===oe||le==null&&oe==null||ut(c,u,ge,le,O,oe)}function Rd(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Ip(){if(typeof performance.getEntriesByType=="function"){for(var c=0,u=0,p=performance.getEntriesByType("resource"),O=0;O<p.length;O++){var v=p[O],k=v.transferSize,_=v.initiatorType,R=v.duration;if(k&&R&&Rd(_)){for(_=0,R=v.responseEnd,O+=1;O<p.length;O++){var q=p[O],te=q.startTime;if(te>R)break;var fe=q.transferSize,ge=q.initiatorType;fe&&Rd(ge)&&(q=q.responseEnd,_+=fe*(q<R?1:(R-te)/(q-te)))}if(--O,u+=8*(k+_)/(v.duration/1e3),c++,10<c)break}}if(0<c)return u/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Ju=null,ef=null;function Uo(c){return c.nodeType===9?c:c.ownerDocument}function Md(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Dd(c,u){if(c===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&u==="foreignObject"?0:c}function tf(c,u){return c==="textarea"||c==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var nf=null;function Wp(){var c=window.event;return c&&c.type==="popstate"?c===nf?!1:(nf=c,!0):(nf=null,!1)}var Nd=typeof setTimeout=="function"?setTimeout:void 0,Fp=typeof clearTimeout=="function"?clearTimeout:void 0,Ld=typeof Promise=="function"?Promise:void 0,Kp=typeof queueMicrotask=="function"?queueMicrotask:typeof Ld<"u"?function(c){return Ld.resolve(null).then(c).catch(Jp)}:Nd;function Jp(c){setTimeout(function(){throw c})}function wr(c){return c==="head"}function Zd(c,u){var p=u,O=0;do{var v=p.nextSibling;if(c.removeChild(p),v&&v.nodeType===8)if(p=v.data,p==="/$"||p==="/&"){if(O===0){c.removeChild(v),el(u);return}O--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")O++;else if(p==="html")hs(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,hs(p);for(var k=p.firstChild;k;){var _=k.nextSibling,R=k.nodeName;k[Lr]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&k.rel.toLowerCase()==="stylesheet"||p.removeChild(k),k=_}}else p==="body"&&hs(c.ownerDocument.body);p=v}while(p);el(u)}function Bd(c,u){var p=c;c=0;do{var O=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),O&&O.nodeType===8)if(p=O.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=O}while(p)}function rf(c){var u=c.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":rf(p),rl(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function em(c,u,p,O){for(;c.nodeType===1;){var v=p;if(c.nodeName.toLowerCase()!==u.toLowerCase()){if(!O&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(O){if(!c[Lr])switch(u){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(k=c.getAttribute("rel"),k==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(k!==v.rel||c.getAttribute("href")!==(v.href==null||v.href===""?null:v.href)||c.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin)||c.getAttribute("title")!==(v.title==null?null:v.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(k=c.getAttribute("src"),(k!==(v.src==null?null:v.src)||c.getAttribute("type")!==(v.type==null?null:v.type)||c.getAttribute("crossorigin")!==(v.crossOrigin==null?null:v.crossOrigin))&&k&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(u==="input"&&c.type==="hidden"){var k=v.name==null?null:""+v.name;if(v.type==="hidden"&&c.getAttribute("name")===k)return c}else return c;if(c=jn(c.nextSibling),c===null)break}return null}function tm(c,u,p){if(u==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=jn(c.nextSibling),c===null))return null;return c}function zd(c,u){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!u||(c=jn(c.nextSibling),c===null))return null;return c}function af(c){return c.data==="$?"||c.data==="$~"}function lf(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function nm(c,u){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=u;else if(c.data!=="$?"||p.readyState!=="loading")u();else{var O=function(){u(),p.removeEventListener("DOMContentLoaded",O)};p.addEventListener("DOMContentLoaded",O),c._reactRetry=O}}function jn(c){for(;c!=null;c=c.nextSibling){var u=c.nodeType;if(u===1||u===3)break;if(u===8){if(u=c.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return c}var sf=null;function jd(c){c=c.nextSibling;for(var u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(u===0)return jn(c.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}c=c.nextSibling}return null}function Xd(c){c=c.previousSibling;for(var u=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return c;u--}else p!=="/$"&&p!=="/&"||u++}c=c.previousSibling}return null}function Ud(c,u,p){switch(u=Uo(p),c){case"html":if(c=u.documentElement,!c)throw Error(l(452));return c;case"head":if(c=u.head,!c)throw Error(l(453));return c;case"body":if(c=u.body,!c)throw Error(l(454));return c;default:throw Error(l(451))}}function hs(c){for(var u=c.attributes;u.length;)c.removeAttributeNode(u[0]);rl(c)}var Xn=new Map,Vd=new Set;function Vo(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Zi=Oe.d;Oe.d={f:im,r:am,D:lm,C:sm,L:om,m:cm,X:fm,S:um,M:hm};function im(){var c=Zi.f(),u=Do();return c||u}function am(c){var u=Vi(c);u!==null&&u.tag===5&&u.type==="form"?lh(u):Zi.r(c)}var Fa=typeof document>"u"?null:document;function qd(c,u,p){var O=Fa;if(O&&typeof u=="string"&&u){var v=mn(u);v='link[rel="'+c+'"][href="'+v+'"]',typeof p=="string"&&(v+='[crossorigin="'+p+'"]'),Vd.has(v)||(Vd.add(v),c={rel:c,crossOrigin:p,href:u},O.querySelector(v)===null&&(u=O.createElement("link"),Wt(u,"link",c),$t(u),O.head.appendChild(u)))}}function lm(c){Zi.D(c),qd("dns-prefetch",c,null)}function sm(c,u){Zi.C(c,u),qd("preconnect",c,u)}function om(c,u,p){Zi.L(c,u,p);var O=Fa;if(O&&c&&u){var v='link[rel="preload"][as="'+mn(u)+'"]';u==="image"&&p&&p.imageSrcSet?(v+='[imagesrcset="'+mn(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(v+='[imagesizes="'+mn(p.imageSizes)+'"]')):v+='[href="'+mn(c)+'"]';var k=v;switch(u){case"style":k=Ka(c);break;case"script":k=Ja(c)}Xn.has(k)||(c=S({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:c,as:u},p),Xn.set(k,c),O.querySelector(v)!==null||u==="style"&&O.querySelector(ds(k))||u==="script"&&O.querySelector(ps(k))||(u=O.createElement("link"),Wt(u,"link",c),$t(u),O.head.appendChild(u)))}}function cm(c,u){Zi.m(c,u);var p=Fa;if(p&&c){var O=u&&typeof u.as=="string"?u.as:"script",v='link[rel="modulepreload"][as="'+mn(O)+'"][href="'+mn(c)+'"]',k=v;switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":k=Ja(c)}if(!Xn.has(k)&&(c=S({rel:"modulepreload",href:c},u),Xn.set(k,c),p.querySelector(v)===null)){switch(O){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ps(k)))return}O=p.createElement("link"),Wt(O,"link",c),$t(O),p.head.appendChild(O)}}}function um(c,u,p){Zi.S(c,u,p);var O=Fa;if(O&&c){var v=qi(O).hoistableStyles,k=Ka(c);u=u||"default";var _=v.get(k);if(!_){var R={loading:0,preload:null};if(_=O.querySelector(ds(k)))R.loading=5;else{c=S({rel:"stylesheet",href:c,"data-precedence":u},p),(p=Xn.get(k))&&of(c,p);var q=_=O.createElement("link");$t(q),Wt(q,"link",c),q._p=new Promise(function(te,fe){q.onload=te,q.onerror=fe}),q.addEventListener("load",function(){R.loading|=1}),q.addEventListener("error",function(){R.loading|=2}),R.loading|=4,qo(_,u,O)}_={type:"stylesheet",instance:_,count:1,state:R},v.set(k,_)}}}function fm(c,u){Zi.X(c,u);var p=Fa;if(p&&c){var O=qi(p).hoistableScripts,v=Ja(c),k=O.get(v);k||(k=p.querySelector(ps(v)),k||(c=S({src:c,async:!0},u),(u=Xn.get(v))&&cf(c,u),k=p.createElement("script"),$t(k),Wt(k,"link",c),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},O.set(v,k))}}function hm(c,u){Zi.M(c,u);var p=Fa;if(p&&c){var O=qi(p).hoistableScripts,v=Ja(c),k=O.get(v);k||(k=p.querySelector(ps(v)),k||(c=S({src:c,async:!0,type:"module"},u),(u=Xn.get(v))&&cf(c,u),k=p.createElement("script"),$t(k),Wt(k,"link",c),p.head.appendChild(k)),k={type:"script",instance:k,count:1,state:null},O.set(v,k))}}function Yd(c,u,p,O){var v=(v=_e.current)?Vo(v):null;if(!v)throw Error(l(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=Ka(p.href),p=qi(v).hoistableStyles,O=p.get(u),O||(O={type:"style",instance:null,count:0,state:null},p.set(u,O)),O):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=Ka(p.href);var k=qi(v).hoistableStyles,_=k.get(c);if(_||(v=v.ownerDocument||v,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},k.set(c,_),(k=v.querySelector(ds(c)))&&!k._p&&(_.instance=k,_.state.loading=5),Xn.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Xn.set(c,p),k||dm(v,c,p,_.state))),u&&O===null)throw Error(l(528,""));return _}if(u&&O!==null)throw Error(l(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=Ja(p),p=qi(v).hoistableScripts,O=p.get(u),O||(O={type:"script",instance:null,count:0,state:null},p.set(u,O)),O):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,c))}}function Ka(c){return'href="'+mn(c)+'"'}function ds(c){return'link[rel="stylesheet"]['+c+"]"}function Gd(c){return S({},c,{"data-precedence":c.precedence,precedence:null})}function dm(c,u,p,O){c.querySelector('link[rel="preload"][as="style"]['+u+"]")?O.loading=1:(u=c.createElement("link"),O.preload=u,u.addEventListener("load",function(){return O.loading|=1}),u.addEventListener("error",function(){return O.loading|=2}),Wt(u,"link",p),$t(u),c.head.appendChild(u))}function Ja(c){return'[src="'+mn(c)+'"]'}function ps(c){return"script[async]"+c}function Hd(c,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var O=c.querySelector('style[data-href~="'+mn(p.href)+'"]');if(O)return u.instance=O,$t(O),O;var v=S({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return O=(c.ownerDocument||c).createElement("style"),$t(O),Wt(O,"style",v),qo(O,p.precedence,c),u.instance=O;case"stylesheet":v=Ka(p.href);var k=c.querySelector(ds(v));if(k)return u.state.loading|=4,u.instance=k,$t(k),k;O=Gd(p),(v=Xn.get(v))&&of(O,v),k=(c.ownerDocument||c).createElement("link"),$t(k);var _=k;return _._p=new Promise(function(R,q){_.onload=R,_.onerror=q}),Wt(k,"link",O),u.state.loading|=4,qo(k,p.precedence,c),u.instance=k;case"script":return k=Ja(p.src),(v=c.querySelector(ps(k)))?(u.instance=v,$t(v),v):(O=p,(v=Xn.get(k))&&(O=S({},p),cf(O,v)),c=c.ownerDocument||c,v=c.createElement("script"),$t(v),Wt(v,"link",O),c.head.appendChild(v),u.instance=v);case"void":return null;default:throw Error(l(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(O=u.instance,u.state.loading|=4,qo(O,p.precedence,c));return u.instance}function qo(c,u,p){for(var O=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),v=O.length?O[O.length-1]:null,k=v,_=0;_<O.length;_++){var R=O[_];if(R.dataset.precedence===u)k=R;else if(k!==v)break}k?k.parentNode.insertBefore(c,k.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(c,u.firstChild))}function of(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.title==null&&(c.title=u.title)}function cf(c,u){c.crossOrigin==null&&(c.crossOrigin=u.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=u.referrerPolicy),c.integrity==null&&(c.integrity=u.integrity)}var Yo=null;function Id(c,u,p){if(Yo===null){var O=new Map,v=Yo=new Map;v.set(p,O)}else v=Yo,O=v.get(p),O||(O=new Map,v.set(p,O));if(O.has(c))return O;for(O.set(c,null),p=p.getElementsByTagName(c),v=0;v<p.length;v++){var k=p[v];if(!(k[Lr]||k[zt]||c==="link"&&k.getAttribute("rel")==="stylesheet")&&k.namespaceURI!=="http://www.w3.org/2000/svg"){var _=k.getAttribute(u)||"";_=c+_;var R=O.get(_);R?R.push(k):O.set(_,[k])}}return O}function Wd(c,u,p){c=c.ownerDocument||c,c.head.insertBefore(p,u==="title"?c.querySelector("head > title"):null)}function pm(c,u,p){if(p===1||u.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;return u.rel==="stylesheet"?(c=u.disabled,typeof u.precedence=="string"&&c==null):!0;case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function Fd(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function mm(c,u,p,O){if(p.type==="stylesheet"&&(typeof O.media!="string"||matchMedia(O.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var v=Ka(O.href),k=u.querySelector(ds(v));if(k){u=k._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(c.count++,c=Go.bind(c),u.then(c,c)),p.state.loading|=4,p.instance=k,$t(k);return}k=u.ownerDocument||u,O=Gd(O),(v=Xn.get(v))&&of(O,v),k=k.createElement("link"),$t(k);var _=k;_._p=new Promise(function(R,q){_.onload=R,_.onerror=q}),Wt(k,"link",O),p.instance=k}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Go.bind(c),u.addEventListener("load",p),u.addEventListener("error",p))}}var uf=0;function gm(c,u){return c.stylesheets&&c.count===0&&Io(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var O=setTimeout(function(){if(c.stylesheets&&Io(c,c.stylesheets),c.unsuspend){var k=c.unsuspend;c.unsuspend=null,k()}},6e4+u);0<c.imgBytes&&uf===0&&(uf=62500*Ip());var v=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Io(c,c.stylesheets),c.unsuspend)){var k=c.unsuspend;c.unsuspend=null,k()}},(c.imgBytes>uf?50:800)+u);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(O),clearTimeout(v)}}:null}function Go(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Io(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Ho=null;function Io(c,u){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Ho=new Map,u.forEach(Om,c),Ho=null,Go.call(c))}function Om(c,u){if(!(u.state.loading&4)){var p=Ho.get(c);if(p)var O=p.get(null);else{p=new Map,Ho.set(c,p);for(var v=c.querySelectorAll("link[data-precedence],style[data-precedence]"),k=0;k<v.length;k++){var _=v[k];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(p.set(_.dataset.precedence,_),O=_)}O&&p.set(null,O)}v=u.instance,_=v.getAttribute("data-precedence"),k=p.get(_)||O,k===O&&p.set(null,v),p.set(_,v),this.count++,O=Go.bind(this),v.addEventListener("load",O),v.addEventListener("error",O),k?k.parentNode.insertBefore(v,k.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(v,c.firstChild)),u.state.loading|=4}}var ms={$$typeof:z,Provider:null,Consumer:null,_currentValue:Ee,_currentValue2:Ee,_threadCount:0};function ym(c,u,p,O,v,k,_,R,q){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=O,this.onUncaughtError=v,this.onCaughtError=k,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=q,this.incompleteTransitions=new Map}function Kd(c,u,p,O,v,k,_,R,q,te,fe,ge){return c=new ym(c,u,p,_,q,te,fe,ge,R),u=1,k===!0&&(u|=24),k=Yt(3,null,null,u),c.current=k,k.stateNode=c,u=ne(),u.refCount++,c.pooledCache=u,u.refCount++,k.memoizedState={element:O,isDehydrated:p,cache:u},Yc(k),c}function Jd(c){return c?(c=rr,c):rr}function ep(c,u,p,O,v,k){v=Jd(v),O.context===null?O.context=v:O.pendingContext=v,O=cr(u),O.payload={element:p},k=k===void 0?null:k,k!==null&&(O.callback=k),p=ur(c,O,u),p!==null&&(Cn(p,c,u),Ul(p,c,u))}function tp(c,u){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<u?p:u}}function ff(c,u){tp(c,u),(c=c.alternate)&&tp(c,u)}function np(c){if(c.tag===13||c.tag===31){var u=Ti(c,67108864);u!==null&&Cn(u,c,67108864),ff(c,67108864)}}function ip(c){if(c.tag===13||c.tag===31){var u=Rn();u=ya(u);var p=Ti(c,u);p!==null&&Cn(p,c,u),ff(c,u)}}var Wo=!0;function Sm(c,u,p,O){var v=re.T;re.T=null;var k=Oe.p;try{Oe.p=2,hf(c,u,p,O)}finally{Oe.p=k,re.T=v}}function vm(c,u,p,O){var v=re.T;re.T=null;var k=Oe.p;try{Oe.p=8,hf(c,u,p,O)}finally{Oe.p=k,re.T=v}}function hf(c,u,p,O){if(Wo){var v=df(O);if(v===null)Fu(c,u,O,Fo,p),ap(c,O);else if(xm(v,c,u,p,O))O.stopPropagation();else if(ap(c,O),u&4&&-1<bm.indexOf(c)){for(;v!==null;){var k=Vi(v);if(k!==null)switch(k.tag){case 3:if(k=k.stateNode,k.current.memoizedState.isDehydrated){var _=Si(k.pendingLanes);if(_!==0){var R=k;for(R.pendingLanes|=2,R.entangledLanes|=2;_;){var q=1<<31-Tt(_);R.entanglements[1]|=q,_&=~q}mi(k),(rt&6)===0&&(Ro=Ct()+500,cs(0))}}break;case 31:case 13:R=Ti(k,2),R!==null&&Cn(R,k,2),Do(),ff(k,2)}if(k=df(O),k===null&&Fu(c,u,O,Fo,p),k===v)break;v=k}v!==null&&O.stopPropagation()}else Fu(c,u,O,null,p)}}function df(c){return c=ul(c),pf(c)}var Fo=null;function pf(c){if(Fo=null,c=Ui(c),c!==null){var u=f(c);if(u===null)c=null;else{var p=u.tag;if(p===13){if(c=h(u),c!==null)return c;c=null}else if(p===31){if(c=d(u),c!==null)return c;c=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;c=null}else u!==c&&(c=null)}}return Fo=c,null}function rp(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Un()){case Bi:return 2;case zi:return 8;case gt:case Et:return 32;case At:return 268435456;default:return 32}default:return 32}}var mf=!1,Tr=null,Cr=null,Er=null,gs=new Map,Os=new Map,_r=[],bm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ap(c,u){switch(c){case"focusin":case"focusout":Tr=null;break;case"dragenter":case"dragleave":Cr=null;break;case"mouseover":case"mouseout":Er=null;break;case"pointerover":case"pointerout":gs.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":Os.delete(u.pointerId)}}function ys(c,u,p,O,v,k){return c===null||c.nativeEvent!==k?(c={blockedOn:u,domEventName:p,eventSystemFlags:O,nativeEvent:k,targetContainers:[v]},u!==null&&(u=Vi(u),u!==null&&np(u)),c):(c.eventSystemFlags|=O,u=c.targetContainers,v!==null&&u.indexOf(v)===-1&&u.push(v),c)}function xm(c,u,p,O,v){switch(u){case"focusin":return Tr=ys(Tr,c,u,p,O,v),!0;case"dragenter":return Cr=ys(Cr,c,u,p,O,v),!0;case"mouseover":return Er=ys(Er,c,u,p,O,v),!0;case"pointerover":var k=v.pointerId;return gs.set(k,ys(gs.get(k)||null,c,u,p,O,v)),!0;case"gotpointercapture":return k=v.pointerId,Os.set(k,ys(Os.get(k)||null,c,u,p,O,v)),!0}return!1}function lp(c){var u=Ui(c.target);if(u!==null){var p=f(u);if(p!==null){if(u=p.tag,u===13){if(u=h(p),u!==null){c.blockedOn=u,ws(c.priority,function(){ip(p)});return}}else if(u===31){if(u=d(p),u!==null){c.blockedOn=u,ws(c.priority,function(){ip(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Ko(c){if(c.blockedOn!==null)return!1;for(var u=c.targetContainers;0<u.length;){var p=df(c.nativeEvent);if(p===null){p=c.nativeEvent;var O=new p.constructor(p.type,p);cl=O,p.target.dispatchEvent(O),cl=null}else return u=Vi(p),u!==null&&np(u),c.blockedOn=p,!1;u.shift()}return!0}function sp(c,u,p){Ko(c)&&p.delete(u)}function km(){mf=!1,Tr!==null&&Ko(Tr)&&(Tr=null),Cr!==null&&Ko(Cr)&&(Cr=null),Er!==null&&Ko(Er)&&(Er=null),gs.forEach(sp),Os.forEach(sp)}function Jo(c,u){c.blockedOn===u&&(c.blockedOn=null,mf||(mf=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,km)))}var ec=null;function op(c){ec!==c&&(ec=c,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){ec===c&&(ec=null);for(var u=0;u<c.length;u+=3){var p=c[u],O=c[u+1],v=c[u+2];if(typeof O!="function"){if(pf(O||p)===null)continue;break}var k=Vi(p);k!==null&&(c.splice(u,3),u-=3,hu(k,{pending:!0,data:v,method:p.method,action:O},O,v))}}))}function el(c){function u(q){return Jo(q,c)}Tr!==null&&Jo(Tr,c),Cr!==null&&Jo(Cr,c),Er!==null&&Jo(Er,c),gs.forEach(u),Os.forEach(u);for(var p=0;p<_r.length;p++){var O=_r[p];O.blockedOn===c&&(O.blockedOn=null)}for(;0<_r.length&&(p=_r[0],p.blockedOn===null);)lp(p),p.blockedOn===null&&_r.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(O=0;O<p.length;O+=3){var v=p[O],k=p[O+1],_=v[nn]||null;if(typeof k=="function")_||op(p);else if(_){var R=null;if(k&&k.hasAttribute("formAction")){if(v=k,_=k[nn]||null)R=_.formAction;else if(pf(v)!==null)continue}else R=_.action;typeof R=="function"?p[O+1]=R:(p.splice(O,3),O-=3),op(p)}}}function cp(){function c(k){k.canIntercept&&k.info==="react-transition"&&k.intercept({handler:function(){return new Promise(function(_){return v=_})},focusReset:"manual",scroll:"manual"})}function u(){v!==null&&(v(),v=null),O||setTimeout(p,20)}function p(){if(!O&&!navigation.transition){var k=navigation.currentEntry;k&&k.url!=null&&navigation.navigate(k.url,{state:k.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var O=!1,v=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){O=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),v!==null&&(v(),v=null)}}}function gf(c){this._internalRoot=c}tc.prototype.render=gf.prototype.render=function(c){var u=this._internalRoot;if(u===null)throw Error(l(409));var p=u.current,O=Rn();ep(p,O,c,u,null,null)},tc.prototype.unmount=gf.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var u=c.containerInfo;ep(c.current,2,null,c,null,null),Do(),u[Xi]=null}};function tc(c){this._internalRoot=c}tc.prototype.unstable_scheduleHydration=function(c){if(c){var u=ks();c={blockedOn:null,target:c,priority:u};for(var p=0;p<_r.length&&u!==0&&u<_r[p].priority;p++);_r.splice(p,0,c),p===0&&lp(c)}};var up=r.version;if(up!=="19.2.4")throw Error(l(527,up,"19.2.4"));Oe.findDOMNode=function(c){var u=c._reactInternals;if(u===void 0)throw typeof c.render=="function"?Error(l(188)):(c=Object.keys(c).join(","),Error(l(268,c)));return c=m(u),c=c!==null?y(c):null,c=c===null?null:c.stateNode,c};var wm={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:re,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var nc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!nc.isDisabled&&nc.supportsFiber)try{Dt=nc.inject(wm),bt=nc}catch{}}return reactDomClient_production.createRoot=function(c,u){if(!o(c))throw Error(l(299));var p=!1,O="",v=gh,k=Oh,_=yh;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(O=u.identifierPrefix),u.onUncaughtError!==void 0&&(v=u.onUncaughtError),u.onCaughtError!==void 0&&(k=u.onCaughtError),u.onRecoverableError!==void 0&&(_=u.onRecoverableError)),u=Kd(c,1,!1,null,null,p,O,null,v,k,_,cp),c[Xi]=u.current,Wu(c),new gf(u)},reactDomClient_production.hydrateRoot=function(c,u,p){if(!o(c))throw Error(l(299));var O=!1,v="",k=gh,_=Oh,R=yh,q=null;return p!=null&&(p.unstable_strictMode===!0&&(O=!0),p.identifierPrefix!==void 0&&(v=p.identifierPrefix),p.onUncaughtError!==void 0&&(k=p.onUncaughtError),p.onCaughtError!==void 0&&(_=p.onCaughtError),p.onRecoverableError!==void 0&&(R=p.onRecoverableError),p.formState!==void 0&&(q=p.formState)),u=Kd(c,1,!0,u,p??null,O,v,q,k,_,R,cp),u.context=Jd(null),p=u.current,O=Rn(),O=ya(O),v=cr(O),v.callback=null,ur(p,v,O),p=O,u.current.lanes=p,ji(u,p),mi(u),c[Xi]=u.current,Wu(c),new tc(u)},reactDomClient_production.version="19.2.4",reactDomClient_production}var hasRequiredClient;function requireClient(){if(hasRequiredClient)return client.exports;hasRequiredClient=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(r){console.error(r)}}return s(),client.exports=requireReactDomClient_production(),client.exports}var clientExports=requireClient();function _extends(){return _extends=Object.assign?Object.assign.bind():function(s){for(var r=1;r<arguments.length;r++){var a=arguments[r];for(var l in a)({}).hasOwnProperty.call(a,l)&&(s[l]=a[l])}return s},_extends.apply(null,arguments)}function _objectWithoutPropertiesLoose(s,r){if(s==null)return{};var a={};for(var l in s)if({}.hasOwnProperty.call(s,l)){if(r.indexOf(l)!==-1)continue;a[l]=s[l]}return a}let rangeFrom=[],rangeTo=[];(()=>{let s="lc,34,7n,7,7b,19,,,,2,,2,,,20,b,1c,l,g,,2t,7,2,6,2,2,,4,z,,u,r,2j,b,1m,9,9,,o,4,,9,,3,,5,17,3,3b,f,,w,1j,,,,4,8,4,,3,7,a,2,t,,1m,,,,2,4,8,,9,,a,2,q,,2,2,1l,,4,2,4,2,2,3,3,,u,2,3,,b,2,1l,,4,5,,2,4,,k,2,m,6,,,1m,,,2,,4,8,,7,3,a,2,u,,1n,,,,c,,9,,14,,3,,1l,3,5,3,,4,7,2,b,2,t,,1m,,2,,2,,3,,5,2,7,2,b,2,s,2,1l,2,,,2,4,8,,9,,a,2,t,,20,,4,,2,3,,,8,,29,,2,7,c,8,2q,,2,9,b,6,22,2,r,,,,,,1j,e,,5,,2,5,b,,10,9,,2u,4,,6,,2,2,2,p,2,4,3,g,4,d,,2,2,6,,f,,jj,3,qa,3,t,3,t,2,u,2,1s,2,,7,8,,2,b,9,,19,3,3b,2,y,,3a,3,4,2,9,,6,3,63,2,2,,1m,,,7,,,,,2,8,6,a,2,,1c,h,1r,4,1c,7,,,5,,14,9,c,2,w,4,2,2,,3,1k,,,2,3,,,3,1m,8,2,2,48,3,,d,,7,4,,6,,3,2,5i,1m,,5,ek,,5f,x,2da,3,3x,,2o,w,fe,6,2x,2,n9w,4,,a,w,2,28,2,7k,,3,,4,,p,2,5,,47,2,q,i,d,,12,8,p,b,1a,3,1c,,2,4,2,2,13,,1v,6,2,2,2,2,c,,8,,1b,,1f,,,3,2,2,5,2,,,16,2,8,,6m,,2,,4,,fn4,,kh,g,g,g,a6,2,gt,,6a,,45,5,1ae,3,,2,5,4,14,3,4,,4l,2,fx,4,ar,2,49,b,4w,,1i,f,1k,3,1d,4,2,2,1x,3,10,5,,8,1q,,c,2,1g,9,a,4,2,,2n,3,2,,,2,6,,4g,,3,8,l,2,1l,2,,,,,m,,e,7,3,5,5f,8,2,3,,,n,,29,,2,6,,,2,,,2,,2,6j,,2,4,6,2,,2,r,2,2d,8,2,,,2,2y,,,,2,6,,,2t,3,2,4,,5,77,9,,2,6t,,a,2,,,4,,40,4,2,2,4,,w,a,14,6,2,4,8,,9,6,2,3,1a,d,,2,ba,7,,6,,,2a,m,2,7,,2,,2,3e,6,3,,,2,,7,,,20,2,3,,,,9n,2,f0b,5,1n,7,t4,,1r,4,29,,f5k,2,43q,,,3,4,5,8,8,2,7,u,4,44,3,1iz,1j,4,1e,8,,e,,m,5,,f,11s,7,,h,2,7,,2,,5,79,7,c5,4,15s,7,31,7,240,5,gx7k,2o,3k,6o".split(",").map(r=>r?parseInt(r,36):1);for(let r=0,a=0;r<s.length;r++)(r%2?rangeTo:rangeFrom).push(a=a+s[r])})();function isExtendingChar(s){if(s<768)return!1;for(let r=0,a=rangeFrom.length;;){let l=r+a>>1;if(s<rangeFrom[l])a=l;else if(s>=rangeTo[l])r=l+1;else return!0;if(r==a)return!1}}function isRegionalIndicator(s){return s>=127462&&s<=127487}const ZWJ=8205;function findClusterBreak$1(s,r,a=!0,l=!0){return(a?nextClusterBreak:prevClusterBreak)(s,r,l)}function nextClusterBreak(s,r,a){if(r==s.length)return r;r&&surrogateLow$1(s.charCodeAt(r))&&surrogateHigh$1(s.charCodeAt(r-1))&&r--;let l=codePointAt$1(s,r);for(r+=codePointSize$1(l);r<s.length;){let o=codePointAt$1(s,r);if(l==ZWJ||o==ZWJ||a&&isExtendingChar(o))r+=codePointSize$1(o),l=o;else if(isRegionalIndicator(o)){let f=0,h=r-2;for(;h>=0&&isRegionalIndicator(codePointAt$1(s,h));)f++,h-=2;if(f%2==0)break;r+=2}else break}return r}function prevClusterBreak(s,r,a){for(;r>0;){let l=nextClusterBreak(s,r-2,a);if(l<r)return l;r--}return 0}function codePointAt$1(s,r){let a=s.charCodeAt(r);if(!surrogateHigh$1(a)||r+1==s.length)return a;let l=s.charCodeAt(r+1);return surrogateLow$1(l)?(a-55296<<10)+(l-56320)+65536:a}function surrogateLow$1(s){return s>=56320&&s<57344}function surrogateHigh$1(s){return s>=55296&&s<56320}function codePointSize$1(s){return s<65536?1:2}class Text{lineAt(r){if(r<0||r>this.length)throw new RangeError(`Invalid position ${r} in document of length ${this.length}`);return this.lineInner(r,!1,1,0)}line(r){if(r<1||r>this.lines)throw new RangeError(`Invalid line number ${r} in ${this.lines}-line document`);return this.lineInner(r,!0,1,0)}replace(r,a,l){[r,a]=clip(this,r,a);let o=[];return this.decompose(0,r,o,2),l.length&&l.decompose(0,l.length,o,3),this.decompose(a,this.length,o,1),TextNode.from(o,this.length-(a-r)+l.length)}append(r){return this.replace(this.length,this.length,r)}slice(r,a=this.length){[r,a]=clip(this,r,a);let l=[];return this.decompose(r,a,l,0),TextNode.from(l,a-r)}eq(r){if(r==this)return!0;if(r.length!=this.length||r.lines!=this.lines)return!1;let a=this.scanIdentical(r,1),l=this.length-this.scanIdentical(r,-1),o=new RawTextCursor(this),f=new RawTextCursor(r);for(let h=a,d=a;;){if(o.next(h),f.next(h),h=0,o.lineBreak!=f.lineBreak||o.done!=f.done||o.value!=f.value)return!1;if(d+=o.value.length,o.done||d>=l)return!0}}iter(r=1){return new RawTextCursor(this,r)}iterRange(r,a=this.length){return new PartialTextCursor(this,r,a)}iterLines(r,a){let l;if(r==null)l=this.iter();else{a==null&&(a=this.lines+1);let o=this.line(r).from;l=this.iterRange(o,Math.max(o,a==this.lines+1?this.length:a<=1?0:this.line(a-1).to))}return new LineCursor(l)}toString(){return this.sliceString(0)}toJSON(){let r=[];return this.flatten(r),r}constructor(){}static of(r){if(r.length==0)throw new RangeError("A document must have at least one line");return r.length==1&&!r[0]?Text.empty:r.length<=32?new TextLeaf(r):TextNode.from(TextLeaf.split(r,[]))}}class TextLeaf extends Text{constructor(r,a=textLength(r)){super(),this.text=r,this.length=a}get lines(){return this.text.length}get children(){return null}lineInner(r,a,l,o){for(let f=0;;f++){let h=this.text[f],d=o+h.length;if((a?l:d)>=r)return new Line(o,d,l,h);o=d+1,l++}}decompose(r,a,l,o){let f=r<=0&&a>=this.length?this:new TextLeaf(sliceText(this.text,r,a),Math.min(a,this.length)-Math.max(0,r));if(o&1){let h=l.pop(),d=appendText(f.text,h.text.slice(),0,f.length);if(d.length<=32)l.push(new TextLeaf(d,h.length+f.length));else{let g=d.length>>1;l.push(new TextLeaf(d.slice(0,g)),new TextLeaf(d.slice(g)))}}else l.push(f)}replace(r,a,l){if(!(l instanceof TextLeaf))return super.replace(r,a,l);[r,a]=clip(this,r,a);let o=appendText(this.text,appendText(l.text,sliceText(this.text,0,r)),a),f=this.length+l.length-(a-r);return o.length<=32?new TextLeaf(o,f):TextNode.from(TextLeaf.split(o,[]),f)}sliceString(r,a=this.length,l=`
`){[r,a]=clip(this,r,a);let o="";for(let f=0,h=0;f<=a&&h<this.text.length;h++){let d=this.text[h],g=f+d.length;f>r&&h&&(o+=l),r<g&&a>f&&(o+=d.slice(Math.max(0,r-f),a-f)),f=g+1}return o}flatten(r){for(let a of this.text)r.push(a)}scanIdentical(){return 0}static split(r,a){let l=[],o=-1;for(let f of r)l.push(f),o+=f.length+1,l.length==32&&(a.push(new TextLeaf(l,o)),l=[],o=-1);return o>-1&&a.push(new TextLeaf(l,o)),a}}class TextNode extends Text{constructor(r,a){super(),this.children=r,this.length=a,this.lines=0;for(let l of r)this.lines+=l.lines}lineInner(r,a,l,o){for(let f=0;;f++){let h=this.children[f],d=o+h.length,g=l+h.lines-1;if((a?g:d)>=r)return h.lineInner(r,a,l,o);o=d+1,l=g+1}}decompose(r,a,l,o){for(let f=0,h=0;h<=a&&f<this.children.length;f++){let d=this.children[f],g=h+d.length;if(r<=g&&a>=h){let m=o&((h<=r?1:0)|(g>=a?2:0));h>=r&&g<=a&&!m?l.push(d):d.decompose(r-h,a-h,l,m)}h=g+1}}replace(r,a,l){if([r,a]=clip(this,r,a),l.lines<this.lines)for(let o=0,f=0;o<this.children.length;o++){let h=this.children[o],d=f+h.length;if(r>=f&&a<=d){let g=h.replace(r-f,a-f,l),m=this.lines-h.lines+g.lines;if(g.lines<m>>4&&g.lines>m>>6){let y=this.children.slice();return y[o]=g,new TextNode(y,this.length-(a-r)+l.length)}return super.replace(f,d,g)}f=d+1}return super.replace(r,a,l)}sliceString(r,a=this.length,l=`
`){[r,a]=clip(this,r,a);let o="";for(let f=0,h=0;f<this.children.length&&h<=a;f++){let d=this.children[f],g=h+d.length;h>r&&f&&(o+=l),r<g&&a>h&&(o+=d.sliceString(r-h,a-h,l)),h=g+1}return o}flatten(r){for(let a of this.children)a.flatten(r)}scanIdentical(r,a){if(!(r instanceof TextNode))return 0;let l=0,[o,f,h,d]=a>0?[0,0,this.children.length,r.children.length]:[this.children.length-1,r.children.length-1,-1,-1];for(;;o+=a,f+=a){if(o==h||f==d)return l;let g=this.children[o],m=r.children[f];if(g!=m)return l+g.scanIdentical(m,a);l+=g.length+1}}static from(r,a=r.reduce((l,o)=>l+o.length+1,-1)){let l=0;for(let w of r)l+=w.lines;if(l<32){let w=[];for(let Q of r)Q.flatten(w);return new TextLeaf(w,a)}let o=Math.max(32,l>>5),f=o<<1,h=o>>1,d=[],g=0,m=-1,y=[];function S(w){let Q;if(w.lines>f&&w instanceof TextNode)for(let A of w.children)S(A);else w.lines>h&&(g>h||!g)?(x(),d.push(w)):w instanceof TextLeaf&&g&&(Q=y[y.length-1])instanceof TextLeaf&&w.lines+Q.lines<=32?(g+=w.lines,m+=w.length+1,y[y.length-1]=new TextLeaf(Q.text.concat(w.text),Q.length+1+w.length)):(g+w.lines>o&&x(),g+=w.lines,m+=w.length+1,y.push(w))}function x(){g!=0&&(d.push(y.length==1?y[0]:TextNode.from(y,m)),m=-1,g=y.length=0)}for(let w of r)S(w);return x(),d.length==1?d[0]:new TextNode(d,a)}}Text.empty=new TextLeaf([""],0);function textLength(s){let r=-1;for(let a of s)r+=a.length+1;return r}function appendText(s,r,a=0,l=1e9){for(let o=0,f=0,h=!0;f<s.length&&o<=l;f++){let d=s[f],g=o+d.length;g>=a&&(g>l&&(d=d.slice(0,l-o)),o<a&&(d=d.slice(a-o)),h?(r[r.length-1]+=d,h=!1):r.push(d)),o=g+1}return r}function sliceText(s,r,a){return appendText(s,[""],r,a)}class RawTextCursor{constructor(r,a=1){this.dir=a,this.done=!1,this.lineBreak=!1,this.value="",this.nodes=[r],this.offsets=[a>0?1:(r instanceof TextLeaf?r.text.length:r.children.length)<<1]}nextInner(r,a){for(this.done=this.lineBreak=!1;;){let l=this.nodes.length-1,o=this.nodes[l],f=this.offsets[l],h=f>>1,d=o instanceof TextLeaf?o.text.length:o.children.length;if(h==(a>0?d:0)){if(l==0)return this.done=!0,this.value="",this;a>0&&this.offsets[l-1]++,this.nodes.pop(),this.offsets.pop()}else if((f&1)==(a>0?0:1)){if(this.offsets[l]+=a,r==0)return this.lineBreak=!0,this.value=`
`,this;r--}else if(o instanceof TextLeaf){let g=o.text[h+(a<0?-1:0)];if(this.offsets[l]+=a,g.length>Math.max(0,r))return this.value=r==0?g:a>0?g.slice(r):g.slice(0,g.length-r),this;r-=g.length}else{let g=o.children[h+(a<0?-1:0)];r>g.length?(r-=g.length,this.offsets[l]+=a):(a<0&&this.offsets[l]--,this.nodes.push(g),this.offsets.push(a>0?1:(g instanceof TextLeaf?g.text.length:g.children.length)<<1))}}}next(r=0){return r<0&&(this.nextInner(-r,-this.dir),r=this.value.length),this.nextInner(r,this.dir)}}class PartialTextCursor{constructor(r,a,l){this.value="",this.done=!1,this.cursor=new RawTextCursor(r,a>l?-1:1),this.pos=a>l?r.length:0,this.from=Math.min(a,l),this.to=Math.max(a,l)}nextInner(r,a){if(a<0?this.pos<=this.from:this.pos>=this.to)return this.value="",this.done=!0,this;r+=Math.max(0,a<0?this.pos-this.to:this.from-this.pos);let l=a<0?this.pos-this.from:this.to-this.pos;r>l&&(r=l),l-=r;let{value:o}=this.cursor.next(r);return this.pos+=(o.length+r)*a,this.value=o.length<=l?o:a<0?o.slice(o.length-l):o.slice(0,l),this.done=!this.value,this}next(r=0){return r<0?r=Math.max(r,this.from-this.pos):r>0&&(r=Math.min(r,this.to-this.pos)),this.nextInner(r,this.cursor.dir)}get lineBreak(){return this.cursor.lineBreak&&this.value!=""}}class LineCursor{constructor(r){this.inner=r,this.afterBreak=!0,this.value="",this.done=!1}next(r=0){let{done:a,lineBreak:l,value:o}=this.inner.next(r);return a&&this.afterBreak?(this.value="",this.afterBreak=!1):a?(this.done=!0,this.value=""):l?this.afterBreak?this.value="":(this.afterBreak=!0,this.next()):(this.value=o,this.afterBreak=!1),this}get lineBreak(){return!1}}typeof Symbol<"u"&&(Text.prototype[Symbol.iterator]=function(){return this.iter()},RawTextCursor.prototype[Symbol.iterator]=PartialTextCursor.prototype[Symbol.iterator]=LineCursor.prototype[Symbol.iterator]=function(){return this});class Line{constructor(r,a,l,o){this.from=r,this.to=a,this.number=l,this.text=o}get length(){return this.to-this.from}}function clip(s,r,a){return r=Math.max(0,Math.min(s.length,r)),[r,Math.max(r,Math.min(s.length,a))]}function findClusterBreak(s,r,a=!0,l=!0){return findClusterBreak$1(s,r,a,l)}function surrogateLow(s){return s>=56320&&s<57344}function surrogateHigh(s){return s>=55296&&s<56320}function codePointAt(s,r){let a=s.charCodeAt(r);if(!surrogateHigh(a)||r+1==s.length)return a;let l=s.charCodeAt(r+1);return surrogateLow(l)?(a-55296<<10)+(l-56320)+65536:a}function fromCodePoint(s){return s<=65535?String.fromCharCode(s):(s-=65536,String.fromCharCode((s>>10)+55296,(s&1023)+56320))}function codePointSize(s){return s<65536?1:2}const DefaultSplit=/\r\n?|\n/;var MapMode=(function(s){return s[s.Simple=0]="Simple",s[s.TrackDel=1]="TrackDel",s[s.TrackBefore=2]="TrackBefore",s[s.TrackAfter=3]="TrackAfter",s})(MapMode||(MapMode={}));class ChangeDesc{constructor(r){this.sections=r}get length(){let r=0;for(let a=0;a<this.sections.length;a+=2)r+=this.sections[a];return r}get newLength(){let r=0;for(let a=0;a<this.sections.length;a+=2){let l=this.sections[a+1];r+=l<0?this.sections[a]:l}return r}get empty(){return this.sections.length==0||this.sections.length==2&&this.sections[1]<0}iterGaps(r){for(let a=0,l=0,o=0;a<this.sections.length;){let f=this.sections[a++],h=this.sections[a++];h<0?(r(l,o,f),o+=f):o+=h,l+=f}}iterChangedRanges(r,a=!1){iterChanges(this,r,a)}get invertedDesc(){let r=[];for(let a=0;a<this.sections.length;){let l=this.sections[a++],o=this.sections[a++];o<0?r.push(l,o):r.push(o,l)}return new ChangeDesc(r)}composeDesc(r){return this.empty?r:r.empty?this:composeSets(this,r)}mapDesc(r,a=!1){return r.empty?this:mapSet(this,r,a)}mapPos(r,a=-1,l=MapMode.Simple){let o=0,f=0;for(let h=0;h<this.sections.length;){let d=this.sections[h++],g=this.sections[h++],m=o+d;if(g<0){if(m>r)return f+(r-o);f+=d}else{if(l!=MapMode.Simple&&m>=r&&(l==MapMode.TrackDel&&o<r&&m>r||l==MapMode.TrackBefore&&o<r||l==MapMode.TrackAfter&&m>r))return null;if(m>r||m==r&&a<0&&!d)return r==o||a<0?f:f+g;f+=g}o=m}if(r>o)throw new RangeError(`Position ${r} is out of range for changeset of length ${o}`);return f}touchesRange(r,a=r){for(let l=0,o=0;l<this.sections.length&&o<=a;){let f=this.sections[l++],h=this.sections[l++],d=o+f;if(h>=0&&o<=a&&d>=r)return o<r&&d>a?"cover":!0;o=d}return!1}toString(){let r="";for(let a=0;a<this.sections.length;){let l=this.sections[a++],o=this.sections[a++];r+=(r?" ":"")+l+(o>=0?":"+o:"")}return r}toJSON(){return this.sections}static fromJSON(r){if(!Array.isArray(r)||r.length%2||r.some(a=>typeof a!="number"))throw new RangeError("Invalid JSON representation of ChangeDesc");return new ChangeDesc(r)}static create(r){return new ChangeDesc(r)}}class ChangeSet extends ChangeDesc{constructor(r,a){super(r),this.inserted=a}apply(r){if(this.length!=r.length)throw new RangeError("Applying change set to a document with the wrong length");return iterChanges(this,(a,l,o,f,h)=>r=r.replace(o,o+(l-a),h),!1),r}mapDesc(r,a=!1){return mapSet(this,r,a,!0)}invert(r){let a=this.sections.slice(),l=[];for(let o=0,f=0;o<a.length;o+=2){let h=a[o],d=a[o+1];if(d>=0){a[o]=d,a[o+1]=h;let g=o>>1;for(;l.length<g;)l.push(Text.empty);l.push(h?r.slice(f,f+h):Text.empty)}f+=h}return new ChangeSet(a,l)}compose(r){return this.empty?r:r.empty?this:composeSets(this,r,!0)}map(r,a=!1){return r.empty?this:mapSet(this,r,a,!0)}iterChanges(r,a=!1){iterChanges(this,r,a)}get desc(){return ChangeDesc.create(this.sections)}filter(r){let a=[],l=[],o=[],f=new SectionIter(this);e:for(let h=0,d=0;;){let g=h==r.length?1e9:r[h++];for(;d<g||d==g&&f.len==0;){if(f.done)break e;let y=Math.min(f.len,g-d);addSection(o,y,-1);let S=f.ins==-1?-1:f.off==0?f.ins:0;addSection(a,y,S),S>0&&addInsert(l,a,f.text),f.forward(y),d+=y}let m=r[h++];for(;d<m;){if(f.done)break e;let y=Math.min(f.len,m-d);addSection(a,y,-1),addSection(o,y,f.ins==-1?-1:f.off==0?f.ins:0),f.forward(y),d+=y}}return{changes:new ChangeSet(a,l),filtered:ChangeDesc.create(o)}}toJSON(){let r=[];for(let a=0;a<this.sections.length;a+=2){let l=this.sections[a],o=this.sections[a+1];o<0?r.push(l):o==0?r.push([l]):r.push([l].concat(this.inserted[a>>1].toJSON()))}return r}static of(r,a,l){let o=[],f=[],h=0,d=null;function g(y=!1){if(!y&&!o.length)return;h<a&&addSection(o,a-h,-1);let S=new ChangeSet(o,f);d=d?d.compose(S.map(d)):S,o=[],f=[],h=0}function m(y){if(Array.isArray(y))for(let S of y)m(S);else if(y instanceof ChangeSet){if(y.length!=a)throw new RangeError(`Mismatched change set length (got ${y.length}, expected ${a})`);g(),d=d?d.compose(y.map(d)):y}else{let{from:S,to:x=S,insert:w}=y;if(S>x||S<0||x>a)throw new RangeError(`Invalid change range ${S} to ${x} (in doc of length ${a})`);let Q=w?typeof w=="string"?Text.of(w.split(l||DefaultSplit)):w:Text.empty,A=Q.length;if(S==x&&A==0)return;S<h&&g(),S>h&&addSection(o,S-h,-1),addSection(o,x-S,A),addInsert(f,o,Q),h=x}}return m(r),g(!d),d}static empty(r){return new ChangeSet(r?[r,-1]:[],[])}static fromJSON(r){if(!Array.isArray(r))throw new RangeError("Invalid JSON representation of ChangeSet");let a=[],l=[];for(let o=0;o<r.length;o++){let f=r[o];if(typeof f=="number")a.push(f,-1);else{if(!Array.isArray(f)||typeof f[0]!="number"||f.some((h,d)=>d&&typeof h!="string"))throw new RangeError("Invalid JSON representation of ChangeSet");if(f.length==1)a.push(f[0],0);else{for(;l.length<o;)l.push(Text.empty);l[o]=Text.of(f.slice(1)),a.push(f[0],l[o].length)}}}return new ChangeSet(a,l)}static createSet(r,a){return new ChangeSet(r,a)}}function addSection(s,r,a,l=!1){if(r==0&&a<=0)return;let o=s.length-2;o>=0&&a<=0&&a==s[o+1]?s[o]+=r:o>=0&&r==0&&s[o]==0?s[o+1]+=a:l?(s[o]+=r,s[o+1]+=a):s.push(r,a)}function addInsert(s,r,a){if(a.length==0)return;let l=r.length-2>>1;if(l<s.length)s[s.length-1]=s[s.length-1].append(a);else{for(;s.length<l;)s.push(Text.empty);s.push(a)}}function iterChanges(s,r,a){let l=s.inserted;for(let o=0,f=0,h=0;h<s.sections.length;){let d=s.sections[h++],g=s.sections[h++];if(g<0)o+=d,f+=d;else{let m=o,y=f,S=Text.empty;for(;m+=d,y+=g,g&&l&&(S=S.append(l[h-2>>1])),!(a||h==s.sections.length||s.sections[h+1]<0);)d=s.sections[h++],g=s.sections[h++];r(o,m,f,y,S),o=m,f=y}}}function mapSet(s,r,a,l=!1){let o=[],f=l?[]:null,h=new SectionIter(s),d=new SectionIter(r);for(let g=-1;;){if(h.done&&d.len||d.done&&h.len)throw new Error("Mismatched change set lengths");if(h.ins==-1&&d.ins==-1){let m=Math.min(h.len,d.len);addSection(o,m,-1),h.forward(m),d.forward(m)}else if(d.ins>=0&&(h.ins<0||g==h.i||h.off==0&&(d.len<h.len||d.len==h.len&&!a))){let m=d.len;for(addSection(o,d.ins,-1);m;){let y=Math.min(h.len,m);h.ins>=0&&g<h.i&&h.len<=y&&(addSection(o,0,h.ins),f&&addInsert(f,o,h.text),g=h.i),h.forward(y),m-=y}d.next()}else if(h.ins>=0){let m=0,y=h.len;for(;y;)if(d.ins==-1){let S=Math.min(y,d.len);m+=S,y-=S,d.forward(S)}else if(d.ins==0&&d.len<y)y-=d.len,d.next();else break;addSection(o,m,g<h.i?h.ins:0),f&&g<h.i&&addInsert(f,o,h.text),g=h.i,h.forward(h.len-y)}else{if(h.done&&d.done)return f?ChangeSet.createSet(o,f):ChangeDesc.create(o);throw new Error("Mismatched change set lengths")}}}function composeSets(s,r,a=!1){let l=[],o=a?[]:null,f=new SectionIter(s),h=new SectionIter(r);for(let d=!1;;){if(f.done&&h.done)return o?ChangeSet.createSet(l,o):ChangeDesc.create(l);if(f.ins==0)addSection(l,f.len,0,d),f.next();else if(h.len==0&&!h.done)addSection(l,0,h.ins,d),o&&addInsert(o,l,h.text),h.next();else{if(f.done||h.done)throw new Error("Mismatched change set lengths");{let g=Math.min(f.len2,h.len),m=l.length;if(f.ins==-1){let y=h.ins==-1?-1:h.off?0:h.ins;addSection(l,g,y,d),o&&y&&addInsert(o,l,h.text)}else h.ins==-1?(addSection(l,f.off?0:f.len,g,d),o&&addInsert(o,l,f.textBit(g))):(addSection(l,f.off?0:f.len,h.off?0:h.ins,d),o&&!h.off&&addInsert(o,l,h.text));d=(f.ins>g||h.ins>=0&&h.len>g)&&(d||l.length>m),f.forward2(g),h.forward(g)}}}}class SectionIter{constructor(r){this.set=r,this.i=0,this.next()}next(){let{sections:r}=this.set;this.i<r.length?(this.len=r[this.i++],this.ins=r[this.i++]):(this.len=0,this.ins=-2),this.off=0}get done(){return this.ins==-2}get len2(){return this.ins<0?this.len:this.ins}get text(){let{inserted:r}=this.set,a=this.i-2>>1;return a>=r.length?Text.empty:r[a]}textBit(r){let{inserted:a}=this.set,l=this.i-2>>1;return l>=a.length&&!r?Text.empty:a[l].slice(this.off,r==null?void 0:this.off+r)}forward(r){r==this.len?this.next():(this.len-=r,this.off+=r)}forward2(r){this.ins==-1?this.forward(r):r==this.ins?this.next():(this.ins-=r,this.off+=r)}}class SelectionRange{constructor(r,a,l){this.from=r,this.to=a,this.flags=l}get anchor(){return this.flags&32?this.to:this.from}get head(){return this.flags&32?this.from:this.to}get empty(){return this.from==this.to}get assoc(){return this.flags&8?-1:this.flags&16?1:0}get bidiLevel(){let r=this.flags&7;return r==7?null:r}get goalColumn(){let r=this.flags>>6;return r==16777215?void 0:r}map(r,a=-1){let l,o;return this.empty?l=o=r.mapPos(this.from,a):(l=r.mapPos(this.from,1),o=r.mapPos(this.to,-1)),l==this.from&&o==this.to?this:new SelectionRange(l,o,this.flags)}extend(r,a=r){if(r<=this.anchor&&a>=this.anchor)return EditorSelection.range(r,a);let l=Math.abs(r-this.anchor)>Math.abs(a-this.anchor)?r:a;return EditorSelection.range(this.anchor,l)}eq(r,a=!1){return this.anchor==r.anchor&&this.head==r.head&&this.goalColumn==r.goalColumn&&(!a||!this.empty||this.assoc==r.assoc)}toJSON(){return{anchor:this.anchor,head:this.head}}static fromJSON(r){if(!r||typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid JSON representation for SelectionRange");return EditorSelection.range(r.anchor,r.head)}static create(r,a,l){return new SelectionRange(r,a,l)}}class EditorSelection{constructor(r,a){this.ranges=r,this.mainIndex=a}map(r,a=-1){return r.empty?this:EditorSelection.create(this.ranges.map(l=>l.map(r,a)),this.mainIndex)}eq(r,a=!1){if(this.ranges.length!=r.ranges.length||this.mainIndex!=r.mainIndex)return!1;for(let l=0;l<this.ranges.length;l++)if(!this.ranges[l].eq(r.ranges[l],a))return!1;return!0}get main(){return this.ranges[this.mainIndex]}asSingle(){return this.ranges.length==1?this:new EditorSelection([this.main],0)}addRange(r,a=!0){return EditorSelection.create([r].concat(this.ranges),a?0:this.mainIndex+1)}replaceRange(r,a=this.mainIndex){let l=this.ranges.slice();return l[a]=r,EditorSelection.create(l,this.mainIndex)}toJSON(){return{ranges:this.ranges.map(r=>r.toJSON()),main:this.mainIndex}}static fromJSON(r){if(!r||!Array.isArray(r.ranges)||typeof r.main!="number"||r.main>=r.ranges.length)throw new RangeError("Invalid JSON representation for EditorSelection");return new EditorSelection(r.ranges.map(a=>SelectionRange.fromJSON(a)),r.main)}static single(r,a=r){return new EditorSelection([EditorSelection.range(r,a)],0)}static create(r,a=0){if(r.length==0)throw new RangeError("A selection needs at least one range");for(let l=0,o=0;o<r.length;o++){let f=r[o];if(f.empty?f.from<=l:f.from<l)return EditorSelection.normalized(r.slice(),a);l=f.to}return new EditorSelection(r,a)}static cursor(r,a=0,l,o){return SelectionRange.create(r,r,(a==0?0:a<0?8:16)|(l==null?7:Math.min(6,l))|(o??16777215)<<6)}static range(r,a,l,o){let f=(l??16777215)<<6|(o==null?7:Math.min(6,o));return a<r?SelectionRange.create(a,r,48|f):SelectionRange.create(r,a,(a>r?8:0)|f)}static normalized(r,a=0){let l=r[a];r.sort((o,f)=>o.from-f.from),a=r.indexOf(l);for(let o=1;o<r.length;o++){let f=r[o],h=r[o-1];if(f.empty?f.from<=h.to:f.from<h.to){let d=h.from,g=Math.max(f.to,h.to);o<=a&&a--,r.splice(--o,2,f.anchor>f.head?EditorSelection.range(g,d):EditorSelection.range(d,g))}}return new EditorSelection(r,a)}}function checkSelection(s,r){for(let a of s.ranges)if(a.to>r)throw new RangeError("Selection points outside of document")}let nextID=0;class Facet{constructor(r,a,l,o,f){this.combine=r,this.compareInput=a,this.compare=l,this.isStatic=o,this.id=nextID++,this.default=r([]),this.extensions=typeof f=="function"?f(this):f}get reader(){return this}static define(r={}){return new Facet(r.combine||(a=>a),r.compareInput||((a,l)=>a===l),r.compare||(r.combine?(a,l)=>a===l:sameArray$1),!!r.static,r.enables)}of(r){return new FacetProvider([],this,0,r)}compute(r,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,1,a)}computeN(r,a){if(this.isStatic)throw new Error("Can't compute a static facet");return new FacetProvider(r,this,2,a)}from(r,a){return a||(a=l=>l),this.compute([r],l=>a(l.field(r)))}}function sameArray$1(s,r){return s==r||s.length==r.length&&s.every((a,l)=>a===r[l])}class FacetProvider{constructor(r,a,l,o){this.dependencies=r,this.facet=a,this.type=l,this.value=o,this.id=nextID++}dynamicSlot(r){var a;let l=this.value,o=this.facet.compareInput,f=this.id,h=r[f]>>1,d=this.type==2,g=!1,m=!1,y=[];for(let S of this.dependencies)S=="doc"?g=!0:S=="selection"?m=!0:(((a=r[S.id])!==null&&a!==void 0?a:1)&1)==0&&y.push(r[S.id]);return{create(S){return S.values[h]=l(S),1},update(S,x){if(g&&x.docChanged||m&&(x.docChanged||x.selection)||ensureAll(S,y)){let w=l(S);if(d?!compareArray(w,S.values[h],o):!o(w,S.values[h]))return S.values[h]=w,1}return 0},reconfigure:(S,x)=>{let w,Q=x.config.address[f];if(Q!=null){let A=getAddr(x,Q);if(this.dependencies.every(M=>M instanceof Facet?x.facet(M)===S.facet(M):M instanceof StateField?x.field(M,!1)==S.field(M,!1):!0)||(d?compareArray(w=l(S),A,o):o(w=l(S),A)))return S.values[h]=A,0}else w=l(S);return S.values[h]=w,1}}}}function compareArray(s,r,a){if(s.length!=r.length)return!1;for(let l=0;l<s.length;l++)if(!a(s[l],r[l]))return!1;return!0}function ensureAll(s,r){let a=!1;for(let l of r)ensureAddr(s,l)&1&&(a=!0);return a}function dynamicFacetSlot(s,r,a){let l=a.map(g=>s[g.id]),o=a.map(g=>g.type),f=l.filter(g=>!(g&1)),h=s[r.id]>>1;function d(g){let m=[];for(let y=0;y<l.length;y++){let S=getAddr(g,l[y]);if(o[y]==2)for(let x of S)m.push(x);else m.push(S)}return r.combine(m)}return{create(g){for(let m of l)ensureAddr(g,m);return g.values[h]=d(g),1},update(g,m){if(!ensureAll(g,f))return 0;let y=d(g);return r.compare(y,g.values[h])?0:(g.values[h]=y,1)},reconfigure(g,m){let y=ensureAll(g,l),S=m.config.facets[r.id],x=m.facet(r);if(S&&!y&&sameArray$1(a,S))return g.values[h]=x,0;let w=d(g);return r.compare(w,x)?(g.values[h]=x,0):(g.values[h]=w,1)}}}const initField=Facet.define({static:!0});class StateField{constructor(r,a,l,o,f){this.id=r,this.createF=a,this.updateF=l,this.compareF=o,this.spec=f,this.provides=void 0}static define(r){let a=new StateField(nextID++,r.create,r.update,r.compare||((l,o)=>l===o),r);return r.provide&&(a.provides=r.provide(a)),a}create(r){let a=r.facet(initField).find(l=>l.field==this);return(a?.create||this.createF)(r)}slot(r){let a=r[this.id]>>1;return{create:l=>(l.values[a]=this.create(l),1),update:(l,o)=>{let f=l.values[a],h=this.updateF(f,o);return this.compareF(f,h)?0:(l.values[a]=h,1)},reconfigure:(l,o)=>{let f=l.facet(initField),h=o.facet(initField),d;return(d=f.find(g=>g.field==this))&&d!=h.find(g=>g.field==this)?(l.values[a]=d.create(l),1):o.config.address[this.id]!=null?(l.values[a]=o.field(this),0):(l.values[a]=this.create(l),1)}}}init(r){return[this,initField.of({field:this,create:r})]}get extension(){return this}}const Prec_={lowest:4,low:3,default:2,high:1,highest:0};function prec(s){return r=>new PrecExtension(r,s)}const Prec={highest:prec(Prec_.highest),high:prec(Prec_.high),default:prec(Prec_.default),low:prec(Prec_.low),lowest:prec(Prec_.lowest)};class PrecExtension{constructor(r,a){this.inner=r,this.prec=a}}class Compartment{of(r){return new CompartmentInstance(this,r)}reconfigure(r){return Compartment.reconfigure.of({compartment:this,extension:r})}get(r){return r.config.compartments.get(this)}}class CompartmentInstance{constructor(r,a){this.compartment=r,this.inner=a}}class Configuration{constructor(r,a,l,o,f,h){for(this.base=r,this.compartments=a,this.dynamicSlots=l,this.address=o,this.staticValues=f,this.facets=h,this.statusTemplate=[];this.statusTemplate.length<l.length;)this.statusTemplate.push(0)}staticFacet(r){let a=this.address[r.id];return a==null?r.default:this.staticValues[a>>1]}static resolve(r,a,l){let o=[],f=Object.create(null),h=new Map;for(let x of flatten(r,a,h))x instanceof StateField?o.push(x):(f[x.facet.id]||(f[x.facet.id]=[])).push(x);let d=Object.create(null),g=[],m=[];for(let x of o)d[x.id]=m.length<<1,m.push(w=>x.slot(w));let y=l?.config.facets;for(let x in f){let w=f[x],Q=w[0].facet,A=y&&y[x]||[];if(w.every(M=>M.type==0))if(d[Q.id]=g.length<<1|1,sameArray$1(A,w))g.push(l.facet(Q));else{let M=Q.combine(w.map(L=>L.value));g.push(l&&Q.compare(M,l.facet(Q))?l.facet(Q):M)}else{for(let M of w)M.type==0?(d[M.id]=g.length<<1|1,g.push(M.value)):(d[M.id]=m.length<<1,m.push(L=>M.dynamicSlot(L)));d[Q.id]=m.length<<1,m.push(M=>dynamicFacetSlot(M,Q,w))}}let S=m.map(x=>x(d));return new Configuration(r,h,S,d,g,f)}}function flatten(s,r,a){let l=[[],[],[],[],[]],o=new Map;function f(h,d){let g=o.get(h);if(g!=null){if(g<=d)return;let m=l[g].indexOf(h);m>-1&&l[g].splice(m,1),h instanceof CompartmentInstance&&a.delete(h.compartment)}if(o.set(h,d),Array.isArray(h))for(let m of h)f(m,d);else if(h instanceof CompartmentInstance){if(a.has(h.compartment))throw new RangeError("Duplicate use of compartment in extensions");let m=r.get(h.compartment)||h.inner;a.set(h.compartment,m),f(m,d)}else if(h instanceof PrecExtension)f(h.inner,h.prec);else if(h instanceof StateField)l[d].push(h),h.provides&&f(h.provides,d);else if(h instanceof FacetProvider)l[d].push(h),h.facet.extensions&&f(h.facet.extensions,Prec_.default);else{let m=h.extension;if(!m)throw new Error(`Unrecognized extension value in extension set (${h}). This sometimes happens because multiple instances of @codemirror/state are loaded, breaking instanceof checks.`);f(m,d)}}return f(s,Prec_.default),l.reduce((h,d)=>h.concat(d))}function ensureAddr(s,r){if(r&1)return 2;let a=r>>1,l=s.status[a];if(l==4)throw new Error("Cyclic dependency between fields and/or facets");if(l&2)return l;s.status[a]=4;let o=s.computeSlot(s,s.config.dynamicSlots[a]);return s.status[a]=2|o}function getAddr(s,r){return r&1?s.config.staticValues[r>>1]:s.values[r>>1]}const languageData=Facet.define(),allowMultipleSelections=Facet.define({combine:s=>s.some(r=>r),static:!0}),lineSeparator=Facet.define({combine:s=>s.length?s[0]:void 0,static:!0}),changeFilter=Facet.define(),transactionFilter=Facet.define(),transactionExtender=Facet.define(),readOnly=Facet.define({combine:s=>s.length?s[0]:!1});class Annotation{constructor(r,a){this.type=r,this.value=a}static define(){return new AnnotationType}}class AnnotationType{of(r){return new Annotation(this,r)}}class StateEffectType{constructor(r){this.map=r}of(r){return new StateEffect(this,r)}}class StateEffect{constructor(r,a){this.type=r,this.value=a}map(r){let a=this.type.map(this.value,r);return a===void 0?void 0:a==this.value?this:new StateEffect(this.type,a)}is(r){return this.type==r}static define(r={}){return new StateEffectType(r.map||(a=>a))}static mapEffects(r,a){if(!r.length)return r;let l=[];for(let o of r){let f=o.map(a);f&&l.push(f)}return l}}StateEffect.reconfigure=StateEffect.define();StateEffect.appendConfig=StateEffect.define();class Transaction{constructor(r,a,l,o,f,h){this.startState=r,this.changes=a,this.selection=l,this.effects=o,this.annotations=f,this.scrollIntoView=h,this._doc=null,this._state=null,l&&checkSelection(l,a.newLength),f.some(d=>d.type==Transaction.time)||(this.annotations=f.concat(Transaction.time.of(Date.now())))}static create(r,a,l,o,f,h){return new Transaction(r,a,l,o,f,h)}get newDoc(){return this._doc||(this._doc=this.changes.apply(this.startState.doc))}get newSelection(){return this.selection||this.startState.selection.map(this.changes)}get state(){return this._state||this.startState.applyTransaction(this),this._state}annotation(r){for(let a of this.annotations)if(a.type==r)return a.value}get docChanged(){return!this.changes.empty}get reconfigured(){return this.startState.config!=this.state.config}isUserEvent(r){let a=this.annotation(Transaction.userEvent);return!!(a&&(a==r||a.length>r.length&&a.slice(0,r.length)==r&&a[r.length]=="."))}}Transaction.time=Annotation.define();Transaction.userEvent=Annotation.define();Transaction.addToHistory=Annotation.define();Transaction.remote=Annotation.define();function joinRanges(s,r){let a=[];for(let l=0,o=0;;){let f,h;if(l<s.length&&(o==r.length||r[o]>=s[l]))f=s[l++],h=s[l++];else if(o<r.length)f=r[o++],h=r[o++];else return a;!a.length||a[a.length-1]<f?a.push(f,h):a[a.length-1]<h&&(a[a.length-1]=h)}}function mergeTransaction(s,r,a){var l;let o,f,h;return a?(o=r.changes,f=ChangeSet.empty(r.changes.length),h=s.changes.compose(r.changes)):(o=r.changes.map(s.changes),f=s.changes.mapDesc(r.changes,!0),h=s.changes.compose(o)),{changes:h,selection:r.selection?r.selection.map(f):(l=s.selection)===null||l===void 0?void 0:l.map(o),effects:StateEffect.mapEffects(s.effects,o).concat(StateEffect.mapEffects(r.effects,f)),annotations:s.annotations.length?s.annotations.concat(r.annotations):r.annotations,scrollIntoView:s.scrollIntoView||r.scrollIntoView}}function resolveTransactionInner(s,r,a){let l=r.selection,o=asArray$1(r.annotations);return r.userEvent&&(o=o.concat(Transaction.userEvent.of(r.userEvent))),{changes:r.changes instanceof ChangeSet?r.changes:ChangeSet.of(r.changes||[],a,s.facet(lineSeparator)),selection:l&&(l instanceof EditorSelection?l:EditorSelection.single(l.anchor,l.head)),effects:asArray$1(r.effects),annotations:o,scrollIntoView:!!r.scrollIntoView}}function resolveTransaction(s,r,a){let l=resolveTransactionInner(s,r.length?r[0]:{},s.doc.length);r.length&&r[0].filter===!1&&(a=!1);for(let f=1;f<r.length;f++){r[f].filter===!1&&(a=!1);let h=!!r[f].sequential;l=mergeTransaction(l,resolveTransactionInner(s,r[f],h?l.changes.newLength:s.doc.length),h)}let o=Transaction.create(s,l.changes,l.selection,l.effects,l.annotations,l.scrollIntoView);return extendTransaction(a?filterTransaction(o):o)}function filterTransaction(s){let r=s.startState,a=!0;for(let o of r.facet(changeFilter)){let f=o(s);if(f===!1){a=!1;break}Array.isArray(f)&&(a=a===!0?f:joinRanges(a,f))}if(a!==!0){let o,f;if(a===!1)f=s.changes.invertedDesc,o=ChangeSet.empty(r.doc.length);else{let h=s.changes.filter(a);o=h.changes,f=h.filtered.mapDesc(h.changes).invertedDesc}s=Transaction.create(r,o,s.selection&&s.selection.map(f),StateEffect.mapEffects(s.effects,f),s.annotations,s.scrollIntoView)}let l=r.facet(transactionFilter);for(let o=l.length-1;o>=0;o--){let f=l[o](s);f instanceof Transaction?s=f:Array.isArray(f)&&f.length==1&&f[0]instanceof Transaction?s=f[0]:s=resolveTransaction(r,asArray$1(f),!1)}return s}function extendTransaction(s){let r=s.startState,a=r.facet(transactionExtender),l=s;for(let o=a.length-1;o>=0;o--){let f=a[o](s);f&&Object.keys(f).length&&(l=mergeTransaction(l,resolveTransactionInner(r,f,s.changes.newLength),!0))}return l==s?s:Transaction.create(r,s.changes,s.selection,l.effects,l.annotations,l.scrollIntoView)}const none$2=[];function asArray$1(s){return s==null?none$2:Array.isArray(s)?s:[s]}var CharCategory=(function(s){return s[s.Word=0]="Word",s[s.Space=1]="Space",s[s.Other=2]="Other",s})(CharCategory||(CharCategory={}));const nonASCIISingleCaseWordChar=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;let wordChar;try{wordChar=new RegExp("[\\p{Alphabetic}\\p{Number}_]","u")}catch{}function hasWordChar(s){if(wordChar)return wordChar.test(s);for(let r=0;r<s.length;r++){let a=s[r];if(/\w/.test(a)||a>""&&(a.toUpperCase()!=a.toLowerCase()||nonASCIISingleCaseWordChar.test(a)))return!0}return!1}function makeCategorizer(s){return r=>{if(!/\S/.test(r))return CharCategory.Space;if(hasWordChar(r))return CharCategory.Word;for(let a=0;a<s.length;a++)if(r.indexOf(s[a])>-1)return CharCategory.Word;return CharCategory.Other}}class EditorState{constructor(r,a,l,o,f,h){this.config=r,this.doc=a,this.selection=l,this.values=o,this.status=r.statusTemplate.slice(),this.computeSlot=f,h&&(h._state=this);for(let d=0;d<this.config.dynamicSlots.length;d++)ensureAddr(this,d<<1);this.computeSlot=null}field(r,a=!0){let l=this.config.address[r.id];if(l==null){if(a)throw new RangeError("Field is not present in this state");return}return ensureAddr(this,l),getAddr(this,l)}update(...r){return resolveTransaction(this,r,!0)}applyTransaction(r){let a=this.config,{base:l,compartments:o}=a;for(let d of r.effects)d.is(Compartment.reconfigure)?(a&&(o=new Map,a.compartments.forEach((g,m)=>o.set(m,g)),a=null),o.set(d.value.compartment,d.value.extension)):d.is(StateEffect.reconfigure)?(a=null,l=d.value):d.is(StateEffect.appendConfig)&&(a=null,l=asArray$1(l).concat(d.value));let f;a?f=r.startState.values.slice():(a=Configuration.resolve(l,o,this),f=new EditorState(a,this.doc,this.selection,a.dynamicSlots.map(()=>null),(g,m)=>m.reconfigure(g,this),null).values);let h=r.startState.facet(allowMultipleSelections)?r.newSelection:r.newSelection.asSingle();new EditorState(a,r.newDoc,h,f,(d,g)=>g.update(d,r),r)}replaceSelection(r){return typeof r=="string"&&(r=this.toText(r)),this.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:r},range:EditorSelection.cursor(a.from+r.length)}))}changeByRange(r){let a=this.selection,l=r(a.ranges[0]),o=this.changes(l.changes),f=[l.range],h=asArray$1(l.effects);for(let d=1;d<a.ranges.length;d++){let g=r(a.ranges[d]),m=this.changes(g.changes),y=m.map(o);for(let x=0;x<d;x++)f[x]=f[x].map(y);let S=o.mapDesc(m,!0);f.push(g.range.map(S)),o=o.compose(y),h=StateEffect.mapEffects(h,y).concat(StateEffect.mapEffects(asArray$1(g.effects),S))}return{changes:o,selection:EditorSelection.create(f,a.mainIndex),effects:h}}changes(r=[]){return r instanceof ChangeSet?r:ChangeSet.of(r,this.doc.length,this.facet(EditorState.lineSeparator))}toText(r){return Text.of(r.split(this.facet(EditorState.lineSeparator)||DefaultSplit))}sliceDoc(r=0,a=this.doc.length){return this.doc.sliceString(r,a,this.lineBreak)}facet(r){let a=this.config.address[r.id];return a==null?r.default:(ensureAddr(this,a),getAddr(this,a))}toJSON(r){let a={doc:this.sliceDoc(),selection:this.selection.toJSON()};if(r)for(let l in r){let o=r[l];o instanceof StateField&&this.config.address[o.id]!=null&&(a[l]=o.spec.toJSON(this.field(r[l]),this))}return a}static fromJSON(r,a={},l){if(!r||typeof r.doc!="string")throw new RangeError("Invalid JSON representation for EditorState");let o=[];if(l){for(let f in l)if(Object.prototype.hasOwnProperty.call(r,f)){let h=l[f],d=r[f];o.push(h.init(g=>h.spec.fromJSON(d,g)))}}return EditorState.create({doc:r.doc,selection:EditorSelection.fromJSON(r.selection),extensions:a.extensions?o.concat([a.extensions]):o})}static create(r={}){let a=Configuration.resolve(r.extensions||[],new Map),l=r.doc instanceof Text?r.doc:Text.of((r.doc||"").split(a.staticFacet(EditorState.lineSeparator)||DefaultSplit)),o=r.selection?r.selection instanceof EditorSelection?r.selection:EditorSelection.single(r.selection.anchor,r.selection.head):EditorSelection.single(0);return checkSelection(o,l.length),a.staticFacet(allowMultipleSelections)||(o=o.asSingle()),new EditorState(a,l,o,a.dynamicSlots.map(()=>null),(f,h)=>h.create(f),null)}get tabSize(){return this.facet(EditorState.tabSize)}get lineBreak(){return this.facet(EditorState.lineSeparator)||`
`}get readOnly(){return this.facet(readOnly)}phrase(r,...a){for(let l of this.facet(EditorState.phrases))if(Object.prototype.hasOwnProperty.call(l,r)){r=l[r];break}return a.length&&(r=r.replace(/\$(\$|\d*)/g,(l,o)=>{if(o=="$")return"$";let f=+(o||1);return!f||f>a.length?l:a[f-1]})),r}languageDataAt(r,a,l=-1){let o=[];for(let f of this.facet(languageData))for(let h of f(this,a,l))Object.prototype.hasOwnProperty.call(h,r)&&o.push(h[r]);return o}charCategorizer(r){let a=this.languageDataAt("wordChars",r);return makeCategorizer(a.length?a[0]:"")}wordAt(r){let{text:a,from:l,length:o}=this.doc.lineAt(r),f=this.charCategorizer(r),h=r-l,d=r-l;for(;h>0;){let g=findClusterBreak(a,h,!1);if(f(a.slice(g,h))!=CharCategory.Word)break;h=g}for(;d<o;){let g=findClusterBreak(a,d);if(f(a.slice(d,g))!=CharCategory.Word)break;d=g}return h==d?null:EditorSelection.range(h+l,d+l)}}EditorState.allowMultipleSelections=allowMultipleSelections;EditorState.tabSize=Facet.define({combine:s=>s.length?s[0]:4});EditorState.lineSeparator=lineSeparator;EditorState.readOnly=readOnly;EditorState.phrases=Facet.define({compare(s,r){let a=Object.keys(s),l=Object.keys(r);return a.length==l.length&&a.every(o=>s[o]==r[o])}});EditorState.languageData=languageData;EditorState.changeFilter=changeFilter;EditorState.transactionFilter=transactionFilter;EditorState.transactionExtender=transactionExtender;Compartment.reconfigure=StateEffect.define();function combineConfig(s,r,a={}){let l={};for(let o of s)for(let f of Object.keys(o)){let h=o[f],d=l[f];if(d===void 0)l[f]=h;else if(!(d===h||h===void 0))if(Object.hasOwnProperty.call(a,f))l[f]=a[f](d,h);else throw new Error("Config merge conflict for field "+f)}for(let o in r)l[o]===void 0&&(l[o]=r[o]);return l}class RangeValue{eq(r){return this==r}range(r,a=r){return Range$1.create(r,a,this)}}RangeValue.prototype.startSide=RangeValue.prototype.endSide=0;RangeValue.prototype.point=!1;RangeValue.prototype.mapMode=MapMode.TrackDel;function cmpVal(s,r){return s==r||s.constructor==r.constructor&&s.eq(r)}let Range$1=class fp{constructor(r,a,l){this.from=r,this.to=a,this.value=l}static create(r,a,l){return new fp(r,a,l)}};function cmpRange(s,r){return s.from-r.from||s.value.startSide-r.value.startSide}class Chunk{constructor(r,a,l,o){this.from=r,this.to=a,this.value=l,this.maxPoint=o}get length(){return this.to[this.to.length-1]}findIndex(r,a,l,o=0){let f=l?this.to:this.from;for(let h=o,d=f.length;;){if(h==d)return h;let g=h+d>>1,m=f[g]-r||(l?this.value[g].endSide:this.value[g].startSide)-a;if(g==h)return m>=0?h:d;m>=0?d=g:h=g+1}}between(r,a,l,o){for(let f=this.findIndex(a,-1e9,!0),h=this.findIndex(l,1e9,!1,f);f<h;f++)if(o(this.from[f]+r,this.to[f]+r,this.value[f])===!1)return!1}map(r,a){let l=[],o=[],f=[],h=-1,d=-1;for(let g=0;g<this.value.length;g++){let m=this.value[g],y=this.from[g]+r,S=this.to[g]+r,x,w;if(y==S){let Q=a.mapPos(y,m.startSide,m.mapMode);if(Q==null||(x=w=Q,m.startSide!=m.endSide&&(w=a.mapPos(y,m.endSide),w<x)))continue}else if(x=a.mapPos(y,m.startSide),w=a.mapPos(S,m.endSide),x>w||x==w&&m.startSide>0&&m.endSide<=0)continue;(w-x||m.endSide-m.startSide)<0||(h<0&&(h=x),m.point&&(d=Math.max(d,w-x)),l.push(m),o.push(x-h),f.push(w-h))}return{mapped:l.length?new Chunk(o,f,l,d):null,pos:h}}}class RangeSet{constructor(r,a,l,o){this.chunkPos=r,this.chunk=a,this.nextLayer=l,this.maxPoint=o}static create(r,a,l,o){return new RangeSet(r,a,l,o)}get length(){let r=this.chunk.length-1;return r<0?0:Math.max(this.chunkEnd(r),this.nextLayer.length)}get size(){if(this.isEmpty)return 0;let r=this.nextLayer.size;for(let a of this.chunk)r+=a.value.length;return r}chunkEnd(r){return this.chunkPos[r]+this.chunk[r].length}update(r){let{add:a=[],sort:l=!1,filterFrom:o=0,filterTo:f=this.length}=r,h=r.filter;if(a.length==0&&!h)return this;if(l&&(a=a.slice().sort(cmpRange)),this.isEmpty)return a.length?RangeSet.of(a):this;let d=new LayerCursor(this,null,-1).goto(0),g=0,m=[],y=new RangeSetBuilder;for(;d.value||g<a.length;)if(g<a.length&&(d.from-a[g].from||d.startSide-a[g].value.startSide)>=0){let S=a[g++];y.addInner(S.from,S.to,S.value)||m.push(S)}else d.rangeIndex==1&&d.chunkIndex<this.chunk.length&&(g==a.length||this.chunkEnd(d.chunkIndex)<a[g].from)&&(!h||o>this.chunkEnd(d.chunkIndex)||f<this.chunkPos[d.chunkIndex])&&y.addChunk(this.chunkPos[d.chunkIndex],this.chunk[d.chunkIndex])?d.nextChunk():((!h||o>d.to||f<d.from||h(d.from,d.to,d.value))&&(y.addInner(d.from,d.to,d.value)||m.push(Range$1.create(d.from,d.to,d.value))),d.next());return y.finishInner(this.nextLayer.isEmpty&&!m.length?RangeSet.empty:this.nextLayer.update({add:m,filter:h,filterFrom:o,filterTo:f}))}map(r){if(r.empty||this.isEmpty)return this;let a=[],l=[],o=-1;for(let h=0;h<this.chunk.length;h++){let d=this.chunkPos[h],g=this.chunk[h],m=r.touchesRange(d,d+g.length);if(m===!1)o=Math.max(o,g.maxPoint),a.push(g),l.push(r.mapPos(d));else if(m===!0){let{mapped:y,pos:S}=g.map(d,r);y&&(o=Math.max(o,y.maxPoint),a.push(y),l.push(S))}}let f=this.nextLayer.map(r);return a.length==0?f:new RangeSet(l,a,f||RangeSet.empty,o)}between(r,a,l){if(!this.isEmpty){for(let o=0;o<this.chunk.length;o++){let f=this.chunkPos[o],h=this.chunk[o];if(a>=f&&r<=f+h.length&&h.between(f,r-f,a-f,l)===!1)return}this.nextLayer.between(r,a,l)}}iter(r=0){return HeapCursor.from([this]).goto(r)}get isEmpty(){return this.nextLayer==this}static iter(r,a=0){return HeapCursor.from(r).goto(a)}static compare(r,a,l,o,f=-1){let h=r.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=f),d=a.filter(S=>S.maxPoint>0||!S.isEmpty&&S.maxPoint>=f),g=findSharedChunks(h,d,l),m=new SpanCursor(h,g,f),y=new SpanCursor(d,g,f);l.iterGaps((S,x,w)=>compare(m,S,y,x,w,o)),l.empty&&l.length==0&&compare(m,0,y,0,0,o)}static eq(r,a,l=0,o){o==null&&(o=999999999);let f=r.filter(y=>!y.isEmpty&&a.indexOf(y)<0),h=a.filter(y=>!y.isEmpty&&r.indexOf(y)<0);if(f.length!=h.length)return!1;if(!f.length)return!0;let d=findSharedChunks(f,h),g=new SpanCursor(f,d,0).goto(l),m=new SpanCursor(h,d,0).goto(l);for(;;){if(g.to!=m.to||!sameValues(g.active,m.active)||g.point&&(!m.point||!cmpVal(g.point,m.point)))return!1;if(g.to>o)return!0;g.next(),m.next()}}static spans(r,a,l,o,f=-1){let h=new SpanCursor(r,null,f).goto(a),d=a,g=h.openStart;for(;;){let m=Math.min(h.to,l);if(h.point){let y=h.activeForPoint(h.to),S=h.pointFrom<a?y.length+1:h.point.startSide<0?y.length:Math.min(y.length,g);o.point(d,m,h.point,y,S,h.pointRank),g=Math.min(h.openEnd(m),y.length)}else m>d&&(o.span(d,m,h.active,g),g=h.openEnd(m));if(h.to>l)return g+(h.point&&h.to>l?1:0);d=h.to,h.next()}}static of(r,a=!1){let l=new RangeSetBuilder;for(let o of r instanceof Range$1?[r]:a?lazySort(r):r)l.add(o.from,o.to,o.value);return l.finish()}static join(r){if(!r.length)return RangeSet.empty;let a=r[r.length-1];for(let l=r.length-2;l>=0;l--)for(let o=r[l];o!=RangeSet.empty;o=o.nextLayer)a=new RangeSet(o.chunkPos,o.chunk,a,Math.max(o.maxPoint,a.maxPoint));return a}}RangeSet.empty=new RangeSet([],[],null,-1);function lazySort(s){if(s.length>1)for(let r=s[0],a=1;a<s.length;a++){let l=s[a];if(cmpRange(r,l)>0)return s.slice().sort(cmpRange);r=l}return s}RangeSet.empty.nextLayer=RangeSet.empty;class RangeSetBuilder{finishChunk(r){this.chunks.push(new Chunk(this.from,this.to,this.value,this.maxPoint)),this.chunkPos.push(this.chunkStart),this.chunkStart=-1,this.setMaxPoint=Math.max(this.setMaxPoint,this.maxPoint),this.maxPoint=-1,r&&(this.from=[],this.to=[],this.value=[])}constructor(){this.chunks=[],this.chunkPos=[],this.chunkStart=-1,this.last=null,this.lastFrom=-1e9,this.lastTo=-1e9,this.from=[],this.to=[],this.value=[],this.maxPoint=-1,this.setMaxPoint=-1,this.nextLayer=null}add(r,a,l){this.addInner(r,a,l)||(this.nextLayer||(this.nextLayer=new RangeSetBuilder)).add(r,a,l)}addInner(r,a,l){let o=r-this.lastTo||l.startSide-this.last.endSide;if(o<=0&&(r-this.lastFrom||l.startSide-this.last.startSide)<0)throw new Error("Ranges must be added sorted by `from` position and `startSide`");return o<0?!1:(this.from.length==250&&this.finishChunk(!0),this.chunkStart<0&&(this.chunkStart=r),this.from.push(r-this.chunkStart),this.to.push(a-this.chunkStart),this.last=l,this.lastFrom=r,this.lastTo=a,this.value.push(l),l.point&&(this.maxPoint=Math.max(this.maxPoint,a-r)),!0)}addChunk(r,a){if((r-this.lastTo||a.value[0].startSide-this.last.endSide)<0)return!1;this.from.length&&this.finishChunk(!0),this.setMaxPoint=Math.max(this.setMaxPoint,a.maxPoint),this.chunks.push(a),this.chunkPos.push(r);let l=a.value.length-1;return this.last=a.value[l],this.lastFrom=a.from[l]+r,this.lastTo=a.to[l]+r,!0}finish(){return this.finishInner(RangeSet.empty)}finishInner(r){if(this.from.length&&this.finishChunk(!1),this.chunks.length==0)return r;let a=RangeSet.create(this.chunkPos,this.chunks,this.nextLayer?this.nextLayer.finishInner(r):r,this.setMaxPoint);return this.from=null,a}}function findSharedChunks(s,r,a){let l=new Map;for(let f of s)for(let h=0;h<f.chunk.length;h++)f.chunk[h].maxPoint<=0&&l.set(f.chunk[h],f.chunkPos[h]);let o=new Set;for(let f of r)for(let h=0;h<f.chunk.length;h++){let d=l.get(f.chunk[h]);d!=null&&(a?a.mapPos(d):d)==f.chunkPos[h]&&!a?.touchesRange(d,d+f.chunk[h].length)&&o.add(f.chunk[h])}return o}class LayerCursor{constructor(r,a,l,o=0){this.layer=r,this.skip=a,this.minPoint=l,this.rank=o}get startSide(){return this.value?this.value.startSide:0}get endSide(){return this.value?this.value.endSide:0}goto(r,a=-1e9){return this.chunkIndex=this.rangeIndex=0,this.gotoInner(r,a,!1),this}gotoInner(r,a,l){for(;this.chunkIndex<this.layer.chunk.length;){let o=this.layer.chunk[this.chunkIndex];if(!(this.skip&&this.skip.has(o)||this.layer.chunkEnd(this.chunkIndex)<r||o.maxPoint<this.minPoint))break;this.chunkIndex++,l=!1}if(this.chunkIndex<this.layer.chunk.length){let o=this.layer.chunk[this.chunkIndex].findIndex(r-this.layer.chunkPos[this.chunkIndex],a,!0);(!l||this.rangeIndex<o)&&this.setRangeIndex(o)}this.next()}forward(r,a){(this.to-r||this.endSide-a)<0&&this.gotoInner(r,a,!0)}next(){for(;;)if(this.chunkIndex==this.layer.chunk.length){this.from=this.to=1e9,this.value=null;break}else{let r=this.layer.chunkPos[this.chunkIndex],a=this.layer.chunk[this.chunkIndex],l=r+a.from[this.rangeIndex];if(this.from=l,this.to=r+a.to[this.rangeIndex],this.value=a.value[this.rangeIndex],this.setRangeIndex(this.rangeIndex+1),this.minPoint<0||this.value.point&&this.to-this.from>=this.minPoint)break}}setRangeIndex(r){if(r==this.layer.chunk[this.chunkIndex].value.length){if(this.chunkIndex++,this.skip)for(;this.chunkIndex<this.layer.chunk.length&&this.skip.has(this.layer.chunk[this.chunkIndex]);)this.chunkIndex++;this.rangeIndex=0}else this.rangeIndex=r}nextChunk(){this.chunkIndex++,this.rangeIndex=0,this.next()}compare(r){return this.from-r.from||this.startSide-r.startSide||this.rank-r.rank||this.to-r.to||this.endSide-r.endSide}}class HeapCursor{constructor(r){this.heap=r}static from(r,a=null,l=-1){let o=[];for(let f=0;f<r.length;f++)for(let h=r[f];!h.isEmpty;h=h.nextLayer)h.maxPoint>=l&&o.push(new LayerCursor(h,a,l,f));return o.length==1?o[0]:new HeapCursor(o)}get startSide(){return this.value?this.value.startSide:0}goto(r,a=-1e9){for(let l of this.heap)l.goto(r,a);for(let l=this.heap.length>>1;l>=0;l--)heapBubble(this.heap,l);return this.next(),this}forward(r,a){for(let l of this.heap)l.forward(r,a);for(let l=this.heap.length>>1;l>=0;l--)heapBubble(this.heap,l);(this.to-r||this.value.endSide-a)<0&&this.next()}next(){if(this.heap.length==0)this.from=this.to=1e9,this.value=null,this.rank=-1;else{let r=this.heap[0];this.from=r.from,this.to=r.to,this.value=r.value,this.rank=r.rank,r.value&&r.next(),heapBubble(this.heap,0)}}}function heapBubble(s,r){for(let a=s[r];;){let l=(r<<1)+1;if(l>=s.length)break;let o=s[l];if(l+1<s.length&&o.compare(s[l+1])>=0&&(o=s[l+1],l++),a.compare(o)<0)break;s[l]=a,s[r]=o,r=l}}class SpanCursor{constructor(r,a,l){this.minPoint=l,this.active=[],this.activeTo=[],this.activeRank=[],this.minActive=-1,this.point=null,this.pointFrom=0,this.pointRank=0,this.to=-1e9,this.endSide=0,this.openStart=-1,this.cursor=HeapCursor.from(r,a,l)}goto(r,a=-1e9){return this.cursor.goto(r,a),this.active.length=this.activeTo.length=this.activeRank.length=0,this.minActive=-1,this.to=r,this.endSide=a,this.openStart=-1,this.next(),this}forward(r,a){for(;this.minActive>-1&&(this.activeTo[this.minActive]-r||this.active[this.minActive].endSide-a)<0;)this.removeActive(this.minActive);this.cursor.forward(r,a)}removeActive(r){remove(this.active,r),remove(this.activeTo,r),remove(this.activeRank,r),this.minActive=findMinIndex(this.active,this.activeTo)}addActive(r){let a=0,{value:l,to:o,rank:f}=this.cursor;for(;a<this.activeRank.length&&(f-this.activeRank[a]||o-this.activeTo[a])>0;)a++;insert(this.active,a,l),insert(this.activeTo,a,o),insert(this.activeRank,a,f),r&&insert(r,a,this.cursor.from),this.minActive=findMinIndex(this.active,this.activeTo)}next(){let r=this.to,a=this.point;this.point=null;let l=this.openStart<0?[]:null;for(;;){let o=this.minActive;if(o>-1&&(this.activeTo[o]-this.cursor.from||this.active[o].endSide-this.cursor.startSide)<0){if(this.activeTo[o]>r){this.to=this.activeTo[o],this.endSide=this.active[o].endSide;break}this.removeActive(o),l&&remove(l,o)}else if(this.cursor.value)if(this.cursor.from>r){this.to=this.cursor.from,this.endSide=this.cursor.startSide;break}else{let f=this.cursor.value;if(!f.point)this.addActive(l),this.cursor.next();else if(a&&this.cursor.to==this.to&&this.cursor.from<this.cursor.to)this.cursor.next();else{this.point=f,this.pointFrom=this.cursor.from,this.pointRank=this.cursor.rank,this.to=this.cursor.to,this.endSide=f.endSide,this.cursor.next(),this.forward(this.to,this.endSide);break}}else{this.to=this.endSide=1e9;break}}if(l){this.openStart=0;for(let o=l.length-1;o>=0&&l[o]<r;o--)this.openStart++}}activeForPoint(r){if(!this.active.length)return this.active;let a=[];for(let l=this.active.length-1;l>=0&&!(this.activeRank[l]<this.pointRank);l--)(this.activeTo[l]>r||this.activeTo[l]==r&&this.active[l].endSide>=this.point.endSide)&&a.push(this.active[l]);return a.reverse()}openEnd(r){let a=0;for(let l=this.activeTo.length-1;l>=0&&this.activeTo[l]>r;l--)a++;return a}}function compare(s,r,a,l,o,f){s.goto(r),a.goto(l);let h=l+o,d=l,g=l-r,m=!!f.boundChange;for(let y=!1;;){let S=s.to+g-a.to,x=S||s.endSide-a.endSide,w=x<0?s.to+g:a.to,Q=Math.min(w,h);if(s.point||a.point?(s.point&&a.point&&cmpVal(s.point,a.point)&&sameValues(s.activeForPoint(s.to),a.activeForPoint(a.to))||f.comparePoint(d,Q,s.point,a.point),y=!1):(y&&f.boundChange(d),Q>d&&!sameValues(s.active,a.active)&&f.compareRange(d,Q,s.active,a.active),m&&Q<h&&(S||s.openEnd(w)!=a.openEnd(w))&&(y=!0)),w>h)break;d=w,x<=0&&s.next(),x>=0&&a.next()}}function sameValues(s,r){if(s.length!=r.length)return!1;for(let a=0;a<s.length;a++)if(s[a]!=r[a]&&!cmpVal(s[a],r[a]))return!1;return!0}function remove(s,r){for(let a=r,l=s.length-1;a<l;a++)s[a]=s[a+1];s.pop()}function insert(s,r,a){for(let l=s.length-1;l>=r;l--)s[l+1]=s[l];s[r]=a}function findMinIndex(s,r){let a=-1,l=1e9;for(let o=0;o<r.length;o++)(r[o]-l||s[o].endSide-s[a].endSide)<0&&(a=o,l=r[o]);return a}function countColumn(s,r,a=s.length){let l=0;for(let o=0;o<a&&o<s.length;)s.charCodeAt(o)==9?(l+=r-l%r,o++):(l++,o=findClusterBreak(s,o));return l}function findColumn(s,r,a,l){for(let o=0,f=0;;){if(f>=r)return o;if(o==s.length)break;f+=s.charCodeAt(o)==9?a-f%a:1,o=findClusterBreak(s,o)}return l===!0?-1:s.length}const C="",COUNT=typeof Symbol>"u"?"__"+C:Symbol.for(C),SET=typeof Symbol>"u"?"__styleSet"+Math.floor(Math.random()*1e8):Symbol("styleSet"),top=typeof globalThis<"u"?globalThis:typeof window<"u"?window:{};class StyleModule{constructor(r,a){this.rules=[];let{finish:l}=a||{};function o(h){return/^@/.test(h)?[h]:h.split(/,\s*/)}function f(h,d,g,m){let y=[],S=/^@(\w+)\b/.exec(h[0]),x=S&&S[1]=="keyframes";if(S&&d==null)return g.push(h[0]+";");for(let w in d){let Q=d[w];if(/&/.test(w))f(w.split(/,\s*/).map(A=>h.map(M=>A.replace(/&/,M))).reduce((A,M)=>A.concat(M)),Q,g);else if(Q&&typeof Q=="object"){if(!S)throw new RangeError("The value of a property ("+w+") should be a primitive value.");f(o(w),Q,y,x)}else Q!=null&&y.push(w.replace(/_.*/,"").replace(/[A-Z]/g,A=>"-"+A.toLowerCase())+": "+Q+";")}(y.length||x)&&g.push((l&&!S&&!m?h.map(l):h).join(", ")+" {"+y.join(" ")+"}")}for(let h in r)f(o(h),r[h],this.rules)}getRules(){return this.rules.join(`
`)}static newName(){let r=top[COUNT]||1;return top[COUNT]=r+1,C+r.toString(36)}static mount(r,a,l){let o=r[SET],f=l&&l.nonce;o?f&&o.setNonce(f):o=new StyleSet(r,f),o.mount(Array.isArray(a)?a:[a],r)}}let adoptedSet=new Map;class StyleSet{constructor(r,a){let l=r.ownerDocument||r,o=l.defaultView;if(!r.head&&r.adoptedStyleSheets&&o.CSSStyleSheet){let f=adoptedSet.get(l);if(f)return r[SET]=f;this.sheet=new o.CSSStyleSheet,adoptedSet.set(l,this)}else this.styleTag=l.createElement("style"),a&&this.styleTag.setAttribute("nonce",a);this.modules=[],r[SET]=this}mount(r,a){let l=this.sheet,o=0,f=0;for(let h=0;h<r.length;h++){let d=r[h],g=this.modules.indexOf(d);if(g<f&&g>-1&&(this.modules.splice(g,1),f--,g=-1),g==-1){if(this.modules.splice(f++,0,d),l)for(let m=0;m<d.rules.length;m++)l.insertRule(d.rules[m],o++)}else{for(;f<g;)o+=this.modules[f++].rules.length;o+=d.rules.length,f++}}if(l)a.adoptedStyleSheets.indexOf(this.sheet)<0&&(a.adoptedStyleSheets=[this.sheet,...a.adoptedStyleSheets]);else{let h="";for(let g=0;g<this.modules.length;g++)h+=this.modules[g].getRules()+`
`;this.styleTag.textContent=h;let d=a.head||a;this.styleTag.parentNode!=d&&d.insertBefore(this.styleTag,d.firstChild)}}setNonce(r){this.styleTag&&this.styleTag.getAttribute("nonce")!=r&&this.styleTag.setAttribute("nonce",r)}}var base={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},shift={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},mac=typeof navigator<"u"&&/Mac/.test(navigator.platform),ie$1=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var i=0;i<10;i++)base[48+i]=base[96+i]=String(i);for(var i=1;i<=24;i++)base[i+111]="F"+i;for(var i=65;i<=90;i++)base[i]=String.fromCharCode(i+32),shift[i]=String.fromCharCode(i);for(var code in base)shift.hasOwnProperty(code)||(shift[code]=base[code]);function keyName(s){var r=mac&&s.metaKey&&s.shiftKey&&!s.ctrlKey&&!s.altKey||ie$1&&s.shiftKey&&s.key&&s.key.length==1||s.key=="Unidentified",a=!r&&s.key||(s.shiftKey?shift:base)[s.keyCode]||s.key||"Unidentified";return a=="Esc"&&(a="Escape"),a=="Del"&&(a="Delete"),a=="Left"&&(a="ArrowLeft"),a=="Up"&&(a="ArrowUp"),a=="Right"&&(a="ArrowRight"),a=="Down"&&(a="ArrowDown"),a}function crelt(){var s=arguments[0];typeof s=="string"&&(s=document.createElement(s));var r=1,a=arguments[1];if(a&&typeof a=="object"&&a.nodeType==null&&!Array.isArray(a)){for(var l in a)if(Object.prototype.hasOwnProperty.call(a,l)){var o=a[l];typeof o=="string"?s.setAttribute(l,o):o!=null&&(s[l]=o)}r++}for(;r<arguments.length;r++)add(s,arguments[r]);return s}function add(s,r){if(typeof r=="string")s.appendChild(document.createTextNode(r));else if(r!=null)if(r.nodeType!=null)s.appendChild(r);else if(Array.isArray(r))for(var a=0;a<r.length;a++)add(s,r[a]);else throw new RangeError("Unsupported child node: "+r)}let nav=typeof navigator<"u"?navigator:{userAgent:"",vendor:"",platform:""},doc=typeof document<"u"?document:{documentElement:{style:{}}};const ie_edge=/Edge\/(\d+)/.exec(nav.userAgent),ie_upto10=/MSIE \d/.test(nav.userAgent),ie_11up=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(nav.userAgent),ie=!!(ie_upto10||ie_11up||ie_edge),gecko=!ie&&/gecko\/(\d+)/i.test(nav.userAgent),chrome=!ie&&/Chrome\/(\d+)/.exec(nav.userAgent),webkit="webkitFontSmoothing"in doc.documentElement.style,safari=!ie&&/Apple Computer/.test(nav.vendor),ios=safari&&(/Mobile\/\w+/.test(nav.userAgent)||nav.maxTouchPoints>2);var browser={mac:ios||/Mac/.test(nav.platform),windows:/Win/.test(nav.platform),linux:/Linux|X11/.test(nav.platform),ie,ie_version:ie_upto10?doc.documentMode||6:ie_11up?+ie_11up[1]:ie_edge?+ie_edge[1]:0,gecko,gecko_version:gecko?+(/Firefox\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,chrome:!!chrome,chrome_version:chrome?+chrome[1]:0,ios,android:/Android\b/.test(nav.userAgent),webkit_version:webkit?+(/\bAppleWebKit\/(\d+)/.exec(nav.userAgent)||[0,0])[1]:0,safari,safari_version:safari?+(/\bVersion\/(\d+(\.\d+)?)/.exec(nav.userAgent)||[0,0])[1]:0,tabSize:doc.documentElement.style.tabSize!=null?"tab-size":"-moz-tab-size"};function combineAttrs(s,r){for(let a in s)a=="class"&&r.class?r.class+=" "+s.class:a=="style"&&r.style?r.style+=";"+s.style:r[a]=s[a];return r}const noAttrs$1=Object.create(null);function attrsEq(s,r,a){if(s==r)return!0;s||(s=noAttrs$1),r||(r=noAttrs$1);let l=Object.keys(s),o=Object.keys(r);if(l.length-0!=o.length-0)return!1;for(let f of l)if(f!=a&&(o.indexOf(f)==-1||s[f]!==r[f]))return!1;return!0}function setAttrs(s,r){for(let a=s.attributes.length-1;a>=0;a--){let l=s.attributes[a].name;r[l]==null&&s.removeAttribute(l)}for(let a in r){let l=r[a];a=="style"?s.style.cssText=l:s.getAttribute(a)!=l&&s.setAttribute(a,l)}}function updateAttrs(s,r,a){let l=!1;if(r)for(let o in r)a&&o in a||(l=!0,o=="style"?s.style.cssText="":s.removeAttribute(o));if(a)for(let o in a)r&&r[o]==a[o]||(l=!0,o=="style"?s.style.cssText=a[o]:s.setAttribute(o,a[o]));return l}function getAttrs(s){let r=Object.create(null);for(let a=0;a<s.attributes.length;a++){let l=s.attributes[a];r[l.name]=l.value}return r}class WidgetType{eq(r){return!1}updateDOM(r,a){return!1}compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}get estimatedHeight(){return-1}get lineBreaks(){return 0}ignoreEvent(r){return!0}coordsAt(r,a,l){return null}get isHidden(){return!1}get editable(){return!1}destroy(r){}}var BlockType=(function(s){return s[s.Text=0]="Text",s[s.WidgetBefore=1]="WidgetBefore",s[s.WidgetAfter=2]="WidgetAfter",s[s.WidgetRange=3]="WidgetRange",s})(BlockType||(BlockType={}));class Decoration extends RangeValue{constructor(r,a,l,o){super(),this.startSide=r,this.endSide=a,this.widget=l,this.spec=o}get heightRelevant(){return!1}static mark(r){return new MarkDecoration(r)}static widget(r){let a=Math.max(-1e4,Math.min(1e4,r.side||0)),l=!!r.block;return a+=l&&!r.inlineOrder?a>0?3e8:-4e8:a>0?1e8:-1e8,new PointDecoration(r,a,a,l,r.widget||null,!1)}static replace(r){let a=!!r.block,l,o;if(r.isBlockGap)l=-5e8,o=4e8;else{let{start:f,end:h}=getInclusive(r,a);l=(f?a?-3e8:-1:5e8)-1,o=(h?a?2e8:1:-6e8)+1}return new PointDecoration(r,l,o,a,r.widget||null,!0)}static line(r){return new LineDecoration(r)}static set(r,a=!1){return RangeSet.of(r,a)}hasHeight(){return this.widget?this.widget.estimatedHeight>-1:!1}}Decoration.none=RangeSet.empty;class MarkDecoration extends Decoration{constructor(r){let{start:a,end:l}=getInclusive(r);super(a?-1:5e8,l?1:-6e8,null,r),this.tagName=r.tagName||"span",this.attrs=r.class&&r.attributes?combineAttrs(r.attributes,{class:r.class}):r.class?{class:r.class}:r.attributes||noAttrs$1}eq(r){return this==r||r instanceof MarkDecoration&&this.tagName==r.tagName&&attrsEq(this.attrs,r.attrs)}range(r,a=r){if(r>=a)throw new RangeError("Mark decorations may not be empty");return super.range(r,a)}}MarkDecoration.prototype.point=!1;class LineDecoration extends Decoration{constructor(r){super(-2e8,-2e8,null,r)}eq(r){return r instanceof LineDecoration&&this.spec.class==r.spec.class&&attrsEq(this.spec.attributes,r.spec.attributes)}range(r,a=r){if(a!=r)throw new RangeError("Line decoration ranges must be zero-length");return super.range(r,a)}}LineDecoration.prototype.mapMode=MapMode.TrackBefore;LineDecoration.prototype.point=!0;class PointDecoration extends Decoration{constructor(r,a,l,o,f,h){super(a,l,f,r),this.block=o,this.isReplace=h,this.mapMode=o?a<=0?MapMode.TrackBefore:MapMode.TrackAfter:MapMode.TrackDel}get type(){return this.startSide!=this.endSide?BlockType.WidgetRange:this.startSide<=0?BlockType.WidgetBefore:BlockType.WidgetAfter}get heightRelevant(){return this.block||!!this.widget&&(this.widget.estimatedHeight>=5||this.widget.lineBreaks>0)}eq(r){return r instanceof PointDecoration&&widgetsEq(this.widget,r.widget)&&this.block==r.block&&this.startSide==r.startSide&&this.endSide==r.endSide}range(r,a=r){if(this.isReplace&&(r>a||r==a&&this.startSide>0&&this.endSide<=0))throw new RangeError("Invalid range for replacement decoration");if(!this.isReplace&&a!=r)throw new RangeError("Widget decorations can only have zero-length ranges");return super.range(r,a)}}PointDecoration.prototype.point=!0;function getInclusive(s,r=!1){let{inclusiveStart:a,inclusiveEnd:l}=s;return a==null&&(a=s.inclusive),l==null&&(l=s.inclusive),{start:a??r,end:l??r}}function widgetsEq(s,r){return s==r||!!(s&&r&&s.compare(r))}function addRange(s,r,a,l=0){let o=a.length-1;o>=0&&a[o]+l>=s?a[o]=Math.max(a[o],r):a.push(s,r)}class BlockWrapper extends RangeValue{constructor(r,a){super(),this.tagName=r,this.attributes=a}eq(r){return r==this||r instanceof BlockWrapper&&this.tagName==r.tagName&&attrsEq(this.attributes,r.attributes)}static create(r){return new BlockWrapper(r.tagName,r.attributes||noAttrs$1)}static set(r,a=!1){return RangeSet.of(r,a)}}BlockWrapper.prototype.startSide=BlockWrapper.prototype.endSide=-1;function getSelection(s){let r;return s.nodeType==11?r=s.getSelection?s:s.ownerDocument:r=s,r.getSelection()}function contains(s,r){return r?s==r||s.contains(r.nodeType!=1?r.parentNode:r):!1}function hasSelection(s,r){if(!r.anchorNode)return!1;try{return contains(s,r.anchorNode)}catch{return!1}}function clientRectsFor(s){return s.nodeType==3?textRange(s,0,s.nodeValue.length).getClientRects():s.nodeType==1?s.getClientRects():[]}function isEquivalentPosition(s,r,a,l){return a?scanFor(s,r,a,l,-1)||scanFor(s,r,a,l,1):!1}function domIndex(s){for(var r=0;;r++)if(s=s.previousSibling,!s)return r}function isBlockElement(s){return s.nodeType==1&&/^(DIV|P|LI|UL|OL|BLOCKQUOTE|DD|DT|H\d|SECTION|PRE)$/.test(s.nodeName)}function scanFor(s,r,a,l,o){for(;;){if(s==a&&r==l)return!0;if(r==(o<0?0:maxOffset(s))){if(s.nodeName=="DIV")return!1;let f=s.parentNode;if(!f||f.nodeType!=1)return!1;r=domIndex(s)+(o<0?0:1),s=f}else if(s.nodeType==1){if(s=s.childNodes[r+(o<0?-1:0)],s.nodeType==1&&s.contentEditable=="false")return!1;r=o<0?maxOffset(s):0}else return!1}}function maxOffset(s){return s.nodeType==3?s.nodeValue.length:s.childNodes.length}function flattenRect(s,r){let a=r?s.left:s.right;return{left:a,right:a,top:s.top,bottom:s.bottom}}function windowRect(s){let r=s.visualViewport;return r?{left:0,right:r.width,top:0,bottom:r.height}:{left:0,right:s.innerWidth,top:0,bottom:s.innerHeight}}function getScale(s,r){let a=r.width/s.offsetWidth,l=r.height/s.offsetHeight;return(a>.995&&a<1.005||!isFinite(a)||Math.abs(r.width-s.offsetWidth)<1)&&(a=1),(l>.995&&l<1.005||!isFinite(l)||Math.abs(r.height-s.offsetHeight)<1)&&(l=1),{scaleX:a,scaleY:l}}function scrollRectIntoView(s,r,a,l,o,f,h,d){let g=s.ownerDocument,m=g.defaultView||window;for(let y=s,S=!1;y&&!S;)if(y.nodeType==1){let x,w=y==g.body,Q=1,A=1;if(w)x=windowRect(m);else{if(/^(fixed|sticky)$/.test(getComputedStyle(y).position)&&(S=!0),y.scrollHeight<=y.clientHeight&&y.scrollWidth<=y.clientWidth){y=y.assignedSlot||y.parentNode;continue}let Z=y.getBoundingClientRect();({scaleX:Q,scaleY:A}=getScale(y,Z)),x={left:Z.left,right:Z.left+y.clientWidth*Q,top:Z.top,bottom:Z.top+y.clientHeight*A}}let M=0,L=0;if(o=="nearest")r.top<x.top?(L=r.top-(x.top+h),a>0&&r.bottom>x.bottom+L&&(L=r.bottom-x.bottom+h)):r.bottom>x.bottom&&(L=r.bottom-x.bottom+h,a<0&&r.top-L<x.top&&(L=r.top-(x.top+h)));else{let Z=r.bottom-r.top,z=x.bottom-x.top;L=(o=="center"&&Z<=z?r.top+Z/2-z/2:o=="start"||o=="center"&&a<0?r.top-h:r.bottom-z+h)-x.top}if(l=="nearest"?r.left<x.left?(M=r.left-(x.left+f),a>0&&r.right>x.right+M&&(M=r.right-x.right+f)):r.right>x.right&&(M=r.right-x.right+f,a<0&&r.left<x.left+M&&(M=r.left-(x.left+f))):M=(l=="center"?r.left+(r.right-r.left)/2-(x.right-x.left)/2:l=="start"==d?r.left-f:r.right-(x.right-x.left)+f)-x.left,M||L)if(w)m.scrollBy(M,L);else{let Z=0,z=0;if(L){let j=y.scrollTop;y.scrollTop+=L/A,z=(y.scrollTop-j)*A}if(M){let j=y.scrollLeft;y.scrollLeft+=M/Q,Z=(y.scrollLeft-j)*Q}r={left:r.left-Z,top:r.top-z,right:r.right-Z,bottom:r.bottom-z},Z&&Math.abs(Z-M)<1&&(l="nearest"),z&&Math.abs(z-L)<1&&(o="nearest")}if(w)break;(r.top<x.top||r.bottom>x.bottom||r.left<x.left||r.right>x.right)&&(r={left:Math.max(r.left,x.left),right:Math.min(r.right,x.right),top:Math.max(r.top,x.top),bottom:Math.min(r.bottom,x.bottom)}),y=y.assignedSlot||y.parentNode}else if(y.nodeType==11)y=y.host;else break}function scrollableParents(s){let r=s.ownerDocument,a,l;for(let o=s.parentNode;o&&!(o==r.body||a&&l);)if(o.nodeType==1)!l&&o.scrollHeight>o.clientHeight&&(l=o),!a&&o.scrollWidth>o.clientWidth&&(a=o),o=o.assignedSlot||o.parentNode;else if(o.nodeType==11)o=o.host;else break;return{x:a,y:l}}class DOMSelectionState{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}eq(r){return this.anchorNode==r.anchorNode&&this.anchorOffset==r.anchorOffset&&this.focusNode==r.focusNode&&this.focusOffset==r.focusOffset}setRange(r){let{anchorNode:a,focusNode:l}=r;this.set(a,Math.min(r.anchorOffset,a?maxOffset(a):0),l,Math.min(r.focusOffset,l?maxOffset(l):0))}set(r,a,l,o){this.anchorNode=r,this.anchorOffset=a,this.focusNode=l,this.focusOffset=o}}let preventScrollSupported=null;browser.safari&&browser.safari_version>=26&&(preventScrollSupported=!1);function focusPreventScroll(s){if(s.setActive)return s.setActive();if(preventScrollSupported)return s.focus(preventScrollSupported);let r=[];for(let a=s;a&&(r.push(a,a.scrollTop,a.scrollLeft),a!=a.ownerDocument);a=a.parentNode);if(s.focus(preventScrollSupported==null?{get preventScroll(){return preventScrollSupported={preventScroll:!0},!0}}:void 0),!preventScrollSupported){preventScrollSupported=!1;for(let a=0;a<r.length;){let l=r[a++],o=r[a++],f=r[a++];l.scrollTop!=o&&(l.scrollTop=o),l.scrollLeft!=f&&(l.scrollLeft=f)}}}let scratchRange;function textRange(s,r,a=r){let l=scratchRange||(scratchRange=document.createRange());return l.setEnd(s,a),l.setStart(s,r),l}function dispatchKey(s,r,a,l){let o={key:r,code:r,keyCode:a,which:a,cancelable:!0};l&&({altKey:o.altKey,ctrlKey:o.ctrlKey,shiftKey:o.shiftKey,metaKey:o.metaKey}=l);let f=new KeyboardEvent("keydown",o);f.synthetic=!0,s.dispatchEvent(f);let h=new KeyboardEvent("keyup",o);return h.synthetic=!0,s.dispatchEvent(h),f.defaultPrevented||h.defaultPrevented}function getRoot(s){for(;s;){if(s&&(s.nodeType==9||s.nodeType==11&&s.host))return s;s=s.assignedSlot||s.parentNode}return null}function atElementStart(s,r){let a=r.focusNode,l=r.focusOffset;if(!a||r.anchorNode!=a||r.anchorOffset!=l)return!1;for(l=Math.min(l,maxOffset(a));;)if(l){if(a.nodeType!=1)return!1;let o=a.childNodes[l-1];o.contentEditable=="false"?l--:(a=o,l=maxOffset(a))}else{if(a==s)return!0;l=domIndex(a),a=a.parentNode}}function isScrolledToBottom(s){return s.scrollTop>Math.max(1,s.scrollHeight-s.clientHeight-4)}function textNodeBefore(s,r){for(let a=s,l=r;;){if(a.nodeType==3&&l>0)return{node:a,offset:l};if(a.nodeType==1&&l>0){if(a.contentEditable=="false")return null;a=a.childNodes[l-1],l=maxOffset(a)}else if(a.parentNode&&!isBlockElement(a))l=domIndex(a),a=a.parentNode;else return null}}function textNodeAfter(s,r){for(let a=s,l=r;;){if(a.nodeType==3&&l<a.nodeValue.length)return{node:a,offset:l};if(a.nodeType==1&&l<a.childNodes.length){if(a.contentEditable=="false")return null;a=a.childNodes[l],l=0}else if(a.parentNode&&!isBlockElement(a))l=domIndex(a)+1,a=a.parentNode;else return null}}class DOMPos{constructor(r,a,l=!0){this.node=r,this.offset=a,this.precise=l}static before(r,a){return new DOMPos(r.parentNode,domIndex(r),a)}static after(r,a){return new DOMPos(r.parentNode,domIndex(r)+1,a)}}var Direction=(function(s){return s[s.LTR=0]="LTR",s[s.RTL=1]="RTL",s})(Direction||(Direction={}));const LTR=Direction.LTR,RTL=Direction.RTL;function dec(s){let r=[];for(let a=0;a<s.length;a++)r.push(1<<+s[a]);return r}const LowTypes=dec("88888888888888888888888888888888888666888888787833333333337888888000000000000000000000000008888880000000000000000000000000088888888888888888888888888888888888887866668888088888663380888308888800000000000000000000000800000000000000000000000000000008"),ArabicTypes=dec("4444448826627288999999999992222222222222222222222222222222222222222222222229999999999999999999994444444444644222822222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222222999999949999999229989999223333333333"),Brackets=Object.create(null),BracketStack=[];for(let s of["()","[]","{}"]){let r=s.charCodeAt(0),a=s.charCodeAt(1);Brackets[r]=a,Brackets[a]=-r}function charType(s){return s<=247?LowTypes[s]:1424<=s&&s<=1524?2:1536<=s&&s<=1785?ArabicTypes[s-1536]:1774<=s&&s<=2220?4:8192<=s&&s<=8204?256:64336<=s&&s<=65023?4:1}const BidiRE=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\ufb50-\ufdff]/;class BidiSpan{get dir(){return this.level%2?RTL:LTR}constructor(r,a,l){this.from=r,this.to=a,this.level=l}side(r,a){return this.dir==a==r?this.to:this.from}forward(r,a){return r==(this.dir==a)}static find(r,a,l,o){let f=-1;for(let h=0;h<r.length;h++){let d=r[h];if(d.from<=a&&d.to>=a){if(d.level==l)return h;(f<0||(o!=0?o<0?d.from<a:d.to>a:r[f].level>d.level))&&(f=h)}}if(f<0)throw new RangeError("Index out of range");return f}}function isolatesEq(s,r){if(s.length!=r.length)return!1;for(let a=0;a<s.length;a++){let l=s[a],o=r[a];if(l.from!=o.from||l.to!=o.to||l.direction!=o.direction||!isolatesEq(l.inner,o.inner))return!1}return!0}const types=[];function computeCharTypes(s,r,a,l,o){for(let f=0;f<=l.length;f++){let h=f?l[f-1].to:r,d=f<l.length?l[f].from:a,g=f?256:o;for(let m=h,y=g,S=g;m<d;m++){let x=charType(s.charCodeAt(m));x==512?x=y:x==8&&S==4&&(x=16),types[m]=x==4?2:x,x&7&&(S=x),y=x}for(let m=h,y=g,S=g;m<d;m++){let x=types[m];if(x==128)m<d-1&&y==types[m+1]&&y&24?x=types[m]=y:types[m]=256;else if(x==64){let w=m+1;for(;w<d&&types[w]==64;)w++;let Q=m&&y==8||w<a&&types[w]==8?S==1?1:8:256;for(let A=m;A<w;A++)types[A]=Q;m=w-1}else x==8&&S==1&&(types[m]=1);y=x,x&7&&(S=x)}}}function processBracketPairs(s,r,a,l,o){let f=o==1?2:1;for(let h=0,d=0,g=0;h<=l.length;h++){let m=h?l[h-1].to:r,y=h<l.length?l[h].from:a;for(let S=m,x,w,Q;S<y;S++)if(w=Brackets[x=s.charCodeAt(S)])if(w<0){for(let A=d-3;A>=0;A-=3)if(BracketStack[A+1]==-w){let M=BracketStack[A+2],L=M&2?o:M&4?M&1?f:o:0;L&&(types[S]=types[BracketStack[A]]=L),d=A;break}}else{if(BracketStack.length==189)break;BracketStack[d++]=S,BracketStack[d++]=x,BracketStack[d++]=g}else if((Q=types[S])==2||Q==1){let A=Q==o;g=A?0:1;for(let M=d-3;M>=0;M-=3){let L=BracketStack[M+2];if(L&2)break;if(A)BracketStack[M+2]|=2;else{if(L&4)break;BracketStack[M+2]|=4}}}}}function processNeutrals(s,r,a,l){for(let o=0,f=l;o<=a.length;o++){let h=o?a[o-1].to:s,d=o<a.length?a[o].from:r;for(let g=h;g<d;){let m=types[g];if(m==256){let y=g+1;for(;;)if(y==d){if(o==a.length)break;y=a[o++].to,d=o<a.length?a[o].from:r}else if(types[y]==256)y++;else break;let S=f==1,x=(y<r?types[y]:l)==1,w=S==x?S?1:2:l;for(let Q=y,A=o,M=A?a[A-1].to:s;Q>g;)Q==M&&(Q=a[--A].from,M=A?a[A-1].to:s),types[--Q]=w;g=y}else f=m,g++}}}function emitSpans(s,r,a,l,o,f,h){let d=l%2?2:1;if(l%2==o%2)for(let g=r,m=0;g<a;){let y=!0,S=!1;if(m==f.length||g<f[m].from){let A=types[g];A!=d&&(y=!1,S=A==16)}let x=!y&&d==1?[]:null,w=y?l:l+1,Q=g;e:for(;;)if(m<f.length&&Q==f[m].from){if(S)break e;let A=f[m];if(!y)for(let M=A.to,L=m+1;;){if(M==a)break e;if(L<f.length&&f[L].from==M)M=f[L++].to;else{if(types[M]==d)break e;break}}if(m++,x)x.push(A);else{A.from>g&&h.push(new BidiSpan(g,A.from,w));let M=A.direction==LTR!=!(w%2);computeSectionOrder(s,M?l+1:l,o,A.inner,A.from,A.to,h),g=A.to}Q=A.to}else{if(Q==a||(y?types[Q]!=d:types[Q]==d))break;Q++}x?emitSpans(s,g,Q,l+1,o,x,h):g<Q&&h.push(new BidiSpan(g,Q,w)),g=Q}else for(let g=a,m=f.length;g>r;){let y=!0,S=!1;if(!m||g>f[m-1].to){let A=types[g-1];A!=d&&(y=!1,S=A==16)}let x=!y&&d==1?[]:null,w=y?l:l+1,Q=g;e:for(;;)if(m&&Q==f[m-1].to){if(S)break e;let A=f[--m];if(!y)for(let M=A.from,L=m;;){if(M==r)break e;if(L&&f[L-1].to==M)M=f[--L].from;else{if(types[M-1]==d)break e;break}}if(x)x.push(A);else{A.to<g&&h.push(new BidiSpan(A.to,g,w));let M=A.direction==LTR!=!(w%2);computeSectionOrder(s,M?l+1:l,o,A.inner,A.from,A.to,h),g=A.from}Q=A.from}else{if(Q==r||(y?types[Q-1]!=d:types[Q-1]==d))break;Q--}x?emitSpans(s,Q,g,l+1,o,x,h):Q<g&&h.push(new BidiSpan(Q,g,w)),g=Q}}function computeSectionOrder(s,r,a,l,o,f,h){let d=r%2?2:1;computeCharTypes(s,o,f,l,d),processBracketPairs(s,o,f,l,d),processNeutrals(o,f,l,d),emitSpans(s,o,f,r,a,l,h)}function computeOrder(s,r,a){if(!s)return[new BidiSpan(0,0,r==RTL?1:0)];if(r==LTR&&!a.length&&!BidiRE.test(s))return trivialOrder(s.length);if(a.length)for(;s.length>types.length;)types[types.length]=256;let l=[],o=r==LTR?0:1;return computeSectionOrder(s,o,o,a,0,s.length,l),l}function trivialOrder(s){return[new BidiSpan(0,s,0)]}let movedOver="";function moveVisually(s,r,a,l,o){var f;let h=l.head-s.from,d=BidiSpan.find(r,h,(f=l.bidiLevel)!==null&&f!==void 0?f:-1,l.assoc),g=r[d],m=g.side(o,a);if(h==m){let x=d+=o?1:-1;if(x<0||x>=r.length)return null;g=r[d=x],h=g.side(!o,a),m=g.side(o,a)}let y=findClusterBreak(s.text,h,g.forward(o,a));(y<g.from||y>g.to)&&(y=m),movedOver=s.text.slice(Math.min(h,y),Math.max(h,y));let S=d==(o?r.length-1:0)?null:r[d+(o?1:-1)];return S&&y==m&&S.level+(o?0:1)<g.level?EditorSelection.cursor(S.side(!o,a)+s.from,S.forward(o,a)?1:-1,S.level):EditorSelection.cursor(y+s.from,g.forward(o,a)?-1:1,g.level)}function autoDirection(s,r,a){for(let l=r;l<a;l++){let o=charType(s.charCodeAt(l));if(o==1)return LTR;if(o==2||o==4)return RTL}return LTR}const clickAddsSelectionRange=Facet.define(),dragMovesSelection$1=Facet.define(),mouseSelectionStyle=Facet.define(),exceptionSink=Facet.define(),updateListener=Facet.define(),inputHandler$1=Facet.define(),focusChangeEffect=Facet.define(),clipboardInputFilter=Facet.define(),clipboardOutputFilter=Facet.define(),perLineTextDirection=Facet.define({combine:s=>s.some(r=>r)}),nativeSelectionHidden=Facet.define({combine:s=>s.some(r=>r)}),scrollHandler=Facet.define();class ScrollTarget{constructor(r,a="nearest",l="nearest",o=5,f=5,h=!1){this.range=r,this.y=a,this.x=l,this.yMargin=o,this.xMargin=f,this.isSnapshot=h}map(r){return r.empty?this:new ScrollTarget(this.range.map(r),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}clip(r){return this.range.to<=r.doc.length?this:new ScrollTarget(EditorSelection.cursor(r.doc.length),this.y,this.x,this.yMargin,this.xMargin,this.isSnapshot)}}const scrollIntoView$1=StateEffect.define({map:(s,r)=>s.map(r)}),setEditContextFormatting=StateEffect.define();function logException(s,r,a){let l=s.facet(exceptionSink);l.length?l[0](r):window.onerror&&window.onerror(String(r),a,void 0,void 0,r)||(a?console.error(a+":",r):console.error(r))}const editable=Facet.define({combine:s=>s.length?s[0]:!0});let nextPluginID=0;const viewPlugin=Facet.define({combine(s){return s.filter((r,a)=>{for(let l=0;l<a;l++)if(s[l].plugin==r.plugin)return!1;return!0})}});class ViewPlugin{constructor(r,a,l,o,f){this.id=r,this.create=a,this.domEventHandlers=l,this.domEventObservers=o,this.baseExtensions=f(this),this.extension=this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:void 0}))}of(r){return this.baseExtensions.concat(viewPlugin.of({plugin:this,arg:r}))}static define(r,a){const{eventHandlers:l,eventObservers:o,provide:f,decorations:h}=a||{};return new ViewPlugin(nextPluginID++,r,l,o,d=>{let g=[];return h&&g.push(decorations.of(m=>{let y=m.plugin(d);return y?h(y):Decoration.none})),f&&g.push(f(d)),g})}static fromClass(r,a){return ViewPlugin.define((l,o)=>new r(l,o),a)}}class PluginInstance{constructor(r){this.spec=r,this.mustUpdate=null,this.value=null}get plugin(){return this.spec&&this.spec.plugin}update(r){if(this.value){if(this.mustUpdate){let a=this.mustUpdate;if(this.mustUpdate=null,this.value.update)try{this.value.update(a)}catch(l){if(logException(a.state,l,"CodeMirror plugin crashed"),this.value.destroy)try{this.value.destroy()}catch{}this.deactivate()}}}else if(this.spec)try{this.value=this.spec.plugin.create(r,this.spec.arg)}catch(a){logException(r.state,a,"CodeMirror plugin crashed"),this.deactivate()}return this}destroy(r){var a;if(!((a=this.value)===null||a===void 0)&&a.destroy)try{this.value.destroy()}catch(l){logException(r.state,l,"CodeMirror plugin crashed")}}deactivate(){this.spec=this.value=null}}const editorAttributes=Facet.define(),contentAttributes=Facet.define(),decorations=Facet.define(),blockWrappers=Facet.define(),outerDecorations=Facet.define(),atomicRanges=Facet.define(),bidiIsolatedRanges=Facet.define();function getIsolatedRanges(s,r){let a=s.state.facet(bidiIsolatedRanges);if(!a.length)return a;let l=a.map(f=>f instanceof Function?f(s):f),o=[];return RangeSet.spans(l,r.from,r.to,{point(){},span(f,h,d,g){let m=f-r.from,y=h-r.from,S=o;for(let x=d.length-1;x>=0;x--,g--){let w=d[x].spec.bidiIsolate,Q;if(w==null&&(w=autoDirection(r.text,m,y)),g>0&&S.length&&(Q=S[S.length-1]).to==m&&Q.direction==w)Q.to=y,S=Q.inner;else{let A={from:m,to:y,direction:w,inner:[]};S.push(A),S=A.inner}}}}),o}const scrollMargins=Facet.define();function getScrollMargins(s){let r=0,a=0,l=0,o=0;for(let f of s.state.facet(scrollMargins)){let h=f(s);h&&(h.left!=null&&(r=Math.max(r,h.left)),h.right!=null&&(a=Math.max(a,h.right)),h.top!=null&&(l=Math.max(l,h.top)),h.bottom!=null&&(o=Math.max(o,h.bottom)))}return{left:r,right:a,top:l,bottom:o}}const styleModule=Facet.define();class ChangedRange{constructor(r,a,l,o){this.fromA=r,this.toA=a,this.fromB=l,this.toB=o}join(r){return new ChangedRange(Math.min(this.fromA,r.fromA),Math.max(this.toA,r.toA),Math.min(this.fromB,r.fromB),Math.max(this.toB,r.toB))}addToSet(r){let a=r.length,l=this;for(;a>0;a--){let o=r[a-1];if(!(o.fromA>l.toA)){if(o.toA<l.fromA)break;l=l.join(o),r.splice(a-1,1)}}return r.splice(a,0,l),r}static extendWithRanges(r,a){if(a.length==0)return r;let l=[];for(let o=0,f=0,h=0;;){let d=o<r.length?r[o].fromB:1e9,g=f<a.length?a[f]:1e9,m=Math.min(d,g);if(m==1e9)break;let y=m+h,S=m,x=y;for(;;)if(f<a.length&&a[f]<=S){let w=a[f+1];f+=2,S=Math.max(S,w);for(let Q=o;Q<r.length&&r[Q].fromB<=S;Q++)h=r[Q].toA-r[Q].toB;x=Math.max(x,w+h)}else if(o<r.length&&r[o].fromB<=S){let w=r[o++];S=Math.max(S,w.toB),x=Math.max(x,w.toA),h=w.toA-w.toB}else break;l.push(new ChangedRange(y,x,m,S))}return l}}class ViewUpdate{constructor(r,a,l){this.view=r,this.state=a,this.transactions=l,this.flags=0,this.startState=r.state,this.changes=ChangeSet.empty(this.startState.doc.length);for(let f of l)this.changes=this.changes.compose(f.changes);let o=[];this.changes.iterChangedRanges((f,h,d,g)=>o.push(new ChangedRange(f,h,d,g))),this.changedRanges=o}static create(r,a,l){return new ViewUpdate(r,a,l)}get viewportChanged(){return(this.flags&4)>0}get viewportMoved(){return(this.flags&8)>0}get heightChanged(){return(this.flags&2)>0}get geometryChanged(){return this.docChanged||(this.flags&18)>0}get focusChanged(){return(this.flags&1)>0}get docChanged(){return!this.changes.empty}get selectionSet(){return this.transactions.some(r=>r.selection)}get empty(){return this.flags==0&&this.transactions.length==0}}const noChildren=[];class Tile{constructor(r,a,l=0){this.dom=r,this.length=a,this.flags=l,this.parent=null,r.cmTile=this}get breakAfter(){return this.flags&1}get children(){return noChildren}isWidget(){return!1}get isHidden(){return!1}isComposite(){return!1}isLine(){return!1}isText(){return!1}isBlock(){return!1}get domAttrs(){return null}sync(r){if(this.flags|=2,this.flags&4){this.flags&=-5;let a=this.domAttrs;a&&setAttrs(this.dom,a)}}toString(){return this.constructor.name+(this.children.length?`(${this.children})`:"")+(this.breakAfter?"#":"")}destroy(){this.parent=null}setDOM(r){this.dom=r,r.cmTile=this}get posAtStart(){return this.parent?this.parent.posBefore(this):0}get posAtEnd(){return this.posAtStart+this.length}posBefore(r,a=this.posAtStart){let l=a;for(let o of this.children){if(o==r)return l;l+=o.length+o.breakAfter}throw new RangeError("Invalid child in posBefore")}posAfter(r){return this.posBefore(r)+r.length}covers(r){return!0}coordsIn(r,a){return null}domPosFor(r,a){let l=domIndex(this.dom),o=this.length?r>0:a>0;return new DOMPos(this.parent.dom,l+(o?1:0),r==0||r==this.length)}markDirty(r){this.flags&=-3,r&&(this.flags|=4),this.parent&&this.parent.flags&2&&this.parent.markDirty(!1)}get overrideDOMText(){return null}get root(){for(let r=this;r;r=r.parent)if(r instanceof DocTile)return r;return null}static get(r){return r.cmTile}}class CompositeTile extends Tile{constructor(r){super(r,0),this._children=[]}isComposite(){return!0}get children(){return this._children}get lastChild(){return this.children.length?this.children[this.children.length-1]:null}append(r){this.children.push(r),r.parent=this}sync(r){if(this.flags&2)return;super.sync(r);let a=this.dom,l=null,o,f=r?.node==a?r:null,h=0;for(let d of this.children){if(d.sync(r),h+=d.length+d.breakAfter,o=l?l.nextSibling:a.firstChild,f&&o!=d.dom&&(f.written=!0),d.dom.parentNode==a)for(;o&&o!=d.dom;)o=rm$1(o);else a.insertBefore(d.dom,o);l=d.dom}for(o=l?l.nextSibling:a.firstChild,f&&o&&(f.written=!0);o;)o=rm$1(o);this.length=h}}function rm$1(s){let r=s.nextSibling;return s.parentNode.removeChild(s),r}class DocTile extends CompositeTile{constructor(r,a){super(a),this.view=r}owns(r){for(;r;r=r.parent)if(r==this)return!0;return!1}isBlock(){return!0}nearest(r){for(;;){if(!r)return null;let a=Tile.get(r);if(a&&this.owns(a))return a;r=r.parentNode}}blockTiles(r){for(let a=[],l=this,o=0,f=0;;)if(o==l.children.length){if(!a.length)return;l=l.parent,l.breakAfter&&f++,o=a.pop()}else{let h=l.children[o++];if(h instanceof BlockWrapperTile)a.push(o),l=h,o=0;else{let d=f+h.length,g=r(h,f);if(g!==void 0)return g;f=d+h.breakAfter}}}resolveBlock(r,a){let l,o=-1,f,h=-1;if(this.blockTiles((d,g)=>{let m=g+d.length;if(r>=g&&r<=m){if(d.isWidget()&&a>=-1&&a<=1){if(d.flags&32)return!0;d.flags&16&&(l=void 0)}(g<r||r==m&&(a<-1?d.length:d.covers(1)))&&(!l||!d.isWidget()&&l.isWidget())&&(l=d,o=r-g),(m>r||r==g&&(a>1?d.length:d.covers(-1)))&&(!f||!d.isWidget()&&f.isWidget())&&(f=d,h=r-g)}}),!l&&!f)throw new Error("No tile at position "+r);return l&&a<0||!f?{tile:l,offset:o}:{tile:f,offset:h}}}class BlockWrapperTile extends CompositeTile{constructor(r,a){super(r),this.wrapper=a}isBlock(){return!0}covers(r){return this.children.length?r<0?this.children[0].covers(-1):this.lastChild.covers(1):!1}get domAttrs(){return this.wrapper.attributes}static of(r,a){let l=new BlockWrapperTile(a||document.createElement(r.tagName),r);return a||(l.flags|=4),l}}class LineTile extends CompositeTile{constructor(r,a){super(r),this.attrs=a}isLine(){return!0}static start(r,a,l){let o=new LineTile(a||document.createElement("div"),r);return(!a||!l)&&(o.flags|=4),o}get domAttrs(){return this.attrs}resolveInline(r,a,l){let o=null,f=-1,h=null,d=-1;function g(y,S){for(let x=0,w=0;x<y.children.length&&w<=S;x++){let Q=y.children[x],A=w+Q.length;A>=S&&(Q.isComposite()?g(Q,S-w):(!h||h.isHidden&&(a>0||l&&onSameLine(h,Q)))&&(A>S||Q.flags&32)?(h=Q,d=S-w):(w<S||Q.flags&16&&!Q.isHidden)&&(o=Q,f=S-w)),w=A}}g(this,r);let m=(a<0?o:h)||o||h;return m?{tile:m,offset:m==o?f:d}:null}coordsIn(r,a){let l=this.resolveInline(r,a,!0);return l?l.tile.coordsIn(Math.max(0,l.offset),a):fallbackRect(this)}domIn(r,a){let l=this.resolveInline(r,a);if(l){let{tile:o,offset:f}=l;if(this.dom.contains(o.dom))return o.isText()?new DOMPos(o.dom,Math.min(o.dom.nodeValue.length,f)):o.domPosFor(f,o.flags&16?1:o.flags&32?-1:a);let h=l.tile.parent,d=!1;for(let g of h.children){if(d)return new DOMPos(g.dom,0);g==l.tile&&(d=!0)}}return new DOMPos(this.dom,0)}}function fallbackRect(s){let r=s.dom.lastChild;if(!r)return s.dom.getBoundingClientRect();let a=clientRectsFor(r);return a[a.length-1]||null}function onSameLine(s,r){let a=s.coordsIn(0,1),l=r.coordsIn(0,1);return a&&l&&l.top<a.bottom}class MarkTile extends CompositeTile{constructor(r,a){super(r),this.mark=a}get domAttrs(){return this.mark.attrs}static of(r,a){let l=new MarkTile(a||document.createElement(r.tagName),r);return a||(l.flags|=4),l}}class TextTile extends Tile{constructor(r,a){super(r,a.length),this.text=a}sync(r){this.flags&2||(super.sync(r),this.dom.nodeValue!=this.text&&(r&&r.node==this.dom&&(r.written=!0),this.dom.nodeValue=this.text))}isText(){return!0}toString(){return JSON.stringify(this.text)}coordsIn(r,a){let l=this.dom.nodeValue.length;r>l&&(r=l);let o=r,f=r,h=0;r==0&&a<0||r==l&&a>=0?browser.chrome||browser.gecko||(r?(o--,h=1):f<l&&(f++,h=-1)):a<0?o--:f<l&&f++;let d=textRange(this.dom,o,f).getClientRects();if(!d.length)return null;let g=d[(h?h<0:a>=0)?0:d.length-1];return browser.safari&&!h&&g.width==0&&(g=Array.prototype.find.call(d,m=>m.width)||g),h?flattenRect(g,h<0):g||null}static of(r,a){let l=new TextTile(a||document.createTextNode(r),r);return a||(l.flags|=2),l}}class WidgetTile extends Tile{constructor(r,a,l,o){super(r,a,o),this.widget=l}isWidget(){return!0}get isHidden(){return this.widget.isHidden}covers(r){return this.flags&48?!1:(this.flags&(r<0?64:128))>0}coordsIn(r,a){return this.coordsInWidget(r,a,!1)}coordsInWidget(r,a,l){let o=this.widget.coordsAt(this.dom,r,a);if(o)return o;if(l)return flattenRect(this.dom.getBoundingClientRect(),this.length?r==0:a<=0);{let f=this.dom.getClientRects(),h=null;if(!f.length)return null;let d=this.flags&16?!0:this.flags&32?!1:r>0;for(let g=d?f.length-1:0;h=f[g],!(r>0?g==0:g==f.length-1||h.top<h.bottom);g+=d?-1:1);return flattenRect(h,!d)}}get overrideDOMText(){if(!this.length)return Text.empty;let{root:r}=this;if(!r)return Text.empty;let a=this.posAtStart;return r.view.state.doc.slice(a,a+this.length)}destroy(){super.destroy(),this.widget.destroy(this.dom)}static of(r,a,l,o,f){return f||(f=r.toDOM(a),r.editable||(f.contentEditable="false")),new WidgetTile(f,l,r,o)}}class WidgetBufferTile extends Tile{constructor(r){let a=document.createElement("img");a.className="cm-widgetBuffer",a.setAttribute("aria-hidden","true"),super(a,0,r)}get isHidden(){return!0}get overrideDOMText(){return Text.empty}coordsIn(r){return this.dom.getBoundingClientRect()}}class TilePointer{constructor(r){this.index=0,this.beforeBreak=!1,this.parents=[],this.tile=r}advance(r,a,l){let{tile:o,index:f,beforeBreak:h,parents:d}=this;for(;r||a>0;)if(o.isComposite())if(h){if(!r)break;l&&l.break(),r--,h=!1}else if(f==o.children.length){if(!r&&!d.length)break;l&&l.leave(o),h=!!o.breakAfter,{tile:o,index:f}=d.pop(),f++}else{let g=o.children[f],m=g.breakAfter;(a>0?g.length<=r:g.length<r)&&(!l||l.skip(g,0,g.length)!==!1||!g.isComposite)?(h=!!m,f++,r-=g.length):(d.push({tile:o,index:f}),o=g,f=0,l&&g.isComposite()&&l.enter(g))}else if(f==o.length)h=!!o.breakAfter,{tile:o,index:f}=d.pop(),f++;else if(r){let g=Math.min(r,o.length-f);l&&l.skip(o,f,f+g),r-=g,f+=g}else break;return this.tile=o,this.index=f,this.beforeBreak=h,this}get root(){return this.parents.length?this.parents[0].tile:this.tile}}class OpenWrapper{constructor(r,a,l,o){this.from=r,this.to=a,this.wrapper=l,this.rank=o}}class TileBuilder{constructor(r,a,l){this.cache=r,this.root=a,this.blockWrappers=l,this.curLine=null,this.lastBlock=null,this.afterWidget=null,this.pos=0,this.wrappers=[],this.wrapperPos=0}addText(r,a,l,o){var f;this.flushBuffer();let h=this.ensureMarks(a,l),d=h.lastChild;if(d&&d.isText()&&!(d.flags&8)&&d.length+r.length<512){this.cache.reused.set(d,2);let g=h.children[h.children.length-1]=new TextTile(d.dom,d.text+r);g.parent=h}else h.append(o||TextTile.of(r,(f=this.cache.find(TextTile))===null||f===void 0?void 0:f.dom));this.pos+=r.length,this.afterWidget=null}addComposition(r,a){let l=this.curLine;l.dom!=a.line.dom&&(l.setDOM(this.cache.reused.has(a.line)?freeNode(a.line.dom):a.line.dom),this.cache.reused.set(a.line,2));let o=l;for(let d=a.marks.length-1;d>=0;d--){let g=a.marks[d],m=o.lastChild;if(m instanceof MarkTile&&m.mark.eq(g.mark))m.dom!=g.dom&&m.setDOM(freeNode(g.dom)),o=m;else{if(this.cache.reused.get(g)){let S=Tile.get(g.dom);S&&S.setDOM(freeNode(g.dom))}let y=MarkTile.of(g.mark,g.dom);o.append(y),o=y}this.cache.reused.set(g,2)}let f=Tile.get(r.text);f&&this.cache.reused.set(f,2);let h=new TextTile(r.text,r.text.nodeValue);h.flags|=8,o.append(h)}addInlineWidget(r,a,l){let o=this.afterWidget&&r.flags&48&&(this.afterWidget.flags&48)==(r.flags&48);o||this.flushBuffer();let f=this.ensureMarks(a,l);!o&&!(r.flags&16)&&f.append(this.getBuffer(1)),f.append(r),this.pos+=r.length,this.afterWidget=r}addMark(r,a,l){this.flushBuffer(),this.ensureMarks(a,l).append(r),this.pos+=r.length,this.afterWidget=null}addBlockWidget(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}continueWidget(r){let a=this.afterWidget||this.lastBlock;a.length+=r,this.pos+=r}addLineStart(r,a){var l;r||(r=lineBaseAttrs);let o=LineTile.start(r,a||((l=this.cache.find(LineTile))===null||l===void 0?void 0:l.dom),!!a);this.getBlockPos().append(this.lastBlock=this.curLine=o)}addLine(r){this.getBlockPos().append(r),this.pos+=r.length,this.lastBlock=r,this.endLine()}addBreak(){this.lastBlock.flags|=1,this.endLine(),this.pos++}addLineStartIfNotCovered(r){this.blockPosCovered()||this.addLineStart(r)}ensureLine(r){this.curLine||this.addLineStart(r)}ensureMarks(r,a){var l;let o=this.curLine;for(let f=r.length-1;f>=0;f--){let h=r[f],d;if(a>0&&(d=o.lastChild)&&d instanceof MarkTile&&d.mark.eq(h))o=d,a--;else{let g=MarkTile.of(h,(l=this.cache.find(MarkTile,m=>m.mark.eq(h)))===null||l===void 0?void 0:l.dom);o.append(g),o=g,a=0}}return o}endLine(){if(this.curLine){this.flushBuffer();let r=this.curLine.lastChild;(!r||!hasContent(this.curLine,!1)||r.dom.nodeName!="BR"&&r.isWidget()&&!(browser.ios&&hasContent(this.curLine,!0)))&&this.curLine.append(this.cache.findWidget(BreakWidget,0,32)||new WidgetTile(BreakWidget.toDOM(),0,BreakWidget,32)),this.curLine=this.afterWidget=null}}updateBlockWrappers(){this.wrapperPos>this.pos+1e4&&(this.blockWrappers.goto(this.pos),this.wrappers.length=0);for(let r=this.wrappers.length-1;r>=0;r--)this.wrappers[r].to<this.pos&&this.wrappers.splice(r,1);for(let r=this.blockWrappers;r.value&&r.from<=this.pos;r.next())if(r.to>=this.pos){let a=new OpenWrapper(r.from,r.to,r.value,r.rank),l=this.wrappers.length;for(;l>0&&(this.wrappers[l-1].rank-a.rank||this.wrappers[l-1].to-a.to)<0;)l--;this.wrappers.splice(l,0,a)}this.wrapperPos=this.pos}getBlockPos(){var r;this.updateBlockWrappers();let a=this.root;for(let l of this.wrappers){let o=a.lastChild;if(l.from<this.pos&&o instanceof BlockWrapperTile&&o.wrapper.eq(l.wrapper))a=o;else{let f=BlockWrapperTile.of(l.wrapper,(r=this.cache.find(BlockWrapperTile,h=>h.wrapper.eq(l.wrapper)))===null||r===void 0?void 0:r.dom);a.append(f),a=f}}return a}blockPosCovered(){let r=this.lastBlock;return r!=null&&!r.breakAfter&&(!r.isWidget()||(r.flags&160)>0)}getBuffer(r){let a=2|(r<0?16:32),l=this.cache.find(WidgetBufferTile,void 0,1);return l&&(l.flags=a),l||new WidgetBufferTile(a)}flushBuffer(){this.afterWidget&&!(this.afterWidget.flags&32)&&(this.afterWidget.parent.append(this.getBuffer(-1)),this.afterWidget=null)}}class TextStream{constructor(r){this.skipCount=0,this.text="",this.textOff=0,this.cursor=r.iter()}skip(r){this.textOff+r<=this.text.length?this.textOff+=r:(this.skipCount+=r-(this.text.length-this.textOff),this.text="",this.textOff=0)}next(r){if(this.textOff==this.text.length){let{value:o,lineBreak:f,done:h}=this.cursor.next(this.skipCount);if(this.skipCount=0,h)throw new Error("Ran out of text content when drawing inline views");this.text=o;let d=this.textOff=Math.min(r,o.length);return f?null:o.slice(0,d)}let a=Math.min(this.text.length,this.textOff+r),l=this.text.slice(this.textOff,a);return this.textOff=a,l}}const buckets=[WidgetTile,LineTile,TextTile,MarkTile,WidgetBufferTile,BlockWrapperTile,DocTile];for(let s=0;s<buckets.length;s++)buckets[s].bucket=s;class TileCache{constructor(r){this.view=r,this.buckets=buckets.map(()=>[]),this.index=buckets.map(()=>0),this.reused=new Map}add(r){let a=r.constructor.bucket,l=this.buckets[a];l.length<6?l.push(r):l[this.index[a]=(this.index[a]+1)%6]=r}find(r,a,l=2){let o=r.bucket,f=this.buckets[o],h=this.index[o];for(let d=f.length-1;d>=0;d--){let g=(d+h)%f.length,m=f[g];if((!a||a(m))&&!this.reused.has(m))return f.splice(g,1),g<h&&this.index[o]--,this.reused.set(m,l),m}return null}findWidget(r,a,l){let o=this.buckets[0];if(o.length)for(let f=0,h=0;;f++){if(f==o.length){if(h)return null;h=1,f=0}let d=o[f];if(!this.reused.has(d)&&(h==0?d.widget.compare(r):d.widget.constructor==r.constructor&&r.updateDOM(d.dom,this.view)))return o.splice(f,1),f<this.index[0]&&this.index[0]--,d.widget==r&&d.length==a&&(d.flags&497)==l?(this.reused.set(d,1),d):(this.reused.set(d,2),new WidgetTile(d.dom,a,r,d.flags&-498|l))}}reuse(r){return this.reused.set(r,1),r}maybeReuse(r,a=2){if(!this.reused.has(r))return this.reused.set(r,a),r.dom}clear(){for(let r=0;r<this.buckets.length;r++)this.buckets[r].length=this.index[r]=0}}class TileUpdate{constructor(r,a,l,o,f){this.view=r,this.decorations=o,this.disallowBlockEffectsFor=f,this.openWidget=!1,this.openMarks=0,this.cache=new TileCache(r),this.text=new TextStream(r.state.doc),this.builder=new TileBuilder(this.cache,new DocTile(r,r.contentDOM),RangeSet.iter(l)),this.cache.reused.set(a,2),this.old=new TilePointer(a),this.reuseWalker={skip:(h,d,g)=>{if(this.cache.add(h),h.isComposite())return!1},enter:h=>this.cache.add(h),leave:()=>{},break:()=>{}}}run(r,a){let l=a&&this.getCompositionContext(a.text);for(let o=0,f=0,h=0;;){let d=h<r.length?r[h++]:null,g=d?d.fromA:this.old.root.length;if(g>o){let m=g-o;this.preserve(m,!h,!d),o=g,f+=m}if(!d)break;a&&d.fromA<=a.range.fromA&&d.toA>=a.range.toA?(this.forward(d.fromA,a.range.fromA,a.range.fromA<a.range.toA?1:-1),this.emit(f,a.range.fromB),this.cache.clear(),this.builder.addComposition(a,l),this.text.skip(a.range.toB-a.range.fromB),this.forward(a.range.fromA,d.toA),this.emit(a.range.toB,d.toB)):(this.forward(d.fromA,d.toA),this.emit(f,d.toB)),f=d.toB,o=d.toA}return this.builder.curLine&&this.builder.endLine(),this.builder.root}preserve(r,a,l){let o=getMarks(this.old),f=this.openMarks;this.old.advance(r,l?1:-1,{skip:(h,d,g)=>{if(h.isWidget())if(this.openWidget)this.builder.continueWidget(g-d);else{let m=g>0||d<h.length?WidgetTile.of(h.widget,this.view,g-d,h.flags&496,this.cache.maybeReuse(h)):this.cache.reuse(h);m.flags&256?(m.flags&=-2,this.builder.addBlockWidget(m)):(this.builder.ensureLine(null),this.builder.addInlineWidget(m,o,f),f=o.length)}else if(h.isText())this.builder.ensureLine(null),!d&&g==h.length?this.builder.addText(h.text,o,f,this.cache.reuse(h)):(this.cache.add(h),this.builder.addText(h.text.slice(d,g),o,f)),f=o.length;else if(h.isLine())h.flags&=-2,this.cache.reused.set(h,1),this.builder.addLine(h);else if(h instanceof WidgetBufferTile)this.cache.add(h);else if(h instanceof MarkTile)this.builder.ensureLine(null),this.builder.addMark(h,o,f),this.cache.reused.set(h,1),f=o.length;else return!1;this.openWidget=!1},enter:h=>{h.isLine()?this.builder.addLineStart(h.attrs,this.cache.maybeReuse(h)):(this.cache.add(h),h instanceof MarkTile&&o.unshift(h.mark)),this.openWidget=!1},leave:h=>{h.isLine()?o.length&&(o.length=f=0):h instanceof MarkTile&&(o.shift(),f=Math.min(f,o.length))},break:()=>{this.builder.addBreak(),this.openWidget=!1}}),this.text.skip(r)}emit(r,a){let l=null,o=this.builder,f=0,h=RangeSet.spans(this.decorations,r,a,{point:(d,g,m,y,S,x)=>{if(m instanceof PointDecoration){if(this.disallowBlockEffectsFor[x]){if(m.block)throw new RangeError("Block decorations may not be specified via plugins");if(g>this.view.state.doc.lineAt(d).to)throw new RangeError("Decorations that replace line breaks may not be specified via plugins")}if(f=y.length,S>y.length)o.continueWidget(g-d);else{let w=m.widget||(m.block?NullWidget.block:NullWidget.inline),Q=widgetFlags(m),A=this.cache.findWidget(w,g-d,Q)||WidgetTile.of(w,this.view,g-d,Q);m.block?(m.startSide>0&&o.addLineStartIfNotCovered(l),o.addBlockWidget(A)):(o.ensureLine(l),o.addInlineWidget(A,y,S))}l=null}else l=addLineDeco(l,m);g>d&&this.text.skip(g-d)},span:(d,g,m,y)=>{for(let S=d;S<g;){let x=this.text.next(Math.min(512,g-S));x==null?(o.addLineStartIfNotCovered(l),o.addBreak(),S++):(o.ensureLine(l),o.addText(x,m,S==d?y:m.length),S+=x.length),l=null}}});o.addLineStartIfNotCovered(l),this.openWidget=h>f,this.openMarks=h}forward(r,a,l=1){a-r<=10?this.old.advance(a-r,l,this.reuseWalker):(this.old.advance(5,-1,this.reuseWalker),this.old.advance(a-r-10,-1),this.old.advance(5,l,this.reuseWalker))}getCompositionContext(r){let a=[],l=null;for(let o=r.parentNode;;o=o.parentNode){let f=Tile.get(o);if(o==this.view.contentDOM)break;f instanceof MarkTile?a.push(f):f?.isLine()?l=f:o.nodeName=="DIV"&&!l&&o!=this.view.contentDOM?l=new LineTile(o,lineBaseAttrs):a.push(MarkTile.of(new MarkDecoration({tagName:o.nodeName.toLowerCase(),attributes:getAttrs(o)}),o))}return{line:l,marks:a}}}function hasContent(s,r){let a=l=>{for(let o of l.children)if((r?o.isText():o.length)||a(o))return!0;return!1};return a(s)}function widgetFlags(s){let r=s.isReplace?(s.startSide<0?64:0)|(s.endSide>0?128:0):s.startSide>0?32:16;return s.block&&(r|=256),r}const lineBaseAttrs={class:"cm-line"};function addLineDeco(s,r){let a=r.spec.attributes,l=r.spec.class;return!a&&!l||(s||(s={class:"cm-line"}),a&&combineAttrs(a,s),l&&(s.class+=" "+l)),s}function getMarks(s){let r=[];for(let a=s.parents.length;a>1;a--){let l=a==s.parents.length?s.tile:s.parents[a].tile;l instanceof MarkTile&&r.push(l.mark)}return r}function freeNode(s){let r=Tile.get(s);return r&&r.setDOM(s.cloneNode()),s}class NullWidget extends WidgetType{constructor(r){super(),this.tag=r}eq(r){return r.tag==this.tag}toDOM(){return document.createElement(this.tag)}updateDOM(r){return r.nodeName.toLowerCase()==this.tag}get isHidden(){return!0}}NullWidget.inline=new NullWidget("span");NullWidget.block=new NullWidget("div");const BreakWidget=new class extends WidgetType{toDOM(){return document.createElement("br")}get isHidden(){return!0}get editable(){return!0}};class DocView{constructor(r){this.view=r,this.decorations=[],this.blockWrappers=[],this.dynamicDecorationMap=[!1],this.domChanged=null,this.hasComposition=null,this.editContextFormatting=Decoration.none,this.lastCompositionAfterCursor=!1,this.minWidth=0,this.minWidthFrom=0,this.minWidthTo=0,this.impreciseAnchor=null,this.impreciseHead=null,this.forceSelection=!1,this.lastUpdate=Date.now(),this.updateDeco(),this.tile=new DocTile(r,r.contentDOM),this.updateInner([new ChangedRange(0,0,0,r.state.doc.length)],null)}update(r){var a;let l=r.changedRanges;this.minWidth>0&&l.length&&(l.every(({fromA:y,toA:S})=>S<this.minWidthFrom||y>this.minWidthTo)?(this.minWidthFrom=r.changes.mapPos(this.minWidthFrom,1),this.minWidthTo=r.changes.mapPos(this.minWidthTo,1)):this.minWidth=this.minWidthFrom=this.minWidthTo=0),this.updateEditContextFormatting(r);let o=-1;this.view.inputState.composing>=0&&!this.view.observer.editContext&&(!((a=this.domChanged)===null||a===void 0)&&a.newSel?o=this.domChanged.newSel.head:!touchesComposition(r.changes,this.hasComposition)&&!r.selectionSet&&(o=r.state.selection.main.head));let f=o>-1?findCompositionRange(this.view,r.changes,o):null;if(this.domChanged=null,this.hasComposition){let{from:y,to:S}=this.hasComposition;l=new ChangedRange(y,S,r.changes.mapPos(y,-1),r.changes.mapPos(S,1)).addToSet(l.slice())}this.hasComposition=f?{from:f.range.fromB,to:f.range.toB}:null,(browser.ie||browser.chrome)&&!f&&r&&r.state.doc.lines!=r.startState.doc.lines&&(this.forceSelection=!0);let h=this.decorations,d=this.blockWrappers;this.updateDeco();let g=findChangedDeco(h,this.decorations,r.changes);g.length&&(l=ChangedRange.extendWithRanges(l,g));let m=findChangedWrappers(d,this.blockWrappers,r.changes);return m.length&&(l=ChangedRange.extendWithRanges(l,m)),f&&!l.some(y=>y.fromA<=f.range.fromA&&y.toA>=f.range.toA)&&(l=f.range.addToSet(l.slice())),this.tile.flags&2&&l.length==0?!1:(this.updateInner(l,f),r.transactions.length&&(this.lastUpdate=Date.now()),!0)}updateInner(r,a){this.view.viewState.mustMeasureContent=!0;let{observer:l}=this.view;l.ignore(()=>{if(a||r.length){let h=this.tile,d=new TileUpdate(this.view,h,this.blockWrappers,this.decorations,this.dynamicDecorationMap);this.tile=d.run(r,a),destroyDropped(h,d.cache.reused)}this.tile.dom.style.height=this.view.viewState.contentHeight/this.view.scaleY+"px",this.tile.dom.style.flexBasis=this.minWidth?this.minWidth+"px":"";let f=browser.chrome||browser.ios?{node:l.selectionRange.focusNode,written:!1}:void 0;this.tile.sync(f),f&&(f.written||l.selectionRange.focusNode!=f.node||!this.tile.dom.contains(f.node))&&(this.forceSelection=!0),this.tile.dom.style.height=""});let o=[];if(this.view.viewport.from||this.view.viewport.to<this.view.state.doc.length)for(let f of this.tile.children)f.isWidget()&&f.widget instanceof BlockGapWidget&&o.push(f.dom);l.updateGaps(o)}updateEditContextFormatting(r){this.editContextFormatting=this.editContextFormatting.map(r.changes);for(let a of r.transactions)for(let l of a.effects)l.is(setEditContextFormatting)&&(this.editContextFormatting=l.value)}updateSelection(r=!1,a=!1){(r||!this.view.observer.selectionRange.focusNode)&&this.view.observer.readSelectionRange();let{dom:l}=this.tile,o=this.view.root.activeElement,f=o==l,h=!f&&!(this.view.state.facet(editable)||l.tabIndex>-1)&&hasSelection(l,this.view.observer.selectionRange)&&!(o&&l.contains(o));if(!(f||a||h))return;let d=this.forceSelection;this.forceSelection=!1;let g=this.view.state.selection.main,m,y;if(g.empty?y=m=this.inlineDOMNearPos(g.anchor,g.assoc||1):(y=this.inlineDOMNearPos(g.head,g.head==g.from?1:-1),m=this.inlineDOMNearPos(g.anchor,g.anchor==g.from?1:-1)),browser.gecko&&g.empty&&!this.hasComposition&&betweenUneditable(m)){let x=document.createTextNode("");this.view.observer.ignore(()=>m.node.insertBefore(x,m.node.childNodes[m.offset]||null)),m=y=new DOMPos(x,0),d=!0}let S=this.view.observer.selectionRange;(d||!S.focusNode||(!isEquivalentPosition(m.node,m.offset,S.anchorNode,S.anchorOffset)||!isEquivalentPosition(y.node,y.offset,S.focusNode,S.focusOffset))&&!this.suppressWidgetCursorChange(S,g))&&(this.view.observer.ignore(()=>{browser.android&&browser.chrome&&l.contains(S.focusNode)&&inUneditable(S.focusNode,l)&&(l.blur(),l.focus({preventScroll:!0}));let x=getSelection(this.view.root);if(x)if(g.empty){if(browser.gecko){let w=nextToUneditable(m.node,m.offset);if(w&&w!=3){let Q=(w==1?textNodeBefore:textNodeAfter)(m.node,m.offset);Q&&(m=new DOMPos(Q.node,Q.offset))}}x.collapse(m.node,m.offset),g.bidiLevel!=null&&x.caretBidiLevel!==void 0&&(x.caretBidiLevel=g.bidiLevel)}else if(x.extend){x.collapse(m.node,m.offset);try{x.extend(y.node,y.offset)}catch{}}else{let w=document.createRange();g.anchor>g.head&&([m,y]=[y,m]),w.setEnd(y.node,y.offset),w.setStart(m.node,m.offset),x.removeAllRanges(),x.addRange(w)}h&&this.view.root.activeElement==l&&(l.blur(),o&&o.focus())}),this.view.observer.setSelectionRange(m,y)),this.impreciseAnchor=m.precise?null:new DOMPos(S.anchorNode,S.anchorOffset),this.impreciseHead=y.precise?null:new DOMPos(S.focusNode,S.focusOffset)}suppressWidgetCursorChange(r,a){return this.hasComposition&&a.empty&&isEquivalentPosition(r.focusNode,r.focusOffset,r.anchorNode,r.anchorOffset)&&this.posFromDOM(r.focusNode,r.focusOffset)==a.head}enforceCursorAssoc(){if(this.hasComposition)return;let{view:r}=this,a=r.state.selection.main,l=getSelection(r.root),{anchorNode:o,anchorOffset:f}=r.observer.selectionRange;if(!l||!a.empty||!a.assoc||!l.modify)return;let h=this.lineAt(a.head,a.assoc);if(!h)return;let d=h.posAtStart;if(a.head==d||a.head==d+h.length)return;let g=this.coordsAt(a.head,-1),m=this.coordsAt(a.head,1);if(!g||!m||g.bottom>m.top)return;let y=this.domAtPos(a.head+a.assoc,a.assoc);l.collapse(y.node,y.offset),l.modify("move",a.assoc<0?"forward":"backward","lineboundary"),r.observer.readSelectionRange();let S=r.observer.selectionRange;r.docView.posFromDOM(S.anchorNode,S.anchorOffset)!=a.from&&l.collapse(o,f)}posFromDOM(r,a){let l=this.tile.nearest(r);if(!l)return this.tile.dom.compareDocumentPosition(r)&2?0:this.view.state.doc.length;let o=l.posAtStart;if(l.isComposite()){let f;if(r==l.dom)f=l.dom.childNodes[a];else{let h=maxOffset(r)==0?0:a==0?-1:1;for(;;){let d=r.parentNode;if(d==l.dom)break;h==0&&d.firstChild!=d.lastChild&&(r==d.firstChild?h=-1:h=1),r=d}h<0?f=r:f=r.nextSibling}if(f==l.dom.firstChild)return o;for(;f&&!Tile.get(f);)f=f.nextSibling;if(!f)return o+l.length;for(let h=0,d=o;;h++){let g=l.children[h];if(g.dom==f)return d;d+=g.length+g.breakAfter}}else return l.isText()?r==l.dom?o+a:o+(a?l.length:0):o}domAtPos(r,a){let{tile:l,offset:o}=this.tile.resolveBlock(r,a);return l.isWidget()?l.domPosFor(r,a):l.domIn(o,a)}inlineDOMNearPos(r,a){let l,o=-1,f=!1,h,d=-1,g=!1;return this.tile.blockTiles((m,y)=>{if(m.isWidget()){if(m.flags&32&&y>=r)return!0;m.flags&16&&(f=!0)}else{let S=y+m.length;if(y<=r&&(l=m,o=r-y,f=S<r),S>=r&&!h&&(h=m,d=r-y,g=y>r),y>r&&h)return!0}}),!l&&!h?this.domAtPos(r,a):(f&&h?l=null:g&&l&&(h=null),l&&a<0||!h?l.domIn(o,a):h.domIn(d,a))}coordsAt(r,a){let{tile:l,offset:o}=this.tile.resolveBlock(r,a);return l.isWidget()?l.widget instanceof BlockGapWidget?null:l.coordsInWidget(o,a,!0):l.coordsIn(o,a)}lineAt(r,a){let{tile:l}=this.tile.resolveBlock(r,a);return l.isLine()?l:null}coordsForChar(r){let{tile:a,offset:l}=this.tile.resolveBlock(r,1);if(!a.isLine())return null;function o(f,h){if(f.isComposite())for(let d of f.children){if(d.length>=h){let g=o(d,h);if(g)return g}if(h-=d.length,h<0)break}else if(f.isText()&&h<f.length){let d=findClusterBreak(f.text,h);if(d==h)return null;let g=textRange(f.dom,h,d).getClientRects();for(let m=0;m<g.length;m++){let y=g[m];if(m==g.length-1||y.top<y.bottom&&y.left<y.right)return y}}return null}return o(a,l)}measureVisibleLineHeights(r){let a=[],{from:l,to:o}=r,f=this.view.contentDOM.clientWidth,h=f>Math.max(this.view.scrollDOM.clientWidth,this.minWidth)+1,d=-1,g=this.view.textDirection==Direction.LTR,m=0,y=(S,x,w)=>{for(let Q=0;Q<S.children.length&&!(x>o);Q++){let A=S.children[Q],M=x+A.length,L=A.dom.getBoundingClientRect(),{height:Z}=L;if(w&&!Q&&(m+=L.top-w.top),A instanceof BlockWrapperTile)M>l&&y(A,x,L);else if(x>=l&&(m>0&&a.push(-m),a.push(Z+m),m=0,h)){let z=A.dom.lastChild,j=z?clientRectsFor(z):[];if(j.length){let B=j[j.length-1],G=g?B.right-L.left:L.right-B.left;G>d&&(d=G,this.minWidth=f,this.minWidthFrom=x,this.minWidthTo=M)}}w&&Q==S.children.length-1&&(m+=w.bottom-L.bottom),x=M+A.breakAfter}};return y(this.tile,0,null),a}textDirectionAt(r){let{tile:a}=this.tile.resolveBlock(r,1);return getComputedStyle(a.dom).direction=="rtl"?Direction.RTL:Direction.LTR}measureTextSize(){let r=this.tile.blockTiles(h=>{if(h.isLine()&&h.children.length&&h.length<=20){let d=0,g;for(let m of h.children){if(!m.isText()||/[^ -~]/.test(m.text))return;let y=clientRectsFor(m.dom);if(y.length!=1)return;d+=y[0].width,g=y[0].height}if(d)return{lineHeight:h.dom.getBoundingClientRect().height,charWidth:d/h.length,textHeight:g}}});if(r)return r;let a=document.createElement("div"),l,o,f;return a.className="cm-line",a.style.width="99999px",a.style.position="absolute",a.textContent="abc def ghi jkl mno pqr stu",this.view.observer.ignore(()=>{this.tile.dom.appendChild(a);let h=clientRectsFor(a.firstChild)[0];l=a.getBoundingClientRect().height,o=h&&h.width?h.width/27:7,f=h&&h.height?h.height:l,a.remove()}),{lineHeight:l,charWidth:o,textHeight:f}}computeBlockGapDeco(){let r=[],a=this.view.viewState;for(let l=0,o=0;;o++){let f=o==a.viewports.length?null:a.viewports[o],h=f?f.from-1:this.view.state.doc.length;if(h>l){let d=(a.lineBlockAt(h).bottom-a.lineBlockAt(l).top)/this.view.scaleY;r.push(Decoration.replace({widget:new BlockGapWidget(d),block:!0,inclusive:!0,isBlockGap:!0}).range(l,h))}if(!f)break;l=f.to+1}return Decoration.set(r)}updateDeco(){let r=1,a=this.view.state.facet(decorations).map(f=>(this.dynamicDecorationMap[r++]=typeof f=="function")?f(this.view):f),l=!1,o=this.view.state.facet(outerDecorations).map((f,h)=>{let d=typeof f=="function";return d&&(l=!0),d?f(this.view):f});for(o.length&&(this.dynamicDecorationMap[r++]=l,a.push(RangeSet.join(o))),this.decorations=[this.editContextFormatting,...a,this.computeBlockGapDeco(),this.view.viewState.lineGapDeco];r<this.decorations.length;)this.dynamicDecorationMap[r++]=!1;this.blockWrappers=this.view.state.facet(blockWrappers).map(f=>typeof f=="function"?f(this.view):f)}scrollIntoView(r){if(r.isSnapshot){let m=this.view.viewState.lineBlockAt(r.range.head);this.view.scrollDOM.scrollTop=m.top-r.yMargin,this.view.scrollDOM.scrollLeft=r.xMargin;return}for(let m of this.view.state.facet(scrollHandler))try{if(m(this.view,r.range,r))return!0}catch(y){logException(this.view.state,y,"scroll handler")}let{range:a}=r,l=this.coordsAt(a.head,a.empty?a.assoc:a.head>a.anchor?-1:1),o;if(!l)return;!a.empty&&(o=this.coordsAt(a.anchor,a.anchor>a.head?-1:1))&&(l={left:Math.min(l.left,o.left),top:Math.min(l.top,o.top),right:Math.max(l.right,o.right),bottom:Math.max(l.bottom,o.bottom)});let f=getScrollMargins(this.view),h={left:l.left-f.left,top:l.top-f.top,right:l.right+f.right,bottom:l.bottom+f.bottom},{offsetWidth:d,offsetHeight:g}=this.view.scrollDOM;scrollRectIntoView(this.view.scrollDOM,h,a.head<a.anchor?-1:1,r.x,r.y,Math.max(Math.min(r.xMargin,d),-d),Math.max(Math.min(r.yMargin,g),-g),this.view.textDirection==Direction.LTR)}lineHasWidget(r){let a=l=>l.isWidget()||l.children.some(a);return a(this.tile.resolveBlock(r,1).tile)}destroy(){destroyDropped(this.tile)}}function destroyDropped(s,r){let a=r?.get(s);if(a!=1){a==null&&s.destroy();for(let l of s.children)destroyDropped(l,r)}}function betweenUneditable(s){return s.node.nodeType==1&&s.node.firstChild&&(s.offset==0||s.node.childNodes[s.offset-1].contentEditable=="false")&&(s.offset==s.node.childNodes.length||s.node.childNodes[s.offset].contentEditable=="false")}function findCompositionNode(s,r){let a=s.observer.selectionRange;if(!a.focusNode)return null;let l=textNodeBefore(a.focusNode,a.focusOffset),o=textNodeAfter(a.focusNode,a.focusOffset),f=l||o;if(o&&l&&o.node!=l.node){let d=Tile.get(o.node);if(!d||d.isText()&&d.text!=o.node.nodeValue)f=o;else if(s.docView.lastCompositionAfterCursor){let g=Tile.get(l.node);!g||g.isText()&&g.text!=l.node.nodeValue||(f=o)}}if(s.docView.lastCompositionAfterCursor=f!=l,!f)return null;let h=r-f.offset;return{from:h,to:h+f.node.nodeValue.length,node:f.node}}function findCompositionRange(s,r,a){let l=findCompositionNode(s,a);if(!l)return null;let{node:o,from:f,to:h}=l,d=o.nodeValue;if(/[\n\r]/.test(d)||s.state.doc.sliceString(l.from,l.to)!=d)return null;let g=r.invertedDesc;return{range:new ChangedRange(g.mapPos(f),g.mapPos(h),f,h),text:o}}function nextToUneditable(s,r){return s.nodeType!=1?0:(r&&s.childNodes[r-1].contentEditable=="false"?1:0)|(r<s.childNodes.length&&s.childNodes[r].contentEditable=="false"?2:0)}let DecorationComparator$1=class{constructor(){this.changes=[]}compareRange(r,a){addRange(r,a,this.changes)}comparePoint(r,a){addRange(r,a,this.changes)}boundChange(r){addRange(r,r,this.changes)}};function findChangedDeco(s,r,a){let l=new DecorationComparator$1;return RangeSet.compare(s,r,a,l),l.changes}class WrapperComparator{constructor(){this.changes=[]}compareRange(r,a){addRange(r,a,this.changes)}comparePoint(){}boundChange(r){addRange(r,r,this.changes)}}function findChangedWrappers(s,r,a){let l=new WrapperComparator;return RangeSet.compare(s,r,a,l),l.changes}function inUneditable(s,r){for(let a=s;a&&a!=r;a=a.assignedSlot||a.parentNode)if(a.nodeType==1&&a.contentEditable=="false")return!0;return!1}function touchesComposition(s,r){let a=!1;return r&&s.iterChangedRanges((l,o)=>{l<r.to&&o>r.from&&(a=!0)}),a}class BlockGapWidget extends WidgetType{constructor(r){super(),this.height=r}toDOM(){let r=document.createElement("div");return r.className="cm-gap",this.updateDOM(r),r}eq(r){return r.height==this.height}updateDOM(r){return r.style.height=this.height+"px",!0}get editable(){return!0}get estimatedHeight(){return this.height}ignoreEvent(){return!1}}function groupAt(s,r,a=1){let l=s.charCategorizer(r),o=s.doc.lineAt(r),f=r-o.from;if(o.length==0)return EditorSelection.cursor(r);f==0?a=1:f==o.length&&(a=-1);let h=f,d=f;a<0?h=findClusterBreak(o.text,f,!1):d=findClusterBreak(o.text,f);let g=l(o.text.slice(h,d));for(;h>0;){let m=findClusterBreak(o.text,h,!1);if(l(o.text.slice(m,h))!=g)break;h=m}for(;d<o.length;){let m=findClusterBreak(o.text,d);if(l(o.text.slice(d,m))!=g)break;d=m}return EditorSelection.range(h+o.from,d+o.from)}function posAtCoordsImprecise(s,r,a,l,o){let f=Math.round((l-r.left)*s.defaultCharacterWidth);if(s.lineWrapping&&a.height>s.defaultLineHeight*1.5){let d=s.viewState.heightOracle.textHeight,g=Math.floor((o-a.top-(s.defaultLineHeight-d)*.5)/d);f+=g*s.viewState.heightOracle.lineLength}let h=s.state.sliceDoc(a.from,a.to);return a.from+findColumn(h,f,s.state.tabSize)}function blockAt(s,r,a){let l=s.lineBlockAt(r);if(Array.isArray(l.type)){let o;for(let f of l.type){if(f.from>r)break;if(!(f.to<r)){if(f.from<r&&f.to>r)return f;(!o||f.type==BlockType.Text&&(o.type!=f.type||(a<0?f.from<r:f.to>r)))&&(o=f)}}return o||l}return l}function moveToLineBoundary(s,r,a,l){let o=blockAt(s,r.head,r.assoc||-1),f=!l||o.type!=BlockType.Text||!(s.lineWrapping||o.widgetLineBreaks)?null:s.coordsAtPos(r.assoc<0&&r.head>o.from?r.head-1:r.head);if(f){let h=s.dom.getBoundingClientRect(),d=s.textDirectionAt(o.from),g=s.posAtCoords({x:a==(d==Direction.LTR)?h.right-1:h.left+1,y:(f.top+f.bottom)/2});if(g!=null)return EditorSelection.cursor(g,a?-1:1)}return EditorSelection.cursor(a?o.to:o.from,a?-1:1)}function moveByChar(s,r,a,l){let o=s.state.doc.lineAt(r.head),f=s.bidiSpans(o),h=s.textDirectionAt(o.from);for(let d=r,g=null;;){let m=moveVisually(o,f,h,d,a),y=movedOver;if(!m){if(o.number==(a?s.state.doc.lines:1))return d;y=`
`,o=s.state.doc.line(o.number+(a?1:-1)),f=s.bidiSpans(o),m=s.visualLineSide(o,!a)}if(g){if(!g(y))return d}else{if(!l)return m;g=l(y)}d=m}}function byGroup(s,r,a){let l=s.state.charCategorizer(r),o=l(a);return f=>{let h=l(f);return o==CharCategory.Space&&(o=h),o==h}}function moveVertically(s,r,a,l){let o=r.head,f=a?1:-1;if(o==(a?s.state.doc.length:0))return EditorSelection.cursor(o,r.assoc);let h=r.goalColumn,d,g=s.contentDOM.getBoundingClientRect(),m=s.coordsAtPos(o,(r.empty?r.assoc:0)||(a?1:-1)),y=s.documentTop;if(m)h==null&&(h=m.left-g.left),d=f<0?m.top:m.bottom;else{let Q=s.viewState.lineBlockAt(o);h==null&&(h=Math.min(g.right-g.left,s.defaultCharacterWidth*(o-Q.from))),d=(f<0?Q.top:Q.bottom)+y}let S=g.left+h,x=l??s.viewState.heightOracle.textHeight>>1,w=posAtCoords(s,{x:S,y:d+x*f},!1,f);return EditorSelection.cursor(w.pos,w.assoc,void 0,h)}function skipAtomicRanges(s,r,a){for(;;){let l=0;for(let o of s)o.between(r-1,r+1,(f,h,d)=>{if(r>f&&r<h){let g=l||a||(r-f<h-r?-1:1);r=g<0?f:h,l=g}});if(!l)return r}}function skipAtomsForSelection(s,r){let a=null;for(let l=0;l<r.ranges.length;l++){let o=r.ranges[l],f=null;if(o.empty){let h=skipAtomicRanges(s,o.from,0);h!=o.from&&(f=EditorSelection.cursor(h,-1))}else{let h=skipAtomicRanges(s,o.from,-1),d=skipAtomicRanges(s,o.to,1);(h!=o.from||d!=o.to)&&(f=EditorSelection.range(o.from==o.anchor?h:d,o.from==o.head?h:d))}f&&(a||(a=r.ranges.slice()),a[l]=f)}return a?EditorSelection.create(a,r.mainIndex):r}function skipAtoms(s,r,a){let l=skipAtomicRanges(s.state.facet(atomicRanges).map(o=>o(s)),a.from,r.head>a.from?-1:1);return l==a.from?a:EditorSelection.cursor(l,l<a.from?1:-1)}class PosAssoc{constructor(r,a){this.pos=r,this.assoc=a}}function posAtCoords(s,r,a,l){let o=s.contentDOM.getBoundingClientRect(),f=o.top+s.viewState.paddingTop,{x:h,y:d}=r,g=d-f,m;for(;;){if(g<0)return new PosAssoc(0,1);if(g>s.viewState.docHeight)return new PosAssoc(s.state.doc.length,-1);if(m=s.elementAtHeight(g),l==null)break;if(m.type==BlockType.Text){if(l<0?m.to<s.viewport.from:m.from>s.viewport.to)break;let x=s.docView.coordsAt(l<0?m.from:m.to,l>0?-1:1);if(x&&(l<0?x.top<=g+f:x.bottom>=g+f))break}let S=s.viewState.heightOracle.textHeight/2;g=l>0?m.bottom+S:m.top-S}if(s.viewport.from>=m.to||s.viewport.to<=m.from){if(a)return null;if(m.type==BlockType.Text){let S=posAtCoordsImprecise(s,o,m,h,d);return new PosAssoc(S,S==m.from?1:-1)}}if(m.type!=BlockType.Text)return g<(m.top+m.bottom)/2?new PosAssoc(m.from,1):new PosAssoc(m.to,-1);let y=s.docView.lineAt(m.from,2);return(!y||y.length!=m.length)&&(y=s.docView.lineAt(m.from,-2)),posAtCoordsInline(s,y,m.from,h,d)}function posAtCoordsInline(s,r,a,l,o){let f=-1,h=null,d=1e9,g=1e9,m=o,y=o,S=(x,w)=>{for(let Q=0;Q<x.length;Q++){let A=x[Q];if(A.top==A.bottom)continue;let M=A.left>l?A.left-l:A.right<l?l-A.right:0,L=A.top>o?A.top-o:A.bottom<o?o-A.bottom:0;A.top<=y&&A.bottom>=m&&(m=Math.min(A.top,m),y=Math.max(A.bottom,y),L=0),(f<0||(L-g||M-d)<0)&&(f>=0&&g&&d<M&&h.top<=y-2&&h.bottom>=m+2?g=0:(f=w,d=M,g=L,h=A))}};if(r.isText()){for(let w=0;w<r.length;){let Q=findClusterBreak(r.text,w);if(S(textRange(r.dom,w,Q).getClientRects(),w),!d&&!g)break;w=Q}return l>(h.left+h.right)/2==(dirAt(s,f+a)==Direction.LTR)?new PosAssoc(a+findClusterBreak(r.text,f),-1):new PosAssoc(a+f,1)}else{if(!r.length)return new PosAssoc(a,1);for(let A=0;A<r.children.length;A++){let M=r.children[A];if(M.flags&48)continue;let L=(M.dom.nodeType==1?M.dom:textRange(M.dom,0,M.length)).getClientRects();if(S(L,A),!d&&!g)break}let x=r.children[f],w=r.posBefore(x,a);return x.isComposite()||x.isText()?posAtCoordsInline(s,x,w,Math.max(h.left,Math.min(h.right,l)),o):l>(h.left+h.right)/2==(dirAt(s,f+a)==Direction.LTR)?new PosAssoc(w+x.length,-1):new PosAssoc(w,1)}}function dirAt(s,r){let a=s.state.doc.lineAt(r);return s.bidiSpans(a)[BidiSpan.find(s.bidiSpans(a),r-a.from,-1,1)].dir}const LineBreakPlaceholder="";class DOMReader{constructor(r,a){this.points=r,this.view=a,this.text="",this.lineSeparator=a.state.facet(EditorState.lineSeparator)}append(r){this.text+=r}lineBreak(){this.text+=LineBreakPlaceholder}readRange(r,a){if(!r)return this;let l=r.parentNode;for(let o=r;;){this.findPointBefore(l,o);let f=this.text.length;this.readNode(o);let h=Tile.get(o),d=o.nextSibling;if(d==a){h?.breakAfter&&!d&&l!=this.view.contentDOM&&this.lineBreak();break}let g=Tile.get(d);(h&&g?h.breakAfter:(h?h.breakAfter:isBlockElement(o))||isBlockElement(d)&&(o.nodeName!="BR"||h?.isWidget())&&this.text.length>f)&&!isEmptyToEnd(d,a)&&this.lineBreak(),o=d}return this.findPointBefore(l,a),this}readTextNode(r){let a=r.nodeValue;for(let l of this.points)l.node==r&&(l.pos=this.text.length+Math.min(l.offset,a.length));for(let l=0,o=this.lineSeparator?null:/\r\n?|\n/g;;){let f=-1,h=1,d;if(this.lineSeparator?(f=a.indexOf(this.lineSeparator,l),h=this.lineSeparator.length):(d=o.exec(a))&&(f=d.index,h=d[0].length),this.append(a.slice(l,f<0?a.length:f)),f<0)break;if(this.lineBreak(),h>1)for(let g of this.points)g.node==r&&g.pos>this.text.length&&(g.pos-=h-1);l=f+h}}readNode(r){let a=Tile.get(r),l=a&&a.overrideDOMText;if(l!=null){this.findPointInside(r,l.length);for(let o=l.iter();!o.next().done;)o.lineBreak?this.lineBreak():this.append(o.value)}else r.nodeType==3?this.readTextNode(r):r.nodeName=="BR"?r.nextSibling&&this.lineBreak():r.nodeType==1&&this.readRange(r.firstChild,null)}findPointBefore(r,a){for(let l of this.points)l.node==r&&r.childNodes[l.offset]==a&&(l.pos=this.text.length)}findPointInside(r,a){for(let l of this.points)(r.nodeType==3?l.node==r:r.contains(l.node))&&(l.pos=this.text.length+(isAtEnd(r,l.node,l.offset)?a:0))}}function isAtEnd(s,r,a){for(;;){if(!r||a<maxOffset(r))return!1;if(r==s)return!0;a=domIndex(r)+1,r=r.parentNode}}function isEmptyToEnd(s,r){let a;for(;!(s==r||!s);s=s.nextSibling){let l=Tile.get(s);if(!l?.isWidget())return!1;l&&(a||(a=[])).push(l)}if(a)for(let l of a){let o=l.overrideDOMText;if(o?.length)return!1}return!0}class DOMPoint{constructor(r,a){this.node=r,this.offset=a,this.pos=-1}}class DOMChange{constructor(r,a,l,o){this.typeOver=o,this.bounds=null,this.text="",this.domChanged=a>-1;let{impreciseHead:f,impreciseAnchor:h}=r.docView;if(r.state.readOnly&&a>-1)this.newSel=null;else if(a>-1&&(this.bounds=domBoundsAround(r.docView.tile,a,l,0))){let d=f||h?[]:selectionPoints(r),g=new DOMReader(d,r);g.readRange(this.bounds.startDOM,this.bounds.endDOM),this.text=g.text,this.newSel=selectionFromPoints(d,this.bounds.from)}else{let d=r.observer.selectionRange,g=f&&f.node==d.focusNode&&f.offset==d.focusOffset||!contains(r.contentDOM,d.focusNode)?r.state.selection.main.head:r.docView.posFromDOM(d.focusNode,d.focusOffset),m=h&&h.node==d.anchorNode&&h.offset==d.anchorOffset||!contains(r.contentDOM,d.anchorNode)?r.state.selection.main.anchor:r.docView.posFromDOM(d.anchorNode,d.anchorOffset),y=r.viewport;if((browser.ios||browser.chrome)&&r.state.selection.main.empty&&g!=m&&(y.from>0||y.to<r.state.doc.length)){let S=Math.min(g,m),x=Math.max(g,m),w=y.from-S,Q=y.to-x;(w==0||w==1||S==0)&&(Q==0||Q==-1||x==r.state.doc.length)&&(g=0,m=r.state.doc.length)}r.inputState.composing>-1&&r.state.selection.ranges.length>1?this.newSel=r.state.selection.replaceRange(EditorSelection.range(m,g)):this.newSel=EditorSelection.single(m,g)}}}function domBoundsAround(s,r,a,l){if(s.isComposite()){let o=-1,f=-1,h=-1,d=-1;for(let g=0,m=l,y=l;g<s.children.length;g++){let S=s.children[g],x=m+S.length;if(m<r&&x>a)return domBoundsAround(S,r,a,m);if(x>=r&&o==-1&&(o=g,f=m),m>a&&S.dom.parentNode==s.dom){h=g,d=y;break}y=x,m=x+S.breakAfter}return{from:f,to:d<0?l+s.length:d,startDOM:(o?s.children[o-1].dom.nextSibling:null)||s.dom.firstChild,endDOM:h<s.children.length&&h>=0?s.children[h].dom:null}}else return s.isText()?{from:l,to:l+s.length,startDOM:s.dom,endDOM:s.dom.nextSibling}:null}function applyDOMChange(s,r){let a,{newSel:l}=r,o=s.state.selection.main,f=s.inputState.lastKeyTime>Date.now()-100?s.inputState.lastKeyCode:-1;if(r.bounds){let{from:h,to:d}=r.bounds,g=o.from,m=null;(f===8||browser.android&&r.text.length<d-h)&&(g=o.to,m="end");let y=findDiff(s.state.doc.sliceString(h,d,LineBreakPlaceholder),r.text,g-h,m);y&&(browser.chrome&&f==13&&y.toB==y.from+2&&r.text.slice(y.from,y.toB)==LineBreakPlaceholder+LineBreakPlaceholder&&y.toB--,a={from:h+y.from,to:h+y.toA,insert:Text.of(r.text.slice(y.from,y.toB).split(LineBreakPlaceholder))})}else l&&(!s.hasFocus&&s.state.facet(editable)||sameSelPos(l,o))&&(l=null);if(!a&&!l)return!1;if(!a&&r.typeOver&&!o.empty&&l&&l.main.empty?a={from:o.from,to:o.to,insert:s.state.doc.slice(o.from,o.to)}:(browser.mac||browser.android)&&a&&a.from==a.to&&a.from==o.head-1&&/^\. ?$/.test(a.insert.toString())&&s.contentDOM.getAttribute("autocorrect")=="off"?(l&&a.insert.length==2&&(l=EditorSelection.single(l.main.anchor-1,l.main.head-1)),a={from:a.from,to:a.to,insert:Text.of([a.insert.toString().replace("."," ")])}):a&&a.from>=o.from&&a.to<=o.to&&(a.from!=o.from||a.to!=o.to)&&o.to-o.from-(a.to-a.from)<=4?a={from:o.from,to:o.to,insert:s.state.doc.slice(o.from,a.from).append(a.insert).append(s.state.doc.slice(a.to,o.to))}:s.state.doc.lineAt(o.from).to<o.to&&s.docView.lineHasWidget(o.to)&&s.inputState.insertingTextAt>Date.now()-50?a={from:o.from,to:o.to,insert:s.state.toText(s.inputState.insertingText)}:browser.chrome&&a&&a.from==a.to&&a.from==o.head&&a.insert.toString()==`
 `&&s.lineWrapping&&(l&&(l=EditorSelection.single(l.main.anchor-1,l.main.head-1)),a={from:o.from,to:o.to,insert:Text.of([" "])}),a)return applyDOMChangeInner(s,a,l,f);if(l&&!sameSelPos(l,o)){let h=!1,d="select";return s.inputState.lastSelectionTime>Date.now()-50&&(s.inputState.lastSelectionOrigin=="select"&&(h=!0),d=s.inputState.lastSelectionOrigin,d=="select.pointer"&&(l=skipAtomsForSelection(s.state.facet(atomicRanges).map(g=>g(s)),l))),s.dispatch({selection:l,scrollIntoView:h,userEvent:d}),!0}else return!1}function applyDOMChangeInner(s,r,a,l=-1){if(browser.ios&&s.inputState.flushIOSKey(r))return!0;let o=s.state.selection.main;if(browser.android&&(r.to==o.to&&(r.from==o.from||r.from==o.from-1&&s.state.sliceDoc(r.from,o.from)==" ")&&r.insert.length==1&&r.insert.lines==2&&dispatchKey(s.contentDOM,"Enter",13)||(r.from==o.from-1&&r.to==o.to&&r.insert.length==0||l==8&&r.insert.length<r.to-r.from&&r.to>o.head)&&dispatchKey(s.contentDOM,"Backspace",8)||r.from==o.from&&r.to==o.to+1&&r.insert.length==0&&dispatchKey(s.contentDOM,"Delete",46)))return!0;let f=r.insert.toString();s.inputState.composing>=0&&s.inputState.composing++;let h,d=()=>h||(h=applyDefaultInsert(s,r,a));return s.state.facet(inputHandler$1).some(g=>g(s,r.from,r.to,f,d))||s.dispatch(d()),!0}function applyDefaultInsert(s,r,a){let l,o=s.state,f=o.selection.main,h=-1;if(r.from==r.to&&r.from<f.from||r.from>f.to){let g=r.from<f.from?-1:1,m=g<0?f.from:f.to,y=skipAtomicRanges(o.facet(atomicRanges).map(S=>S(s)),m,g);r.from==y&&(h=y)}if(h>-1)l={changes:r,selection:EditorSelection.cursor(r.from+r.insert.length,-1)};else if(r.from>=f.from&&r.to<=f.to&&r.to-r.from>=(f.to-f.from)/3&&(!a||a.main.empty&&a.main.from==r.from+r.insert.length)&&s.inputState.composing<0){let g=f.from<r.from?o.sliceDoc(f.from,r.from):"",m=f.to>r.to?o.sliceDoc(r.to,f.to):"";l=o.replaceSelection(s.state.toText(g+r.insert.sliceString(0,void 0,s.state.lineBreak)+m))}else{let g=o.changes(r),m=a&&a.main.to<=g.newLength?a.main:void 0;if(o.selection.ranges.length>1&&(s.inputState.composing>=0||s.inputState.compositionPendingChange)&&r.to<=f.to+10&&r.to>=f.to-10){let y=s.state.sliceDoc(r.from,r.to),S,x=a&&findCompositionNode(s,a.main.head);if(x){let Q=r.insert.length-(r.to-r.from);S={from:x.from,to:x.to-Q}}else S=s.state.doc.lineAt(f.head);let w=f.to-r.to;l=o.changeByRange(Q=>{if(Q.from==f.from&&Q.to==f.to)return{changes:g,range:m||Q.map(g)};let A=Q.to-w,M=A-y.length;if(s.state.sliceDoc(M,A)!=y||A>=S.from&&M<=S.to)return{range:Q};let L=o.changes({from:M,to:A,insert:r.insert}),Z=Q.to-f.to;return{changes:L,range:m?EditorSelection.range(Math.max(0,m.anchor+Z),Math.max(0,m.head+Z)):Q.map(L)}})}else l={changes:g,selection:m&&o.selection.replaceRange(m)}}let d="input.type";return(s.composing||s.inputState.compositionPendingChange&&s.inputState.compositionEndedAt>Date.now()-50)&&(s.inputState.compositionPendingChange=!1,d+=".compose",s.inputState.compositionFirstChange&&(d+=".start",s.inputState.compositionFirstChange=!1)),o.update(l,{userEvent:d,scrollIntoView:!0})}function findDiff(s,r,a,l){let o=Math.min(s.length,r.length),f=0;for(;f<o&&s.charCodeAt(f)==r.charCodeAt(f);)f++;if(f==o&&s.length==r.length)return null;let h=s.length,d=r.length;for(;h>0&&d>0&&s.charCodeAt(h-1)==r.charCodeAt(d-1);)h--,d--;if(l=="end"){let g=Math.max(0,f-Math.min(h,d));a-=h+g-f}if(h<f&&s.length<r.length){let g=a<=f&&a>=h?f-a:0;f-=g,d=f+(d-h),h=f}else if(d<f){let g=a<=f&&a>=d?f-a:0;f-=g,h=f+(h-d),d=f}return{from:f,toA:h,toB:d}}function selectionPoints(s){let r=[];if(s.root.activeElement!=s.contentDOM)return r;let{anchorNode:a,anchorOffset:l,focusNode:o,focusOffset:f}=s.observer.selectionRange;return a&&(r.push(new DOMPoint(a,l)),(o!=a||f!=l)&&r.push(new DOMPoint(o,f))),r}function selectionFromPoints(s,r){if(s.length==0)return null;let a=s[0].pos,l=s.length==2?s[1].pos:a;return a>-1&&l>-1?EditorSelection.single(a+r,l+r):null}function sameSelPos(s,r){return r.head==s.main.head&&r.anchor==s.main.anchor}class InputState{setSelectionOrigin(r){this.lastSelectionOrigin=r,this.lastSelectionTime=Date.now()}constructor(r){this.view=r,this.lastKeyCode=0,this.lastKeyTime=0,this.lastTouchTime=0,this.lastFocusTime=0,this.lastScrollTop=0,this.lastScrollLeft=0,this.pendingIOSKey=void 0,this.tabFocusMode=-1,this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastContextMenu=0,this.scrollHandlers=[],this.handlers=Object.create(null),this.composing=-1,this.compositionFirstChange=null,this.compositionEndedAt=0,this.compositionPendingKey=!1,this.compositionPendingChange=!1,this.insertingText="",this.insertingTextAt=0,this.mouseSelection=null,this.draggedContent=null,this.handleEvent=this.handleEvent.bind(this),this.notifiedFocused=r.hasFocus,browser.safari&&r.contentDOM.addEventListener("input",()=>null),browser.gecko&&firefoxCopyCutHack(r.contentDOM.ownerDocument)}handleEvent(r){!eventBelongsToEditor(this.view,r)||this.ignoreDuringComposition(r)||r.type=="keydown"&&this.keydown(r)||(this.view.updateState!=0?Promise.resolve().then(()=>this.runHandlers(r.type,r)):this.runHandlers(r.type,r))}runHandlers(r,a){let l=this.handlers[r];if(l){for(let o of l.observers)o(this.view,a);for(let o of l.handlers){if(a.defaultPrevented)break;if(o(this.view,a)){a.preventDefault();break}}}}ensureHandlers(r){let a=computeHandlers(r),l=this.handlers,o=this.view.contentDOM;for(let f in a)if(f!="scroll"){let h=!a[f].handlers.length,d=l[f];d&&h!=!d.handlers.length&&(o.removeEventListener(f,this.handleEvent),d=null),d||o.addEventListener(f,this.handleEvent,{passive:h})}for(let f in l)f!="scroll"&&!a[f]&&o.removeEventListener(f,this.handleEvent);this.handlers=a}keydown(r){if(this.lastKeyCode=r.keyCode,this.lastKeyTime=Date.now(),r.keyCode==9&&this.tabFocusMode>-1&&(!this.tabFocusMode||Date.now()<=this.tabFocusMode))return!0;if(this.tabFocusMode>0&&r.keyCode!=27&&modifierCodes.indexOf(r.keyCode)<0&&(this.tabFocusMode=-1),browser.android&&browser.chrome&&!r.synthetic&&(r.keyCode==13||r.keyCode==8))return this.view.observer.delayAndroidKey(r.key,r.keyCode),!0;let a;return browser.ios&&!r.synthetic&&!r.altKey&&!r.metaKey&&((a=PendingKeys.find(l=>l.keyCode==r.keyCode))&&!r.ctrlKey||EmacsyPendingKeys.indexOf(r.key)>-1&&r.ctrlKey&&!r.shiftKey)?(this.pendingIOSKey=a||r,setTimeout(()=>this.flushIOSKey(),250),!0):(r.keyCode!=229&&this.view.observer.forceFlush(),!1)}flushIOSKey(r){let a=this.pendingIOSKey;return!a||a.key=="Enter"&&r&&r.from<r.to&&/^\S+$/.test(r.insert.toString())?!1:(this.pendingIOSKey=void 0,dispatchKey(this.view.contentDOM,a.key,a.keyCode,a instanceof KeyboardEvent?a:void 0))}ignoreDuringComposition(r){return!/^key/.test(r.type)||r.synthetic?!1:this.composing>0?!0:browser.safari&&!browser.ios&&this.compositionPendingKey&&Date.now()-this.compositionEndedAt<100?(this.compositionPendingKey=!1,!0):!1}startMouseSelection(r){this.mouseSelection&&this.mouseSelection.destroy(),this.mouseSelection=r}update(r){this.view.observer.update(r),this.mouseSelection&&this.mouseSelection.update(r),this.draggedContent&&r.docChanged&&(this.draggedContent=this.draggedContent.map(r.changes)),r.transactions.length&&(this.lastKeyCode=this.lastSelectionTime=0)}destroy(){this.mouseSelection&&this.mouseSelection.destroy()}}function bindHandler(s,r){return(a,l)=>{try{return r.call(s,l,a)}catch(o){logException(a.state,o)}}}function computeHandlers(s){let r=Object.create(null);function a(l){return r[l]||(r[l]={observers:[],handlers:[]})}for(let l of s){let o=l.spec,f=o&&o.plugin.domEventHandlers,h=o&&o.plugin.domEventObservers;if(f)for(let d in f){let g=f[d];g&&a(d).handlers.push(bindHandler(l.value,g))}if(h)for(let d in h){let g=h[d];g&&a(d).observers.push(bindHandler(l.value,g))}}for(let l in handlers)a(l).handlers.push(handlers[l]);for(let l in observers)a(l).observers.push(observers[l]);return r}const PendingKeys=[{key:"Backspace",keyCode:8,inputType:"deleteContentBackward"},{key:"Enter",keyCode:13,inputType:"insertParagraph"},{key:"Enter",keyCode:13,inputType:"insertLineBreak"},{key:"Delete",keyCode:46,inputType:"deleteContentForward"}],EmacsyPendingKeys="dthko",modifierCodes=[16,17,18,20,91,92,224,225],dragScrollMargin=6;function dragScrollSpeed(s){return Math.max(0,s)*.7+8}function dist(s,r){return Math.max(Math.abs(s.clientX-r.clientX),Math.abs(s.clientY-r.clientY))}class MouseSelection{constructor(r,a,l,o){this.view=r,this.startEvent=a,this.style=l,this.mustSelect=o,this.scrollSpeed={x:0,y:0},this.scrolling=-1,this.lastEvent=a,this.scrollParents=scrollableParents(r.contentDOM),this.atoms=r.state.facet(atomicRanges).map(h=>h(r));let f=r.contentDOM.ownerDocument;f.addEventListener("mousemove",this.move=this.move.bind(this)),f.addEventListener("mouseup",this.up=this.up.bind(this)),this.extend=a.shiftKey,this.multiple=r.state.facet(EditorState.allowMultipleSelections)&&addsSelectionRange(r,a),this.dragging=isInPrimarySelection(r,a)&&getClickType(a)==1?null:!1}start(r){this.dragging===!1&&this.select(r)}move(r){if(r.buttons==0)return this.destroy();if(this.dragging||this.dragging==null&&dist(this.startEvent,r)<10)return;this.select(this.lastEvent=r);let a=0,l=0,o=0,f=0,h=this.view.win.innerWidth,d=this.view.win.innerHeight;this.scrollParents.x&&({left:o,right:h}=this.scrollParents.x.getBoundingClientRect()),this.scrollParents.y&&({top:f,bottom:d}=this.scrollParents.y.getBoundingClientRect());let g=getScrollMargins(this.view);r.clientX-g.left<=o+dragScrollMargin?a=-dragScrollSpeed(o-r.clientX):r.clientX+g.right>=h-dragScrollMargin&&(a=dragScrollSpeed(r.clientX-h)),r.clientY-g.top<=f+dragScrollMargin?l=-dragScrollSpeed(f-r.clientY):r.clientY+g.bottom>=d-dragScrollMargin&&(l=dragScrollSpeed(r.clientY-d)),this.setScrollSpeed(a,l)}up(r){this.dragging==null&&this.select(this.lastEvent),this.dragging||r.preventDefault(),this.destroy()}destroy(){this.setScrollSpeed(0,0);let r=this.view.contentDOM.ownerDocument;r.removeEventListener("mousemove",this.move),r.removeEventListener("mouseup",this.up),this.view.inputState.mouseSelection=this.view.inputState.draggedContent=null}setScrollSpeed(r,a){this.scrollSpeed={x:r,y:a},r||a?this.scrolling<0&&(this.scrolling=setInterval(()=>this.scroll(),50)):this.scrolling>-1&&(clearInterval(this.scrolling),this.scrolling=-1)}scroll(){let{x:r,y:a}=this.scrollSpeed;r&&this.scrollParents.x&&(this.scrollParents.x.scrollLeft+=r,r=0),a&&this.scrollParents.y&&(this.scrollParents.y.scrollTop+=a,a=0),(r||a)&&this.view.win.scrollBy(r,a),this.dragging===!1&&this.select(this.lastEvent)}select(r){let{view:a}=this,l=skipAtomsForSelection(this.atoms,this.style.get(r,this.extend,this.multiple));(this.mustSelect||!l.eq(a.state.selection,this.dragging===!1))&&this.view.dispatch({selection:l,userEvent:"select.pointer"}),this.mustSelect=!1}update(r){r.transactions.some(a=>a.isUserEvent("input.type"))?this.destroy():this.style.update(r)&&setTimeout(()=>this.select(this.lastEvent),20)}}function addsSelectionRange(s,r){let a=s.state.facet(clickAddsSelectionRange);return a.length?a[0](r):browser.mac?r.metaKey:r.ctrlKey}function dragMovesSelection(s,r){let a=s.state.facet(dragMovesSelection$1);return a.length?a[0](r):browser.mac?!r.altKey:!r.ctrlKey}function isInPrimarySelection(s,r){let{main:a}=s.state.selection;if(a.empty)return!1;let l=getSelection(s.root);if(!l||l.rangeCount==0)return!0;let o=l.getRangeAt(0).getClientRects();for(let f=0;f<o.length;f++){let h=o[f];if(h.left<=r.clientX&&h.right>=r.clientX&&h.top<=r.clientY&&h.bottom>=r.clientY)return!0}return!1}function eventBelongsToEditor(s,r){if(!r.bubbles)return!0;if(r.defaultPrevented)return!1;for(let a=r.target,l;a!=s.contentDOM;a=a.parentNode)if(!a||a.nodeType==11||(l=Tile.get(a))&&l.isWidget()&&!l.isHidden&&l.widget.ignoreEvent(r))return!1;return!0}const handlers=Object.create(null),observers=Object.create(null),brokenClipboardAPI=browser.ie&&browser.ie_version<15||browser.ios&&browser.webkit_version<604;function capturePaste(s){let r=s.dom.parentNode;if(!r)return;let a=r.appendChild(document.createElement("textarea"));a.style.cssText="position: fixed; left: -10000px; top: 10px",a.focus(),setTimeout(()=>{s.focus(),a.remove(),doPaste(s,a.value)},50)}function textFilter(s,r,a){for(let l of s.facet(r))a=l(a,s);return a}function doPaste(s,r){r=textFilter(s.state,clipboardInputFilter,r);let{state:a}=s,l,o=1,f=a.toText(r),h=f.lines==a.selection.ranges.length;if(lastLinewiseCopy!=null&&a.selection.ranges.every(g=>g.empty)&&lastLinewiseCopy==f.toString()){let g=-1;l=a.changeByRange(m=>{let y=a.doc.lineAt(m.from);if(y.from==g)return{range:m};g=y.from;let S=a.toText((h?f.line(o++).text:r)+a.lineBreak);return{changes:{from:y.from,insert:S},range:EditorSelection.cursor(m.from+S.length)}})}else h?l=a.changeByRange(g=>{let m=f.line(o++);return{changes:{from:g.from,to:g.to,insert:m.text},range:EditorSelection.cursor(g.from+m.length)}}):l=a.replaceSelection(f);s.dispatch(l,{userEvent:"input.paste",scrollIntoView:!0})}observers.scroll=s=>{s.inputState.lastScrollTop=s.scrollDOM.scrollTop,s.inputState.lastScrollLeft=s.scrollDOM.scrollLeft};handlers.keydown=(s,r)=>(s.inputState.setSelectionOrigin("select"),r.keyCode==27&&s.inputState.tabFocusMode!=0&&(s.inputState.tabFocusMode=Date.now()+2e3),!1);observers.touchstart=(s,r)=>{s.inputState.lastTouchTime=Date.now(),s.inputState.setSelectionOrigin("select.pointer")};observers.touchmove=s=>{s.inputState.setSelectionOrigin("select.pointer")};handlers.mousedown=(s,r)=>{if(s.observer.flush(),s.inputState.lastTouchTime>Date.now()-2e3)return!1;let a=null;for(let l of s.state.facet(mouseSelectionStyle))if(a=l(s,r),a)break;if(!a&&r.button==0&&(a=basicMouseSelection(s,r)),a){let l=!s.hasFocus;s.inputState.startMouseSelection(new MouseSelection(s,r,a,l)),l&&s.observer.ignore(()=>{focusPreventScroll(s.contentDOM);let f=s.root.activeElement;f&&!f.contains(s.contentDOM)&&f.blur()});let o=s.inputState.mouseSelection;if(o)return o.start(r),o.dragging===!1}else s.inputState.setSelectionOrigin("select.pointer");return!1};function rangeForClick(s,r,a,l){if(l==1)return EditorSelection.cursor(r,a);if(l==2)return groupAt(s.state,r,a);{let o=s.docView.lineAt(r,a),f=s.state.doc.lineAt(o?o.posAtEnd:r),h=o?o.posAtStart:f.from,d=o?o.posAtEnd:f.to;return d<s.state.doc.length&&d==f.to&&d++,EditorSelection.range(h,d)}}const BadMouseDetail=browser.ie&&browser.ie_version<=11;let lastMouseDown=null,lastMouseDownCount=0,lastMouseDownTime=0;function getClickType(s){if(!BadMouseDetail)return s.detail;let r=lastMouseDown,a=lastMouseDownTime;return lastMouseDown=s,lastMouseDownTime=Date.now(),lastMouseDownCount=!r||a>Date.now()-400&&Math.abs(r.clientX-s.clientX)<2&&Math.abs(r.clientY-s.clientY)<2?(lastMouseDownCount+1)%3:1}function basicMouseSelection(s,r){let a=s.posAndSideAtCoords({x:r.clientX,y:r.clientY},!1),l=getClickType(r),o=s.state.selection;return{update(f){f.docChanged&&(a.pos=f.changes.mapPos(a.pos),o=o.map(f.changes))},get(f,h,d){let g=s.posAndSideAtCoords({x:f.clientX,y:f.clientY},!1),m,y=rangeForClick(s,g.pos,g.assoc,l);if(a.pos!=g.pos&&!h){let S=rangeForClick(s,a.pos,a.assoc,l),x=Math.min(S.from,y.from),w=Math.max(S.to,y.to);y=x<y.from?EditorSelection.range(x,w):EditorSelection.range(w,x)}return h?o.replaceRange(o.main.extend(y.from,y.to)):d&&l==1&&o.ranges.length>1&&(m=removeRangeAround(o,g.pos))?m:d?o.addRange(y):EditorSelection.create([y])}}}function removeRangeAround(s,r){for(let a=0;a<s.ranges.length;a++){let{from:l,to:o}=s.ranges[a];if(l<=r&&o>=r)return EditorSelection.create(s.ranges.slice(0,a).concat(s.ranges.slice(a+1)),s.mainIndex==a?0:s.mainIndex-(s.mainIndex>a?1:0))}return null}handlers.dragstart=(s,r)=>{let{selection:{main:a}}=s.state;if(r.target.draggable){let o=s.docView.tile.nearest(r.target);if(o&&o.isWidget()){let f=o.posAtStart,h=f+o.length;(f>=a.to||h<=a.from)&&(a=EditorSelection.range(f,h))}}let{inputState:l}=s;return l.mouseSelection&&(l.mouseSelection.dragging=!0),l.draggedContent=a,r.dataTransfer&&(r.dataTransfer.setData("Text",textFilter(s.state,clipboardOutputFilter,s.state.sliceDoc(a.from,a.to))),r.dataTransfer.effectAllowed="copyMove"),!1};handlers.dragend=s=>(s.inputState.draggedContent=null,!1);function dropText(s,r,a,l){if(a=textFilter(s.state,clipboardInputFilter,a),!a)return;let o=s.posAtCoords({x:r.clientX,y:r.clientY},!1),{draggedContent:f}=s.inputState,h=l&&f&&dragMovesSelection(s,r)?{from:f.from,to:f.to}:null,d={from:o,insert:a},g=s.state.changes(h?[h,d]:d);s.focus(),s.dispatch({changes:g,selection:{anchor:g.mapPos(o,-1),head:g.mapPos(o,1)},userEvent:h?"move.drop":"input.drop"}),s.inputState.draggedContent=null}handlers.drop=(s,r)=>{if(!r.dataTransfer)return!1;if(s.state.readOnly)return!0;let a=r.dataTransfer.files;if(a&&a.length){let l=Array(a.length),o=0,f=()=>{++o==a.length&&dropText(s,r,l.filter(h=>h!=null).join(s.state.lineBreak),!1)};for(let h=0;h<a.length;h++){let d=new FileReader;d.onerror=f,d.onload=()=>{/[\x00-\x08\x0e-\x1f]{2}/.test(d.result)||(l[h]=d.result),f()},d.readAsText(a[h])}return!0}else{let l=r.dataTransfer.getData("Text");if(l)return dropText(s,r,l,!0),!0}return!1};handlers.paste=(s,r)=>{if(s.state.readOnly)return!0;s.observer.flush();let a=brokenClipboardAPI?null:r.clipboardData;return a?(doPaste(s,a.getData("text/plain")||a.getData("text/uri-list")),!0):(capturePaste(s),!1)};function captureCopy(s,r){let a=s.dom.parentNode;if(!a)return;let l=a.appendChild(document.createElement("textarea"));l.style.cssText="position: fixed; left: -10000px; top: 10px",l.value=r,l.focus(),l.selectionEnd=r.length,l.selectionStart=0,setTimeout(()=>{l.remove(),s.focus()},50)}function copiedRange(s){let r=[],a=[],l=!1;for(let o of s.selection.ranges)o.empty||(r.push(s.sliceDoc(o.from,o.to)),a.push(o));if(!r.length){let o=-1;for(let{from:f}of s.selection.ranges){let h=s.doc.lineAt(f);h.number>o&&(r.push(h.text),a.push({from:h.from,to:Math.min(s.doc.length,h.to+1)})),o=h.number}l=!0}return{text:textFilter(s,clipboardOutputFilter,r.join(s.lineBreak)),ranges:a,linewise:l}}let lastLinewiseCopy=null;handlers.copy=handlers.cut=(s,r)=>{let a=getSelection(s.root);if(a&&!hasSelection(s.contentDOM,a))return!1;let{text:l,ranges:o,linewise:f}=copiedRange(s.state);if(!l&&!f)return!1;lastLinewiseCopy=f?l:null,r.type=="cut"&&!s.state.readOnly&&s.dispatch({changes:o,scrollIntoView:!0,userEvent:"delete.cut"});let h=brokenClipboardAPI?null:r.clipboardData;return h?(h.clearData(),h.setData("text/plain",l),!0):(captureCopy(s,l),!1)};const isFocusChange=Annotation.define();function focusChangeTransaction(s,r){let a=[];for(let l of s.facet(focusChangeEffect)){let o=l(s,r);o&&a.push(o)}return a.length?s.update({effects:a,annotations:isFocusChange.of(!0)}):null}function updateForFocusChange(s){setTimeout(()=>{let r=s.hasFocus;if(r!=s.inputState.notifiedFocused){let a=focusChangeTransaction(s.state,r);a?s.dispatch(a):s.update([])}},10)}observers.focus=s=>{s.inputState.lastFocusTime=Date.now(),!s.scrollDOM.scrollTop&&(s.inputState.lastScrollTop||s.inputState.lastScrollLeft)&&(s.scrollDOM.scrollTop=s.inputState.lastScrollTop,s.scrollDOM.scrollLeft=s.inputState.lastScrollLeft),updateForFocusChange(s)};observers.blur=s=>{s.observer.clearSelectionRange(),updateForFocusChange(s)};observers.compositionstart=observers.compositionupdate=s=>{s.observer.editContext||(s.inputState.compositionFirstChange==null&&(s.inputState.compositionFirstChange=!0),s.inputState.composing<0&&(s.inputState.composing=0))};observers.compositionend=s=>{s.observer.editContext||(s.inputState.composing=-1,s.inputState.compositionEndedAt=Date.now(),s.inputState.compositionPendingKey=!0,s.inputState.compositionPendingChange=s.observer.pendingRecords().length>0,s.inputState.compositionFirstChange=null,browser.chrome&&browser.android?s.observer.flushSoon():s.inputState.compositionPendingChange?Promise.resolve().then(()=>s.observer.flush()):setTimeout(()=>{s.inputState.composing<0&&s.docView.hasComposition&&s.update([])},50))};observers.contextmenu=s=>{s.inputState.lastContextMenu=Date.now()};handlers.beforeinput=(s,r)=>{var a,l;if((r.inputType=="insertText"||r.inputType=="insertCompositionText")&&(s.inputState.insertingText=r.data,s.inputState.insertingTextAt=Date.now()),r.inputType=="insertReplacementText"&&s.observer.editContext){let f=(a=r.dataTransfer)===null||a===void 0?void 0:a.getData("text/plain"),h=r.getTargetRanges();if(f&&h.length){let d=h[0],g=s.posAtDOM(d.startContainer,d.startOffset),m=s.posAtDOM(d.endContainer,d.endOffset);return applyDOMChangeInner(s,{from:g,to:m,insert:s.state.toText(f)},null),!0}}let o;if(browser.chrome&&browser.android&&(o=PendingKeys.find(f=>f.inputType==r.inputType))&&(s.observer.delayAndroidKey(o.key,o.keyCode),o.key=="Backspace"||o.key=="Delete")){let f=((l=window.visualViewport)===null||l===void 0?void 0:l.height)||0;setTimeout(()=>{var h;(((h=window.visualViewport)===null||h===void 0?void 0:h.height)||0)>f+10&&s.hasFocus&&(s.contentDOM.blur(),s.focus())},100)}return browser.ios&&r.inputType=="deleteContentForward"&&s.observer.flushSoon(),browser.safari&&r.inputType=="insertText"&&s.inputState.composing>=0&&setTimeout(()=>observers.compositionend(s,r),20),!1};const appliedFirefoxHack=new Set;function firefoxCopyCutHack(s){appliedFirefoxHack.has(s)||(appliedFirefoxHack.add(s),s.addEventListener("copy",()=>{}),s.addEventListener("cut",()=>{}))}const wrappingWhiteSpace=["pre-wrap","normal","pre-line","break-spaces"];let heightChangeFlag=!1;function clearHeightChangeFlag(){heightChangeFlag=!1}class HeightOracle{constructor(r){this.lineWrapping=r,this.doc=Text.empty,this.heightSamples={},this.lineHeight=14,this.charWidth=7,this.textHeight=14,this.lineLength=30}heightForGap(r,a){let l=this.doc.lineAt(a).number-this.doc.lineAt(r).number+1;return this.lineWrapping&&(l+=Math.max(0,Math.ceil((a-r-l*this.lineLength*.5)/this.lineLength))),this.lineHeight*l}heightForLine(r){return this.lineWrapping?(1+Math.max(0,Math.ceil((r-this.lineLength)/Math.max(1,this.lineLength-5))))*this.lineHeight:this.lineHeight}setDoc(r){return this.doc=r,this}mustRefreshForWrapping(r){return wrappingWhiteSpace.indexOf(r)>-1!=this.lineWrapping}mustRefreshForHeights(r){let a=!1;for(let l=0;l<r.length;l++){let o=r[l];o<0?l++:this.heightSamples[Math.floor(o*10)]||(a=!0,this.heightSamples[Math.floor(o*10)]=!0)}return a}refresh(r,a,l,o,f,h){let d=wrappingWhiteSpace.indexOf(r)>-1,g=Math.abs(a-this.lineHeight)>.3||this.lineWrapping!=d||Math.abs(l-this.charWidth)>.1;if(this.lineWrapping=d,this.lineHeight=a,this.charWidth=l,this.textHeight=o,this.lineLength=f,g){this.heightSamples={};for(let m=0;m<h.length;m++){let y=h[m];y<0?m++:this.heightSamples[Math.floor(y*10)]=!0}}return g}}class MeasuredHeights{constructor(r,a){this.from=r,this.heights=a,this.index=0}get more(){return this.index<this.heights.length}}class BlockInfo{constructor(r,a,l,o,f){this.from=r,this.length=a,this.top=l,this.height=o,this._content=f}get type(){return typeof this._content=="number"?BlockType.Text:Array.isArray(this._content)?this._content:this._content.type}get to(){return this.from+this.length}get bottom(){return this.top+this.height}get widget(){return this._content instanceof PointDecoration?this._content.widget:null}get widgetLineBreaks(){return typeof this._content=="number"?this._content:0}join(r){let a=(Array.isArray(this._content)?this._content:[this]).concat(Array.isArray(r._content)?r._content:[r]);return new BlockInfo(this.from,this.length+r.length,this.top,this.height+r.height,a)}}var QueryType$1=(function(s){return s[s.ByPos=0]="ByPos",s[s.ByHeight=1]="ByHeight",s[s.ByPosNoHeight=2]="ByPosNoHeight",s})(QueryType$1||(QueryType$1={}));const Epsilon=.001;class HeightMap{constructor(r,a,l=2){this.length=r,this.height=a,this.flags=l}get outdated(){return(this.flags&2)>0}set outdated(r){this.flags=(r?2:0)|this.flags&-3}setHeight(r){this.height!=r&&(Math.abs(this.height-r)>Epsilon&&(heightChangeFlag=!0),this.height=r)}replace(r,a,l){return HeightMap.of(l)}decomposeLeft(r,a){a.push(this)}decomposeRight(r,a){a.push(this)}applyChanges(r,a,l,o){let f=this,h=l.doc;for(let d=o.length-1;d>=0;d--){let{fromA:g,toA:m,fromB:y,toB:S}=o[d],x=f.lineAt(g,QueryType$1.ByPosNoHeight,l.setDoc(a),0,0),w=x.to>=m?x:f.lineAt(m,QueryType$1.ByPosNoHeight,l,0,0);for(S+=w.to-m,m=w.to;d>0&&x.from<=o[d-1].toA;)g=o[d-1].fromA,y=o[d-1].fromB,d--,g<x.from&&(x=f.lineAt(g,QueryType$1.ByPosNoHeight,l,0,0));y+=x.from-g,g=x.from;let Q=NodeBuilder.build(l.setDoc(h),r,y,S);f=replace(f,f.replace(g,m,Q))}return f.updateHeight(l,0)}static empty(){return new HeightMapText(0,0,0)}static of(r){if(r.length==1)return r[0];let a=0,l=r.length,o=0,f=0;for(;;)if(a==l)if(o>f*2){let d=r[a-1];d.break?r.splice(--a,1,d.left,null,d.right):r.splice(--a,1,d.left,d.right),l+=1+d.break,o-=d.size}else if(f>o*2){let d=r[l];d.break?r.splice(l,1,d.left,null,d.right):r.splice(l,1,d.left,d.right),l+=2+d.break,f-=d.size}else break;else if(o<f){let d=r[a++];d&&(o+=d.size)}else{let d=r[--l];d&&(f+=d.size)}let h=0;return r[a-1]==null?(h=1,a--):r[a]==null&&(h=1,l++),new HeightMapBranch(HeightMap.of(r.slice(0,a)),h,HeightMap.of(r.slice(l)))}}function replace(s,r){return s==r?s:(s.constructor!=r.constructor&&(heightChangeFlag=!0),r)}HeightMap.prototype.size=1;const SpaceDeco=Decoration.replace({});class HeightMapBlock extends HeightMap{constructor(r,a,l){super(r,a),this.deco=l,this.spaceAbove=0}mainBlock(r,a){return new BlockInfo(a,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.deco||0)}blockAt(r,a,l,o){return this.spaceAbove&&r<l+this.spaceAbove?new BlockInfo(o,0,l,this.spaceAbove,SpaceDeco):this.mainBlock(l,o)}lineAt(r,a,l,o,f){let h=this.mainBlock(o,f);return this.spaceAbove?this.blockAt(0,l,o,f).join(h):h}forEachLine(r,a,l,o,f,h){r<=f+this.length&&a>=f&&h(this.lineAt(0,QueryType$1.ByPos,l,o,f))}setMeasuredHeight(r){let a=r.heights[r.index++];a<0?(this.spaceAbove=-a,a=r.heights[r.index++]):this.spaceAbove=0,this.setHeight(a)}updateHeight(r,a=0,l=!1,o){return o&&o.from<=a&&o.more&&this.setMeasuredHeight(o),this.outdated=!1,this}toString(){return`block(${this.length})`}}class HeightMapText extends HeightMapBlock{constructor(r,a,l){super(r,a,null),this.collapsed=0,this.widgetHeight=0,this.breaks=0,this.spaceAbove=l}mainBlock(r,a){return new BlockInfo(a,this.length,r+this.spaceAbove,this.height-this.spaceAbove,this.breaks)}replace(r,a,l){let o=l[0];return l.length==1&&(o instanceof HeightMapText||o instanceof HeightMapGap&&o.flags&4)&&Math.abs(this.length-o.length)<10?(o instanceof HeightMapGap?o=new HeightMapText(o.length,this.height,this.spaceAbove):o.height=this.height,this.outdated||(o.outdated=!1),o):HeightMap.of(l)}updateHeight(r,a=0,l=!1,o){return o&&o.from<=a&&o.more?this.setMeasuredHeight(o):(l||this.outdated)&&(this.spaceAbove=0,this.setHeight(Math.max(this.widgetHeight,r.heightForLine(this.length-this.collapsed))+this.breaks*r.lineHeight)),this.outdated=!1,this}toString(){return`line(${this.length}${this.collapsed?-this.collapsed:""}${this.widgetHeight?":"+this.widgetHeight:""})`}}class HeightMapGap extends HeightMap{constructor(r){super(r,0)}heightMetrics(r,a){let l=r.doc.lineAt(a).number,o=r.doc.lineAt(a+this.length).number,f=o-l+1,h,d=0;if(r.lineWrapping){let g=Math.min(this.height,r.lineHeight*f);h=g/f,this.length>f+1&&(d=(this.height-g)/(this.length-f-1))}else h=this.height/f;return{firstLine:l,lastLine:o,perLine:h,perChar:d}}blockAt(r,a,l,o){let{firstLine:f,lastLine:h,perLine:d,perChar:g}=this.heightMetrics(a,o);if(a.lineWrapping){let m=o+(r<a.lineHeight?0:Math.round(Math.max(0,Math.min(1,(r-l)/this.height))*this.length)),y=a.doc.lineAt(m),S=d+y.length*g,x=Math.max(l,r-S/2);return new BlockInfo(y.from,y.length,x,S,0)}else{let m=Math.max(0,Math.min(h-f,Math.floor((r-l)/d))),{from:y,length:S}=a.doc.line(f+m);return new BlockInfo(y,S,l+d*m,d,0)}}lineAt(r,a,l,o,f){if(a==QueryType$1.ByHeight)return this.blockAt(r,l,o,f);if(a==QueryType$1.ByPosNoHeight){let{from:w,to:Q}=l.doc.lineAt(r);return new BlockInfo(w,Q-w,0,0,0)}let{firstLine:h,perLine:d,perChar:g}=this.heightMetrics(l,f),m=l.doc.lineAt(r),y=d+m.length*g,S=m.number-h,x=o+d*S+g*(m.from-f-S);return new BlockInfo(m.from,m.length,Math.max(o,Math.min(x,o+this.height-y)),y,0)}forEachLine(r,a,l,o,f,h){r=Math.max(r,f),a=Math.min(a,f+this.length);let{firstLine:d,perLine:g,perChar:m}=this.heightMetrics(l,f);for(let y=r,S=o;y<=a;){let x=l.doc.lineAt(y);if(y==r){let Q=x.number-d;S+=g*Q+m*(r-f-Q)}let w=g+m*x.length;h(new BlockInfo(x.from,x.length,S,w,0)),S+=w,y=x.to+1}}replace(r,a,l){let o=this.length-a;if(o>0){let f=l[l.length-1];f instanceof HeightMapGap?l[l.length-1]=new HeightMapGap(f.length+o):l.push(null,new HeightMapGap(o-1))}if(r>0){let f=l[0];f instanceof HeightMapGap?l[0]=new HeightMapGap(r+f.length):l.unshift(new HeightMapGap(r-1),null)}return HeightMap.of(l)}decomposeLeft(r,a){a.push(new HeightMapGap(r-1),null)}decomposeRight(r,a){a.push(null,new HeightMapGap(this.length-r-1))}updateHeight(r,a=0,l=!1,o){let f=a+this.length;if(o&&o.from<=a+this.length&&o.more){let h=[],d=Math.max(a,o.from),g=-1;for(o.from>a&&h.push(new HeightMapGap(o.from-a-1).updateHeight(r,a));d<=f&&o.more;){let y=r.doc.lineAt(d).length;h.length&&h.push(null);let S=o.heights[o.index++],x=0;S<0&&(x=-S,S=o.heights[o.index++]),g==-1?g=S:Math.abs(S-g)>=Epsilon&&(g=-2);let w=new HeightMapText(y,S,x);w.outdated=!1,h.push(w),d+=y+1}d<=f&&h.push(null,new HeightMapGap(f-d).updateHeight(r,d));let m=HeightMap.of(h);return(g<0||Math.abs(m.height-this.height)>=Epsilon||Math.abs(g-this.heightMetrics(r,a).perLine)>=Epsilon)&&(heightChangeFlag=!0),replace(this,m)}else(l||this.outdated)&&(this.setHeight(r.heightForGap(a,a+this.length)),this.outdated=!1);return this}toString(){return`gap(${this.length})`}}class HeightMapBranch extends HeightMap{constructor(r,a,l){super(r.length+a+l.length,r.height+l.height,a|(r.outdated||l.outdated?2:0)),this.left=r,this.right=l,this.size=r.size+l.size}get break(){return this.flags&1}blockAt(r,a,l,o){let f=l+this.left.height;return r<f?this.left.blockAt(r,a,l,o):this.right.blockAt(r,a,f,o+this.left.length+this.break)}lineAt(r,a,l,o,f){let h=o+this.left.height,d=f+this.left.length+this.break,g=a==QueryType$1.ByHeight?r<h:r<d,m=g?this.left.lineAt(r,a,l,o,f):this.right.lineAt(r,a,l,h,d);if(this.break||(g?m.to<d:m.from>d))return m;let y=a==QueryType$1.ByPosNoHeight?QueryType$1.ByPosNoHeight:QueryType$1.ByPos;return g?m.join(this.right.lineAt(d,y,l,h,d)):this.left.lineAt(d,y,l,o,f).join(m)}forEachLine(r,a,l,o,f,h){let d=o+this.left.height,g=f+this.left.length+this.break;if(this.break)r<g&&this.left.forEachLine(r,a,l,o,f,h),a>=g&&this.right.forEachLine(r,a,l,d,g,h);else{let m=this.lineAt(g,QueryType$1.ByPos,l,o,f);r<m.from&&this.left.forEachLine(r,m.from-1,l,o,f,h),m.to>=r&&m.from<=a&&h(m),a>m.to&&this.right.forEachLine(m.to+1,a,l,d,g,h)}}replace(r,a,l){let o=this.left.length+this.break;if(a<o)return this.balanced(this.left.replace(r,a,l),this.right);if(r>this.left.length)return this.balanced(this.left,this.right.replace(r-o,a-o,l));let f=[];r>0&&this.decomposeLeft(r,f);let h=f.length;for(let d of l)f.push(d);if(r>0&&mergeGaps(f,h-1),a<this.length){let d=f.length;this.decomposeRight(a,f),mergeGaps(f,d)}return HeightMap.of(f)}decomposeLeft(r,a){let l=this.left.length;if(r<=l)return this.left.decomposeLeft(r,a);a.push(this.left),this.break&&(l++,r>=l&&a.push(null)),r>l&&this.right.decomposeLeft(r-l,a)}decomposeRight(r,a){let l=this.left.length,o=l+this.break;if(r>=o)return this.right.decomposeRight(r-o,a);r<l&&this.left.decomposeRight(r,a),this.break&&r<o&&a.push(null),a.push(this.right)}balanced(r,a){return r.size>2*a.size||a.size>2*r.size?HeightMap.of(this.break?[r,null,a]:[r,a]):(this.left=replace(this.left,r),this.right=replace(this.right,a),this.setHeight(r.height+a.height),this.outdated=r.outdated||a.outdated,this.size=r.size+a.size,this.length=r.length+this.break+a.length,this)}updateHeight(r,a=0,l=!1,o){let{left:f,right:h}=this,d=a+f.length+this.break,g=null;return o&&o.from<=a+f.length&&o.more?g=f=f.updateHeight(r,a,l,o):f.updateHeight(r,a,l),o&&o.from<=d+h.length&&o.more?g=h=h.updateHeight(r,d,l,o):h.updateHeight(r,d,l),g?this.balanced(f,h):(this.height=this.left.height+this.right.height,this.outdated=!1,this)}toString(){return this.left+(this.break?" ":"-")+this.right}}function mergeGaps(s,r){let a,l;s[r]==null&&(a=s[r-1])instanceof HeightMapGap&&(l=s[r+1])instanceof HeightMapGap&&s.splice(r-1,3,new HeightMapGap(a.length+1+l.length))}const relevantWidgetHeight=5;class NodeBuilder{constructor(r,a){this.pos=r,this.oracle=a,this.nodes=[],this.lineStart=-1,this.lineEnd=-1,this.covering=null,this.writtenTo=r}get isCovered(){return this.covering&&this.nodes[this.nodes.length-1]==this.covering}span(r,a){if(this.lineStart>-1){let l=Math.min(a,this.lineEnd),o=this.nodes[this.nodes.length-1];o instanceof HeightMapText?o.length+=l-this.pos:(l>this.pos||!this.isCovered)&&this.nodes.push(new HeightMapText(l-this.pos,-1,0)),this.writtenTo=l,a>l&&(this.nodes.push(null),this.writtenTo++,this.lineStart=-1)}this.pos=a}point(r,a,l){if(r<a||l.heightRelevant){let o=l.widget?l.widget.estimatedHeight:0,f=l.widget?l.widget.lineBreaks:0;o<0&&(o=this.oracle.lineHeight);let h=a-r;l.block?this.addBlock(new HeightMapBlock(h,o,l)):(h||f||o>=relevantWidgetHeight)&&this.addLineDeco(o,f,h)}else a>r&&this.span(r,a);this.lineEnd>-1&&this.lineEnd<this.pos&&(this.lineEnd=this.oracle.doc.lineAt(this.pos).to)}enterLine(){if(this.lineStart>-1)return;let{from:r,to:a}=this.oracle.doc.lineAt(this.pos);this.lineStart=r,this.lineEnd=a,this.writtenTo<r&&((this.writtenTo<r-1||this.nodes[this.nodes.length-1]==null)&&this.nodes.push(this.blankContent(this.writtenTo,r-1)),this.nodes.push(null)),this.pos>r&&this.nodes.push(new HeightMapText(this.pos-r,-1,0)),this.writtenTo=this.pos}blankContent(r,a){let l=new HeightMapGap(a-r);return this.oracle.doc.lineAt(r).to==a&&(l.flags|=4),l}ensureLine(){this.enterLine();let r=this.nodes.length?this.nodes[this.nodes.length-1]:null;if(r instanceof HeightMapText)return r;let a=new HeightMapText(0,-1,0);return this.nodes.push(a),a}addBlock(r){this.enterLine();let a=r.deco;a&&a.startSide>0&&!this.isCovered&&this.ensureLine(),this.nodes.push(r),this.writtenTo=this.pos=this.pos+r.length,a&&a.endSide>0&&(this.covering=r)}addLineDeco(r,a,l){let o=this.ensureLine();o.length+=l,o.collapsed+=l,o.widgetHeight=Math.max(o.widgetHeight,r),o.breaks+=a,this.writtenTo=this.pos=this.pos+l}finish(r){let a=this.nodes.length==0?null:this.nodes[this.nodes.length-1];this.lineStart>-1&&!(a instanceof HeightMapText)&&!this.isCovered?this.nodes.push(new HeightMapText(0,-1,0)):(this.writtenTo<this.pos||a==null)&&this.nodes.push(this.blankContent(this.writtenTo,this.pos));let l=r;for(let o of this.nodes)o instanceof HeightMapText&&o.updateHeight(this.oracle,l),l+=o?o.length:1;return this.nodes}static build(r,a,l,o){let f=new NodeBuilder(l,r);return RangeSet.spans(a,l,o,f,0),f.finish(l)}}function heightRelevantDecoChanges(s,r,a){let l=new DecorationComparator;return RangeSet.compare(s,r,a,l,0),l.changes}class DecorationComparator{constructor(){this.changes=[]}compareRange(){}comparePoint(r,a,l,o){(r<a||l&&l.heightRelevant||o&&o.heightRelevant)&&addRange(r,a,this.changes,5)}}function visiblePixelRange(s,r){let a=s.getBoundingClientRect(),l=s.ownerDocument,o=l.defaultView||window,f=Math.max(0,a.left),h=Math.min(o.innerWidth,a.right),d=Math.max(0,a.top),g=Math.min(o.innerHeight,a.bottom);for(let m=s.parentNode;m&&m!=l.body;)if(m.nodeType==1){let y=m,S=window.getComputedStyle(y);if((y.scrollHeight>y.clientHeight||y.scrollWidth>y.clientWidth)&&S.overflow!="visible"){let x=y.getBoundingClientRect();f=Math.max(f,x.left),h=Math.min(h,x.right),d=Math.max(d,x.top),g=Math.min(m==s.parentNode?o.innerHeight:g,x.bottom)}m=S.position=="absolute"||S.position=="fixed"?y.offsetParent:y.parentNode}else if(m.nodeType==11)m=m.host;else break;return{left:f-a.left,right:Math.max(f,h)-a.left,top:d-(a.top+r),bottom:Math.max(d,g)-(a.top+r)}}function inWindow(s){let r=s.getBoundingClientRect(),a=s.ownerDocument.defaultView||window;return r.left<a.innerWidth&&r.right>0&&r.top<a.innerHeight&&r.bottom>0}function fullPixelRange(s,r){let a=s.getBoundingClientRect();return{left:0,right:a.right-a.left,top:r,bottom:a.bottom-(a.top+r)}}class LineGap{constructor(r,a,l,o){this.from=r,this.to=a,this.size=l,this.displaySize=o}static same(r,a){if(r.length!=a.length)return!1;for(let l=0;l<r.length;l++){let o=r[l],f=a[l];if(o.from!=f.from||o.to!=f.to||o.size!=f.size)return!1}return!0}draw(r,a){return Decoration.replace({widget:new LineGapWidget(this.displaySize*(a?r.scaleY:r.scaleX),a)}).range(this.from,this.to)}}class LineGapWidget extends WidgetType{constructor(r,a){super(),this.size=r,this.vertical=a}eq(r){return r.size==this.size&&r.vertical==this.vertical}toDOM(){let r=document.createElement("div");return this.vertical?r.style.height=this.size+"px":(r.style.width=this.size+"px",r.style.height="2px",r.style.display="inline-block"),r}get estimatedHeight(){return this.vertical?this.size:-1}}class ViewState{constructor(r){this.state=r,this.pixelViewport={left:0,right:window.innerWidth,top:0,bottom:0},this.inView=!0,this.paddingTop=0,this.paddingBottom=0,this.contentDOMWidth=0,this.contentDOMHeight=0,this.editorHeight=0,this.editorWidth=0,this.scrollTop=0,this.scrolledToBottom=!1,this.scaleX=1,this.scaleY=1,this.scrollAnchorPos=0,this.scrollAnchorHeight=-1,this.scaler=IdScaler,this.scrollTarget=null,this.printing=!1,this.mustMeasureContent=!0,this.defaultTextDirection=Direction.LTR,this.visibleRanges=[],this.mustEnforceCursorAssoc=!1;let a=r.facet(contentAttributes).some(l=>typeof l!="function"&&l.class=="cm-lineWrapping");this.heightOracle=new HeightOracle(a),this.stateDeco=staticDeco(r),this.heightMap=HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle.setDoc(r.doc),[new ChangedRange(0,0,0,r.doc.length)]);for(let l=0;l<2&&(this.viewport=this.getViewport(0,null),!!this.updateForViewport());l++);this.updateViewportLines(),this.lineGaps=this.ensureLineGaps([]),this.lineGapDeco=Decoration.set(this.lineGaps.map(l=>l.draw(this,!1))),this.computeVisibleRanges()}updateForViewport(){let r=[this.viewport],{main:a}=this.state.selection;for(let l=0;l<=1;l++){let o=l?a.head:a.anchor;if(!r.some(({from:f,to:h})=>o>=f&&o<=h)){let{from:f,to:h}=this.lineBlockAt(o);r.push(new Viewport(f,h))}}return this.viewports=r.sort((l,o)=>l.from-o.from),this.updateScaler()}updateScaler(){let r=this.scaler;return this.scaler=this.heightMap.height<=7e6?IdScaler:new BigScaler(this.heightOracle,this.heightMap,this.viewports),r.eq(this.scaler)?0:2}updateViewportLines(){this.viewportLines=[],this.heightMap.forEachLine(this.viewport.from,this.viewport.to,this.heightOracle.setDoc(this.state.doc),0,0,r=>{this.viewportLines.push(scaleBlock(r,this.scaler))})}update(r,a=null){this.state=r.state;let l=this.stateDeco;this.stateDeco=staticDeco(this.state);let o=r.changedRanges,f=ChangedRange.extendWithRanges(o,heightRelevantDecoChanges(l,this.stateDeco,r?r.changes:ChangeSet.empty(this.state.doc.length))),h=this.heightMap.height,d=this.scrolledToBottom?null:this.scrollAnchorAt(this.scrollTop);clearHeightChangeFlag(),this.heightMap=this.heightMap.applyChanges(this.stateDeco,r.startState.doc,this.heightOracle.setDoc(this.state.doc),f),(this.heightMap.height!=h||heightChangeFlag)&&(r.flags|=2),d?(this.scrollAnchorPos=r.changes.mapPos(d.from,-1),this.scrollAnchorHeight=d.top):(this.scrollAnchorPos=-1,this.scrollAnchorHeight=h);let g=f.length?this.mapViewport(this.viewport,r.changes):this.viewport;(a&&(a.range.head<g.from||a.range.head>g.to)||!this.viewportIsAppropriate(g))&&(g=this.getViewport(0,a));let m=g.from!=this.viewport.from||g.to!=this.viewport.to;this.viewport=g,r.flags|=this.updateForViewport(),(m||!r.changes.empty||r.flags&2)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(this.mapLineGaps(this.lineGaps,r.changes))),r.flags|=this.computeVisibleRanges(r.changes),a&&(this.scrollTarget=a),!this.mustEnforceCursorAssoc&&(r.selectionSet||r.focusChanged)&&r.view.lineWrapping&&r.state.selection.main.empty&&r.state.selection.main.assoc&&!r.state.facet(nativeSelectionHidden)&&(this.mustEnforceCursorAssoc=!0)}measure(r){let a=r.contentDOM,l=window.getComputedStyle(a),o=this.heightOracle,f=l.whiteSpace;this.defaultTextDirection=l.direction=="rtl"?Direction.RTL:Direction.LTR;let h=this.heightOracle.mustRefreshForWrapping(f)||this.mustMeasureContent,d=a.getBoundingClientRect(),g=h||this.mustMeasureContent||this.contentDOMHeight!=d.height;this.contentDOMHeight=d.height,this.mustMeasureContent=!1;let m=0,y=0;if(d.width&&d.height){let{scaleX:j,scaleY:B}=getScale(a,d);(j>.005&&Math.abs(this.scaleX-j)>.005||B>.005&&Math.abs(this.scaleY-B)>.005)&&(this.scaleX=j,this.scaleY=B,m|=16,h=g=!0)}let S=(parseInt(l.paddingTop)||0)*this.scaleY,x=(parseInt(l.paddingBottom)||0)*this.scaleY;(this.paddingTop!=S||this.paddingBottom!=x)&&(this.paddingTop=S,this.paddingBottom=x,m|=18),this.editorWidth!=r.scrollDOM.clientWidth&&(o.lineWrapping&&(g=!0),this.editorWidth=r.scrollDOM.clientWidth,m|=16);let w=r.scrollDOM.scrollTop*this.scaleY;this.scrollTop!=w&&(this.scrollAnchorHeight=-1,this.scrollTop=w),this.scrolledToBottom=isScrolledToBottom(r.scrollDOM);let Q=(this.printing?fullPixelRange:visiblePixelRange)(a,this.paddingTop),A=Q.top-this.pixelViewport.top,M=Q.bottom-this.pixelViewport.bottom;this.pixelViewport=Q;let L=this.pixelViewport.bottom>this.pixelViewport.top&&this.pixelViewport.right>this.pixelViewport.left;if(L!=this.inView&&(this.inView=L,L&&(g=!0)),!this.inView&&!this.scrollTarget&&!inWindow(r.dom))return 0;let Z=d.width;if((this.contentDOMWidth!=Z||this.editorHeight!=r.scrollDOM.clientHeight)&&(this.contentDOMWidth=d.width,this.editorHeight=r.scrollDOM.clientHeight,m|=16),g){let j=r.docView.measureVisibleLineHeights(this.viewport);if(o.mustRefreshForHeights(j)&&(h=!0),h||o.lineWrapping&&Math.abs(Z-this.contentDOMWidth)>o.charWidth){let{lineHeight:B,charWidth:G,textHeight:D}=r.docView.measureTextSize();h=B>0&&o.refresh(f,B,G,D,Math.max(5,Z/G),j),h&&(r.docView.minWidth=0,m|=16)}A>0&&M>0?y=Math.max(A,M):A<0&&M<0&&(y=Math.min(A,M)),clearHeightChangeFlag();for(let B of this.viewports){let G=B.from==this.viewport.from?j:r.docView.measureVisibleLineHeights(B);this.heightMap=(h?HeightMap.empty().applyChanges(this.stateDeco,Text.empty,this.heightOracle,[new ChangedRange(0,0,0,r.state.doc.length)]):this.heightMap).updateHeight(o,0,h,new MeasuredHeights(B.from,G))}heightChangeFlag&&(m|=2)}let z=!this.viewportIsAppropriate(this.viewport,y)||this.scrollTarget&&(this.scrollTarget.range.head<this.viewport.from||this.scrollTarget.range.head>this.viewport.to);return z&&(m&2&&(m|=this.updateScaler()),this.viewport=this.getViewport(y,this.scrollTarget),m|=this.updateForViewport()),(m&2||z)&&this.updateViewportLines(),(this.lineGaps.length||this.viewport.to-this.viewport.from>4e3)&&this.updateLineGaps(this.ensureLineGaps(h?[]:this.lineGaps,r)),m|=this.computeVisibleRanges(),this.mustEnforceCursorAssoc&&(this.mustEnforceCursorAssoc=!1,r.docView.enforceCursorAssoc()),m}get visibleTop(){return this.scaler.fromDOM(this.pixelViewport.top)}get visibleBottom(){return this.scaler.fromDOM(this.pixelViewport.bottom)}getViewport(r,a){let l=.5-Math.max(-.5,Math.min(.5,r/1e3/2)),o=this.heightMap,f=this.heightOracle,{visibleTop:h,visibleBottom:d}=this,g=new Viewport(o.lineAt(h-l*1e3,QueryType$1.ByHeight,f,0,0).from,o.lineAt(d+(1-l)*1e3,QueryType$1.ByHeight,f,0,0).to);if(a){let{head:m}=a.range;if(m<g.from||m>g.to){let y=Math.min(this.editorHeight,this.pixelViewport.bottom-this.pixelViewport.top),S=o.lineAt(m,QueryType$1.ByPos,f,0,0),x;a.y=="center"?x=(S.top+S.bottom)/2-y/2:a.y=="start"||a.y=="nearest"&&m<g.from?x=S.top:x=S.bottom-y,g=new Viewport(o.lineAt(x-1e3/2,QueryType$1.ByHeight,f,0,0).from,o.lineAt(x+y+1e3/2,QueryType$1.ByHeight,f,0,0).to)}}return g}mapViewport(r,a){let l=a.mapPos(r.from,-1),o=a.mapPos(r.to,1);return new Viewport(this.heightMap.lineAt(l,QueryType$1.ByPos,this.heightOracle,0,0).from,this.heightMap.lineAt(o,QueryType$1.ByPos,this.heightOracle,0,0).to)}viewportIsAppropriate({from:r,to:a},l=0){if(!this.inView)return!0;let{top:o}=this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),{bottom:f}=this.heightMap.lineAt(a,QueryType$1.ByPos,this.heightOracle,0,0),{visibleTop:h,visibleBottom:d}=this;return(r==0||o<=h-Math.max(10,Math.min(-l,250)))&&(a==this.state.doc.length||f>=d+Math.max(10,Math.min(l,250)))&&o>h-2*1e3&&f<d+2*1e3}mapLineGaps(r,a){if(!r.length||a.empty)return r;let l=[];for(let o of r)a.touchesRange(o.from,o.to)||l.push(new LineGap(a.mapPos(o.from),a.mapPos(o.to),o.size,o.displaySize));return l}ensureLineGaps(r,a){let l=this.heightOracle.lineWrapping,o=l?1e4:2e3,f=o>>1,h=o<<1;if(this.defaultTextDirection!=Direction.LTR&&!l)return[];let d=[],g=(y,S,x,w)=>{if(S-y<f)return;let Q=this.state.selection.main,A=[Q.from];Q.empty||A.push(Q.to);for(let L of A)if(L>y&&L<S){g(y,L-10,x,w),g(L+10,S,x,w);return}let M=find(r,L=>L.from>=x.from&&L.to<=x.to&&Math.abs(L.from-y)<f&&Math.abs(L.to-S)<f&&!A.some(Z=>L.from<Z&&L.to>Z));if(!M){if(S<x.to&&a&&l&&a.visibleRanges.some(z=>z.from<=S&&z.to>=S)){let z=a.moveToLineBoundary(EditorSelection.cursor(S),!1,!0).head;z>y&&(S=z)}let L=this.gapSize(x,y,S,w),Z=l||L<2e6?L:2e6;M=new LineGap(y,S,L,Z)}d.push(M)},m=y=>{if(y.length<h||y.type!=BlockType.Text)return;let S=lineStructure(y.from,y.to,this.stateDeco);if(S.total<h)return;let x=this.scrollTarget?this.scrollTarget.range.head:null,w,Q;if(l){let A=o/this.heightOracle.lineLength*this.heightOracle.lineHeight,M,L;if(x!=null){let Z=findFraction(S,x),z=((this.visibleBottom-this.visibleTop)/2+A)/y.height;M=Z-z,L=Z+z}else M=(this.visibleTop-y.top-A)/y.height,L=(this.visibleBottom-y.top+A)/y.height;w=findPosition(S,M),Q=findPosition(S,L)}else{let A=S.total*this.heightOracle.charWidth,M=o*this.heightOracle.charWidth,L=0;if(A>2e6)for(let G of r)G.from>=y.from&&G.from<y.to&&G.size!=G.displaySize&&G.from*this.heightOracle.charWidth+L<this.pixelViewport.left&&(L=G.size-G.displaySize);let Z=this.pixelViewport.left+L,z=this.pixelViewport.right+L,j,B;if(x!=null){let G=findFraction(S,x),D=((z-Z)/2+M)/A;j=G-D,B=G+D}else j=(Z-M)/A,B=(z+M)/A;w=findPosition(S,j),Q=findPosition(S,B)}w>y.from&&g(y.from,w,y,S),Q<y.to&&g(Q,y.to,y,S)};for(let y of this.viewportLines)Array.isArray(y.type)?y.type.forEach(m):m(y);return d}gapSize(r,a,l,o){let f=findFraction(o,l)-findFraction(o,a);return this.heightOracle.lineWrapping?r.height*f:o.total*this.heightOracle.charWidth*f}updateLineGaps(r){LineGap.same(r,this.lineGaps)||(this.lineGaps=r,this.lineGapDeco=Decoration.set(r.map(a=>a.draw(this,this.heightOracle.lineWrapping))))}computeVisibleRanges(r){let a=this.stateDeco;this.lineGaps.length&&(a=a.concat(this.lineGapDeco));let l=[];RangeSet.spans(a,this.viewport.from,this.viewport.to,{span(f,h){l.push({from:f,to:h})},point(){}},20);let o=0;if(l.length!=this.visibleRanges.length)o=12;else for(let f=0;f<l.length&&!(o&8);f++){let h=this.visibleRanges[f],d=l[f];(h.from!=d.from||h.to!=d.to)&&(o|=4,r&&r.mapPos(h.from,-1)==d.from&&r.mapPos(h.to,1)==d.to||(o|=8))}return this.visibleRanges=l,o}lineBlockAt(r){return r>=this.viewport.from&&r<=this.viewport.to&&this.viewportLines.find(a=>a.from<=r&&a.to>=r)||scaleBlock(this.heightMap.lineAt(r,QueryType$1.ByPos,this.heightOracle,0,0),this.scaler)}lineBlockAtHeight(r){return r>=this.viewportLines[0].top&&r<=this.viewportLines[this.viewportLines.length-1].bottom&&this.viewportLines.find(a=>a.top<=r&&a.bottom>=r)||scaleBlock(this.heightMap.lineAt(this.scaler.fromDOM(r),QueryType$1.ByHeight,this.heightOracle,0,0),this.scaler)}scrollAnchorAt(r){let a=this.lineBlockAtHeight(r+8);return a.from>=this.viewport.from||this.viewportLines[0].top-r>200?a:this.viewportLines[0]}elementAtHeight(r){return scaleBlock(this.heightMap.blockAt(this.scaler.fromDOM(r),this.heightOracle,0,0),this.scaler)}get docHeight(){return this.scaler.toDOM(this.heightMap.height)}get contentHeight(){return this.docHeight+this.paddingTop+this.paddingBottom}}class Viewport{constructor(r,a){this.from=r,this.to=a}}function lineStructure(s,r,a){let l=[],o=s,f=0;return RangeSet.spans(a,s,r,{span(){},point(h,d){h>o&&(l.push({from:o,to:h}),f+=h-o),o=d}},20),o<r&&(l.push({from:o,to:r}),f+=r-o),{total:f,ranges:l}}function findPosition({total:s,ranges:r},a){if(a<=0)return r[0].from;if(a>=1)return r[r.length-1].to;let l=Math.floor(s*a);for(let o=0;;o++){let{from:f,to:h}=r[o],d=h-f;if(l<=d)return f+l;l-=d}}function findFraction(s,r){let a=0;for(let{from:l,to:o}of s.ranges){if(r<=o){a+=r-l;break}a+=o-l}return a/s.total}function find(s,r){for(let a of s)if(r(a))return a}const IdScaler={toDOM(s){return s},fromDOM(s){return s},scale:1,eq(s){return s==this}};function staticDeco(s){let r=s.facet(decorations).filter(l=>typeof l!="function"),a=s.facet(outerDecorations).filter(l=>typeof l!="function");return a.length&&r.push(RangeSet.join(a)),r}class BigScaler{constructor(r,a,l){let o=0,f=0,h=0;this.viewports=l.map(({from:d,to:g})=>{let m=a.lineAt(d,QueryType$1.ByPos,r,0,0).top,y=a.lineAt(g,QueryType$1.ByPos,r,0,0).bottom;return o+=y-m,{from:d,to:g,top:m,bottom:y,domTop:0,domBottom:0}}),this.scale=(7e6-o)/(a.height-o);for(let d of this.viewports)d.domTop=h+(d.top-f)*this.scale,h=d.domBottom=d.domTop+(d.bottom-d.top),f=d.bottom}toDOM(r){for(let a=0,l=0,o=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||r<f.top)return o+(r-l)*this.scale;if(r<=f.bottom)return f.domTop+(r-f.top);l=f.bottom,o=f.domBottom}}fromDOM(r){for(let a=0,l=0,o=0;;a++){let f=a<this.viewports.length?this.viewports[a]:null;if(!f||r<f.domTop)return l+(r-o)/this.scale;if(r<=f.domBottom)return f.top+(r-f.domTop);l=f.bottom,o=f.domBottom}}eq(r){return r instanceof BigScaler?this.scale==r.scale&&this.viewports.length==r.viewports.length&&this.viewports.every((a,l)=>a.from==r.viewports[l].from&&a.to==r.viewports[l].to):!1}}function scaleBlock(s,r){if(r.scale==1)return s;let a=r.toDOM(s.top),l=r.toDOM(s.bottom);return new BlockInfo(s.from,s.length,a,l-a,Array.isArray(s._content)?s._content.map(o=>scaleBlock(o,r)):s._content)}const theme=Facet.define({combine:s=>s.join(" ")}),darkTheme=Facet.define({combine:s=>s.indexOf(!0)>-1}),baseThemeID=StyleModule.newName(),baseLightID=StyleModule.newName(),baseDarkID=StyleModule.newName(),lightDarkIDs={"&light":"."+baseLightID,"&dark":"."+baseDarkID};function buildTheme(s,r,a){return new StyleModule(r,{finish(l){return/&/.test(l)?l.replace(/&\w*/,o=>{if(o=="&")return s;if(!a||!a[o])throw new RangeError(`Unsupported selector: ${o}`);return a[o]}):s+" "+l}})}const baseTheme$1$2=buildTheme("."+baseThemeID,{"&":{position:"relative !important",boxSizing:"border-box","&.cm-focused":{outline:"1px dotted #212121"},display:"flex !important",flexDirection:"column"},".cm-scroller":{display:"flex !important",alignItems:"flex-start !important",fontFamily:"monospace",lineHeight:1.4,height:"100%",overflowX:"auto",position:"relative",zIndex:0,overflowAnchor:"none"},".cm-content":{margin:0,flexGrow:2,flexShrink:0,display:"block",whiteSpace:"pre",wordWrap:"normal",boxSizing:"border-box",minHeight:"100%",padding:"4px 0",outline:"none","&[contenteditable=true]":{WebkitUserModify:"read-write-plaintext-only"}},".cm-lineWrapping":{whiteSpace_fallback:"pre-wrap",whiteSpace:"break-spaces",wordBreak:"break-word",overflowWrap:"anywhere",flexShrink:1},"&light .cm-content":{caretColor:"black"},"&dark .cm-content":{caretColor:"white"},".cm-line":{display:"block",padding:"0 2px 0 6px"},".cm-layer":{position:"absolute",left:0,top:0,contain:"size style","& > *":{position:"absolute"}},"&light .cm-selectionBackground":{background:"#d9d9d9"},"&dark .cm-selectionBackground":{background:"#222"},"&light.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#d7d4f0"},"&dark.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground":{background:"#233"},".cm-cursorLayer":{pointerEvents:"none"},"&.cm-focused > .cm-scroller > .cm-cursorLayer":{animation:"steps(1) cm-blink 1.2s infinite"},"@keyframes cm-blink":{"0%":{},"50%":{opacity:0},"100%":{}},"@keyframes cm-blink2":{"0%":{},"50%":{opacity:0},"100%":{}},".cm-cursor, .cm-dropCursor":{borderLeft:"1.2px solid black",marginLeft:"-0.6px",pointerEvents:"none"},".cm-cursor":{display:"none"},"&dark .cm-cursor":{borderLeftColor:"#ddd"},".cm-dropCursor":{position:"absolute"},"&.cm-focused > .cm-scroller > .cm-cursorLayer .cm-cursor":{display:"block"},".cm-iso":{unicodeBidi:"isolate"},".cm-announced":{position:"fixed",top:"-10000px"},"@media print":{".cm-announced":{display:"none"}},"&light .cm-activeLine":{backgroundColor:"#cceeff44"},"&dark .cm-activeLine":{backgroundColor:"#99eeff33"},"&light .cm-specialChar":{color:"red"},"&dark .cm-specialChar":{color:"#f78"},".cm-gutters":{flexShrink:0,display:"flex",height:"100%",boxSizing:"border-box",zIndex:200},".cm-gutters-before":{insetInlineStart:0},".cm-gutters-after":{insetInlineEnd:0},"&light .cm-gutters":{backgroundColor:"#f5f5f5",color:"#6c6c6c",border:"0px solid #ddd","&.cm-gutters-before":{borderRightWidth:"1px"},"&.cm-gutters-after":{borderLeftWidth:"1px"}},"&dark .cm-gutters":{backgroundColor:"#333338",color:"#ccc"},".cm-gutter":{display:"flex !important",flexDirection:"column",flexShrink:0,boxSizing:"border-box",minHeight:"100%",overflow:"hidden"},".cm-gutterElement":{boxSizing:"border-box"},".cm-lineNumbers .cm-gutterElement":{padding:"0 3px 0 5px",minWidth:"20px",textAlign:"right",whiteSpace:"nowrap"},"&light .cm-activeLineGutter":{backgroundColor:"#e2f2ff"},"&dark .cm-activeLineGutter":{backgroundColor:"#222227"},".cm-panels":{boxSizing:"border-box",position:"sticky",left:0,right:0,zIndex:300},"&light .cm-panels":{backgroundColor:"#f5f5f5",color:"black"},"&light .cm-panels-top":{borderBottom:"1px solid #ddd"},"&light .cm-panels-bottom":{borderTop:"1px solid #ddd"},"&dark .cm-panels":{backgroundColor:"#333338",color:"white"},".cm-dialog":{padding:"2px 19px 4px 6px",position:"relative","& label":{fontSize:"80%"}},".cm-dialog-close":{position:"absolute",top:"3px",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",fontSize:"14px",padding:"0"},".cm-tab":{display:"inline-block",overflow:"hidden",verticalAlign:"bottom"},".cm-widgetBuffer":{verticalAlign:"text-top",height:"1em",width:0,display:"inline"},".cm-placeholder":{color:"#888",display:"inline-block",verticalAlign:"top",userSelect:"none"},".cm-highlightSpace":{backgroundImage:"radial-gradient(circle at 50% 55%, #aaa 20%, transparent 5%)",backgroundPosition:"center"},".cm-highlightTab":{backgroundImage:`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="200" height="20"><path stroke="%23888" stroke-width="1" fill="none" d="M1 10H196L190 5M190 15L196 10M197 4L197 16"/></svg>')`,backgroundSize:"auto 100%",backgroundPosition:"right 90%",backgroundRepeat:"no-repeat"},".cm-trailingSpace":{backgroundColor:"#ff332255"},".cm-button":{verticalAlign:"middle",color:"inherit",fontSize:"70%",padding:".2em 1em",borderRadius:"1px"},"&light .cm-button":{backgroundImage:"linear-gradient(#eff1f5, #d9d9df)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#b4b4b4, #d0d3d6)"}},"&dark .cm-button":{backgroundImage:"linear-gradient(#393939, #111)",border:"1px solid #888","&:active":{backgroundImage:"linear-gradient(#111, #333)"}},".cm-textfield":{verticalAlign:"middle",color:"inherit",fontSize:"70%",border:"1px solid silver",padding:".2em .5em"},"&light .cm-textfield":{backgroundColor:"white"},"&dark .cm-textfield":{border:"1px solid #555",backgroundColor:"inherit"}},lightDarkIDs),observeOptions={childList:!0,characterData:!0,subtree:!0,attributes:!0,characterDataOldValue:!0},useCharData=browser.ie&&browser.ie_version<=11;class DOMObserver{constructor(r){this.view=r,this.active=!1,this.editContext=null,this.selectionRange=new DOMSelectionState,this.selectionChanged=!1,this.delayedFlush=-1,this.resizeTimeout=-1,this.queue=[],this.delayedAndroidKey=null,this.flushingAndroidKey=-1,this.lastChange=0,this.scrollTargets=[],this.intersection=null,this.resizeScroll=null,this.intersecting=!1,this.gapIntersection=null,this.gaps=[],this.printQuery=null,this.parentCheck=-1,this.dom=r.contentDOM,this.observer=new MutationObserver(a=>{for(let l of a)this.queue.push(l);(browser.ie&&browser.ie_version<=11||browser.ios&&r.composing)&&a.some(l=>l.type=="childList"&&l.removedNodes.length||l.type=="characterData"&&l.oldValue.length>l.target.nodeValue.length)?this.flushSoon():this.flush()}),window.EditContext&&browser.android&&r.constructor.EDIT_CONTEXT!==!1&&!(browser.chrome&&browser.chrome_version<126)&&(this.editContext=new EditContextManager(r),r.state.facet(editable)&&(r.contentDOM.editContext=this.editContext.editContext)),useCharData&&(this.onCharData=a=>{this.queue.push({target:a.target,type:"characterData",oldValue:a.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this),this.onResize=this.onResize.bind(this),this.onPrint=this.onPrint.bind(this),this.onScroll=this.onScroll.bind(this),window.matchMedia&&(this.printQuery=window.matchMedia("print")),typeof ResizeObserver=="function"&&(this.resizeScroll=new ResizeObserver(()=>{var a;((a=this.view.docView)===null||a===void 0?void 0:a.lastUpdate)<Date.now()-75&&this.onResize()}),this.resizeScroll.observe(r.scrollDOM)),this.addWindowListeners(this.win=r.win),this.start(),typeof IntersectionObserver=="function"&&(this.intersection=new IntersectionObserver(a=>{this.parentCheck<0&&(this.parentCheck=setTimeout(this.listenForScroll.bind(this),1e3)),a.length>0&&a[a.length-1].intersectionRatio>0!=this.intersecting&&(this.intersecting=!this.intersecting,this.intersecting!=this.view.inView&&this.onScrollChanged(document.createEvent("Event")))},{threshold:[0,.001]}),this.intersection.observe(this.dom),this.gapIntersection=new IntersectionObserver(a=>{a.length>0&&a[a.length-1].intersectionRatio>0&&this.onScrollChanged(document.createEvent("Event"))},{})),this.listenForScroll(),this.readSelectionRange()}onScrollChanged(r){this.view.inputState.runHandlers("scroll",r),this.intersecting&&this.view.measure()}onScroll(r){this.intersecting&&this.flush(!1),this.editContext&&this.view.requestMeasure(this.editContext.measureReq),this.onScrollChanged(r)}onResize(){this.resizeTimeout<0&&(this.resizeTimeout=setTimeout(()=>{this.resizeTimeout=-1,this.view.requestMeasure()},50))}onPrint(r){(r.type=="change"||!r.type)&&!r.matches||(this.view.viewState.printing=!0,this.view.measure(),setTimeout(()=>{this.view.viewState.printing=!1,this.view.requestMeasure()},500))}updateGaps(r){if(this.gapIntersection&&(r.length!=this.gaps.length||this.gaps.some((a,l)=>a!=r[l]))){this.gapIntersection.disconnect();for(let a of r)this.gapIntersection.observe(a);this.gaps=r}}onSelectionChange(r){let a=this.selectionChanged;if(!this.readSelectionRange()||this.delayedAndroidKey)return;let{view:l}=this,o=this.selectionRange;if(l.state.facet(editable)?l.root.activeElement!=this.dom:!hasSelection(this.dom,o))return;let f=o.anchorNode&&l.docView.tile.nearest(o.anchorNode);if(f&&f.isWidget()&&f.widget.ignoreEvent(r)){a||(this.selectionChanged=!1);return}(browser.ie&&browser.ie_version<=11||browser.android&&browser.chrome)&&!l.state.selection.main.empty&&o.focusNode&&isEquivalentPosition(o.focusNode,o.focusOffset,o.anchorNode,o.anchorOffset)?this.flushSoon():this.flush(!1)}readSelectionRange(){let{view:r}=this,a=getSelection(r.root);if(!a)return!1;let l=browser.safari&&r.root.nodeType==11&&r.root.activeElement==this.dom&&safariSelectionRangeHack(this.view,a)||a;if(!l||this.selectionRange.eq(l))return!1;let o=hasSelection(this.dom,l);return o&&!this.selectionChanged&&r.inputState.lastFocusTime>Date.now()-200&&r.inputState.lastTouchTime<Date.now()-300&&atElementStart(this.dom,l)?(this.view.inputState.lastFocusTime=0,r.docView.updateSelection(),!1):(this.selectionRange.setRange(l),o&&(this.selectionChanged=!0),!0)}setSelectionRange(r,a){this.selectionRange.set(r.node,r.offset,a.node,a.offset),this.selectionChanged=!1}clearSelectionRange(){this.selectionRange.set(null,0,null,0)}listenForScroll(){this.parentCheck=-1;let r=0,a=null;for(let l=this.dom;l;)if(l.nodeType==1)!a&&r<this.scrollTargets.length&&this.scrollTargets[r]==l?r++:a||(a=this.scrollTargets.slice(0,r)),a&&a.push(l),l=l.assignedSlot||l.parentNode;else if(l.nodeType==11)l=l.host;else break;if(r<this.scrollTargets.length&&!a&&(a=this.scrollTargets.slice(0,r)),a){for(let l of this.scrollTargets)l.removeEventListener("scroll",this.onScroll);for(let l of this.scrollTargets=a)l.addEventListener("scroll",this.onScroll)}}ignore(r){if(!this.active)return r();try{return this.stop(),r()}finally{this.start(),this.clear()}}start(){this.active||(this.observer.observe(this.dom,observeOptions),useCharData&&this.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.active=!0)}stop(){this.active&&(this.active=!1,this.observer.disconnect(),useCharData&&this.dom.removeEventListener("DOMCharacterDataModified",this.onCharData))}clear(){this.processRecords(),this.queue.length=0,this.selectionChanged=!1}delayAndroidKey(r,a){var l;if(!this.delayedAndroidKey){let o=()=>{let f=this.delayedAndroidKey;f&&(this.clearDelayedAndroidKey(),this.view.inputState.lastKeyCode=f.keyCode,this.view.inputState.lastKeyTime=Date.now(),!this.flush()&&f.force&&dispatchKey(this.dom,f.key,f.keyCode))};this.flushingAndroidKey=this.view.win.requestAnimationFrame(o)}(!this.delayedAndroidKey||r=="Enter")&&(this.delayedAndroidKey={key:r,keyCode:a,force:this.lastChange<Date.now()-50||!!(!((l=this.delayedAndroidKey)===null||l===void 0)&&l.force)})}clearDelayedAndroidKey(){this.win.cancelAnimationFrame(this.flushingAndroidKey),this.delayedAndroidKey=null,this.flushingAndroidKey=-1}flushSoon(){this.delayedFlush<0&&(this.delayedFlush=this.view.win.requestAnimationFrame(()=>{this.delayedFlush=-1,this.flush()}))}forceFlush(){this.delayedFlush>=0&&(this.view.win.cancelAnimationFrame(this.delayedFlush),this.delayedFlush=-1),this.flush()}pendingRecords(){for(let r of this.observer.takeRecords())this.queue.push(r);return this.queue}processRecords(){let r=this.pendingRecords();r.length&&(this.queue=[]);let a=-1,l=-1,o=!1;for(let f of r){let h=this.readMutation(f);h&&(h.typeOver&&(o=!0),a==-1?{from:a,to:l}=h:(a=Math.min(h.from,a),l=Math.max(h.to,l)))}return{from:a,to:l,typeOver:o}}readChange(){let{from:r,to:a,typeOver:l}=this.processRecords(),o=this.selectionChanged&&hasSelection(this.dom,this.selectionRange);if(r<0&&!o)return null;r>-1&&(this.lastChange=Date.now()),this.view.inputState.lastFocusTime=0,this.selectionChanged=!1;let f=new DOMChange(this.view,r,a,l);return this.view.docView.domChanged={newSel:f.newSel?f.newSel.main:null},f}flush(r=!0){if(this.delayedFlush>=0||this.delayedAndroidKey)return!1;r&&this.readSelectionRange();let a=this.readChange();if(!a)return this.view.requestMeasure(),!1;let l=this.view.state,o=applyDOMChange(this.view,a);return this.view.state==l&&(a.domChanged||a.newSel&&!sameSelPos(this.view.state.selection,a.newSel.main))&&this.view.update([]),o}readMutation(r){let a=this.view.docView.tile.nearest(r.target);if(!a||a.isWidget())return null;if(a.markDirty(r.type=="attributes"),r.type=="childList"){let l=findChild(a,r.previousSibling||r.target.previousSibling,-1),o=findChild(a,r.nextSibling||r.target.nextSibling,1);return{from:l?a.posAfter(l):a.posAtStart,to:o?a.posBefore(o):a.posAtEnd,typeOver:!1}}else return r.type=="characterData"?{from:a.posAtStart,to:a.posAtEnd,typeOver:r.target.nodeValue==r.oldValue}:null}setWindow(r){r!=this.win&&(this.removeWindowListeners(this.win),this.win=r,this.addWindowListeners(this.win))}addWindowListeners(r){r.addEventListener("resize",this.onResize),this.printQuery?this.printQuery.addEventListener?this.printQuery.addEventListener("change",this.onPrint):this.printQuery.addListener(this.onPrint):r.addEventListener("beforeprint",this.onPrint),r.addEventListener("scroll",this.onScroll),r.document.addEventListener("selectionchange",this.onSelectionChange)}removeWindowListeners(r){r.removeEventListener("scroll",this.onScroll),r.removeEventListener("resize",this.onResize),this.printQuery?this.printQuery.removeEventListener?this.printQuery.removeEventListener("change",this.onPrint):this.printQuery.removeListener(this.onPrint):r.removeEventListener("beforeprint",this.onPrint),r.document.removeEventListener("selectionchange",this.onSelectionChange)}update(r){this.editContext&&(this.editContext.update(r),r.startState.facet(editable)!=r.state.facet(editable)&&(r.view.contentDOM.editContext=r.state.facet(editable)?this.editContext.editContext:null))}destroy(){var r,a,l;this.stop(),(r=this.intersection)===null||r===void 0||r.disconnect(),(a=this.gapIntersection)===null||a===void 0||a.disconnect(),(l=this.resizeScroll)===null||l===void 0||l.disconnect();for(let o of this.scrollTargets)o.removeEventListener("scroll",this.onScroll);this.removeWindowListeners(this.win),clearTimeout(this.parentCheck),clearTimeout(this.resizeTimeout),this.win.cancelAnimationFrame(this.delayedFlush),this.win.cancelAnimationFrame(this.flushingAndroidKey),this.editContext&&(this.view.contentDOM.editContext=null,this.editContext.destroy())}}function findChild(s,r,a){for(;r;){let l=Tile.get(r);if(l&&l.parent==s)return l;let o=r.parentNode;r=o!=s.dom?o:a>0?r.nextSibling:r.previousSibling}return null}function buildSelectionRangeFromRange(s,r){let a=r.startContainer,l=r.startOffset,o=r.endContainer,f=r.endOffset,h=s.docView.domAtPos(s.state.selection.main.anchor,1);return isEquivalentPosition(h.node,h.offset,o,f)&&([a,l,o,f]=[o,f,a,l]),{anchorNode:a,anchorOffset:l,focusNode:o,focusOffset:f}}function safariSelectionRangeHack(s,r){if(r.getComposedRanges){let o=r.getComposedRanges(s.root)[0];if(o)return buildSelectionRangeFromRange(s,o)}let a=null;function l(o){o.preventDefault(),o.stopImmediatePropagation(),a=o.getTargetRanges()[0]}return s.contentDOM.addEventListener("beforeinput",l,!0),s.dom.ownerDocument.execCommand("indent"),s.contentDOM.removeEventListener("beforeinput",l,!0),a?buildSelectionRangeFromRange(s,a):null}class EditContextManager{constructor(r){this.from=0,this.to=0,this.pendingContextChange=null,this.handlers=Object.create(null),this.composing=null,this.resetRange(r.state);let a=this.editContext=new window.EditContext({text:r.state.doc.sliceString(this.from,this.to),selectionStart:this.toContextPos(Math.max(this.from,Math.min(this.to,r.state.selection.main.anchor))),selectionEnd:this.toContextPos(r.state.selection.main.head)});this.handlers.textupdate=l=>{let o=r.state.selection.main,{anchor:f,head:h}=o,d=this.toEditorPos(l.updateRangeStart),g=this.toEditorPos(l.updateRangeEnd);r.inputState.composing>=0&&!this.composing&&(this.composing={contextBase:l.updateRangeStart,editorBase:d,drifted:!1});let m=g-d>l.text.length;d==this.from&&f<this.from?d=f:g==this.to&&f>this.to&&(g=f);let y=findDiff(r.state.sliceDoc(d,g),l.text,(m?o.from:o.to)-d,m?"end":null);if(!y){let x=EditorSelection.single(this.toEditorPos(l.selectionStart),this.toEditorPos(l.selectionEnd));sameSelPos(x,o)||r.dispatch({selection:x,userEvent:"select"});return}let S={from:y.from+d,to:y.toA+d,insert:Text.of(l.text.slice(y.from,y.toB).split(`
`))};if((browser.mac||browser.android)&&S.from==h-1&&/^\. ?$/.test(l.text)&&r.contentDOM.getAttribute("autocorrect")=="off"&&(S={from:d,to:g,insert:Text.of([l.text.replace("."," ")])}),this.pendingContextChange=S,!r.state.readOnly){let x=this.to-this.from+(S.to-S.from+S.insert.length);applyDOMChangeInner(r,S,EditorSelection.single(this.toEditorPos(l.selectionStart,x),this.toEditorPos(l.selectionEnd,x)))}this.pendingContextChange&&(this.revertPending(r.state),this.setSelection(r.state)),S.from<S.to&&!S.insert.length&&r.inputState.composing>=0&&!/[\\p{Alphabetic}\\p{Number}_]/.test(a.text.slice(Math.max(0,l.updateRangeStart-1),Math.min(a.text.length,l.updateRangeStart+1)))&&this.handlers.compositionend(l)},this.handlers.characterboundsupdate=l=>{let o=[],f=null;for(let h=this.toEditorPos(l.rangeStart),d=this.toEditorPos(l.rangeEnd);h<d;h++){let g=r.coordsForChar(h);f=g&&new DOMRect(g.left,g.top,g.right-g.left,g.bottom-g.top)||f||new DOMRect,o.push(f)}a.updateCharacterBounds(l.rangeStart,o)},this.handlers.textformatupdate=l=>{let o=[];for(let f of l.getTextFormats()){let h=f.underlineStyle,d=f.underlineThickness;if(!/none/i.test(h)&&!/none/i.test(d)){let g=this.toEditorPos(f.rangeStart),m=this.toEditorPos(f.rangeEnd);if(g<m){let y=`text-decoration: underline ${/^[a-z]/.test(h)?h+" ":h=="Dashed"?"dashed ":h=="Squiggle"?"wavy ":""}${/thin/i.test(d)?1:2}px`;o.push(Decoration.mark({attributes:{style:y}}).range(g,m))}}}r.dispatch({effects:setEditContextFormatting.of(Decoration.set(o))})},this.handlers.compositionstart=()=>{r.inputState.composing<0&&(r.inputState.composing=0,r.inputState.compositionFirstChange=!0)},this.handlers.compositionend=()=>{if(r.inputState.composing=-1,r.inputState.compositionFirstChange=null,this.composing){let{drifted:l}=this.composing;this.composing=null,l&&this.reset(r.state)}};for(let l in this.handlers)a.addEventListener(l,this.handlers[l]);this.measureReq={read:l=>{this.editContext.updateControlBounds(l.contentDOM.getBoundingClientRect());let o=getSelection(l.root);o&&o.rangeCount&&this.editContext.updateSelectionBounds(o.getRangeAt(0).getBoundingClientRect())}}}applyEdits(r){let a=0,l=!1,o=this.pendingContextChange;return r.changes.iterChanges((f,h,d,g,m)=>{if(l)return;let y=m.length-(h-f);if(o&&h>=o.to)if(o.from==f&&o.to==h&&o.insert.eq(m)){o=this.pendingContextChange=null,a+=y,this.to+=y;return}else o=null,this.revertPending(r.state);if(f+=a,h+=a,h<=this.from)this.from+=y,this.to+=y;else if(f<this.to){if(f<this.from||h>this.to||this.to-this.from+m.length>3e4){l=!0;return}this.editContext.updateText(this.toContextPos(f),this.toContextPos(h),m.toString()),this.to+=y}a+=y}),o&&!l&&this.revertPending(r.state),!l}update(r){let a=this.pendingContextChange,l=r.startState.selection.main;this.composing&&(this.composing.drifted||!r.changes.touchesRange(l.from,l.to)&&r.transactions.some(o=>!o.isUserEvent("input.type")&&o.changes.touchesRange(this.from,this.to)))?(this.composing.drifted=!0,this.composing.editorBase=r.changes.mapPos(this.composing.editorBase)):!this.applyEdits(r)||!this.rangeIsValid(r.state)?(this.pendingContextChange=null,this.reset(r.state)):(r.docChanged||r.selectionSet||a)&&this.setSelection(r.state),(r.geometryChanged||r.docChanged||r.selectionSet)&&r.view.requestMeasure(this.measureReq)}resetRange(r){let{head:a}=r.selection.main;this.from=Math.max(0,a-1e4),this.to=Math.min(r.doc.length,a+1e4)}reset(r){this.resetRange(r),this.editContext.updateText(0,this.editContext.text.length,r.doc.sliceString(this.from,this.to)),this.setSelection(r)}revertPending(r){let a=this.pendingContextChange;this.pendingContextChange=null,this.editContext.updateText(this.toContextPos(a.from),this.toContextPos(a.from+a.insert.length),r.doc.sliceString(a.from,a.to))}setSelection(r){let{main:a}=r.selection,l=this.toContextPos(Math.max(this.from,Math.min(this.to,a.anchor))),o=this.toContextPos(a.head);(this.editContext.selectionStart!=l||this.editContext.selectionEnd!=o)&&this.editContext.updateSelection(l,o)}rangeIsValid(r){let{head:a}=r.selection.main;return!(this.from>0&&a-this.from<500||this.to<r.doc.length&&this.to-a<500||this.to-this.from>1e4*3)}toEditorPos(r,a=this.to-this.from){r=Math.min(r,a);let l=this.composing;return l&&l.drifted?l.editorBase+(r-l.contextBase):r+this.from}toContextPos(r){let a=this.composing;return a&&a.drifted?a.contextBase+(r-a.editorBase):r-this.from}destroy(){for(let r in this.handlers)this.editContext.removeEventListener(r,this.handlers[r])}}class EditorView{get state(){return this.viewState.state}get viewport(){return this.viewState.viewport}get visibleRanges(){return this.viewState.visibleRanges}get inView(){return this.viewState.inView}get composing(){return!!this.inputState&&this.inputState.composing>0}get compositionStarted(){return!!this.inputState&&this.inputState.composing>=0}get root(){return this._root}get win(){return this.dom.ownerDocument.defaultView||window}constructor(r={}){var a;this.plugins=[],this.pluginMap=new Map,this.editorAttrs={},this.contentAttrs={},this.bidiCache=[],this.destroyed=!1,this.updateState=2,this.measureScheduled=-1,this.measureRequests=[],this.contentDOM=document.createElement("div"),this.scrollDOM=document.createElement("div"),this.scrollDOM.tabIndex=-1,this.scrollDOM.className="cm-scroller",this.scrollDOM.appendChild(this.contentDOM),this.announceDOM=document.createElement("div"),this.announceDOM.className="cm-announced",this.announceDOM.setAttribute("aria-live","polite"),this.dom=document.createElement("div"),this.dom.appendChild(this.announceDOM),this.dom.appendChild(this.scrollDOM),r.parent&&r.parent.appendChild(this.dom);let{dispatch:l}=r;this.dispatchTransactions=r.dispatchTransactions||l&&(o=>o.forEach(f=>l(f,this)))||(o=>this.update(o)),this.dispatch=this.dispatch.bind(this),this._root=r.root||getRoot(r.parent)||document,this.viewState=new ViewState(r.state||EditorState.create(r)),r.scrollTo&&r.scrollTo.is(scrollIntoView$1)&&(this.viewState.scrollTarget=r.scrollTo.value.clip(this.viewState.state)),this.plugins=this.state.facet(viewPlugin).map(o=>new PluginInstance(o));for(let o of this.plugins)o.update(this);this.observer=new DOMObserver(this),this.inputState=new InputState(this),this.inputState.ensureHandlers(this.plugins),this.docView=new DocView(this),this.mountStyles(),this.updateAttrs(),this.updateState=0,this.requestMeasure(),!((a=document.fonts)===null||a===void 0)&&a.ready&&document.fonts.ready.then(()=>{this.viewState.mustMeasureContent=!0,this.requestMeasure()})}dispatch(...r){let a=r.length==1&&r[0]instanceof Transaction?r:r.length==1&&Array.isArray(r[0])?r[0]:[this.state.update(...r)];this.dispatchTransactions(a,this)}update(r){if(this.updateState!=0)throw new Error("Calls to EditorView.update are not allowed while an update is in progress");let a=!1,l=!1,o,f=this.state;for(let x of r){if(x.startState!=f)throw new RangeError("Trying to update state with a transaction that doesn't start from the previous state.");f=x.state}if(this.destroyed){this.viewState.state=f;return}let h=this.hasFocus,d=0,g=null;r.some(x=>x.annotation(isFocusChange))?(this.inputState.notifiedFocused=h,d=1):h!=this.inputState.notifiedFocused&&(this.inputState.notifiedFocused=h,g=focusChangeTransaction(f,h),g||(d=1));let m=this.observer.delayedAndroidKey,y=null;if(m?(this.observer.clearDelayedAndroidKey(),y=this.observer.readChange(),(y&&!this.state.doc.eq(f.doc)||!this.state.selection.eq(f.selection))&&(y=null)):this.observer.clear(),f.facet(EditorState.phrases)!=this.state.facet(EditorState.phrases))return this.setState(f);o=ViewUpdate.create(this,f,r),o.flags|=d;let S=this.viewState.scrollTarget;try{this.updateState=2;for(let x of r){if(S&&(S=S.map(x.changes)),x.scrollIntoView){let{main:w}=x.state.selection;S=new ScrollTarget(w.empty?w:EditorSelection.cursor(w.head,w.head>w.anchor?-1:1))}for(let w of x.effects)w.is(scrollIntoView$1)&&(S=w.value.clip(this.state))}this.viewState.update(o,S),this.bidiCache=CachedOrder.update(this.bidiCache,o.changes),o.empty||(this.updatePlugins(o),this.inputState.update(o)),a=this.docView.update(o),this.state.facet(styleModule)!=this.styleModules&&this.mountStyles(),l=this.updateAttrs(),this.showAnnouncements(r),this.docView.updateSelection(a,r.some(x=>x.isUserEvent("select.pointer")))}finally{this.updateState=0}if(o.startState.facet(theme)!=o.state.facet(theme)&&(this.viewState.mustMeasureContent=!0),(a||l||S||this.viewState.mustEnforceCursorAssoc||this.viewState.mustMeasureContent)&&this.requestMeasure(),a&&this.docViewUpdate(),!o.empty)for(let x of this.state.facet(updateListener))try{x(o)}catch(w){logException(this.state,w,"update listener")}(g||y)&&Promise.resolve().then(()=>{g&&this.state==g.startState&&this.dispatch(g),y&&!applyDOMChange(this,y)&&m.force&&dispatchKey(this.contentDOM,m.key,m.keyCode)})}setState(r){if(this.updateState!=0)throw new Error("Calls to EditorView.setState are not allowed while an update is in progress");if(this.destroyed){this.viewState.state=r;return}this.updateState=2;let a=this.hasFocus;try{for(let l of this.plugins)l.destroy(this);this.viewState=new ViewState(r),this.plugins=r.facet(viewPlugin).map(l=>new PluginInstance(l)),this.pluginMap.clear();for(let l of this.plugins)l.update(this);this.docView.destroy(),this.docView=new DocView(this),this.inputState.ensureHandlers(this.plugins),this.mountStyles(),this.updateAttrs(),this.bidiCache=[]}finally{this.updateState=0}a&&this.focus(),this.requestMeasure()}updatePlugins(r){let a=r.startState.facet(viewPlugin),l=r.state.facet(viewPlugin);if(a!=l){let o=[];for(let f of l){let h=a.indexOf(f);if(h<0)o.push(new PluginInstance(f));else{let d=this.plugins[h];d.mustUpdate=r,o.push(d)}}for(let f of this.plugins)f.mustUpdate!=r&&f.destroy(this);this.plugins=o,this.pluginMap.clear()}else for(let o of this.plugins)o.mustUpdate=r;for(let o=0;o<this.plugins.length;o++)this.plugins[o].update(this);a!=l&&this.inputState.ensureHandlers(this.plugins)}docViewUpdate(){for(let r of this.plugins){let a=r.value;if(a&&a.docViewUpdate)try{a.docViewUpdate(this)}catch(l){logException(this.state,l,"doc view update listener")}}}measure(r=!0){if(this.destroyed)return;if(this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.observer.delayedAndroidKey){this.measureScheduled=-1,this.requestMeasure();return}this.measureScheduled=0,r&&this.observer.forceFlush();let a=null,l=this.scrollDOM,o=l.scrollTop*this.scaleY,{scrollAnchorPos:f,scrollAnchorHeight:h}=this.viewState;Math.abs(o-this.viewState.scrollTop)>1&&(h=-1),this.viewState.scrollAnchorHeight=-1;try{for(let d=0;;d++){if(h<0)if(isScrolledToBottom(l))f=-1,h=this.viewState.heightMap.height;else{let w=this.viewState.scrollAnchorAt(o);f=w.from,h=w.top}this.updateState=1;let g=this.viewState.measure(this);if(!g&&!this.measureRequests.length&&this.viewState.scrollTarget==null)break;if(d>5){console.warn(this.measureRequests.length?"Measure loop restarted more than 5 times":"Viewport failed to stabilize");break}let m=[];g&4||([this.measureRequests,m]=[m,this.measureRequests]);let y=m.map(w=>{try{return w.read(this)}catch(Q){return logException(this.state,Q),BadMeasure}}),S=ViewUpdate.create(this,this.state,[]),x=!1;S.flags|=g,a?a.flags|=g:a=S,this.updateState=2,S.empty||(this.updatePlugins(S),this.inputState.update(S),this.updateAttrs(),x=this.docView.update(S),x&&this.docViewUpdate());for(let w=0;w<m.length;w++)if(y[w]!=BadMeasure)try{let Q=m[w];Q.write&&Q.write(y[w],this)}catch(Q){logException(this.state,Q)}if(x&&this.docView.updateSelection(!0),!S.viewportChanged&&this.measureRequests.length==0){if(this.viewState.editorHeight)if(this.viewState.scrollTarget){this.docView.scrollIntoView(this.viewState.scrollTarget),this.viewState.scrollTarget=null,h=-1;continue}else{let Q=(f<0?this.viewState.heightMap.height:this.viewState.lineBlockAt(f).top)-h;if(Q>1||Q<-1){o=o+Q,l.scrollTop=o/this.scaleY,h=-1;continue}}break}}}finally{this.updateState=0,this.measureScheduled=-1}if(a&&!a.empty)for(let d of this.state.facet(updateListener))d(a)}get themeClasses(){return baseThemeID+" "+(this.state.facet(darkTheme)?baseDarkID:baseLightID)+" "+this.state.facet(theme)}updateAttrs(){let r=attrsFromFacet(this,editorAttributes,{class:"cm-editor"+(this.hasFocus?" cm-focused ":" ")+this.themeClasses}),a={spellcheck:"false",autocorrect:"off",autocapitalize:"off",writingsuggestions:"false",translate:"no",contenteditable:this.state.facet(editable)?"true":"false",class:"cm-content",style:`${browser.tabSize}: ${this.state.tabSize}`,role:"textbox","aria-multiline":"true"};this.state.readOnly&&(a["aria-readonly"]="true"),attrsFromFacet(this,contentAttributes,a);let l=this.observer.ignore(()=>{let o=updateAttrs(this.contentDOM,this.contentAttrs,a),f=updateAttrs(this.dom,this.editorAttrs,r);return o||f});return this.editorAttrs=r,this.contentAttrs=a,l}showAnnouncements(r){let a=!0;for(let l of r)for(let o of l.effects)if(o.is(EditorView.announce)){a&&(this.announceDOM.textContent=""),a=!1;let f=this.announceDOM.appendChild(document.createElement("div"));f.textContent=o.value}}mountStyles(){this.styleModules=this.state.facet(styleModule);let r=this.state.facet(EditorView.cspNonce);StyleModule.mount(this.root,this.styleModules.concat(baseTheme$1$2).reverse(),r?{nonce:r}:void 0)}readMeasured(){if(this.updateState==2)throw new Error("Reading the editor layout isn't allowed during an update");this.updateState==0&&this.measureScheduled>-1&&this.measure(!1)}requestMeasure(r){if(this.measureScheduled<0&&(this.measureScheduled=this.win.requestAnimationFrame(()=>this.measure())),r){if(this.measureRequests.indexOf(r)>-1)return;if(r.key!=null){for(let a=0;a<this.measureRequests.length;a++)if(this.measureRequests[a].key===r.key){this.measureRequests[a]=r;return}}this.measureRequests.push(r)}}plugin(r){let a=this.pluginMap.get(r);return(a===void 0||a&&a.plugin!=r)&&this.pluginMap.set(r,a=this.plugins.find(l=>l.plugin==r)||null),a&&a.update(this).value}get documentTop(){return this.contentDOM.getBoundingClientRect().top+this.viewState.paddingTop}get documentPadding(){return{top:this.viewState.paddingTop,bottom:this.viewState.paddingBottom}}get scaleX(){return this.viewState.scaleX}get scaleY(){return this.viewState.scaleY}elementAtHeight(r){return this.readMeasured(),this.viewState.elementAtHeight(r)}lineBlockAtHeight(r){return this.readMeasured(),this.viewState.lineBlockAtHeight(r)}get viewportLineBlocks(){return this.viewState.viewportLines}lineBlockAt(r){return this.viewState.lineBlockAt(r)}get contentHeight(){return this.viewState.contentHeight}moveByChar(r,a,l){return skipAtoms(this,r,moveByChar(this,r,a,l))}moveByGroup(r,a){return skipAtoms(this,r,moveByChar(this,r,a,l=>byGroup(this,r.head,l)))}visualLineSide(r,a){let l=this.bidiSpans(r),o=this.textDirectionAt(r.from),f=l[a?l.length-1:0];return EditorSelection.cursor(f.side(a,o)+r.from,f.forward(!a,o)?1:-1)}moveToLineBoundary(r,a,l=!0){return moveToLineBoundary(this,r,a,l)}moveVertically(r,a,l){return skipAtoms(this,r,moveVertically(this,r,a,l))}domAtPos(r,a=1){return this.docView.domAtPos(r,a)}posAtDOM(r,a=0){return this.docView.posFromDOM(r,a)}posAtCoords(r,a=!0){this.readMeasured();let l=posAtCoords(this,r,a);return l&&l.pos}posAndSideAtCoords(r,a=!0){return this.readMeasured(),posAtCoords(this,r,a)}coordsAtPos(r,a=1){this.readMeasured();let l=this.docView.coordsAt(r,a);if(!l||l.left==l.right)return l;let o=this.state.doc.lineAt(r),f=this.bidiSpans(o),h=f[BidiSpan.find(f,r-o.from,-1,a)];return flattenRect(l,h.dir==Direction.LTR==a>0)}coordsForChar(r){return this.readMeasured(),this.docView.coordsForChar(r)}get defaultCharacterWidth(){return this.viewState.heightOracle.charWidth}get defaultLineHeight(){return this.viewState.heightOracle.lineHeight}get textDirection(){return this.viewState.defaultTextDirection}textDirectionAt(r){return!this.state.facet(perLineTextDirection)||r<this.viewport.from||r>this.viewport.to?this.textDirection:(this.readMeasured(),this.docView.textDirectionAt(r))}get lineWrapping(){return this.viewState.heightOracle.lineWrapping}bidiSpans(r){if(r.length>MaxBidiLine)return trivialOrder(r.length);let a=this.textDirectionAt(r.from),l;for(let f of this.bidiCache)if(f.from==r.from&&f.dir==a&&(f.fresh||isolatesEq(f.isolates,l=getIsolatedRanges(this,r))))return f.order;l||(l=getIsolatedRanges(this,r));let o=computeOrder(r.text,a,l);return this.bidiCache.push(new CachedOrder(r.from,r.to,a,l,!0,o)),o}get hasFocus(){var r;return(this.dom.ownerDocument.hasFocus()||browser.safari&&((r=this.inputState)===null||r===void 0?void 0:r.lastContextMenu)>Date.now()-3e4)&&this.root.activeElement==this.contentDOM}focus(){this.observer.ignore(()=>{focusPreventScroll(this.contentDOM),this.docView.updateSelection()})}setRoot(r){this._root!=r&&(this._root=r,this.observer.setWindow((r.nodeType==9?r:r.ownerDocument).defaultView||window),this.mountStyles())}destroy(){this.root.activeElement==this.contentDOM&&this.contentDOM.blur();for(let r of this.plugins)r.destroy(this);this.plugins=[],this.inputState.destroy(),this.docView.destroy(),this.dom.remove(),this.observer.destroy(),this.measureScheduled>-1&&this.win.cancelAnimationFrame(this.measureScheduled),this.destroyed=!0}static scrollIntoView(r,a={}){return scrollIntoView$1.of(new ScrollTarget(typeof r=="number"?EditorSelection.cursor(r):r,a.y,a.x,a.yMargin,a.xMargin))}scrollSnapshot(){let{scrollTop:r,scrollLeft:a}=this.scrollDOM,l=this.viewState.scrollAnchorAt(r);return scrollIntoView$1.of(new ScrollTarget(EditorSelection.cursor(l.from),"start","start",l.top-r,a,!0))}setTabFocusMode(r){r==null?this.inputState.tabFocusMode=this.inputState.tabFocusMode<0?0:-1:typeof r=="boolean"?this.inputState.tabFocusMode=r?0:-1:this.inputState.tabFocusMode!=0&&(this.inputState.tabFocusMode=Date.now()+r)}static domEventHandlers(r){return ViewPlugin.define(()=>({}),{eventHandlers:r})}static domEventObservers(r){return ViewPlugin.define(()=>({}),{eventObservers:r})}static theme(r,a){let l=StyleModule.newName(),o=[theme.of(l),styleModule.of(buildTheme(`.${l}`,r))];return a&&a.dark&&o.push(darkTheme.of(!0)),o}static baseTheme(r){return Prec.lowest(styleModule.of(buildTheme("."+baseThemeID,r,lightDarkIDs)))}static findFromDOM(r){var a;let l=r.querySelector(".cm-content"),o=l&&Tile.get(l)||Tile.get(r);return((a=o?.root)===null||a===void 0?void 0:a.view)||null}}EditorView.styleModule=styleModule;EditorView.inputHandler=inputHandler$1;EditorView.clipboardInputFilter=clipboardInputFilter;EditorView.clipboardOutputFilter=clipboardOutputFilter;EditorView.scrollHandler=scrollHandler;EditorView.focusChangeEffect=focusChangeEffect;EditorView.perLineTextDirection=perLineTextDirection;EditorView.exceptionSink=exceptionSink;EditorView.updateListener=updateListener;EditorView.editable=editable;EditorView.mouseSelectionStyle=mouseSelectionStyle;EditorView.dragMovesSelection=dragMovesSelection$1;EditorView.clickAddsSelectionRange=clickAddsSelectionRange;EditorView.decorations=decorations;EditorView.blockWrappers=blockWrappers;EditorView.outerDecorations=outerDecorations;EditorView.atomicRanges=atomicRanges;EditorView.bidiIsolatedRanges=bidiIsolatedRanges;EditorView.scrollMargins=scrollMargins;EditorView.darkTheme=darkTheme;EditorView.cspNonce=Facet.define({combine:s=>s.length?s[0]:""});EditorView.contentAttributes=contentAttributes;EditorView.editorAttributes=editorAttributes;EditorView.lineWrapping=EditorView.contentAttributes.of({class:"cm-lineWrapping"});EditorView.announce=StateEffect.define();const MaxBidiLine=4096,BadMeasure={};class CachedOrder{constructor(r,a,l,o,f,h){this.from=r,this.to=a,this.dir=l,this.isolates=o,this.fresh=f,this.order=h}static update(r,a){if(a.empty&&!r.some(f=>f.fresh))return r;let l=[],o=r.length?r[r.length-1].dir:Direction.LTR;for(let f=Math.max(0,r.length-10);f<r.length;f++){let h=r[f];h.dir==o&&!a.touchesRange(h.from,h.to)&&l.push(new CachedOrder(a.mapPos(h.from,1),a.mapPos(h.to,-1),h.dir,h.isolates,!1,h.order))}return l}}function attrsFromFacet(s,r,a){for(let l=s.state.facet(r),o=l.length-1;o>=0;o--){let f=l[o],h=typeof f=="function"?f(s):f;h&&combineAttrs(h,a)}return a}const currentPlatform=browser.mac?"mac":browser.windows?"win":browser.linux?"linux":"key";function normalizeKeyName(s,r){const a=s.split(/-(?!$)/);let l=a[a.length-1];l=="Space"&&(l=" ");let o,f,h,d;for(let g=0;g<a.length-1;++g){const m=a[g];if(/^(cmd|meta|m)$/i.test(m))d=!0;else if(/^a(lt)?$/i.test(m))o=!0;else if(/^(c|ctrl|control)$/i.test(m))f=!0;else if(/^s(hift)?$/i.test(m))h=!0;else if(/^mod$/i.test(m))r=="mac"?d=!0:f=!0;else throw new Error("Unrecognized modifier name: "+m)}return o&&(l="Alt-"+l),f&&(l="Ctrl-"+l),d&&(l="Meta-"+l),h&&(l="Shift-"+l),l}function modifiers(s,r,a){return r.altKey&&(s="Alt-"+s),r.ctrlKey&&(s="Ctrl-"+s),r.metaKey&&(s="Meta-"+s),a!==!1&&r.shiftKey&&(s="Shift-"+s),s}const handleKeyEvents=Prec.default(EditorView.domEventHandlers({keydown(s,r){return runHandlers(getKeymap(r.state),s,r,"editor")}})),keymap=Facet.define({enables:handleKeyEvents}),Keymaps=new WeakMap;function getKeymap(s){let r=s.facet(keymap),a=Keymaps.get(r);return a||Keymaps.set(r,a=buildKeymap(r.reduce((l,o)=>l.concat(o),[]))),a}function runScopeHandlers(s,r,a){return runHandlers(getKeymap(s.state),r,s,a)}let storedPrefix=null;const PrefixTimeout=4e3;function buildKeymap(s,r=currentPlatform){let a=Object.create(null),l=Object.create(null),o=(h,d)=>{let g=l[h];if(g==null)l[h]=d;else if(g!=d)throw new Error("Key binding "+h+" is used both as a regular binding and as a multi-stroke prefix")},f=(h,d,g,m,y)=>{var S,x;let w=a[h]||(a[h]=Object.create(null)),Q=d.split(/ (?!$)/).map(L=>normalizeKeyName(L,r));for(let L=1;L<Q.length;L++){let Z=Q.slice(0,L).join(" ");o(Z,!0),w[Z]||(w[Z]={preventDefault:!0,stopPropagation:!1,run:[z=>{let j=storedPrefix={view:z,prefix:Z,scope:h};return setTimeout(()=>{storedPrefix==j&&(storedPrefix=null)},PrefixTimeout),!0}]})}let A=Q.join(" ");o(A,!1);let M=w[A]||(w[A]={preventDefault:!1,stopPropagation:!1,run:((x=(S=w._any)===null||S===void 0?void 0:S.run)===null||x===void 0?void 0:x.slice())||[]});g&&M.run.push(g),m&&(M.preventDefault=!0),y&&(M.stopPropagation=!0)};for(let h of s){let d=h.scope?h.scope.split(" "):["editor"];if(h.any)for(let m of d){let y=a[m]||(a[m]=Object.create(null));y._any||(y._any={preventDefault:!1,stopPropagation:!1,run:[]});let{any:S}=h;for(let x in y)y[x].run.push(w=>S(w,currentKeyEvent))}let g=h[r]||h.key;if(g)for(let m of d)f(m,g,h.run,h.preventDefault,h.stopPropagation),h.shift&&f(m,"Shift-"+g,h.shift,h.preventDefault,h.stopPropagation)}return a}let currentKeyEvent=null;function runHandlers(s,r,a,l){currentKeyEvent=r;let o=keyName(r),f=codePointAt(o,0),h=codePointSize(f)==o.length&&o!=" ",d="",g=!1,m=!1,y=!1;storedPrefix&&storedPrefix.view==a&&storedPrefix.scope==l&&(d=storedPrefix.prefix+" ",modifierCodes.indexOf(r.keyCode)<0&&(m=!0,storedPrefix=null));let S=new Set,x=M=>{if(M){for(let L of M.run)if(!S.has(L)&&(S.add(L),L(a)))return M.stopPropagation&&(y=!0),!0;M.preventDefault&&(M.stopPropagation&&(y=!0),m=!0)}return!1},w=s[l],Q,A;return w&&(x(w[d+modifiers(o,r,!h)])?g=!0:h&&(r.altKey||r.metaKey||r.ctrlKey)&&!(browser.windows&&r.ctrlKey&&r.altKey)&&!(browser.mac&&r.altKey&&!(r.ctrlKey||r.metaKey))&&(Q=base[r.keyCode])&&Q!=o?(x(w[d+modifiers(Q,r,!0)])||r.shiftKey&&(A=shift[r.keyCode])!=o&&A!=Q&&x(w[d+modifiers(A,r,!1)]))&&(g=!0):h&&r.shiftKey&&x(w[d+modifiers(o,r,!0)])&&(g=!0),!g&&x(w._any)&&(g=!0)),m&&(g=!0),g&&y&&r.stopPropagation(),currentKeyEvent=null,g}class RectangleMarker{constructor(r,a,l,o,f){this.className=r,this.left=a,this.top=l,this.width=o,this.height=f}draw(){let r=document.createElement("div");return r.className=this.className,this.adjust(r),r}update(r,a){return a.className!=this.className?!1:(this.adjust(r),!0)}adjust(r){r.style.left=this.left+"px",r.style.top=this.top+"px",this.width!=null&&(r.style.width=this.width+"px"),r.style.height=this.height+"px"}eq(r){return this.left==r.left&&this.top==r.top&&this.width==r.width&&this.height==r.height&&this.className==r.className}static forRange(r,a,l){if(l.empty){let o=r.coordsAtPos(l.head,l.assoc||1);if(!o)return[];let f=getBase(r);return[new RectangleMarker(a,o.left-f.left,o.top-f.top,null,o.bottom-o.top)]}else return rectanglesForRange(r,a,l)}}function getBase(s){let r=s.scrollDOM.getBoundingClientRect();return{left:(s.textDirection==Direction.LTR?r.left:r.right-s.scrollDOM.clientWidth*s.scaleX)-s.scrollDOM.scrollLeft*s.scaleX,top:r.top-s.scrollDOM.scrollTop*s.scaleY}}function wrappedLine(s,r,a,l){let o=s.coordsAtPos(r,a*2);if(!o)return l;let f=s.dom.getBoundingClientRect(),h=(o.top+o.bottom)/2,d=s.posAtCoords({x:f.left+1,y:h}),g=s.posAtCoords({x:f.right-1,y:h});return d==null||g==null?l:{from:Math.max(l.from,Math.min(d,g)),to:Math.min(l.to,Math.max(d,g))}}function rectanglesForRange(s,r,a){if(a.to<=s.viewport.from||a.from>=s.viewport.to)return[];let l=Math.max(a.from,s.viewport.from),o=Math.min(a.to,s.viewport.to),f=s.textDirection==Direction.LTR,h=s.contentDOM,d=h.getBoundingClientRect(),g=getBase(s),m=h.querySelector(".cm-line"),y=m&&window.getComputedStyle(m),S=d.left+(y?parseInt(y.paddingLeft)+Math.min(0,parseInt(y.textIndent)):0),x=d.right-(y?parseInt(y.paddingRight):0),w=blockAt(s,l,1),Q=blockAt(s,o,-1),A=w.type==BlockType.Text?w:null,M=Q.type==BlockType.Text?Q:null;if(A&&(s.lineWrapping||w.widgetLineBreaks)&&(A=wrappedLine(s,l,1,A)),M&&(s.lineWrapping||Q.widgetLineBreaks)&&(M=wrappedLine(s,o,-1,M)),A&&M&&A.from==M.from&&A.to==M.to)return Z(z(a.from,a.to,A));{let B=A?z(a.from,null,A):j(w,!1),G=M?z(null,a.to,M):j(Q,!0),D=[];return(A||w).to<(M||Q).from-(A&&M?1:0)||w.widgetLineBreaks>1&&B.bottom+s.defaultLineHeight/2<G.top?D.push(L(S,B.bottom,x,G.top)):B.bottom<G.top&&s.elementAtHeight((B.bottom+G.top)/2).type==BlockType.Text&&(B.bottom=G.top=(B.bottom+G.top)/2),Z(B).concat(D).concat(Z(G))}function L(B,G,D,I){return new RectangleMarker(r,B-g.left,G-g.top,Math.max(0,D-B),I-G)}function Z({top:B,bottom:G,horizontal:D}){let I=[];for(let W=0;W<D.length;W+=2)I.push(L(D[W],B,D[W+1],G));return I}function z(B,G,D){let I=1e9,W=-1e9,se=[];function ce($e,Re,re,Oe,Ee){let be=s.coordsAtPos($e,$e==D.to?-2:2),X=s.coordsAtPos(re,re==D.from?2:-2);!be||!X||(I=Math.min(be.top,X.top,I),W=Math.max(be.bottom,X.bottom,W),Ee==Direction.LTR?se.push(f&&Re?S:be.left,f&&Oe?x:X.right):se.push(!f&&Oe?S:X.left,!f&&Re?x:be.right))}let Se=B??D.from,ve=G??D.to;for(let $e of s.visibleRanges)if($e.to>Se&&$e.from<ve)for(let Re=Math.max($e.from,Se),re=Math.min($e.to,ve);;){let Oe=s.state.doc.lineAt(Re);for(let Ee of s.bidiSpans(Oe)){let be=Ee.from+Oe.from,X=Ee.to+Oe.from;if(be>=re)break;X>Re&&ce(Math.max(be,Re),B==null&&be<=Se,Math.min(X,re),G==null&&X>=ve,Ee.dir)}if(Re=Oe.to+1,Re>=re)break}return se.length==0&&ce(Se,B==null,ve,G==null,s.textDirection),{top:I,bottom:W,horizontal:se}}function j(B,G){let D=d.top+(G?B.top:B.bottom);return{top:D,bottom:D,horizontal:[]}}}function sameMarker(s,r){return s.constructor==r.constructor&&s.eq(r)}class LayerView{constructor(r,a){this.view=r,this.layer=a,this.drawn=[],this.scaleX=1,this.scaleY=1,this.measureReq={read:this.measure.bind(this),write:this.draw.bind(this)},this.dom=r.scrollDOM.appendChild(document.createElement("div")),this.dom.classList.add("cm-layer"),a.above&&this.dom.classList.add("cm-layer-above"),a.class&&this.dom.classList.add(a.class),this.scale(),this.dom.setAttribute("aria-hidden","true"),this.setOrder(r.state),r.requestMeasure(this.measureReq),a.mount&&a.mount(this.dom,r)}update(r){r.startState.facet(layerOrder)!=r.state.facet(layerOrder)&&this.setOrder(r.state),(this.layer.update(r,this.dom)||r.geometryChanged)&&(this.scale(),r.view.requestMeasure(this.measureReq))}docViewUpdate(r){this.layer.updateOnDocViewUpdate!==!1&&r.requestMeasure(this.measureReq)}setOrder(r){let a=0,l=r.facet(layerOrder);for(;a<l.length&&l[a]!=this.layer;)a++;this.dom.style.zIndex=String((this.layer.above?150:-1)-a)}measure(){return this.layer.markers(this.view)}scale(){let{scaleX:r,scaleY:a}=this.view;(r!=this.scaleX||a!=this.scaleY)&&(this.scaleX=r,this.scaleY=a,this.dom.style.transform=`scale(${1/r}, ${1/a})`)}draw(r){if(r.length!=this.drawn.length||r.some((a,l)=>!sameMarker(a,this.drawn[l]))){let a=this.dom.firstChild,l=0;for(let o of r)o.update&&a&&o.constructor&&this.drawn[l].constructor&&o.update(a,this.drawn[l])?(a=a.nextSibling,l++):this.dom.insertBefore(o.draw(),a);for(;a;){let o=a.nextSibling;a.remove(),a=o}this.drawn=r,browser.safari&&browser.safari_version>=26&&(this.dom.style.display=this.dom.firstChild?"":"none")}}destroy(){this.layer.destroy&&this.layer.destroy(this.dom,this.view),this.dom.remove()}}const layerOrder=Facet.define();function layer(s){return[ViewPlugin.define(r=>new LayerView(r,s)),layerOrder.of(s)]}const selectionConfig=Facet.define({combine(s){return combineConfig(s,{cursorBlinkRate:1200,drawRangeCursor:!0},{cursorBlinkRate:(r,a)=>Math.min(r,a),drawRangeCursor:(r,a)=>r||a})}});function drawSelection(s={}){return[selectionConfig.of(s),cursorLayer,selectionLayer,hideNativeSelection,nativeSelectionHidden.of(!0)]}function configChanged(s){return s.startState.facet(selectionConfig)!=s.state.facet(selectionConfig)}const cursorLayer=layer({above:!0,markers(s){let{state:r}=s,a=r.facet(selectionConfig),l=[];for(let o of r.selection.ranges){let f=o==r.selection.main;if(o.empty||a.drawRangeCursor){let h=f?"cm-cursor cm-cursor-primary":"cm-cursor cm-cursor-secondary",d=o.empty?o:EditorSelection.cursor(o.head,o.head>o.anchor?-1:1);for(let g of RectangleMarker.forRange(s,h,d))l.push(g)}}return l},update(s,r){s.transactions.some(l=>l.selection)&&(r.style.animationName=r.style.animationName=="cm-blink"?"cm-blink2":"cm-blink");let a=configChanged(s);return a&&setBlinkRate(s.state,r),s.docChanged||s.selectionSet||a},mount(s,r){setBlinkRate(r.state,s)},class:"cm-cursorLayer"});function setBlinkRate(s,r){r.style.animationDuration=s.facet(selectionConfig).cursorBlinkRate+"ms"}const selectionLayer=layer({above:!1,markers(s){return s.state.selection.ranges.map(r=>r.empty?[]:RectangleMarker.forRange(s,"cm-selectionBackground",r)).reduce((r,a)=>r.concat(a))},update(s,r){return s.docChanged||s.selectionSet||s.viewportChanged||configChanged(s)},class:"cm-selectionLayer"}),hideNativeSelection=Prec.highest(EditorView.theme({".cm-line":{"& ::selection, &::selection":{backgroundColor:"transparent !important"},caretColor:"transparent !important"},".cm-content":{caretColor:"transparent !important","& :focus":{caretColor:"initial !important","&::selection, & ::selection":{backgroundColor:"Highlight !important"}}}})),setDropCursorPos=StateEffect.define({map(s,r){return s==null?null:r.mapPos(s)}}),dropCursorPos=StateField.define({create(){return null},update(s,r){return s!=null&&(s=r.changes.mapPos(s)),r.effects.reduce((a,l)=>l.is(setDropCursorPos)?l.value:a,s)}}),drawDropCursor=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.cursor=null,this.measureReq={read:this.readPos.bind(this),write:this.drawCursor.bind(this)}}update(s){var r;let a=s.state.field(dropCursorPos);a==null?this.cursor!=null&&((r=this.cursor)===null||r===void 0||r.remove(),this.cursor=null):(this.cursor||(this.cursor=this.view.scrollDOM.appendChild(document.createElement("div")),this.cursor.className="cm-dropCursor"),(s.startState.field(dropCursorPos)!=a||s.docChanged||s.geometryChanged)&&this.view.requestMeasure(this.measureReq))}readPos(){let{view:s}=this,r=s.state.field(dropCursorPos),a=r!=null&&s.coordsAtPos(r);if(!a)return null;let l=s.scrollDOM.getBoundingClientRect();return{left:a.left-l.left+s.scrollDOM.scrollLeft*s.scaleX,top:a.top-l.top+s.scrollDOM.scrollTop*s.scaleY,height:a.bottom-a.top}}drawCursor(s){if(this.cursor){let{scaleX:r,scaleY:a}=this.view;s?(this.cursor.style.left=s.left/r+"px",this.cursor.style.top=s.top/a+"px",this.cursor.style.height=s.height/a+"px"):this.cursor.style.left="-100000px"}}destroy(){this.cursor&&this.cursor.remove()}setDropPos(s){this.view.state.field(dropCursorPos)!=s&&this.view.dispatch({effects:setDropCursorPos.of(s)})}},{eventObservers:{dragover(s){this.setDropPos(this.view.posAtCoords({x:s.clientX,y:s.clientY}))},dragleave(s){(s.target==this.view.contentDOM||!this.view.contentDOM.contains(s.relatedTarget))&&this.setDropPos(null)},dragend(){this.setDropPos(null)},drop(){this.setDropPos(null)}}});function dropCursor(){return[dropCursorPos,drawDropCursor]}function iterMatches(s,r,a,l,o){r.lastIndex=0;for(let f=s.iterRange(a,l),h=a,d;!f.next().done;h+=f.value.length)if(!f.lineBreak)for(;d=r.exec(f.value);)o(h+d.index,d)}function matchRanges(s,r){let a=s.visibleRanges;if(a.length==1&&a[0].from==s.viewport.from&&a[0].to==s.viewport.to)return a;let l=[];for(let{from:o,to:f}of a)o=Math.max(s.state.doc.lineAt(o).from,o-r),f=Math.min(s.state.doc.lineAt(f).to,f+r),l.length&&l[l.length-1].to>=o?l[l.length-1].to=f:l.push({from:o,to:f});return l}class MatchDecorator{constructor(r){const{regexp:a,decoration:l,decorate:o,boundary:f,maxLength:h=1e3}=r;if(!a.global)throw new RangeError("The regular expression given to MatchDecorator should have its 'g' flag set");if(this.regexp=a,o)this.addMatch=(d,g,m,y)=>o(y,m,m+d[0].length,d,g);else if(typeof l=="function")this.addMatch=(d,g,m,y)=>{let S=l(d,g,m);S&&y(m,m+d[0].length,S)};else if(l)this.addMatch=(d,g,m,y)=>y(m,m+d[0].length,l);else throw new RangeError("Either 'decorate' or 'decoration' should be provided to MatchDecorator");this.boundary=f,this.maxLength=h}createDeco(r){let a=new RangeSetBuilder,l=a.add.bind(a);for(let{from:o,to:f}of matchRanges(r,this.maxLength))iterMatches(r.state.doc,this.regexp,o,f,(h,d)=>this.addMatch(d,r,h,l));return a.finish()}updateDeco(r,a){let l=1e9,o=-1;return r.docChanged&&r.changes.iterChanges((f,h,d,g)=>{g>=r.view.viewport.from&&d<=r.view.viewport.to&&(l=Math.min(d,l),o=Math.max(g,o))}),r.viewportMoved||o-l>1e3?this.createDeco(r.view):o>-1?this.updateRange(r.view,a.map(r.changes),l,o):a}updateRange(r,a,l,o){for(let f of r.visibleRanges){let h=Math.max(f.from,l),d=Math.min(f.to,o);if(d>=h){let g=r.state.doc.lineAt(h),m=g.to<d?r.state.doc.lineAt(d):g,y=Math.max(f.from,g.from),S=Math.min(f.to,m.to);if(this.boundary){for(;h>g.from;h--)if(this.boundary.test(g.text[h-1-g.from])){y=h;break}for(;d<m.to;d++)if(this.boundary.test(m.text[d-m.from])){S=d;break}}let x=[],w,Q=(A,M,L)=>x.push(L.range(A,M));if(g==m)for(this.regexp.lastIndex=y-g.from;(w=this.regexp.exec(g.text))&&w.index<S-g.from;)this.addMatch(w,r,w.index+g.from,Q);else iterMatches(r.state.doc,this.regexp,y,S,(A,M)=>this.addMatch(M,r,A,Q));a=a.update({filterFrom:y,filterTo:S,filter:(A,M)=>A<y||M>S,add:x})}}return a}}const UnicodeRegexpSupport=/x/.unicode!=null?"gu":"g",Specials=new RegExp(`[\0-\b
--\u2028\u2029\uFEFF-]`,UnicodeRegexpSupport),Names={0:"null",7:"bell",8:"backspace",10:"newline",11:"vertical tab",13:"carriage return",27:"escape",8203:"zero width space",8204:"zero width non-joiner",8205:"zero width joiner",8206:"left-to-right mark",8207:"right-to-left mark",8232:"line separator",8237:"left-to-right override",8238:"right-to-left override",8294:"left-to-right isolate",8295:"right-to-left isolate",8297:"pop directional isolate",8233:"paragraph separator",65279:"zero width no-break space",65532:"object replacement"};let _supportsTabSize=null;function supportsTabSize(){var s;if(_supportsTabSize==null&&typeof document<"u"&&document.body){let r=document.body.style;_supportsTabSize=((s=r.tabSize)!==null&&s!==void 0?s:r.MozTabSize)!=null}return _supportsTabSize||!1}const specialCharConfig=Facet.define({combine(s){let r=combineConfig(s,{render:null,specialChars:Specials,addSpecialChars:null});return(r.replaceTabs=!supportsTabSize())&&(r.specialChars=new RegExp("	|"+r.specialChars.source,UnicodeRegexpSupport)),r.addSpecialChars&&(r.specialChars=new RegExp(r.specialChars.source+"|"+r.addSpecialChars.source,UnicodeRegexpSupport)),r}});function highlightSpecialChars(s={}){return[specialCharConfig.of(s),specialCharPlugin()]}let _plugin=null;function specialCharPlugin(){return _plugin||(_plugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=Decoration.none,this.decorationCache=Object.create(null),this.decorator=this.makeDecorator(s.state.facet(specialCharConfig)),this.decorations=this.decorator.createDeco(s)}makeDecorator(s){return new MatchDecorator({regexp:s.specialChars,decoration:(r,a,l)=>{let{doc:o}=a.state,f=codePointAt(r[0],0);if(f==9){let h=o.lineAt(l),d=a.state.tabSize,g=countColumn(h.text,d,l-h.from);return Decoration.replace({widget:new TabWidget((d-g%d)*this.view.defaultCharacterWidth/this.view.scaleX)})}return this.decorationCache[f]||(this.decorationCache[f]=Decoration.replace({widget:new SpecialCharWidget(s,f)}))},boundary:s.replaceTabs?void 0:/[^]/})}update(s){let r=s.state.facet(specialCharConfig);s.startState.facet(specialCharConfig)!=r?(this.decorator=this.makeDecorator(r),this.decorations=this.decorator.createDeco(s.view)):this.decorations=this.decorator.updateDeco(s,this.decorations)}},{decorations:s=>s.decorations}))}const DefaultPlaceholder="";function placeholder$1(s){return s>=32?DefaultPlaceholder:s==10?"":String.fromCharCode(9216+s)}class SpecialCharWidget extends WidgetType{constructor(r,a){super(),this.options=r,this.code=a}eq(r){return r.code==this.code}toDOM(r){let a=placeholder$1(this.code),l=r.state.phrase("Control character")+" "+(Names[this.code]||"0x"+this.code.toString(16)),o=this.options.render&&this.options.render(this.code,l,a);if(o)return o;let f=document.createElement("span");return f.textContent=a,f.title=l,f.setAttribute("aria-label",l),f.className="cm-specialChar",f}ignoreEvent(){return!1}}class TabWidget extends WidgetType{constructor(r){super(),this.width=r}eq(r){return r.width==this.width}toDOM(){let r=document.createElement("span");return r.textContent="	",r.className="cm-tab",r.style.width=this.width+"px",r}ignoreEvent(){return!1}}function highlightActiveLine(){return activeLineHighlighter}const lineDeco=Decoration.line({class:"cm-activeLine"}),activeLineHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.docChanged||s.selectionSet)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let r=-1,a=[];for(let l of s.state.selection.ranges){let o=s.lineBlockAt(l.head);o.from>r&&(a.push(lineDeco.range(o.from)),r=o.from)}return Decoration.set(a)}},{decorations:s=>s.decorations});class Placeholder extends WidgetType{constructor(r){super(),this.content=r}toDOM(r){let a=document.createElement("span");return a.className="cm-placeholder",a.style.pointerEvents="none",a.appendChild(typeof this.content=="string"?document.createTextNode(this.content):typeof this.content=="function"?this.content(r):this.content.cloneNode(!0)),a.setAttribute("aria-hidden","true"),a}coordsAt(r){let a=r.firstChild?clientRectsFor(r.firstChild):[];if(!a.length)return null;let l=window.getComputedStyle(r.parentNode),o=flattenRect(a[0],l.direction!="rtl"),f=parseInt(l.lineHeight);return o.bottom-o.top>f*1.5?{left:o.left,right:o.right,top:o.top,bottom:o.top+f}:o}ignoreEvent(){return!1}}function placeholder(s){let r=ViewPlugin.fromClass(class{constructor(a){this.view=a,this.placeholder=s?Decoration.set([Decoration.widget({widget:new Placeholder(s),side:1}).range(0)]):Decoration.none}get decorations(){return this.view.state.doc.length?Decoration.none:this.placeholder}},{decorations:a=>a.decorations});return typeof s=="string"?[r,EditorView.contentAttributes.of({"aria-placeholder":s})]:r}const MaxOff=2e3;function rectangleFor(s,r,a){let l=Math.min(r.line,a.line),o=Math.max(r.line,a.line),f=[];if(r.off>MaxOff||a.off>MaxOff||r.col<0||a.col<0){let h=Math.min(r.off,a.off),d=Math.max(r.off,a.off);for(let g=l;g<=o;g++){let m=s.doc.line(g);m.length<=d&&f.push(EditorSelection.range(m.from+h,m.to+d))}}else{let h=Math.min(r.col,a.col),d=Math.max(r.col,a.col);for(let g=l;g<=o;g++){let m=s.doc.line(g),y=findColumn(m.text,h,s.tabSize,!0);if(y<0)f.push(EditorSelection.cursor(m.to));else{let S=findColumn(m.text,d,s.tabSize);f.push(EditorSelection.range(m.from+y,m.from+S))}}}return f}function absoluteColumn(s,r){let a=s.coordsAtPos(s.viewport.from);return a?Math.round(Math.abs((a.left-r)/s.defaultCharacterWidth)):-1}function getPos(s,r){let a=s.posAtCoords({x:r.clientX,y:r.clientY},!1),l=s.state.doc.lineAt(a),o=a-l.from,f=o>MaxOff?-1:o==l.length?absoluteColumn(s,r.clientX):countColumn(l.text,s.state.tabSize,a-l.from);return{line:l.number,col:f,off:o}}function rectangleSelectionStyle(s,r){let a=getPos(s,r),l=s.state.selection;return a?{update(o){if(o.docChanged){let f=o.changes.mapPos(o.startState.doc.line(a.line).from),h=o.state.doc.lineAt(f);a={line:h.number,col:a.col,off:Math.min(a.off,h.length)},l=l.map(o.changes)}},get(o,f,h){let d=getPos(s,o);if(!d)return l;let g=rectangleFor(s.state,a,d);return g.length?h?EditorSelection.create(g.concat(l.ranges)):EditorSelection.create(g):l}}:null}function rectangularSelection(s){let r=(a=>a.altKey&&a.button==0);return EditorView.mouseSelectionStyle.of((a,l)=>r(l)?rectangleSelectionStyle(a,l):null)}const keys={Alt:[18,s=>!!s.altKey],Control:[17,s=>!!s.ctrlKey],Shift:[16,s=>!!s.shiftKey],Meta:[91,s=>!!s.metaKey]},showCrosshair={style:"cursor: crosshair"};function crosshairCursor(s={}){let[r,a]=keys[s.key||"Alt"],l=ViewPlugin.fromClass(class{constructor(o){this.view=o,this.isDown=!1}set(o){this.isDown!=o&&(this.isDown=o,this.view.update([]))}},{eventObservers:{keydown(o){this.set(o.keyCode==r||a(o))},keyup(o){(o.keyCode==r||!a(o))&&this.set(!1)},mousemove(o){this.set(a(o))}}});return[l,EditorView.contentAttributes.of(o=>{var f;return!((f=o.plugin(l))===null||f===void 0)&&f.isDown?showCrosshair:null})]}const Outside="-10000px";class TooltipViewManager{constructor(r,a,l,o){this.facet=a,this.createTooltipView=l,this.removeTooltipView=o,this.input=r.state.facet(a),this.tooltips=this.input.filter(h=>h);let f=null;this.tooltipViews=this.tooltips.map(h=>f=l(h,f))}update(r,a){var l;let o=r.state.facet(this.facet),f=o.filter(g=>g);if(o===this.input){for(let g of this.tooltipViews)g.update&&g.update(r);return!1}let h=[],d=a?[]:null;for(let g=0;g<f.length;g++){let m=f[g],y=-1;if(m){for(let S=0;S<this.tooltips.length;S++){let x=this.tooltips[S];x&&x.create==m.create&&(y=S)}if(y<0)h[g]=this.createTooltipView(m,g?h[g-1]:null),d&&(d[g]=!!m.above);else{let S=h[g]=this.tooltipViews[y];d&&(d[g]=a[y]),S.update&&S.update(r)}}}for(let g of this.tooltipViews)h.indexOf(g)<0&&(this.removeTooltipView(g),(l=g.destroy)===null||l===void 0||l.call(g));return a&&(d.forEach((g,m)=>a[m]=g),a.length=d.length),this.input=o,this.tooltips=f,this.tooltipViews=h,!0}}function windowSpace(s){let r=s.dom.ownerDocument.documentElement;return{top:0,left:0,bottom:r.clientHeight,right:r.clientWidth}}const tooltipConfig=Facet.define({combine:s=>{var r,a,l;return{position:browser.ios?"absolute":((r=s.find(o=>o.position))===null||r===void 0?void 0:r.position)||"fixed",parent:((a=s.find(o=>o.parent))===null||a===void 0?void 0:a.parent)||null,tooltipSpace:((l=s.find(o=>o.tooltipSpace))===null||l===void 0?void 0:l.tooltipSpace)||windowSpace}}}),knownHeight=new WeakMap,tooltipPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.above=[],this.inView=!0,this.madeAbsolute=!1,this.lastTransaction=0,this.measureTimeout=-1;let r=s.state.facet(tooltipConfig);this.position=r.position,this.parent=r.parent,this.classes=s.themeClasses,this.createContainer(),this.measureReq={read:this.readMeasure.bind(this),write:this.writeMeasure.bind(this),key:this},this.resizeObserver=typeof ResizeObserver=="function"?new ResizeObserver(()=>this.measureSoon()):null,this.manager=new TooltipViewManager(s,showTooltip,(a,l)=>this.createTooltip(a,l),a=>{this.resizeObserver&&this.resizeObserver.unobserve(a.dom),a.dom.remove()}),this.above=this.manager.tooltips.map(a=>!!a.above),this.intersectionObserver=typeof IntersectionObserver=="function"?new IntersectionObserver(a=>{Date.now()>this.lastTransaction-50&&a.length>0&&a[a.length-1].intersectionRatio<1&&this.measureSoon()},{threshold:[1]}):null,this.observeIntersection(),s.win.addEventListener("resize",this.measureSoon=this.measureSoon.bind(this)),this.maybeMeasure()}createContainer(){this.parent?(this.container=document.createElement("div"),this.container.style.position="relative",this.container.className=this.view.themeClasses,this.parent.appendChild(this.container)):this.container=this.view.dom}observeIntersection(){if(this.intersectionObserver){this.intersectionObserver.disconnect();for(let s of this.manager.tooltipViews)this.intersectionObserver.observe(s.dom)}}measureSoon(){this.measureTimeout<0&&(this.measureTimeout=setTimeout(()=>{this.measureTimeout=-1,this.maybeMeasure()},50))}update(s){s.transactions.length&&(this.lastTransaction=Date.now());let r=this.manager.update(s,this.above);r&&this.observeIntersection();let a=r||s.geometryChanged,l=s.state.facet(tooltipConfig);if(l.position!=this.position&&!this.madeAbsolute){this.position=l.position;for(let o of this.manager.tooltipViews)o.dom.style.position=this.position;a=!0}if(l.parent!=this.parent){this.parent&&this.container.remove(),this.parent=l.parent,this.createContainer();for(let o of this.manager.tooltipViews)this.container.appendChild(o.dom);a=!0}else this.parent&&this.view.themeClasses!=this.classes&&(this.classes=this.container.className=this.view.themeClasses);a&&this.maybeMeasure()}createTooltip(s,r){let a=s.create(this.view),l=r?r.dom:null;if(a.dom.classList.add("cm-tooltip"),s.arrow&&!a.dom.querySelector(".cm-tooltip > .cm-tooltip-arrow")){let o=document.createElement("div");o.className="cm-tooltip-arrow",a.dom.appendChild(o)}return a.dom.style.position=this.position,a.dom.style.top=Outside,a.dom.style.left="0px",this.container.insertBefore(a.dom,l),a.mount&&a.mount(this.view),this.resizeObserver&&this.resizeObserver.observe(a.dom),a}destroy(){var s,r,a;this.view.win.removeEventListener("resize",this.measureSoon);for(let l of this.manager.tooltipViews)l.dom.remove(),(s=l.destroy)===null||s===void 0||s.call(l);this.parent&&this.container.remove(),(r=this.resizeObserver)===null||r===void 0||r.disconnect(),(a=this.intersectionObserver)===null||a===void 0||a.disconnect(),clearTimeout(this.measureTimeout)}readMeasure(){let s=1,r=1,a=!1;if(this.position=="fixed"&&this.manager.tooltipViews.length){let{dom:f}=this.manager.tooltipViews[0];if(browser.safari){let h=f.getBoundingClientRect();a=Math.abs(h.top+1e4)>1||Math.abs(h.left)>1}else a=!!f.offsetParent&&f.offsetParent!=this.container.ownerDocument.body}if(a||this.position=="absolute")if(this.parent){let f=this.parent.getBoundingClientRect();f.width&&f.height&&(s=f.width/this.parent.offsetWidth,r=f.height/this.parent.offsetHeight)}else({scaleX:s,scaleY:r}=this.view.viewState);let l=this.view.scrollDOM.getBoundingClientRect(),o=getScrollMargins(this.view);return{visible:{left:l.left+o.left,top:l.top+o.top,right:l.right-o.right,bottom:l.bottom-o.bottom},parent:this.parent?this.container.getBoundingClientRect():this.view.dom.getBoundingClientRect(),pos:this.manager.tooltips.map((f,h)=>{let d=this.manager.tooltipViews[h];return d.getCoords?d.getCoords(f.pos):this.view.coordsAtPos(f.pos)}),size:this.manager.tooltipViews.map(({dom:f})=>f.getBoundingClientRect()),space:this.view.state.facet(tooltipConfig).tooltipSpace(this.view),scaleX:s,scaleY:r,makeAbsolute:a}}writeMeasure(s){var r;if(s.makeAbsolute){this.madeAbsolute=!0,this.position="absolute";for(let d of this.manager.tooltipViews)d.dom.style.position="absolute"}let{visible:a,space:l,scaleX:o,scaleY:f}=s,h=[];for(let d=0;d<this.manager.tooltips.length;d++){let g=this.manager.tooltips[d],m=this.manager.tooltipViews[d],{dom:y}=m,S=s.pos[d],x=s.size[d];if(!S||g.clip!==!1&&(S.bottom<=Math.max(a.top,l.top)||S.top>=Math.min(a.bottom,l.bottom)||S.right<Math.max(a.left,l.left)-.1||S.left>Math.min(a.right,l.right)+.1)){y.style.top=Outside;continue}let w=g.arrow?m.dom.querySelector(".cm-tooltip-arrow"):null,Q=w?7:0,A=x.right-x.left,M=(r=knownHeight.get(m))!==null&&r!==void 0?r:x.bottom-x.top,L=m.offset||noOffset,Z=this.view.textDirection==Direction.LTR,z=x.width>l.right-l.left?Z?l.left:l.right-x.width:Z?Math.max(l.left,Math.min(S.left-(w?14:0)+L.x,l.right-A)):Math.min(Math.max(l.left,S.left-A+(w?14:0)-L.x),l.right-A),j=this.above[d];!g.strictSide&&(j?S.top-M-Q-L.y<l.top:S.bottom+M+Q+L.y>l.bottom)&&j==l.bottom-S.bottom>S.top-l.top&&(j=this.above[d]=!j);let B=(j?S.top-l.top:l.bottom-S.bottom)-Q;if(B<M&&m.resize!==!1){if(B<this.view.defaultLineHeight){y.style.top=Outside;continue}knownHeight.set(m,M),y.style.height=(M=B)/f+"px"}else y.style.height&&(y.style.height="");let G=j?S.top-M-Q-L.y:S.bottom+Q+L.y,D=z+A;if(m.overlap!==!0)for(let I of h)I.left<D&&I.right>z&&I.top<G+M&&I.bottom>G&&(G=j?I.top-M-2-Q:I.bottom+Q+2);if(this.position=="absolute"?(y.style.top=(G-s.parent.top)/f+"px",setLeftStyle(y,(z-s.parent.left)/o)):(y.style.top=G/f+"px",setLeftStyle(y,z/o)),w){let I=S.left+(Z?L.x:-L.x)-(z+14-7);w.style.left=I/o+"px"}m.overlap!==!0&&h.push({left:z,top:G,right:D,bottom:G+M}),y.classList.toggle("cm-tooltip-above",j),y.classList.toggle("cm-tooltip-below",!j),m.positioned&&m.positioned(s.space)}}maybeMeasure(){if(this.manager.tooltips.length&&(this.view.inView&&this.view.requestMeasure(this.measureReq),this.inView!=this.view.inView&&(this.inView=this.view.inView,!this.inView)))for(let s of this.manager.tooltipViews)s.dom.style.top=Outside}},{eventObservers:{scroll(){this.maybeMeasure()}}});function setLeftStyle(s,r){let a=parseInt(s.style.left,10);(isNaN(a)||Math.abs(r-a)>1)&&(s.style.left=r+"px")}const baseTheme$4=EditorView.baseTheme({".cm-tooltip":{zIndex:500,boxSizing:"border-box"},"&light .cm-tooltip":{border:"1px solid #bbb",backgroundColor:"#f5f5f5"},"&light .cm-tooltip-section:not(:first-child)":{borderTop:"1px solid #bbb"},"&dark .cm-tooltip":{backgroundColor:"#333338",color:"white"},".cm-tooltip-arrow":{height:"7px",width:"14px",position:"absolute",zIndex:-1,overflow:"hidden","&:before, &:after":{content:"''",position:"absolute",width:0,height:0,borderLeft:"7px solid transparent",borderRight:"7px solid transparent"},".cm-tooltip-above &":{bottom:"-7px","&:before":{borderTop:"7px solid #bbb"},"&:after":{borderTop:"7px solid #f5f5f5",bottom:"1px"}},".cm-tooltip-below &":{top:"-7px","&:before":{borderBottom:"7px solid #bbb"},"&:after":{borderBottom:"7px solid #f5f5f5",top:"1px"}}},"&dark .cm-tooltip .cm-tooltip-arrow":{"&:before":{borderTopColor:"#333338",borderBottomColor:"#333338"},"&:after":{borderTopColor:"transparent",borderBottomColor:"transparent"}}}),noOffset={x:0,y:0},showTooltip=Facet.define({enables:[tooltipPlugin,baseTheme$4]}),showHoverTooltip=Facet.define({combine:s=>s.reduce((r,a)=>r.concat(a),[])});class HoverTooltipHost{static create(r){return new HoverTooltipHost(r)}constructor(r){this.view=r,this.mounted=!1,this.dom=document.createElement("div"),this.dom.classList.add("cm-tooltip-hover"),this.manager=new TooltipViewManager(r,showHoverTooltip,(a,l)=>this.createHostedView(a,l),a=>a.dom.remove())}createHostedView(r,a){let l=r.create(this.view);return l.dom.classList.add("cm-tooltip-section"),this.dom.insertBefore(l.dom,a?a.dom.nextSibling:this.dom.firstChild),this.mounted&&l.mount&&l.mount(this.view),l}mount(r){for(let a of this.manager.tooltipViews)a.mount&&a.mount(r);this.mounted=!0}positioned(r){for(let a of this.manager.tooltipViews)a.positioned&&a.positioned(r)}update(r){this.manager.update(r)}destroy(){var r;for(let a of this.manager.tooltipViews)(r=a.destroy)===null||r===void 0||r.call(a)}passProp(r){let a;for(let l of this.manager.tooltipViews){let o=l[r];if(o!==void 0){if(a===void 0)a=o;else if(a!==o)return}}return a}get offset(){return this.passProp("offset")}get getCoords(){return this.passProp("getCoords")}get overlap(){return this.passProp("overlap")}get resize(){return this.passProp("resize")}}const showHoverTooltipHost=showTooltip.compute([showHoverTooltip],s=>{let r=s.facet(showHoverTooltip);return r.length===0?null:{pos:Math.min(...r.map(a=>a.pos)),end:Math.max(...r.map(a=>{var l;return(l=a.end)!==null&&l!==void 0?l:a.pos})),create:HoverTooltipHost.create,above:r[0].above,arrow:r.some(a=>a.arrow)}});class HoverPlugin{constructor(r,a,l,o,f){this.view=r,this.source=a,this.field=l,this.setHover=o,this.hoverTime=f,this.hoverTimeout=-1,this.restartTimeout=-1,this.pending=null,this.lastMove={x:0,y:0,target:r.dom,time:0},this.checkHover=this.checkHover.bind(this),r.dom.addEventListener("mouseleave",this.mouseleave=this.mouseleave.bind(this)),r.dom.addEventListener("mousemove",this.mousemove=this.mousemove.bind(this))}update(){this.pending&&(this.pending=null,clearTimeout(this.restartTimeout),this.restartTimeout=setTimeout(()=>this.startHover(),20))}get active(){return this.view.state.field(this.field)}checkHover(){if(this.hoverTimeout=-1,this.active.length)return;let r=Date.now()-this.lastMove.time;r<this.hoverTime?this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime-r):this.startHover()}startHover(){clearTimeout(this.restartTimeout);let{view:r,lastMove:a}=this,l=r.docView.tile.nearest(a.target);if(!l)return;let o,f=1;if(l.isWidget())o=l.posAtStart;else{if(o=r.posAtCoords(a),o==null)return;let d=r.coordsAtPos(o);if(!d||a.y<d.top||a.y>d.bottom||a.x<d.left-r.defaultCharacterWidth||a.x>d.right+r.defaultCharacterWidth)return;let g=r.bidiSpans(r.state.doc.lineAt(o)).find(y=>y.from<=o&&y.to>=o),m=g&&g.dir==Direction.RTL?-1:1;f=a.x<d.left?-m:m}let h=this.source(r,o,f);if(h?.then){let d=this.pending={pos:o};h.then(g=>{this.pending==d&&(this.pending=null,g&&!(Array.isArray(g)&&!g.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(g)?g:[g])}))},g=>logException(r.state,g,"hover tooltip"))}else h&&!(Array.isArray(h)&&!h.length)&&r.dispatch({effects:this.setHover.of(Array.isArray(h)?h:[h])})}get tooltip(){let r=this.view.plugin(tooltipPlugin),a=r?r.manager.tooltips.findIndex(l=>l.create==HoverTooltipHost.create):-1;return a>-1?r.manager.tooltipViews[a]:null}mousemove(r){var a,l;this.lastMove={x:r.clientX,y:r.clientY,target:r.target,time:Date.now()},this.hoverTimeout<0&&(this.hoverTimeout=setTimeout(this.checkHover,this.hoverTime));let{active:o,tooltip:f}=this;if(o.length&&f&&!isInTooltip(f.dom,r)||this.pending){let{pos:h}=o[0]||this.pending,d=(l=(a=o[0])===null||a===void 0?void 0:a.end)!==null&&l!==void 0?l:h;(h==d?this.view.posAtCoords(this.lastMove)!=h:!isOverRange(this.view,h,d,r.clientX,r.clientY))&&(this.view.dispatch({effects:this.setHover.of([])}),this.pending=null)}}mouseleave(r){clearTimeout(this.hoverTimeout),this.hoverTimeout=-1;let{active:a}=this;if(a.length){let{tooltip:l}=this;l&&l.dom.contains(r.relatedTarget)?this.watchTooltipLeave(l.dom):this.view.dispatch({effects:this.setHover.of([])})}}watchTooltipLeave(r){let a=l=>{r.removeEventListener("mouseleave",a),this.active.length&&!this.view.dom.contains(l.relatedTarget)&&this.view.dispatch({effects:this.setHover.of([])})};r.addEventListener("mouseleave",a)}destroy(){clearTimeout(this.hoverTimeout),clearTimeout(this.restartTimeout),this.view.dom.removeEventListener("mouseleave",this.mouseleave),this.view.dom.removeEventListener("mousemove",this.mousemove)}}const tooltipMargin=4;function isInTooltip(s,r){let{left:a,right:l,top:o,bottom:f}=s.getBoundingClientRect(),h;if(h=s.querySelector(".cm-tooltip-arrow")){let d=h.getBoundingClientRect();o=Math.min(d.top,o),f=Math.max(d.bottom,f)}return r.clientX>=a-tooltipMargin&&r.clientX<=l+tooltipMargin&&r.clientY>=o-tooltipMargin&&r.clientY<=f+tooltipMargin}function isOverRange(s,r,a,l,o,f){let h=s.scrollDOM.getBoundingClientRect(),d=s.documentTop+s.documentPadding.top+s.contentHeight;if(h.left>l||h.right<l||h.top>o||Math.min(h.bottom,d)<o)return!1;let g=s.posAtCoords({x:l,y:o},!1);return g>=r&&g<=a}function hoverTooltip(s,r={}){let a=StateEffect.define(),l=StateField.define({create(){return[]},update(o,f){if(o.length&&(r.hideOnChange&&(f.docChanged||f.selection)?o=[]:r.hideOn&&(o=o.filter(h=>!r.hideOn(f,h))),f.docChanged)){let h=[];for(let d of o){let g=f.changes.mapPos(d.pos,-1,MapMode.TrackDel);if(g!=null){let m=Object.assign(Object.create(null),d);m.pos=g,m.end!=null&&(m.end=f.changes.mapPos(m.end)),h.push(m)}}o=h}for(let h of f.effects)h.is(a)&&(o=h.value),h.is(closeHoverTooltipEffect)&&(o=[]);return o},provide:o=>showHoverTooltip.from(o)});return{active:l,extension:[l,ViewPlugin.define(o=>new HoverPlugin(o,s,l,a,r.hoverTime||300)),showHoverTooltipHost]}}function getTooltip(s,r){let a=s.plugin(tooltipPlugin);if(!a)return null;let l=a.manager.tooltips.indexOf(r);return l<0?null:a.manager.tooltipViews[l]}const closeHoverTooltipEffect=StateEffect.define(),panelConfig=Facet.define({combine(s){let r,a;for(let l of s)r=r||l.topContainer,a=a||l.bottomContainer;return{topContainer:r,bottomContainer:a}}});function getPanel(s,r){let a=s.plugin(panelPlugin),l=a?a.specs.indexOf(r):-1;return l>-1?a.panels[l]:null}const panelPlugin=ViewPlugin.fromClass(class{constructor(s){this.input=s.state.facet(showPanel),this.specs=this.input.filter(a=>a),this.panels=this.specs.map(a=>a(s));let r=s.state.facet(panelConfig);this.top=new PanelGroup(s,!0,r.topContainer),this.bottom=new PanelGroup(s,!1,r.bottomContainer),this.top.sync(this.panels.filter(a=>a.top)),this.bottom.sync(this.panels.filter(a=>!a.top));for(let a of this.panels)a.dom.classList.add("cm-panel"),a.mount&&a.mount()}update(s){let r=s.state.facet(panelConfig);this.top.container!=r.topContainer&&(this.top.sync([]),this.top=new PanelGroup(s.view,!0,r.topContainer)),this.bottom.container!=r.bottomContainer&&(this.bottom.sync([]),this.bottom=new PanelGroup(s.view,!1,r.bottomContainer)),this.top.syncClasses(),this.bottom.syncClasses();let a=s.state.facet(showPanel);if(a!=this.input){let l=a.filter(g=>g),o=[],f=[],h=[],d=[];for(let g of l){let m=this.specs.indexOf(g),y;m<0?(y=g(s.view),d.push(y)):(y=this.panels[m],y.update&&y.update(s)),o.push(y),(y.top?f:h).push(y)}this.specs=l,this.panels=o,this.top.sync(f),this.bottom.sync(h);for(let g of d)g.dom.classList.add("cm-panel"),g.mount&&g.mount()}else for(let l of this.panels)l.update&&l.update(s)}destroy(){this.top.sync([]),this.bottom.sync([])}},{provide:s=>EditorView.scrollMargins.of(r=>{let a=r.plugin(s);return a&&{top:a.top.scrollMargin(),bottom:a.bottom.scrollMargin()}})});class PanelGroup{constructor(r,a,l){this.view=r,this.top=a,this.container=l,this.dom=void 0,this.classes="",this.panels=[],this.syncClasses()}sync(r){for(let a of this.panels)a.destroy&&r.indexOf(a)<0&&a.destroy();this.panels=r,this.syncDOM()}syncDOM(){if(this.panels.length==0){this.dom&&(this.dom.remove(),this.dom=void 0);return}if(!this.dom){this.dom=document.createElement("div"),this.dom.className=this.top?"cm-panels cm-panels-top":"cm-panels cm-panels-bottom",this.dom.style[this.top?"top":"bottom"]="0";let a=this.container||this.view.dom;a.insertBefore(this.dom,this.top?a.firstChild:null)}let r=this.dom.firstChild;for(let a of this.panels)if(a.dom.parentNode==this.dom){for(;r!=a.dom;)r=rm(r);r=r.nextSibling}else this.dom.insertBefore(a.dom,r);for(;r;)r=rm(r)}scrollMargin(){return!this.dom||this.container?0:Math.max(0,this.top?this.dom.getBoundingClientRect().bottom-Math.max(0,this.view.scrollDOM.getBoundingClientRect().top):Math.min(innerHeight,this.view.scrollDOM.getBoundingClientRect().bottom)-this.dom.getBoundingClientRect().top)}syncClasses(){if(!(!this.container||this.classes==this.view.themeClasses)){for(let r of this.classes.split(" "))r&&this.container.classList.remove(r);for(let r of(this.classes=this.view.themeClasses).split(" "))r&&this.container.classList.add(r)}}}function rm(s){let r=s.nextSibling;return s.remove(),r}const showPanel=Facet.define({enables:panelPlugin});function showDialog(s,r){let a,l=new Promise(h=>a=h),o=h=>createDialog(h,r,a);s.state.field(dialogField,!1)?s.dispatch({effects:openDialogEffect.of(o)}):s.dispatch({effects:StateEffect.appendConfig.of(dialogField.init(()=>[o]))});let f=closeDialogEffect.of(o);return{close:f,result:l.then(h=>((s.win.queueMicrotask||(g=>s.win.setTimeout(g,10)))(()=>{s.state.field(dialogField).indexOf(o)>-1&&s.dispatch({effects:f})}),h))}}const dialogField=StateField.define({create(){return[]},update(s,r){for(let a of r.effects)a.is(openDialogEffect)?s=[a.value].concat(s):a.is(closeDialogEffect)&&(s=s.filter(l=>l!=a.value));return s},provide:s=>showPanel.computeN([s],r=>r.field(s))}),openDialogEffect=StateEffect.define(),closeDialogEffect=StateEffect.define();function createDialog(s,r,a){let l=r.content?r.content(s,()=>h(null)):null;if(!l){if(l=crelt("form"),r.input){let d=crelt("input",r.input);/^(text|password|number|email|tel|url)$/.test(d.type)&&d.classList.add("cm-textfield"),d.name||(d.name="input"),l.appendChild(crelt("label",(r.label||"")+": ",d))}else l.appendChild(document.createTextNode(r.label||""));l.appendChild(document.createTextNode(" ")),l.appendChild(crelt("button",{class:"cm-button",type:"submit"},r.submitLabel||"OK"))}let o=l.nodeName=="FORM"?[l]:l.querySelectorAll("form");for(let d=0;d<o.length;d++){let g=o[d];g.addEventListener("keydown",m=>{m.keyCode==27?(m.preventDefault(),h(null)):m.keyCode==13&&(m.preventDefault(),h(g))}),g.addEventListener("submit",m=>{m.preventDefault(),h(g)})}let f=crelt("div",l,crelt("button",{onclick:()=>h(null),"aria-label":s.state.phrase("close"),class:"cm-dialog-close",type:"button"},[""]));r.class&&(f.className=r.class),f.classList.add("cm-dialog");function h(d){f.contains(f.ownerDocument.activeElement)&&s.focus(),a(d)}return{dom:f,top:r.top,mount:()=>{if(r.focus){let d;typeof r.focus=="string"?d=l.querySelector(r.focus):d=l.querySelector("input")||l.querySelector("button"),d&&"select"in d?d.select():d&&"focus"in d&&d.focus()}}}}class GutterMarker extends RangeValue{compare(r){return this==r||this.constructor==r.constructor&&this.eq(r)}eq(r){return!1}destroy(r){}}GutterMarker.prototype.elementClass="";GutterMarker.prototype.toDOM=void 0;GutterMarker.prototype.mapMode=MapMode.TrackBefore;GutterMarker.prototype.startSide=GutterMarker.prototype.endSide=-1;GutterMarker.prototype.point=!0;const gutterLineClass=Facet.define(),gutterWidgetClass=Facet.define(),defaults$1={class:"",renderEmptyElements:!1,elementStyle:"",markers:()=>RangeSet.empty,lineMarker:()=>null,widgetMarker:()=>null,lineMarkerChange:null,initialSpacer:null,updateSpacer:null,domEventHandlers:{},side:"before"},activeGutters=Facet.define();function gutter(s){return[gutters(),activeGutters.of({...defaults$1,...s})]}const unfixGutters=Facet.define({combine:s=>s.some(r=>r)});function gutters(s){return[gutterView]}const gutterView=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.domAfter=null,this.prevViewport=s.viewport,this.dom=document.createElement("div"),this.dom.className="cm-gutters cm-gutters-before",this.dom.setAttribute("aria-hidden","true"),this.dom.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.gutters=s.state.facet(activeGutters).map(r=>new SingleGutterView(s,r)),this.fixed=!s.state.facet(unfixGutters);for(let r of this.gutters)r.config.side=="after"?this.getDOMAfter().appendChild(r.dom):this.dom.appendChild(r.dom);this.fixed&&(this.dom.style.position="sticky"),this.syncGutters(!1),s.scrollDOM.insertBefore(this.dom,s.contentDOM)}getDOMAfter(){return this.domAfter||(this.domAfter=document.createElement("div"),this.domAfter.className="cm-gutters cm-gutters-after",this.domAfter.setAttribute("aria-hidden","true"),this.domAfter.style.minHeight=this.view.contentHeight/this.view.scaleY+"px",this.domAfter.style.position=this.fixed?"sticky":"",this.view.scrollDOM.appendChild(this.domAfter)),this.domAfter}update(s){if(this.updateGutters(s)){let r=this.prevViewport,a=s.view.viewport,l=Math.min(r.to,a.to)-Math.max(r.from,a.from);this.syncGutters(l<(a.to-a.from)*.8)}if(s.geometryChanged){let r=this.view.contentHeight/this.view.scaleY+"px";this.dom.style.minHeight=r,this.domAfter&&(this.domAfter.style.minHeight=r)}this.view.state.facet(unfixGutters)!=!this.fixed&&(this.fixed=!this.fixed,this.dom.style.position=this.fixed?"sticky":"",this.domAfter&&(this.domAfter.style.position=this.fixed?"sticky":"")),this.prevViewport=s.view.viewport}syncGutters(s){let r=this.dom.nextSibling;s&&(this.dom.remove(),this.domAfter&&this.domAfter.remove());let a=RangeSet.iter(this.view.state.facet(gutterLineClass),this.view.viewport.from),l=[],o=this.gutters.map(f=>new UpdateContext(f,this.view.viewport,-this.view.documentPadding.top));for(let f of this.view.viewportLineBlocks)if(l.length&&(l=[]),Array.isArray(f.type)){let h=!0;for(let d of f.type)if(d.type==BlockType.Text&&h){advanceCursor(a,l,d.from);for(let g of o)g.line(this.view,d,l);h=!1}else if(d.widget)for(let g of o)g.widget(this.view,d)}else if(f.type==BlockType.Text){advanceCursor(a,l,f.from);for(let h of o)h.line(this.view,f,l)}else if(f.widget)for(let h of o)h.widget(this.view,f);for(let f of o)f.finish();s&&(this.view.scrollDOM.insertBefore(this.dom,r),this.domAfter&&this.view.scrollDOM.appendChild(this.domAfter))}updateGutters(s){let r=s.startState.facet(activeGutters),a=s.state.facet(activeGutters),l=s.docChanged||s.heightChanged||s.viewportChanged||!RangeSet.eq(s.startState.facet(gutterLineClass),s.state.facet(gutterLineClass),s.view.viewport.from,s.view.viewport.to);if(r==a)for(let o of this.gutters)o.update(s)&&(l=!0);else{l=!0;let o=[];for(let f of a){let h=r.indexOf(f);h<0?o.push(new SingleGutterView(this.view,f)):(this.gutters[h].update(s),o.push(this.gutters[h]))}for(let f of this.gutters)f.dom.remove(),o.indexOf(f)<0&&f.destroy();for(let f of o)f.config.side=="after"?this.getDOMAfter().appendChild(f.dom):this.dom.appendChild(f.dom);this.gutters=o}return l}destroy(){for(let s of this.gutters)s.destroy();this.dom.remove(),this.domAfter&&this.domAfter.remove()}},{provide:s=>EditorView.scrollMargins.of(r=>{let a=r.plugin(s);if(!a||a.gutters.length==0||!a.fixed)return null;let l=a.dom.offsetWidth*r.scaleX,o=a.domAfter?a.domAfter.offsetWidth*r.scaleX:0;return r.textDirection==Direction.LTR?{left:l,right:o}:{right:l,left:o}})});function asArray(s){return Array.isArray(s)?s:[s]}function advanceCursor(s,r,a){for(;s.value&&s.from<=a;)s.from==a&&r.push(s.value),s.next()}class UpdateContext{constructor(r,a,l){this.gutter=r,this.height=l,this.i=0,this.cursor=RangeSet.iter(r.markers,a.from)}addElement(r,a,l){let{gutter:o}=this,f=(a.top-this.height)/r.scaleY,h=a.height/r.scaleY;if(this.i==o.elements.length){let d=new GutterElement(r,h,f,l);o.elements.push(d),o.dom.appendChild(d.dom)}else o.elements[this.i].update(r,h,f,l);this.height=a.bottom,this.i++}line(r,a,l){let o=[];advanceCursor(this.cursor,o,a.from),l.length&&(o=o.concat(l));let f=this.gutter.config.lineMarker(r,a,o);f&&o.unshift(f);let h=this.gutter;o.length==0&&!h.config.renderEmptyElements||this.addElement(r,a,o)}widget(r,a){let l=this.gutter.config.widgetMarker(r,a.widget,a),o=l?[l]:null;for(let f of r.state.facet(gutterWidgetClass)){let h=f(r,a.widget,a);h&&(o||(o=[])).push(h)}o&&this.addElement(r,a,o)}finish(){let r=this.gutter;for(;r.elements.length>this.i;){let a=r.elements.pop();r.dom.removeChild(a.dom),a.destroy()}}}class SingleGutterView{constructor(r,a){this.view=r,this.config=a,this.elements=[],this.spacer=null,this.dom=document.createElement("div"),this.dom.className="cm-gutter"+(this.config.class?" "+this.config.class:"");for(let l in a.domEventHandlers)this.dom.addEventListener(l,o=>{let f=o.target,h;if(f!=this.dom&&this.dom.contains(f)){for(;f.parentNode!=this.dom;)f=f.parentNode;let g=f.getBoundingClientRect();h=(g.top+g.bottom)/2}else h=o.clientY;let d=r.lineBlockAtHeight(h-r.documentTop);a.domEventHandlers[l](r,d,o)&&o.preventDefault()});this.markers=asArray(a.markers(r)),a.initialSpacer&&(this.spacer=new GutterElement(r,0,0,[a.initialSpacer(r)]),this.dom.appendChild(this.spacer.dom),this.spacer.dom.style.cssText+="visibility: hidden; pointer-events: none")}update(r){let a=this.markers;if(this.markers=asArray(this.config.markers(r.view)),this.spacer&&this.config.updateSpacer){let o=this.config.updateSpacer(this.spacer.markers[0],r);o!=this.spacer.markers[0]&&this.spacer.update(r.view,0,0,[o])}let l=r.view.viewport;return!RangeSet.eq(this.markers,a,l.from,l.to)||(this.config.lineMarkerChange?this.config.lineMarkerChange(r):!1)}destroy(){for(let r of this.elements)r.destroy()}}class GutterElement{constructor(r,a,l,o){this.height=-1,this.above=0,this.markers=[],this.dom=document.createElement("div"),this.dom.className="cm-gutterElement",this.update(r,a,l,o)}update(r,a,l,o){this.height!=a&&(this.height=a,this.dom.style.height=a+"px"),this.above!=l&&(this.dom.style.marginTop=(this.above=l)?l+"px":""),sameMarkers(this.markers,o)||this.setMarkers(r,o)}setMarkers(r,a){let l="cm-gutterElement",o=this.dom.firstChild;for(let f=0,h=0;;){let d=h,g=f<a.length?a[f++]:null,m=!1;if(g){let y=g.elementClass;y&&(l+=" "+y);for(let S=h;S<this.markers.length;S++)if(this.markers[S].compare(g)){d=S,m=!0;break}}else d=this.markers.length;for(;h<d;){let y=this.markers[h++];if(y.toDOM){y.destroy(o);let S=o.nextSibling;o.remove(),o=S}}if(!g)break;g.toDOM&&(m?o=o.nextSibling:this.dom.insertBefore(g.toDOM(r),o)),m&&h++}this.dom.className=l,this.markers=a}destroy(){this.setMarkers(null,[])}}function sameMarkers(s,r){if(s.length!=r.length)return!1;for(let a=0;a<s.length;a++)if(!s[a].compare(r[a]))return!1;return!0}const lineNumberMarkers=Facet.define(),lineNumberWidgetMarker=Facet.define(),lineNumberConfig=Facet.define({combine(s){return combineConfig(s,{formatNumber:String,domEventHandlers:{}},{domEventHandlers(r,a){let l=Object.assign({},r);for(let o in a){let f=l[o],h=a[o];l[o]=f?(d,g,m)=>f(d,g,m)||h(d,g,m):h}return l}})}});class NumberMarker extends GutterMarker{constructor(r){super(),this.number=r}eq(r){return this.number==r.number}toDOM(){return document.createTextNode(this.number)}}function formatNumber(s,r){return s.state.facet(lineNumberConfig).formatNumber(r,s.state)}const lineNumberGutter=activeGutters.compute([lineNumberConfig],s=>({class:"cm-lineNumbers",renderEmptyElements:!1,markers(r){return r.state.facet(lineNumberMarkers)},lineMarker(r,a,l){return l.some(o=>o.toDOM)?null:new NumberMarker(formatNumber(r,r.state.doc.lineAt(a.from).number))},widgetMarker:(r,a,l)=>{for(let o of r.state.facet(lineNumberWidgetMarker)){let f=o(r,a,l);if(f)return f}return null},lineMarkerChange:r=>r.startState.facet(lineNumberConfig)!=r.state.facet(lineNumberConfig),initialSpacer(r){return new NumberMarker(formatNumber(r,maxLineNumber(r.state.doc.lines)))},updateSpacer(r,a){let l=formatNumber(a.view,maxLineNumber(a.view.state.doc.lines));return l==r.number?r:new NumberMarker(l)},domEventHandlers:s.facet(lineNumberConfig).domEventHandlers,side:"before"}));function lineNumbers(s={}){return[lineNumberConfig.of(s),gutters(),lineNumberGutter]}function maxLineNumber(s){let r=9;for(;r<s;)r=r*10+9;return r}const activeLineGutterMarker=new class extends GutterMarker{constructor(){super(...arguments),this.elementClass="cm-activeLineGutter"}},activeLineGutterHighlighter=gutterLineClass.compute(["selection"],s=>{let r=[],a=-1;for(let l of s.selection.ranges){let o=s.doc.lineAt(l.head).from;o>a&&(a=o,r.push(activeLineGutterMarker.range(o)))}return RangeSet.of(r)});function highlightActiveLineGutter(){return activeLineGutterHighlighter}const DefaultBufferLength=1024;let nextPropID=0;class Range{constructor(r,a){this.from=r,this.to=a}}class NodeProp{constructor(r={}){this.id=nextPropID++,this.perNode=!!r.perNode,this.deserialize=r.deserialize||(()=>{throw new Error("This node type doesn't define a deserialize function")}),this.combine=r.combine||null}add(r){if(this.perNode)throw new RangeError("Can't add per-node props to node types");return typeof r!="function"&&(r=NodeType.match(r)),a=>{let l=r(a);return l===void 0?null:[this,l]}}}NodeProp.closedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.openedBy=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.group=new NodeProp({deserialize:s=>s.split(" ")});NodeProp.isolate=new NodeProp({deserialize:s=>{if(s&&s!="rtl"&&s!="ltr"&&s!="auto")throw new RangeError("Invalid value for isolate: "+s);return s||"auto"}});NodeProp.contextHash=new NodeProp({perNode:!0});NodeProp.lookAhead=new NodeProp({perNode:!0});NodeProp.mounted=new NodeProp({perNode:!0});class MountedTree{constructor(r,a,l,o=!1){this.tree=r,this.overlay=a,this.parser=l,this.bracketed=o}static get(r){return r&&r.props&&r.props[NodeProp.mounted.id]}}const noProps=Object.create(null);class NodeType{constructor(r,a,l,o=0){this.name=r,this.props=a,this.id=l,this.flags=o}static define(r){let a=r.props&&r.props.length?Object.create(null):noProps,l=(r.top?1:0)|(r.skipped?2:0)|(r.error?4:0)|(r.name==null?8:0),o=new NodeType(r.name||"",a,r.id,l);if(r.props){for(let f of r.props)if(Array.isArray(f)||(f=f(o)),f){if(f[0].perNode)throw new RangeError("Can't store a per-node prop on a node type");a[f[0].id]=f[1]}}return o}prop(r){return this.props[r.id]}get isTop(){return(this.flags&1)>0}get isSkipped(){return(this.flags&2)>0}get isError(){return(this.flags&4)>0}get isAnonymous(){return(this.flags&8)>0}is(r){if(typeof r=="string"){if(this.name==r)return!0;let a=this.prop(NodeProp.group);return a?a.indexOf(r)>-1:!1}return this.id==r}static match(r){let a=Object.create(null);for(let l in r)for(let o of l.split(" "))a[o]=r[l];return l=>{for(let o=l.prop(NodeProp.group),f=-1;f<(o?o.length:0);f++){let h=a[f<0?l.name:o[f]];if(h)return h}}}}NodeType.none=new NodeType("",Object.create(null),0,8);class NodeSet{constructor(r){this.types=r;for(let a=0;a<r.length;a++)if(r[a].id!=a)throw new RangeError("Node type ids should correspond to array positions when creating a node set")}extend(...r){let a=[];for(let l of this.types){let o=null;for(let f of r){let h=f(l);if(h){o||(o=Object.assign({},l.props));let d=h[1],g=h[0];g.combine&&g.id in o&&(d=g.combine(o[g.id],d)),o[g.id]=d}}a.push(o?new NodeType(l.name,o,l.id,l.flags):l)}return new NodeSet(a)}}const CachedNode=new WeakMap,CachedInnerNode=new WeakMap;var IterMode;(function(s){s[s.ExcludeBuffers=1]="ExcludeBuffers",s[s.IncludeAnonymous=2]="IncludeAnonymous",s[s.IgnoreMounts=4]="IgnoreMounts",s[s.IgnoreOverlays=8]="IgnoreOverlays",s[s.EnterBracketed=16]="EnterBracketed"})(IterMode||(IterMode={}));class Tree{constructor(r,a,l,o,f){if(this.type=r,this.children=a,this.positions=l,this.length=o,this.props=null,f&&f.length){this.props=Object.create(null);for(let[h,d]of f)this.props[typeof h=="number"?h:h.id]=d}}toString(){let r=MountedTree.get(this);if(r&&!r.overlay)return r.tree.toString();let a="";for(let l of this.children){let o=l.toString();o&&(a&&(a+=","),a+=o)}return this.type.name?(/\W/.test(this.type.name)&&!this.type.isError?JSON.stringify(this.type.name):this.type.name)+(a.length?"("+a+")":""):a}cursor(r=0){return new TreeCursor(this.topNode,r)}cursorAt(r,a=0,l=0){let o=CachedNode.get(this)||this.topNode,f=new TreeCursor(o);return f.moveTo(r,a),CachedNode.set(this,f._tree),f}get topNode(){return new TreeNode(this,0,0,null)}resolve(r,a=0){let l=resolveNode(CachedNode.get(this)||this.topNode,r,a,!1);return CachedNode.set(this,l),l}resolveInner(r,a=0){let l=resolveNode(CachedInnerNode.get(this)||this.topNode,r,a,!0);return CachedInnerNode.set(this,l),l}resolveStack(r,a=0){return stackIterator(this,r,a)}iterate(r){let{enter:a,leave:l,from:o=0,to:f=this.length}=r,h=r.mode||0,d=(h&IterMode.IncludeAnonymous)>0;for(let g=this.cursor(h|IterMode.IncludeAnonymous);;){let m=!1;if(g.from<=f&&g.to>=o&&(!d&&g.type.isAnonymous||a(g)!==!1)){if(g.firstChild())continue;m=!0}for(;m&&l&&(d||!g.type.isAnonymous)&&l(g),!g.nextSibling();){if(!g.parent())return;m=!0}}}prop(r){return r.perNode?this.props?this.props[r.id]:void 0:this.type.prop(r)}get propValues(){let r=[];if(this.props)for(let a in this.props)r.push([+a,this.props[a]]);return r}balance(r={}){return this.children.length<=8?this:balanceRange(NodeType.none,this.children,this.positions,0,this.children.length,0,this.length,(a,l,o)=>new Tree(this.type,a,l,o,this.propValues),r.makeTree||((a,l,o)=>new Tree(NodeType.none,a,l,o)))}static build(r){return buildTree(r)}}Tree.empty=new Tree(NodeType.none,[],[],0);class FlatBufferCursor{constructor(r,a){this.buffer=r,this.index=a}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}get pos(){return this.index}next(){this.index-=4}fork(){return new FlatBufferCursor(this.buffer,this.index)}}class TreeBuffer{constructor(r,a,l){this.buffer=r,this.length=a,this.set=l}get type(){return NodeType.none}toString(){let r=[];for(let a=0;a<this.buffer.length;)r.push(this.childString(a)),a=this.buffer[a+3];return r.join(",")}childString(r){let a=this.buffer[r],l=this.buffer[r+3],o=this.set.types[a],f=o.name;if(/\W/.test(f)&&!o.isError&&(f=JSON.stringify(f)),r+=4,l==r)return f;let h=[];for(;r<l;)h.push(this.childString(r)),r=this.buffer[r+3];return f+"("+h.join(",")+")"}findChild(r,a,l,o,f){let{buffer:h}=this,d=-1;for(let g=r;g!=a&&!(checkSide(f,o,h[g+1],h[g+2])&&(d=g,l>0));g=h[g+3]);return d}slice(r,a,l){let o=this.buffer,f=new Uint16Array(a-r),h=0;for(let d=r,g=0;d<a;){f[g++]=o[d++],f[g++]=o[d++]-l;let m=f[g++]=o[d++]-l;f[g++]=o[d++]-r,h=Math.max(h,m)}return new TreeBuffer(f,h,this.set)}}function checkSide(s,r,a,l){switch(s){case-2:return a<r;case-1:return l>=r&&a<r;case 0:return a<r&&l>r;case 1:return a<=r&&l>r;case 2:return l>r;case 4:return!0}}function resolveNode(s,r,a,l){for(var o;s.from==s.to||(a<1?s.from>=r:s.from>r)||(a>-1?s.to<=r:s.to<r);){let h=!l&&s instanceof TreeNode&&s.index<0?null:s.parent;if(!h)return s;s=h}let f=l?0:IterMode.IgnoreOverlays;if(l)for(let h=s,d=h.parent;d;h=d,d=h.parent)h instanceof TreeNode&&h.index<0&&((o=d.enter(r,a,f))===null||o===void 0?void 0:o.from)!=h.from&&(s=d);for(;;){let h=s.enter(r,a,f);if(!h)return s;s=h}}class BaseNode{cursor(r=0){return new TreeCursor(this,r)}getChild(r,a=null,l=null){let o=getChildren(this,r,a,l);return o.length?o[0]:null}getChildren(r,a=null,l=null){return getChildren(this,r,a,l)}resolve(r,a=0){return resolveNode(this,r,a,!1)}resolveInner(r,a=0){return resolveNode(this,r,a,!0)}matchContext(r){return matchNodeContext(this.parent,r)}enterUnfinishedNodesBefore(r){let a=this.childBefore(r),l=this;for(;a;){let o=a.lastChild;if(!o||o.to!=a.to)break;o.type.isError&&o.from==o.to?(l=a,a=o.prevSibling):a=o}return l}get node(){return this}get next(){return this.parent}}class TreeNode extends BaseNode{constructor(r,a,l,o){super(),this._tree=r,this.from=a,this.index=l,this._parent=o}get type(){return this._tree.type}get name(){return this._tree.type.name}get to(){return this.from+this._tree.length}nextChild(r,a,l,o,f=0){for(let h=this;;){for(let{children:d,positions:g}=h._tree,m=a>0?d.length:-1;r!=m;r+=a){let y=d[r],S=g[r]+h.from,x;if(!(!(f&IterMode.EnterBracketed&&y instanceof Tree&&(x=MountedTree.get(y))&&!x.overlay&&x.bracketed&&l>=S&&l<=S+y.length)&&!checkSide(o,l,S,S+y.length))){if(y instanceof TreeBuffer){if(f&IterMode.ExcludeBuffers)continue;let w=y.findChild(0,y.buffer.length,a,l-S,o);if(w>-1)return new BufferNode(new BufferContext(h,y,r,S),null,w)}else if(f&IterMode.IncludeAnonymous||!y.type.isAnonymous||hasChild(y)){let w;if(!(f&IterMode.IgnoreMounts)&&(w=MountedTree.get(y))&&!w.overlay)return new TreeNode(w.tree,S,r,h);let Q=new TreeNode(y,S,r,h);return f&IterMode.IncludeAnonymous||!Q.type.isAnonymous?Q:Q.nextChild(a<0?y.children.length-1:0,a,l,o,f)}}}if(f&IterMode.IncludeAnonymous||!h.type.isAnonymous||(h.index>=0?r=h.index+a:r=a<0?-1:h._parent._tree.children.length,h=h._parent,!h))return null}}get firstChild(){return this.nextChild(0,1,0,4)}get lastChild(){return this.nextChild(this._tree.children.length-1,-1,0,4)}childAfter(r){return this.nextChild(0,1,r,2)}childBefore(r){return this.nextChild(this._tree.children.length-1,-1,r,-2)}prop(r){return this._tree.prop(r)}enter(r,a,l=0){let o;if(!(l&IterMode.IgnoreOverlays)&&(o=MountedTree.get(this._tree))&&o.overlay){let f=r-this.from,h=l&IterMode.EnterBracketed&&o.bracketed;for(let{from:d,to:g}of o.overlay)if((a>0||h?d<=f:d<f)&&(a<0||h?g>=f:g>f))return new TreeNode(o.tree,o.overlay[0].from+this.from,-1,this)}return this.nextChild(0,1,r,a,l)}nextSignificantParent(){let r=this;for(;r.type.isAnonymous&&r._parent;)r=r._parent;return r}get parent(){return this._parent?this._parent.nextSignificantParent():null}get nextSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index+1,1,0,4):null}get prevSibling(){return this._parent&&this.index>=0?this._parent.nextChild(this.index-1,-1,0,4):null}get tree(){return this._tree}toTree(){return this._tree}toString(){return this._tree.toString()}}function getChildren(s,r,a,l){let o=s.cursor(),f=[];if(!o.firstChild())return f;if(a!=null){for(let h=!1;!h;)if(h=o.type.is(a),!o.nextSibling())return f}for(;;){if(l!=null&&o.type.is(l))return f;if(o.type.is(r)&&f.push(o.node),!o.nextSibling())return l==null?f:[]}}function matchNodeContext(s,r,a=r.length-1){for(let l=s;a>=0;l=l.parent){if(!l)return!1;if(!l.type.isAnonymous){if(r[a]&&r[a]!=l.name)return!1;a--}}return!0}class BufferContext{constructor(r,a,l,o){this.parent=r,this.buffer=a,this.index=l,this.start=o}}class BufferNode extends BaseNode{get name(){return this.type.name}get from(){return this.context.start+this.context.buffer.buffer[this.index+1]}get to(){return this.context.start+this.context.buffer.buffer[this.index+2]}constructor(r,a,l){super(),this.context=r,this._parent=a,this.index=l,this.type=r.buffer.set.types[r.buffer.buffer[l]]}child(r,a,l){let{buffer:o}=this.context,f=o.findChild(this.index+4,o.buffer[this.index+3],r,a-this.context.start,l);return f<0?null:new BufferNode(this.context,this,f)}get firstChild(){return this.child(1,0,4)}get lastChild(){return this.child(-1,0,4)}childAfter(r){return this.child(1,r,2)}childBefore(r){return this.child(-1,r,-2)}prop(r){return this.type.prop(r)}enter(r,a,l=0){if(l&IterMode.ExcludeBuffers)return null;let{buffer:o}=this.context,f=o.findChild(this.index+4,o.buffer[this.index+3],a>0?1:-1,r-this.context.start,a);return f<0?null:new BufferNode(this.context,this,f)}get parent(){return this._parent||this.context.parent.nextSignificantParent()}externalSibling(r){return this._parent?null:this.context.parent.nextChild(this.context.index+r,r,0,4)}get nextSibling(){let{buffer:r}=this.context,a=r.buffer[this.index+3];return a<(this._parent?r.buffer[this._parent.index+3]:r.buffer.length)?new BufferNode(this.context,this._parent,a):this.externalSibling(1)}get prevSibling(){let{buffer:r}=this.context,a=this._parent?this._parent.index+4:0;return this.index==a?this.externalSibling(-1):new BufferNode(this.context,this._parent,r.findChild(a,this.index,-1,0,4))}get tree(){return null}toTree(){let r=[],a=[],{buffer:l}=this.context,o=this.index+4,f=l.buffer[this.index+3];if(f>o){let h=l.buffer[this.index+1];r.push(l.slice(o,f,h)),a.push(0)}return new Tree(this.type,r,a,this.to-this.from)}toString(){return this.context.buffer.childString(this.index)}}function iterStack(s){if(!s.length)return null;let r=0,a=s[0];for(let f=1;f<s.length;f++){let h=s[f];(h.from>a.from||h.to<a.to)&&(a=h,r=f)}let l=a instanceof TreeNode&&a.index<0?null:a.parent,o=s.slice();return l?o[r]=l:o.splice(r,1),new StackIterator(o,a)}class StackIterator{constructor(r,a){this.heads=r,this.node=a}get next(){return iterStack(this.heads)}}function stackIterator(s,r,a){let l=s.resolveInner(r,a),o=null;for(let f=l instanceof TreeNode?l:l.context.parent;f;f=f.parent)if(f.index<0){let h=f.parent;(o||(o=[l])).push(h.resolve(r,a)),f=h}else{let h=MountedTree.get(f.tree);if(h&&h.overlay&&h.overlay[0].from<=r&&h.overlay[h.overlay.length-1].to>=r){let d=new TreeNode(h.tree,h.overlay[0].from+f.from,-1,f);(o||(o=[l])).push(resolveNode(d,r,a,!1))}}return o?iterStack(o):l}class TreeCursor{get name(){return this.type.name}constructor(r,a=0){if(this.buffer=null,this.stack=[],this.index=0,this.bufferNode=null,this.mode=a&~IterMode.EnterBracketed,r instanceof TreeNode)this.yieldNode(r);else{this._tree=r.context.parent,this.buffer=r.context;for(let l=r._parent;l;l=l._parent)this.stack.unshift(l.index);this.bufferNode=r,this.yieldBuf(r.index)}}yieldNode(r){return r?(this._tree=r,this.type=r.type,this.from=r.from,this.to=r.to,!0):!1}yieldBuf(r,a){this.index=r;let{start:l,buffer:o}=this.buffer;return this.type=a||o.set.types[o.buffer[r]],this.from=l+o.buffer[r+1],this.to=l+o.buffer[r+2],!0}yield(r){return r?r instanceof TreeNode?(this.buffer=null,this.yieldNode(r)):(this.buffer=r.context,this.yieldBuf(r.index,r.type)):!1}toString(){return this.buffer?this.buffer.buffer.childString(this.index):this._tree.toString()}enterChild(r,a,l){if(!this.buffer)return this.yield(this._tree.nextChild(r<0?this._tree._tree.children.length-1:0,r,a,l,this.mode));let{buffer:o}=this.buffer,f=o.findChild(this.index+4,o.buffer[this.index+3],r,a-this.buffer.start,l);return f<0?!1:(this.stack.push(this.index),this.yieldBuf(f))}firstChild(){return this.enterChild(1,0,4)}lastChild(){return this.enterChild(-1,0,4)}childAfter(r){return this.enterChild(1,r,2)}childBefore(r){return this.enterChild(-1,r,-2)}enter(r,a,l=this.mode){return this.buffer?l&IterMode.ExcludeBuffers?!1:this.enterChild(1,r,a):this.yield(this._tree.enter(r,a,l))}parent(){if(!this.buffer)return this.yieldNode(this.mode&IterMode.IncludeAnonymous?this._tree._parent:this._tree.parent);if(this.stack.length)return this.yieldBuf(this.stack.pop());let r=this.mode&IterMode.IncludeAnonymous?this.buffer.parent:this.buffer.parent.nextSignificantParent();return this.buffer=null,this.yieldNode(r)}sibling(r){if(!this.buffer)return this._tree._parent?this.yield(this._tree.index<0?null:this._tree._parent.nextChild(this._tree.index+r,r,0,4,this.mode)):!1;let{buffer:a}=this.buffer,l=this.stack.length-1;if(r<0){let o=l<0?0:this.stack[l]+4;if(this.index!=o)return this.yieldBuf(a.findChild(o,this.index,-1,0,4))}else{let o=a.buffer[this.index+3];if(o<(l<0?a.buffer.length:a.buffer[this.stack[l]+3]))return this.yieldBuf(o)}return l<0?this.yield(this.buffer.parent.nextChild(this.buffer.index+r,r,0,4,this.mode)):!1}nextSibling(){return this.sibling(1)}prevSibling(){return this.sibling(-1)}atLastNode(r){let a,l,{buffer:o}=this;if(o){if(r>0){if(this.index<o.buffer.buffer.length)return!1}else for(let f=0;f<this.index;f++)if(o.buffer.buffer[f+3]<this.index)return!1;({index:a,parent:l}=o)}else({index:a,_parent:l}=this._tree);for(;l;{index:a,_parent:l}=l)if(a>-1)for(let f=a+r,h=r<0?-1:l._tree.children.length;f!=h;f+=r){let d=l._tree.children[f];if(this.mode&IterMode.IncludeAnonymous||d instanceof TreeBuffer||!d.type.isAnonymous||hasChild(d))return!1}return!0}move(r,a){if(a&&this.enterChild(r,0,4))return!0;for(;;){if(this.sibling(r))return!0;if(this.atLastNode(r)||!this.parent())return!1}}next(r=!0){return this.move(1,r)}prev(r=!0){return this.move(-1,r)}moveTo(r,a=0){for(;(this.from==this.to||(a<1?this.from>=r:this.from>r)||(a>-1?this.to<=r:this.to<r))&&this.parent(););for(;this.enterChild(1,r,a););return this}get node(){if(!this.buffer)return this._tree;let r=this.bufferNode,a=null,l=0;if(r&&r.context==this.buffer)e:for(let o=this.index,f=this.stack.length;f>=0;){for(let h=r;h;h=h._parent)if(h.index==o){if(o==this.index)return h;a=h,l=f+1;break e}o=this.stack[--f]}for(let o=l;o<this.stack.length;o++)a=new BufferNode(this.buffer,a,this.stack[o]);return this.bufferNode=new BufferNode(this.buffer,a,this.index)}get tree(){return this.buffer?null:this._tree._tree}iterate(r,a){for(let l=0;;){let o=!1;if(this.type.isAnonymous||r(this)!==!1){if(this.firstChild()){l++;continue}this.type.isAnonymous||(o=!0)}for(;;){if(o&&a&&a(this),o=this.type.isAnonymous,!l)return;if(this.nextSibling())break;this.parent(),l--,o=!0}}}matchContext(r){if(!this.buffer)return matchNodeContext(this.node.parent,r);let{buffer:a}=this.buffer,{types:l}=a.set;for(let o=r.length-1,f=this.stack.length-1;o>=0;f--){if(f<0)return matchNodeContext(this._tree,r,o);let h=l[a.buffer[this.stack[f]]];if(!h.isAnonymous){if(r[o]&&r[o]!=h.name)return!1;o--}}return!0}}function hasChild(s){return s.children.some(r=>r instanceof TreeBuffer||!r.type.isAnonymous||hasChild(r))}function buildTree(s){var r;let{buffer:a,nodeSet:l,maxBufferLength:o=DefaultBufferLength,reused:f=[],minRepeatType:h=l.types.length}=s,d=Array.isArray(a)?new FlatBufferCursor(a,a.length):a,g=l.types,m=0,y=0;function S(B,G,D,I,W,se){let{id:ce,start:Se,end:ve,size:$e}=d,Re=y,re=m;if($e<0)if(d.next(),$e==-1){let N=f[ce];D.push(N),I.push(Se-B);return}else if($e==-3){m=ce;return}else if($e==-4){y=ce;return}else throw new RangeError(`Unrecognized record size: ${$e}`);let Oe=g[ce],Ee,be,X=Se-B;if(ve-Se<=o&&(be=M(d.pos-G,W))){let N=new Uint16Array(be.size-be.skip),Y=d.pos-be.size,ae=N.length;for(;d.pos>Y;)ae=L(be.start,N,ae);Ee=new TreeBuffer(N,ve-be.start,l),X=be.start-B}else{let N=d.pos-$e;d.next();let Y=[],ae=[],ue=ce>=h?ce:-1,we=0,_e=ve;for(;d.pos>N;)ue>=0&&d.id==ue&&d.size>=0?(d.end<=_e-o&&(Q(Y,ae,Se,we,d.end,_e,ue,Re,re),we=Y.length,_e=d.end),d.next()):se>2500?x(Se,N,Y,ae):S(Se,N,Y,ae,ue,se+1);if(ue>=0&&we>0&&we<Y.length&&Q(Y,ae,Se,we,Se,_e,ue,Re,re),Y.reverse(),ae.reverse(),ue>-1&&we>0){let me=w(Oe,re);Ee=balanceRange(Oe,Y,ae,0,Y.length,0,ve-Se,me,me)}else Ee=A(Oe,Y,ae,ve-Se,Re-ve,re)}D.push(Ee),I.push(X)}function x(B,G,D,I){let W=[],se=0,ce=-1;for(;d.pos>G;){let{id:Se,start:ve,end:$e,size:Re}=d;if(Re>4)d.next();else{if(ce>-1&&ve<ce)break;ce<0&&(ce=$e-o),W.push(Se,ve,$e),se++,d.next()}}if(se){let Se=new Uint16Array(se*4),ve=W[W.length-2];for(let $e=W.length-3,Re=0;$e>=0;$e-=3)Se[Re++]=W[$e],Se[Re++]=W[$e+1]-ve,Se[Re++]=W[$e+2]-ve,Se[Re++]=Re;D.push(new TreeBuffer(Se,W[2]-ve,l)),I.push(ve-B)}}function w(B,G){return(D,I,W)=>{let se=0,ce=D.length-1,Se,ve;if(ce>=0&&(Se=D[ce])instanceof Tree){if(!ce&&Se.type==B&&Se.length==W)return Se;(ve=Se.prop(NodeProp.lookAhead))&&(se=I[ce]+Se.length+ve)}return A(B,D,I,W,se,G)}}function Q(B,G,D,I,W,se,ce,Se,ve){let $e=[],Re=[];for(;B.length>I;)$e.push(B.pop()),Re.push(G.pop()+D-W);B.push(A(l.types[ce],$e,Re,se-W,Se-se,ve)),G.push(W-D)}function A(B,G,D,I,W,se,ce){if(se){let Se=[NodeProp.contextHash,se];ce=ce?[Se].concat(ce):[Se]}if(W>25){let Se=[NodeProp.lookAhead,W];ce=ce?[Se].concat(ce):[Se]}return new Tree(B,G,D,I,ce)}function M(B,G){let D=d.fork(),I=0,W=0,se=0,ce=D.end-o,Se={size:0,start:0,skip:0};e:for(let ve=D.pos-B;D.pos>ve;){let $e=D.size;if(D.id==G&&$e>=0){Se.size=I,Se.start=W,Se.skip=se,se+=4,I+=4,D.next();continue}let Re=D.pos-$e;if($e<0||Re<ve||D.start<ce)break;let re=D.id>=h?4:0,Oe=D.start;for(D.next();D.pos>Re;){if(D.size<0)if(D.size==-3||D.size==-4)re+=4;else break e;else D.id>=h&&(re+=4);D.next()}W=Oe,I+=$e,se+=re}return(G<0||I==B)&&(Se.size=I,Se.start=W,Se.skip=se),Se.size>4?Se:void 0}function L(B,G,D){let{id:I,start:W,end:se,size:ce}=d;if(d.next(),ce>=0&&I<h){let Se=D;if(ce>4){let ve=d.pos-(ce-4);for(;d.pos>ve;)D=L(B,G,D)}G[--D]=Se,G[--D]=se-B,G[--D]=W-B,G[--D]=I}else ce==-3?m=I:ce==-4&&(y=I);return D}let Z=[],z=[];for(;d.pos>0;)S(s.start||0,s.bufferStart||0,Z,z,-1,0);let j=(r=s.length)!==null&&r!==void 0?r:Z.length?z[0]+Z[0].length:0;return new Tree(g[s.topID],Z.reverse(),z.reverse(),j)}const nodeSizeCache=new WeakMap;function nodeSize(s,r){if(!s.isAnonymous||r instanceof TreeBuffer||r.type!=s)return 1;let a=nodeSizeCache.get(r);if(a==null){a=1;for(let l of r.children){if(l.type!=s||!(l instanceof Tree)){a=1;break}a+=nodeSize(s,l)}nodeSizeCache.set(r,a)}return a}function balanceRange(s,r,a,l,o,f,h,d,g){let m=0;for(let Q=l;Q<o;Q++)m+=nodeSize(s,r[Q]);let y=Math.ceil(m*1.5/8),S=[],x=[];function w(Q,A,M,L,Z){for(let z=M;z<L;){let j=z,B=A[z],G=nodeSize(s,Q[z]);for(z++;z<L;z++){let D=nodeSize(s,Q[z]);if(G+D>=y)break;G+=D}if(z==j+1){if(G>y){let D=Q[j];w(D.children,D.positions,0,D.children.length,A[j]+Z);continue}S.push(Q[j])}else{let D=A[z-1]+Q[z-1].length-B;S.push(balanceRange(s,Q,A,j,z,B,D,null,g))}x.push(B+Z-f)}}return w(r,a,l,o,0),(d||g)(S,x,h)}class NodeWeakMap{constructor(){this.map=new WeakMap}setBuffer(r,a,l){let o=this.map.get(r);o||this.map.set(r,o=new Map),o.set(a,l)}getBuffer(r,a){let l=this.map.get(r);return l&&l.get(a)}set(r,a){r instanceof BufferNode?this.setBuffer(r.context.buffer,r.index,a):r instanceof TreeNode&&this.map.set(r.tree,a)}get(r){return r instanceof BufferNode?this.getBuffer(r.context.buffer,r.index):r instanceof TreeNode?this.map.get(r.tree):void 0}cursorSet(r,a){r.buffer?this.setBuffer(r.buffer.buffer,r.index,a):this.map.set(r.tree,a)}cursorGet(r){return r.buffer?this.getBuffer(r.buffer.buffer,r.index):this.map.get(r.tree)}}class TreeFragment{constructor(r,a,l,o,f=!1,h=!1){this.from=r,this.to=a,this.tree=l,this.offset=o,this.open=(f?1:0)|(h?2:0)}get openStart(){return(this.open&1)>0}get openEnd(){return(this.open&2)>0}static addTree(r,a=[],l=!1){let o=[new TreeFragment(0,r.length,r,0,!1,l)];for(let f of a)f.to>r.length&&o.push(f);return o}static applyChanges(r,a,l=128){if(!a.length)return r;let o=[],f=1,h=r.length?r[0]:null;for(let d=0,g=0,m=0;;d++){let y=d<a.length?a[d]:null,S=y?y.fromA:1e9;if(S-g>=l)for(;h&&h.from<S;){let x=h;if(g>=x.from||S<=x.to||m){let w=Math.max(x.from,g)-m,Q=Math.min(x.to,S)-m;x=w>=Q?null:new TreeFragment(w,Q,x.tree,x.offset+m,d>0,!!y)}if(x&&o.push(x),h.to>S)break;h=f<r.length?r[f++]:null}if(!y)break;g=y.toA,m=y.toA-y.toB}return o}}class Parser{startParse(r,a,l){return typeof r=="string"&&(r=new StringInput(r)),l=l?l.length?l.map(o=>new Range(o.from,o.to)):[new Range(0,0)]:[new Range(0,r.length)],this.createParse(r,a||[],l)}parse(r,a,l){let o=this.startParse(r,a,l);for(;;){let f=o.advance();if(f)return f}}}class StringInput{constructor(r){this.string=r}get length(){return this.string.length}chunk(r){return this.string.slice(r)}get lineChunks(){return!1}read(r,a){return this.string.slice(r,a)}}new NodeProp({perNode:!0});let nextTagID=0;class Tag{constructor(r,a,l,o){this.name=r,this.set=a,this.base=l,this.modified=o,this.id=nextTagID++}toString(){let{name:r}=this;for(let a of this.modified)a.name&&(r=`${a.name}(${r})`);return r}static define(r,a){let l=typeof r=="string"?r:"?";if(r instanceof Tag&&(a=r),a?.base)throw new Error("Can not derive from a modified tag");let o=new Tag(l,[],null,[]);if(o.set.push(o),a)for(let f of a.set)o.set.push(f);return o}static defineModifier(r){let a=new Modifier(r);return l=>l.modified.indexOf(a)>-1?l:Modifier.get(l.base||l,l.modified.concat(a).sort((o,f)=>o.id-f.id))}}let nextModifierID=0;class Modifier{constructor(r){this.name=r,this.instances=[],this.id=nextModifierID++}static get(r,a){if(!a.length)return r;let l=a[0].instances.find(d=>d.base==r&&sameArray(a,d.modified));if(l)return l;let o=[],f=new Tag(r.name,o,r,a);for(let d of a)d.instances.push(f);let h=powerSet(a);for(let d of r.set)if(!d.modified.length)for(let g of h)o.push(Modifier.get(d,g));return f}}function sameArray(s,r){return s.length==r.length&&s.every((a,l)=>a==r[l])}function powerSet(s){let r=[[]];for(let a=0;a<s.length;a++)for(let l=0,o=r.length;l<o;l++)r.push(r[l].concat(s[a]));return r.sort((a,l)=>l.length-a.length)}function styleTags(s){let r=Object.create(null);for(let a in s){let l=s[a];Array.isArray(l)||(l=[l]);for(let o of a.split(" "))if(o){let f=[],h=2,d=o;for(let S=0;;){if(d=="..."&&S>0&&S+3==o.length){h=1;break}let x=/^"(?:[^"\\]|\\.)*?"|[^\/!]+/.exec(d);if(!x)throw new RangeError("Invalid path: "+o);if(f.push(x[0]=="*"?"":x[0][0]=='"'?JSON.parse(x[0]):x[0]),S+=x[0].length,S==o.length)break;let w=o[S++];if(S==o.length&&w=="!"){h=0;break}if(w!="/")throw new RangeError("Invalid path: "+o);d=o.slice(S)}let g=f.length-1,m=f[g];if(!m)throw new RangeError("Invalid path: "+o);let y=new Rule(l,h,g>0?f.slice(0,g):null);r[m]=y.sort(r[m])}}return ruleNodeProp.add(r)}const ruleNodeProp=new NodeProp({combine(s,r){let a,l,o;for(;s||r;){if(!s||r&&s.depth>=r.depth?(o=r,r=r.next):(o=s,s=s.next),a&&a.mode==o.mode&&!o.context&&!a.context)continue;let f=new Rule(o.tags,o.mode,o.context);a?a.next=f:l=f,a=f}return l}});class Rule{constructor(r,a,l,o){this.tags=r,this.mode=a,this.context=l,this.next=o}get opaque(){return this.mode==0}get inherit(){return this.mode==1}sort(r){return!r||r.depth<this.depth?(this.next=r,this):(r.next=this.sort(r.next),r)}get depth(){return this.context?this.context.length:0}}Rule.empty=new Rule([],2,null);function tagHighlighter(s,r){let a=Object.create(null);for(let f of s)if(!Array.isArray(f.tag))a[f.tag.id]=f.class;else for(let h of f.tag)a[h.id]=f.class;let{scope:l,all:o=null}=r||{};return{style:f=>{let h=o;for(let d of f)for(let g of d.set){let m=a[g.id];if(m){h=h?h+" "+m:m;break}}return h},scope:l}}function highlightTags(s,r){let a=null;for(let l of s){let o=l.style(r);o&&(a=a?a+" "+o:o)}return a}function highlightTree(s,r,a,l=0,o=s.length){let f=new HighlightBuilder(l,Array.isArray(r)?r:[r],a);f.highlightRange(s.cursor(),l,o,"",f.highlighters),f.flush(o)}class HighlightBuilder{constructor(r,a,l){this.at=r,this.highlighters=a,this.span=l,this.class=""}startSpan(r,a){a!=this.class&&(this.flush(r),r>this.at&&(this.at=r),this.class=a)}flush(r){r>this.at&&this.class&&this.span(this.at,r,this.class)}highlightRange(r,a,l,o,f){let{type:h,from:d,to:g}=r;if(d>=l||g<=a)return;h.isTop&&(f=this.highlighters.filter(w=>!w.scope||w.scope(h)));let m=o,y=getStyleTags(r)||Rule.empty,S=highlightTags(f,y.tags);if(S&&(m&&(m+=" "),m+=S,y.mode==1&&(o+=(o?" ":"")+S)),this.startSpan(Math.max(a,d),m),y.opaque)return;let x=r.tree&&r.tree.prop(NodeProp.mounted);if(x&&x.overlay){let w=r.node.enter(x.overlay[0].from+d,1),Q=this.highlighters.filter(M=>!M.scope||M.scope(x.tree.type)),A=r.firstChild();for(let M=0,L=d;;M++){let Z=M<x.overlay.length?x.overlay[M]:null,z=Z?Z.from+d:g,j=Math.max(a,L),B=Math.min(l,z);if(j<B&&A)for(;r.from<B&&(this.highlightRange(r,j,B,o,f),this.startSpan(Math.min(B,r.to),m),!(r.to>=z||!r.nextSibling())););if(!Z||z>l)break;L=Z.to+d,L>a&&(this.highlightRange(w.cursor(),Math.max(a,Z.from+d),Math.min(l,L),"",Q),this.startSpan(Math.min(l,L),m))}A&&r.parent()}else if(r.firstChild()){x&&(o="");do if(!(r.to<=a)){if(r.from>=l)break;this.highlightRange(r,a,l,o,f),this.startSpan(Math.min(l,r.to),m)}while(r.nextSibling());r.parent()}}}function getStyleTags(s){let r=s.type.prop(ruleNodeProp);for(;r&&r.context&&!s.matchContext(r.context);)r=r.next;return r||null}const t=Tag.define,comment=t(),name=t(),typeName=t(name),propertyName=t(name),literal=t(),string=t(literal),number=t(literal),content=t(),heading=t(content),keyword=t(),operator=t(),punctuation=t(),bracket=t(punctuation),meta=t(),tags={comment,lineComment:t(comment),blockComment:t(comment),docComment:t(comment),name,variableName:t(name),typeName,tagName:t(typeName),propertyName,attributeName:t(propertyName),className:t(name),labelName:t(name),namespace:t(name),macroName:t(name),literal,string,docString:t(string),character:t(string),attributeValue:t(string),number,integer:t(number),float:t(number),bool:t(literal),regexp:t(literal),escape:t(literal),color:t(literal),url:t(literal),keyword,self:t(keyword),null:t(keyword),atom:t(keyword),unit:t(keyword),modifier:t(keyword),operatorKeyword:t(keyword),controlKeyword:t(keyword),definitionKeyword:t(keyword),moduleKeyword:t(keyword),operator,derefOperator:t(operator),arithmeticOperator:t(operator),logicOperator:t(operator),bitwiseOperator:t(operator),compareOperator:t(operator),updateOperator:t(operator),definitionOperator:t(operator),typeOperator:t(operator),controlOperator:t(operator),punctuation,separator:t(punctuation),bracket,angleBracket:t(bracket),squareBracket:t(bracket),paren:t(bracket),brace:t(bracket),content,heading,heading1:t(heading),heading2:t(heading),heading3:t(heading),heading4:t(heading),heading5:t(heading),heading6:t(heading),contentSeparator:t(content),list:t(content),quote:t(content),emphasis:t(content),strong:t(content),link:t(content),monospace:t(content),strikethrough:t(content),inserted:t(),deleted:t(),changed:t(),invalid:t(),meta,documentMeta:t(meta),annotation:t(meta),processingInstruction:t(meta),definition:Tag.defineModifier("definition"),constant:Tag.defineModifier("constant"),function:Tag.defineModifier("function"),standard:Tag.defineModifier("standard"),local:Tag.defineModifier("local"),special:Tag.defineModifier("special")};for(let s in tags){let r=tags[s];r instanceof Tag&&(r.name=s)}tagHighlighter([{tag:tags.link,class:"tok-link"},{tag:tags.heading,class:"tok-heading"},{tag:tags.emphasis,class:"tok-emphasis"},{tag:tags.strong,class:"tok-strong"},{tag:tags.keyword,class:"tok-keyword"},{tag:tags.atom,class:"tok-atom"},{tag:tags.bool,class:"tok-bool"},{tag:tags.url,class:"tok-url"},{tag:tags.labelName,class:"tok-labelName"},{tag:tags.inserted,class:"tok-inserted"},{tag:tags.deleted,class:"tok-deleted"},{tag:tags.literal,class:"tok-literal"},{tag:tags.string,class:"tok-string"},{tag:tags.number,class:"tok-number"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],class:"tok-string2"},{tag:tags.variableName,class:"tok-variableName"},{tag:tags.local(tags.variableName),class:"tok-variableName tok-local"},{tag:tags.definition(tags.variableName),class:"tok-variableName tok-definition"},{tag:tags.special(tags.variableName),class:"tok-variableName2"},{tag:tags.definition(tags.propertyName),class:"tok-propertyName tok-definition"},{tag:tags.typeName,class:"tok-typeName"},{tag:tags.namespace,class:"tok-namespace"},{tag:tags.className,class:"tok-className"},{tag:tags.macroName,class:"tok-macroName"},{tag:tags.propertyName,class:"tok-propertyName"},{tag:tags.operator,class:"tok-operator"},{tag:tags.comment,class:"tok-comment"},{tag:tags.meta,class:"tok-meta"},{tag:tags.invalid,class:"tok-invalid"},{tag:tags.punctuation,class:"tok-punctuation"}]);var _a;const languageDataProp=new NodeProp;function defineLanguageFacet(s){return Facet.define({combine:s?r=>r.concat(s):void 0})}const sublanguageProp=new NodeProp;class Language{constructor(r,a,l=[],o=""){this.data=r,this.name=o,EditorState.prototype.hasOwnProperty("tree")||Object.defineProperty(EditorState.prototype,"tree",{get(){return syntaxTree(this)}}),this.parser=a,this.extension=[language.of(this),EditorState.languageData.of((f,h,d)=>{let g=topNodeAt(f,h,d),m=g.type.prop(languageDataProp);if(!m)return[];let y=f.facet(m),S=g.type.prop(sublanguageProp);if(S){let x=g.resolve(h-g.from,d);for(let w of S)if(w.test(x,f)){let Q=f.facet(w.facet);return w.type=="replace"?Q:Q.concat(y)}}return y})].concat(l)}isActiveAt(r,a,l=-1){return topNodeAt(r,a,l).type.prop(languageDataProp)==this.data}findRegions(r){let a=r.facet(language);if(a?.data==this.data)return[{from:0,to:r.doc.length}];if(!a||!a.allowsNesting)return[];let l=[],o=(f,h)=>{if(f.prop(languageDataProp)==this.data){l.push({from:h,to:h+f.length});return}let d=f.prop(NodeProp.mounted);if(d){if(d.tree.prop(languageDataProp)==this.data){if(d.overlay)for(let g of d.overlay)l.push({from:g.from+h,to:g.to+h});else l.push({from:h,to:h+f.length});return}else if(d.overlay){let g=l.length;if(o(d.tree,d.overlay[0].from+h),l.length>g)return}}for(let g=0;g<f.children.length;g++){let m=f.children[g];m instanceof Tree&&o(m,f.positions[g]+h)}};return o(syntaxTree(r),0),l}get allowsNesting(){return!0}}Language.setState=StateEffect.define();function topNodeAt(s,r,a){let l=s.facet(language),o=syntaxTree(s).topNode;if(!l||l.allowsNesting)for(let f=o;f;f=f.enter(r,a,IterMode.ExcludeBuffers|IterMode.EnterBracketed))f.type.isTop&&(o=f);return o}class LRLanguage extends Language{constructor(r,a,l){super(r,a,[],l),this.parser=a}static define(r){let a=defineLanguageFacet(r.languageData);return new LRLanguage(a,r.parser.configure({props:[languageDataProp.add(l=>l.isTop?a:void 0)]}),r.name)}configure(r,a){return new LRLanguage(this.data,this.parser.configure(r),a||this.name)}get allowsNesting(){return this.parser.hasWrappers()}}function syntaxTree(s){let r=s.field(Language.state,!1);return r?r.tree:Tree.empty}class DocInput{constructor(r){this.doc=r,this.cursorPos=0,this.string="",this.cursor=r.iter()}get length(){return this.doc.length}syncTo(r){return this.string=this.cursor.next(r-this.cursorPos).value,this.cursorPos=r+this.string.length,this.cursorPos-this.string.length}chunk(r){return this.syncTo(r),this.string}get lineChunks(){return!0}read(r,a){let l=this.cursorPos-this.string.length;return r<l||a>=this.cursorPos?this.doc.sliceString(r,a):this.string.slice(r-l,a-l)}}let currentContext=null;class ParseContext{constructor(r,a,l=[],o,f,h,d,g){this.parser=r,this.state=a,this.fragments=l,this.tree=o,this.treeLen=f,this.viewport=h,this.skipped=d,this.scheduleOn=g,this.parse=null,this.tempSkipped=[]}static create(r,a,l){return new ParseContext(r,a,[],Tree.empty,0,l,[],null)}startParse(){return this.parser.startParse(new DocInput(this.state.doc),this.fragments)}work(r,a){return a!=null&&a>=this.state.doc.length&&(a=void 0),this.tree!=Tree.empty&&this.isDone(a??this.state.doc.length)?(this.takeTree(),!0):this.withContext(()=>{var l;if(typeof r=="number"){let o=Date.now()+r;r=()=>Date.now()>o}for(this.parse||(this.parse=this.startParse()),a!=null&&(this.parse.stoppedAt==null||this.parse.stoppedAt>a)&&a<this.state.doc.length&&this.parse.stopAt(a);;){let o=this.parse.advance();if(o)if(this.fragments=this.withoutTempSkipped(TreeFragment.addTree(o,this.fragments,this.parse.stoppedAt!=null)),this.treeLen=(l=this.parse.stoppedAt)!==null&&l!==void 0?l:this.state.doc.length,this.tree=o,this.parse=null,this.treeLen<(a??this.state.doc.length))this.parse=this.startParse();else return!0;if(r())return!1}})}takeTree(){let r,a;this.parse&&(r=this.parse.parsedPos)>=this.treeLen&&((this.parse.stoppedAt==null||this.parse.stoppedAt>r)&&this.parse.stopAt(r),this.withContext(()=>{for(;!(a=this.parse.advance()););}),this.treeLen=r,this.tree=a,this.fragments=this.withoutTempSkipped(TreeFragment.addTree(this.tree,this.fragments,!0)),this.parse=null)}withContext(r){let a=currentContext;currentContext=this;try{return r()}finally{currentContext=a}}withoutTempSkipped(r){for(let a;a=this.tempSkipped.pop();)r=cutFragments(r,a.from,a.to);return r}changes(r,a){let{fragments:l,tree:o,treeLen:f,viewport:h,skipped:d}=this;if(this.takeTree(),!r.empty){let g=[];if(r.iterChangedRanges((m,y,S,x)=>g.push({fromA:m,toA:y,fromB:S,toB:x})),l=TreeFragment.applyChanges(l,g),o=Tree.empty,f=0,h={from:r.mapPos(h.from,-1),to:r.mapPos(h.to,1)},this.skipped.length){d=[];for(let m of this.skipped){let y=r.mapPos(m.from,1),S=r.mapPos(m.to,-1);y<S&&d.push({from:y,to:S})}}}return new ParseContext(this.parser,a,l,o,f,h,d,this.scheduleOn)}updateViewport(r){if(this.viewport.from==r.from&&this.viewport.to==r.to)return!1;this.viewport=r;let a=this.skipped.length;for(let l=0;l<this.skipped.length;l++){let{from:o,to:f}=this.skipped[l];o<r.to&&f>r.from&&(this.fragments=cutFragments(this.fragments,o,f),this.skipped.splice(l--,1))}return this.skipped.length>=a?!1:(this.reset(),!0)}reset(){this.parse&&(this.takeTree(),this.parse=null)}skipUntilInView(r,a){this.skipped.push({from:r,to:a})}static getSkippingParser(r){return new class extends Parser{createParse(a,l,o){let f=o[0].from,h=o[o.length-1].to;return{parsedPos:f,advance(){let g=currentContext;if(g){for(let m of o)g.tempSkipped.push(m);r&&(g.scheduleOn=g.scheduleOn?Promise.all([g.scheduleOn,r]):r)}return this.parsedPos=h,new Tree(NodeType.none,[],[],h-f)},stoppedAt:null,stopAt(){}}}}}isDone(r){r=Math.min(r,this.state.doc.length);let a=this.fragments;return this.treeLen>=r&&a.length&&a[0].from==0&&a[0].to>=r}static get(){return currentContext}}function cutFragments(s,r,a){return TreeFragment.applyChanges(s,[{fromA:r,toA:a,fromB:r,toB:a}])}class LanguageState{constructor(r){this.context=r,this.tree=r.tree}apply(r){if(!r.docChanged&&this.tree==this.context.tree)return this;let a=this.context.changes(r.changes,r.state),l=this.context.treeLen==r.startState.doc.length?void 0:Math.max(r.changes.mapPos(this.context.treeLen),a.viewport.to);return a.work(20,l)||a.takeTree(),new LanguageState(a)}static init(r){let a=Math.min(3e3,r.doc.length),l=ParseContext.create(r.facet(language).parser,r,{from:0,to:a});return l.work(20,a)||l.takeTree(),new LanguageState(l)}}Language.state=StateField.define({create:LanguageState.init,update(s,r){for(let a of r.effects)if(a.is(Language.setState))return a.value;return r.startState.facet(language)!=r.state.facet(language)?LanguageState.init(r.state):s.apply(r)}});let requestIdle=s=>{let r=setTimeout(()=>s(),500);return()=>clearTimeout(r)};typeof requestIdleCallback<"u"&&(requestIdle=s=>{let r=-1,a=setTimeout(()=>{r=requestIdleCallback(s,{timeout:400})},100);return()=>r<0?clearTimeout(a):cancelIdleCallback(r)});const isInputPending=typeof navigator<"u"&&(!((_a=navigator.scheduling)===null||_a===void 0)&&_a.isInputPending)?()=>navigator.scheduling.isInputPending():null,parseWorker=ViewPlugin.fromClass(class{constructor(r){this.view=r,this.working=null,this.workScheduled=0,this.chunkEnd=-1,this.chunkBudget=-1,this.work=this.work.bind(this),this.scheduleWork()}update(r){let a=this.view.state.field(Language.state).context;(a.updateViewport(r.view.viewport)||this.view.viewport.to>a.treeLen)&&this.scheduleWork(),(r.docChanged||r.selectionSet)&&(this.view.hasFocus&&(this.chunkBudget+=50),this.scheduleWork()),this.checkAsyncSchedule(a)}scheduleWork(){if(this.working)return;let{state:r}=this.view,a=r.field(Language.state);(a.tree!=a.context.tree||!a.context.isDone(r.doc.length))&&(this.working=requestIdle(this.work))}work(r){this.working=null;let a=Date.now();if(this.chunkEnd<a&&(this.chunkEnd<0||this.view.hasFocus)&&(this.chunkEnd=a+3e4,this.chunkBudget=3e3),this.chunkBudget<=0)return;let{state:l,viewport:{to:o}}=this.view,f=l.field(Language.state);if(f.tree==f.context.tree&&f.context.isDone(o+1e5))return;let h=Date.now()+Math.min(this.chunkBudget,100,r&&!isInputPending?Math.max(25,r.timeRemaining()-5):1e9),d=f.context.treeLen<o&&l.doc.length>o+1e3,g=f.context.work(()=>isInputPending&&isInputPending()||Date.now()>h,o+(d?0:1e5));this.chunkBudget-=Date.now()-a,(g||this.chunkBudget<=0)&&(f.context.takeTree(),this.view.dispatch({effects:Language.setState.of(new LanguageState(f.context))})),this.chunkBudget>0&&!(g&&!d)&&this.scheduleWork(),this.checkAsyncSchedule(f.context)}checkAsyncSchedule(r){r.scheduleOn&&(this.workScheduled++,r.scheduleOn.then(()=>this.scheduleWork()).catch(a=>logException(this.view.state,a)).then(()=>this.workScheduled--),r.scheduleOn=null)}destroy(){this.working&&this.working()}isWorking(){return!!(this.working||this.workScheduled>0)}},{eventHandlers:{focus(){this.scheduleWork()}}}),language=Facet.define({combine(s){return s.length?s[0]:null},enables:s=>[Language.state,parseWorker,EditorView.contentAttributes.compute([s],r=>{let a=r.facet(s);return a&&a.name?{"data-language":a.name}:{}})]});class LanguageSupport{constructor(r,a=[]){this.language=r,this.support=a,this.extension=[r,a]}}const indentService=Facet.define(),indentUnit=Facet.define({combine:s=>{if(!s.length)return"  ";let r=s[0];if(!r||/\S/.test(r)||Array.from(r).some(a=>a!=r[0]))throw new Error("Invalid indent unit: "+JSON.stringify(s[0]));return r}});function getIndentUnit(s){let r=s.facet(indentUnit);return r.charCodeAt(0)==9?s.tabSize*r.length:r.length}function indentString(s,r){let a="",l=s.tabSize,o=s.facet(indentUnit)[0];if(o=="	"){for(;r>=l;)a+="	",r-=l;o=" "}for(let f=0;f<r;f++)a+=o;return a}function getIndentation(s,r){s instanceof EditorState&&(s=new IndentContext(s));for(let l of s.state.facet(indentService)){let o=l(s,r);if(o!==void 0)return o}let a=syntaxTree(s.state);return a.length>=r?syntaxIndentation(s,a,r):null}class IndentContext{constructor(r,a={}){this.state=r,this.options=a,this.unit=getIndentUnit(r)}lineAt(r,a=1){let l=this.state.doc.lineAt(r),{simulateBreak:o,simulateDoubleBreak:f}=this.options;return o!=null&&o>=l.from&&o<=l.to?f&&o==r?{text:"",from:r}:(a<0?o<r:o<=r)?{text:l.text.slice(o-l.from),from:o}:{text:l.text.slice(0,o-l.from),from:l.from}:l}textAfterPos(r,a=1){if(this.options.simulateDoubleBreak&&r==this.options.simulateBreak)return"";let{text:l,from:o}=this.lineAt(r,a);return l.slice(r-o,Math.min(l.length,r+100-o))}column(r,a=1){let{text:l,from:o}=this.lineAt(r,a),f=this.countColumn(l,r-o),h=this.options.overrideIndentation?this.options.overrideIndentation(o):-1;return h>-1&&(f+=h-this.countColumn(l,l.search(/\S|$/))),f}countColumn(r,a=r.length){return countColumn(r,this.state.tabSize,a)}lineIndent(r,a=1){let{text:l,from:o}=this.lineAt(r,a),f=this.options.overrideIndentation;if(f){let h=f(o);if(h>-1)return h}return this.countColumn(l,l.search(/\S|$/))}get simulatedBreak(){return this.options.simulateBreak||null}}const indentNodeProp=new NodeProp;function syntaxIndentation(s,r,a){let l=r.resolveStack(a),o=r.resolveInner(a,-1).resolve(a,0).enterUnfinishedNodesBefore(a);if(o!=l.node){let f=[];for(let h=o;h&&!(h.from<l.node.from||h.to>l.node.to||h.from==l.node.from&&h.type==l.node.type);h=h.parent)f.push(h);for(let h=f.length-1;h>=0;h--)l={node:f[h],next:l}}return indentFor(l,s,a)}function indentFor(s,r,a){for(let l=s;l;l=l.next){let o=indentStrategy(l.node);if(o)return o(TreeIndentContext.create(r,a,l))}return 0}function ignoreClosed(s){return s.pos==s.options.simulateBreak&&s.options.simulateDoubleBreak}function indentStrategy(s){let r=s.type.prop(indentNodeProp);if(r)return r;let a=s.firstChild,l;if(a&&(l=a.type.prop(NodeProp.closedBy))){let o=s.lastChild,f=o&&l.indexOf(o.name)>-1;return h=>delimitedStrategy(h,!0,1,void 0,f&&!ignoreClosed(h)?o.from:void 0)}return s.parent==null?topIndent:null}function topIndent(){return 0}class TreeIndentContext extends IndentContext{constructor(r,a,l){super(r.state,r.options),this.base=r,this.pos=a,this.context=l}get node(){return this.context.node}static create(r,a,l){return new TreeIndentContext(r,a,l)}get textAfter(){return this.textAfterPos(this.pos)}get baseIndent(){return this.baseIndentFor(this.node)}baseIndentFor(r){let a=this.state.doc.lineAt(r.from);for(;;){let l=r.resolve(a.from);for(;l.parent&&l.parent.from==l.from;)l=l.parent;if(isParent(l,r))break;a=this.state.doc.lineAt(l.from)}return this.lineIndent(a.from)}continue(){return indentFor(this.context.next,this.base,this.pos)}}function isParent(s,r){for(let a=r;a;a=a.parent)if(s==a)return!0;return!1}function bracketedAligned(s){let r=s.node,a=r.childAfter(r.from),l=r.lastChild;if(!a)return null;let o=s.options.simulateBreak,f=s.state.doc.lineAt(a.from),h=o==null||o<=f.from?f.to:Math.min(f.to,o);for(let d=a.to;;){let g=r.childAfter(d);if(!g||g==l)return null;if(!g.type.isSkipped){if(g.from>=h)return null;let m=/^ */.exec(f.text.slice(a.to-f.from))[0].length;return{from:a.from,to:a.to+m}}d=g.to}}function delimitedIndent({closing:s,align:r=!0,units:a=1}){return l=>delimitedStrategy(l,r,a,s)}function delimitedStrategy(s,r,a,l,o){let f=s.textAfter,h=f.match(/^\s*/)[0].length,d=l&&f.slice(h,h+l.length)==l||o==s.pos+h,g=r?bracketedAligned(s):null;return g?d?s.column(g.from):s.column(g.to):s.baseIndent+(d?0:s.unit*a)}const flatIndent=s=>s.baseIndent;function continuedIndent({except:s,units:r=1}={}){return a=>{let l=s&&s.test(a.textAfter);return a.baseIndent+(l?0:r*a.unit)}}const DontIndentBeyond=200;function indentOnInput(){return EditorState.transactionFilter.of(s=>{if(!s.docChanged||!s.isUserEvent("input.type")&&!s.isUserEvent("input.complete"))return s;let r=s.startState.languageDataAt("indentOnInput",s.startState.selection.main.head);if(!r.length)return s;let a=s.newDoc,{head:l}=s.newSelection.main,o=a.lineAt(l);if(l>o.from+DontIndentBeyond)return s;let f=a.sliceString(o.from,l);if(!r.some(m=>m.test(f)))return s;let{state:h}=s,d=-1,g=[];for(let{head:m}of h.selection.ranges){let y=h.doc.lineAt(m);if(y.from==d)continue;d=y.from;let S=getIndentation(h,y.from);if(S==null)continue;let x=/^\s*/.exec(y.text)[0],w=indentString(h,S);x!=w&&g.push({from:y.from,to:y.from+x.length,insert:w})}return g.length?[s,{changes:g,sequential:!0}]:s})}const foldService=Facet.define(),foldNodeProp=new NodeProp;function foldInside(s){let r=s.firstChild,a=s.lastChild;return r&&r.to<a.from?{from:r.to,to:a.type.isError?s.to:a.from}:null}function syntaxFolding(s,r,a){let l=syntaxTree(s);if(l.length<a)return null;let o=l.resolveStack(a,1),f=null;for(let h=o;h;h=h.next){let d=h.node;if(d.to<=a||d.from>a)continue;if(f&&d.from<r)break;let g=d.type.prop(foldNodeProp);if(g&&(d.to<l.length-50||l.length==s.doc.length||!isUnfinished(d))){let m=g(d,s);m&&m.from<=a&&m.from>=r&&m.to>a&&(f=m)}}return f}function isUnfinished(s){let r=s.lastChild;return r&&r.to==s.to&&r.type.isError}function foldable(s,r,a){for(let l of s.facet(foldService)){let o=l(s,r,a);if(o)return o}return syntaxFolding(s,r,a)}function mapRange(s,r){let a=r.mapPos(s.from,1),l=r.mapPos(s.to,-1);return a>=l?void 0:{from:a,to:l}}const foldEffect=StateEffect.define({map:mapRange}),unfoldEffect=StateEffect.define({map:mapRange});function selectedLines(s){let r=[];for(let{head:a}of s.state.selection.ranges)r.some(l=>l.from<=a&&l.to>=a)||r.push(s.lineBlockAt(a));return r}const foldState=StateField.define({create(){return Decoration.none},update(s,r){r.isUserEvent("delete")&&r.changes.iterChangedRanges((a,l)=>s=clearTouchedFolds(s,a,l)),s=s.map(r.changes);for(let a of r.effects)if(a.is(foldEffect)&&!foldExists(s,a.value.from,a.value.to)){let{preparePlaceholder:l}=r.state.facet(foldConfig),o=l?Decoration.replace({widget:new PreparedFoldWidget(l(r.state,a.value))}):foldWidget;s=s.update({add:[o.range(a.value.from,a.value.to)]})}else a.is(unfoldEffect)&&(s=s.update({filter:(l,o)=>a.value.from!=l||a.value.to!=o,filterFrom:a.value.from,filterTo:a.value.to}));return r.selection&&(s=clearTouchedFolds(s,r.selection.main.head)),s},provide:s=>EditorView.decorations.from(s),toJSON(s,r){let a=[];return s.between(0,r.doc.length,(l,o)=>{a.push(l,o)}),a},fromJSON(s){if(!Array.isArray(s)||s.length%2)throw new RangeError("Invalid JSON for fold state");let r=[];for(let a=0;a<s.length;){let l=s[a++],o=s[a++];if(typeof l!="number"||typeof o!="number")throw new RangeError("Invalid JSON for fold state");r.push(foldWidget.range(l,o))}return Decoration.set(r,!0)}});function clearTouchedFolds(s,r,a=r){let l=!1;return s.between(r,a,(o,f)=>{o<a&&f>r&&(l=!0)}),l?s.update({filterFrom:r,filterTo:a,filter:(o,f)=>o>=a||f<=r}):s}function findFold(s,r,a){var l;let o=null;return(l=s.field(foldState,!1))===null||l===void 0||l.between(r,a,(f,h)=>{(!o||o.from>f)&&(o={from:f,to:h})}),o}function foldExists(s,r,a){let l=!1;return s.between(r,r,(o,f)=>{o==r&&f==a&&(l=!0)}),l}function maybeEnable(s,r){return s.field(foldState,!1)?r:r.concat(StateEffect.appendConfig.of(codeFolding()))}const foldCode=s=>{for(let r of selectedLines(s)){let a=foldable(s.state,r.from,r.to);if(a)return s.dispatch({effects:maybeEnable(s.state,[foldEffect.of(a),announceFold(s,a)])}),!0}return!1},unfoldCode=s=>{if(!s.state.field(foldState,!1))return!1;let r=[];for(let a of selectedLines(s)){let l=findFold(s.state,a.from,a.to);l&&r.push(unfoldEffect.of(l),announceFold(s,l,!1))}return r.length&&s.dispatch({effects:r}),r.length>0};function announceFold(s,r,a=!0){let l=s.state.doc.lineAt(r.from).number,o=s.state.doc.lineAt(r.to).number;return EditorView.announce.of(`${s.state.phrase(a?"Folded lines":"Unfolded lines")} ${l} ${s.state.phrase("to")} ${o}.`)}const foldAll=s=>{let{state:r}=s,a=[];for(let l=0;l<r.doc.length;){let o=s.lineBlockAt(l),f=foldable(r,o.from,o.to);f&&a.push(foldEffect.of(f)),l=(f?s.lineBlockAt(f.to):o).to+1}return a.length&&s.dispatch({effects:maybeEnable(s.state,a)}),!!a.length},unfoldAll=s=>{let r=s.state.field(foldState,!1);if(!r||!r.size)return!1;let a=[];return r.between(0,s.state.doc.length,(l,o)=>{a.push(unfoldEffect.of({from:l,to:o}))}),s.dispatch({effects:a}),!0},foldKeymap=[{key:"Ctrl-Shift-[",mac:"Cmd-Alt-[",run:foldCode},{key:"Ctrl-Shift-]",mac:"Cmd-Alt-]",run:unfoldCode},{key:"Ctrl-Alt-[",run:foldAll},{key:"Ctrl-Alt-]",run:unfoldAll}],defaultConfig={placeholderDOM:null,preparePlaceholder:null,placeholderText:""},foldConfig=Facet.define({combine(s){return combineConfig(s,defaultConfig)}});function codeFolding(s){return[foldState,baseTheme$1$1]}function widgetToDOM(s,r){let{state:a}=s,l=a.facet(foldConfig),o=h=>{let d=s.lineBlockAt(s.posAtDOM(h.target)),g=findFold(s.state,d.from,d.to);g&&s.dispatch({effects:unfoldEffect.of(g)}),h.preventDefault()};if(l.placeholderDOM)return l.placeholderDOM(s,o,r);let f=document.createElement("span");return f.textContent=l.placeholderText,f.setAttribute("aria-label",a.phrase("folded code")),f.title=a.phrase("unfold"),f.className="cm-foldPlaceholder",f.onclick=o,f}const foldWidget=Decoration.replace({widget:new class extends WidgetType{toDOM(s){return widgetToDOM(s,null)}}});class PreparedFoldWidget extends WidgetType{constructor(r){super(),this.value=r}eq(r){return this.value==r.value}toDOM(r){return widgetToDOM(r,this.value)}}const foldGutterDefaults={openText:"",closedText:"",markerDOM:null,domEventHandlers:{},foldingChanged:()=>!1};class FoldMarker extends GutterMarker{constructor(r,a){super(),this.config=r,this.open=a}eq(r){return this.config==r.config&&this.open==r.open}toDOM(r){if(this.config.markerDOM)return this.config.markerDOM(this.open);let a=document.createElement("span");return a.textContent=this.open?this.config.openText:this.config.closedText,a.title=r.state.phrase(this.open?"Fold line":"Unfold line"),a}}function foldGutter(s={}){let r={...foldGutterDefaults,...s},a=new FoldMarker(r,!0),l=new FoldMarker(r,!1),o=ViewPlugin.fromClass(class{constructor(h){this.from=h.viewport.from,this.markers=this.buildMarkers(h)}update(h){(h.docChanged||h.viewportChanged||h.startState.facet(language)!=h.state.facet(language)||h.startState.field(foldState,!1)!=h.state.field(foldState,!1)||syntaxTree(h.startState)!=syntaxTree(h.state)||r.foldingChanged(h))&&(this.markers=this.buildMarkers(h.view))}buildMarkers(h){let d=new RangeSetBuilder;for(let g of h.viewportLineBlocks){let m=findFold(h.state,g.from,g.to)?l:foldable(h.state,g.from,g.to)?a:null;m&&d.add(g.from,g.from,m)}return d.finish()}}),{domEventHandlers:f}=r;return[o,gutter({class:"cm-foldGutter",markers(h){var d;return((d=h.plugin(o))===null||d===void 0?void 0:d.markers)||RangeSet.empty},initialSpacer(){return new FoldMarker(r,!1)},domEventHandlers:{...f,click:(h,d,g)=>{if(f.click&&f.click(h,d,g))return!0;let m=findFold(h.state,d.from,d.to);if(m)return h.dispatch({effects:unfoldEffect.of(m)}),!0;let y=foldable(h.state,d.from,d.to);return y?(h.dispatch({effects:foldEffect.of(y)}),!0):!1}}}),codeFolding()]}const baseTheme$1$1=EditorView.baseTheme({".cm-foldPlaceholder":{backgroundColor:"#eee",border:"1px solid #ddd",color:"#888",borderRadius:".2em",margin:"0 1px",padding:"0 1px",cursor:"pointer"},".cm-foldGutter span":{padding:"0 1px",cursor:"pointer"}});class HighlightStyle{constructor(r,a){this.specs=r;let l;function o(d){let g=StyleModule.newName();return(l||(l=Object.create(null)))["."+g]=d,g}const f=typeof a.all=="string"?a.all:a.all?o(a.all):void 0,h=a.scope;this.scope=h instanceof Language?d=>d.prop(languageDataProp)==h.data:h?d=>d==h:void 0,this.style=tagHighlighter(r.map(d=>({tag:d.tag,class:d.class||o(Object.assign({},d,{tag:null}))})),{all:f}).style,this.module=l?new StyleModule(l):null,this.themeType=a.themeType}static define(r,a){return new HighlightStyle(r,a||{})}}const highlighterFacet=Facet.define(),fallbackHighlighter=Facet.define({combine(s){return s.length?[s[0]]:null}});function getHighlighters(s){let r=s.facet(highlighterFacet);return r.length?r:s.facet(fallbackHighlighter)}function syntaxHighlighting(s,r){let a=[treeHighlighter],l;return s instanceof HighlightStyle&&(s.module&&a.push(EditorView.styleModule.of(s.module)),l=s.themeType),r?.fallback?a.push(fallbackHighlighter.of(s)):l?a.push(highlighterFacet.computeN([EditorView.darkTheme],o=>o.facet(EditorView.darkTheme)==(l=="dark")?[s]:[])):a.push(highlighterFacet.of(s)),a}class TreeHighlighter{constructor(r){this.markCache=Object.create(null),this.tree=syntaxTree(r.state),this.decorations=this.buildDeco(r,getHighlighters(r.state)),this.decoratedTo=r.viewport.to}update(r){let a=syntaxTree(r.state),l=getHighlighters(r.state),o=l!=getHighlighters(r.startState),{viewport:f}=r.view,h=r.changes.mapPos(this.decoratedTo,1);a.length<f.to&&!o&&a.type==this.tree.type&&h>=f.to?(this.decorations=this.decorations.map(r.changes),this.decoratedTo=h):(a!=this.tree||r.viewportChanged||o)&&(this.tree=a,this.decorations=this.buildDeco(r.view,l),this.decoratedTo=f.to)}buildDeco(r,a){if(!a||!this.tree.length)return Decoration.none;let l=new RangeSetBuilder;for(let{from:o,to:f}of r.visibleRanges)highlightTree(this.tree,a,(h,d,g)=>{l.add(h,d,this.markCache[g]||(this.markCache[g]=Decoration.mark({class:g})))},o,f);return l.finish()}}const treeHighlighter=Prec.high(ViewPlugin.fromClass(TreeHighlighter,{decorations:s=>s.decorations})),defaultHighlightStyle=HighlightStyle.define([{tag:tags.meta,color:"#404740"},{tag:tags.link,textDecoration:"underline"},{tag:tags.heading,textDecoration:"underline",fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strong,fontWeight:"bold"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.keyword,color:"#708"},{tag:[tags.atom,tags.bool,tags.url,tags.contentSeparator,tags.labelName],color:"#219"},{tag:[tags.literal,tags.inserted],color:"#164"},{tag:[tags.string,tags.deleted],color:"#a11"},{tag:[tags.regexp,tags.escape,tags.special(tags.string)],color:"#e40"},{tag:tags.definition(tags.variableName),color:"#00f"},{tag:tags.local(tags.variableName),color:"#30a"},{tag:[tags.typeName,tags.namespace],color:"#085"},{tag:tags.className,color:"#167"},{tag:[tags.special(tags.variableName),tags.macroName],color:"#256"},{tag:tags.definition(tags.propertyName),color:"#00c"},{tag:tags.comment,color:"#940"},{tag:tags.invalid,color:"#f00"}]),baseTheme$3=EditorView.baseTheme({"&.cm-focused .cm-matchingBracket":{backgroundColor:"#328c8252"},"&.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bb555544"}}),DefaultScanDist=1e4,DefaultBrackets="()[]{}",bracketMatchingConfig=Facet.define({combine(s){return combineConfig(s,{afterCursor:!0,brackets:DefaultBrackets,maxScanDistance:DefaultScanDist,renderMatch:defaultRenderMatch})}}),matchingMark=Decoration.mark({class:"cm-matchingBracket"}),nonmatchingMark=Decoration.mark({class:"cm-nonmatchingBracket"});function defaultRenderMatch(s){let r=[],a=s.matched?matchingMark:nonmatchingMark;return r.push(a.range(s.start.from,s.start.to)),s.end&&r.push(a.range(s.end.from,s.end.to)),r}const bracketMatchingState=StateField.define({create(){return Decoration.none},update(s,r){if(!r.docChanged&&!r.selection)return s;let a=[],l=r.state.facet(bracketMatchingConfig);for(let o of r.state.selection.ranges){if(!o.empty)continue;let f=matchBrackets(r.state,o.head,-1,l)||o.head>0&&matchBrackets(r.state,o.head-1,1,l)||l.afterCursor&&(matchBrackets(r.state,o.head,1,l)||o.head<r.state.doc.length&&matchBrackets(r.state,o.head+1,-1,l));f&&(a=a.concat(l.renderMatch(f,r.state)))}return Decoration.set(a,!0)},provide:s=>EditorView.decorations.from(s)}),bracketMatchingUnique=[bracketMatchingState,baseTheme$3];function bracketMatching(s={}){return[bracketMatchingConfig.of(s),bracketMatchingUnique]}const bracketMatchingHandle=new NodeProp;function matchingNodes(s,r,a){let l=s.prop(r<0?NodeProp.openedBy:NodeProp.closedBy);if(l)return l;if(s.name.length==1){let o=a.indexOf(s.name);if(o>-1&&o%2==(r<0?1:0))return[a[o+r]]}return null}function findHandle(s){let r=s.type.prop(bracketMatchingHandle);return r?r(s.node):s}function matchBrackets(s,r,a,l={}){let o=l.maxScanDistance||DefaultScanDist,f=l.brackets||DefaultBrackets,h=syntaxTree(s),d=h.resolveInner(r,a);for(let g=d;g;g=g.parent){let m=matchingNodes(g.type,a,f);if(m&&g.from<g.to){let y=findHandle(g);if(y&&(a>0?r>=y.from&&r<y.to:r>y.from&&r<=y.to))return matchMarkedBrackets(s,r,a,g,y,m,f)}}return matchPlainBrackets(s,r,a,h,d.type,o,f)}function matchMarkedBrackets(s,r,a,l,o,f,h){let d=l.parent,g={from:o.from,to:o.to},m=0,y=d?.cursor();if(y&&(a<0?y.childBefore(l.from):y.childAfter(l.to)))do if(a<0?y.to<=l.from:y.from>=l.to){if(m==0&&f.indexOf(y.type.name)>-1&&y.from<y.to){let S=findHandle(y);return{start:g,end:S?{from:S.from,to:S.to}:void 0,matched:!0}}else if(matchingNodes(y.type,a,h))m++;else if(matchingNodes(y.type,-a,h)){if(m==0){let S=findHandle(y);return{start:g,end:S&&S.from<S.to?{from:S.from,to:S.to}:void 0,matched:!1}}m--}}while(a<0?y.prevSibling():y.nextSibling());return{start:g,matched:!1}}function matchPlainBrackets(s,r,a,l,o,f,h){let d=a<0?s.sliceDoc(r-1,r):s.sliceDoc(r,r+1),g=h.indexOf(d);if(g<0||g%2==0!=a>0)return null;let m={from:a<0?r-1:r,to:a>0?r+1:r},y=s.doc.iterRange(r,a>0?s.doc.length:0),S=0;for(let x=0;!y.next().done&&x<=f;){let w=y.value;a<0&&(x+=w.length);let Q=r+x*a;for(let A=a>0?0:w.length-1,M=a>0?w.length:-1;A!=M;A+=a){let L=h.indexOf(w[A]);if(!(L<0||l.resolveInner(Q+A,1).type!=o))if(L%2==0==a>0)S++;else{if(S==1)return{start:m,end:{from:Q+A,to:Q+A+1},matched:L>>1==g>>1};S--}}a>0&&(x+=w.length)}return y.done?{start:m,matched:!1}:null}function countCol(s,r,a,l=0,o=0){r==null&&(r=s.search(/[^\s\u00a0]/),r==-1&&(r=s.length));let f=o;for(let h=l;h<r;h++)s.charCodeAt(h)==9?f+=a-f%a:f++;return f}class StringStream{constructor(r,a,l,o){this.string=r,this.tabSize=a,this.indentUnit=l,this.overrideIndent=o,this.pos=0,this.start=0,this.lastColumnPos=0,this.lastColumnValue=0}eol(){return this.pos>=this.string.length}sol(){return this.pos==0}peek(){return this.string.charAt(this.pos)||void 0}next(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)}eat(r){let a=this.string.charAt(this.pos),l;if(typeof r=="string"?l=a==r:l=a&&(r instanceof RegExp?r.test(a):r(a)),l)return++this.pos,a}eatWhile(r){let a=this.pos;for(;this.eat(r););return this.pos>a}eatSpace(){let r=this.pos;for(;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>r}skipToEnd(){this.pos=this.string.length}skipTo(r){let a=this.string.indexOf(r,this.pos);if(a>-1)return this.pos=a,!0}backUp(r){this.pos-=r}column(){return this.lastColumnPos<this.start&&(this.lastColumnValue=countCol(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue}indentation(){var r;return(r=this.overrideIndent)!==null&&r!==void 0?r:countCol(this.string,null,this.tabSize)}match(r,a,l){if(typeof r=="string"){let o=h=>l?h.toLowerCase():h,f=this.string.substr(this.pos,r.length);return o(f)==o(r)?(a!==!1&&(this.pos+=r.length),!0):null}else{let o=this.string.slice(this.pos).match(r);return o&&o.index>0?null:(o&&a!==!1&&(this.pos+=o[0].length),o)}}current(){return this.string.slice(this.start,this.pos)}}function fullParser(s){return{name:s.name||"",token:s.token,blankLine:s.blankLine||(()=>{}),startState:s.startState||(()=>!0),copyState:s.copyState||defaultCopyState,indent:s.indent||(()=>null),languageData:s.languageData||{},tokenTable:s.tokenTable||noTokens,mergeTokens:s.mergeTokens!==!1}}function defaultCopyState(s){if(typeof s!="object")return s;let r={};for(let a in s){let l=s[a];r[a]=l instanceof Array?l.slice():l}return r}const IndentedFrom=new WeakMap;class StreamLanguage extends Language{constructor(r){let a=defineLanguageFacet(r.languageData),l=fullParser(r),o,f=new class extends Parser{createParse(h,d,g){return new Parse$1(o,h,d,g)}};super(a,f,[],r.name),this.topNode=docID(a,this),o=this,this.streamParser=l,this.stateAfter=new NodeProp({perNode:!0}),this.tokenTable=r.tokenTable?new TokenTable(l.tokenTable):defaultTokenTable}static define(r){return new StreamLanguage(r)}getIndent(r){let a,{overrideIndentation:l}=r.options;l&&(a=IndentedFrom.get(r.state),a!=null&&a<r.pos-1e4&&(a=void 0));let o=findState(this,r.node.tree,r.node.from,r.node.from,a??r.pos),f,h;if(o?(h=o.state,f=o.pos+1):(h=this.streamParser.startState(r.unit),f=r.node.from),r.pos-f>1e4)return null;for(;f<r.pos;){let g=r.state.doc.lineAt(f),m=Math.min(r.pos,g.to);if(g.length){let y=l?l(g.from):-1,S=new StringStream(g.text,r.state.tabSize,r.unit,y<0?void 0:y);for(;S.pos<m-g.from;)readToken$1(this.streamParser.token,S,h)}else this.streamParser.blankLine(h,r.unit);if(m==r.pos)break;f=g.to+1}let d=r.lineAt(r.pos);return l&&a==null&&IndentedFrom.set(r.state,d.from),this.streamParser.indent(h,/^\s*(.*)/.exec(d.text)[1],r)}get allowsNesting(){return!1}}function findState(s,r,a,l,o){let f=a>=l&&a+r.length<=o&&r.prop(s.stateAfter);if(f)return{state:s.streamParser.copyState(f),pos:a+r.length};for(let h=r.children.length-1;h>=0;h--){let d=r.children[h],g=a+r.positions[h],m=d instanceof Tree&&g<o&&findState(s,d,g,l,o);if(m)return m}return null}function cutTree(s,r,a,l,o){if(o&&a<=0&&l>=r.length)return r;!o&&a==0&&r.type==s.topNode&&(o=!0);for(let f=r.children.length-1;f>=0;f--){let h=r.positions[f],d=r.children[f],g;if(h<l&&d instanceof Tree){if(!(g=cutTree(s,d,a-h,l-h,o)))break;return o?new Tree(r.type,r.children.slice(0,f).concat(g),r.positions.slice(0,f+1),h+g.length):g}}return null}function findStartInFragments(s,r,a,l,o){for(let f of r){let h=f.from+(f.openStart?25:0),d=f.to-(f.openEnd?25:0),g=h<=a&&d>a&&findState(s,f.tree,0-f.offset,a,d),m;if(g&&g.pos<=l&&(m=cutTree(s,f.tree,a+f.offset,g.pos+f.offset,!1)))return{state:g.state,tree:m}}return{state:s.streamParser.startState(o?getIndentUnit(o):4),tree:Tree.empty}}let Parse$1=class{constructor(r,a,l,o){this.lang=r,this.input=a,this.fragments=l,this.ranges=o,this.stoppedAt=null,this.chunks=[],this.chunkPos=[],this.chunk=[],this.chunkReused=void 0,this.rangeIndex=0,this.to=o[o.length-1].to;let f=ParseContext.get(),h=o[0].from,{state:d,tree:g}=findStartInFragments(r,l,h,this.to,f?.state);this.state=d,this.parsedPos=this.chunkStart=h+g.length;for(let m=0;m<g.children.length;m++)this.chunks.push(g.children[m]),this.chunkPos.push(g.positions[m]);f&&this.parsedPos<f.viewport.from-1e5&&o.some(m=>m.from<=f.viewport.from&&m.to>=f.viewport.from)&&(this.state=this.lang.streamParser.startState(getIndentUnit(f.state)),f.skipUntilInView(this.parsedPos,f.viewport.from),this.parsedPos=f.viewport.from),this.moveRangeIndex()}advance(){let r=ParseContext.get(),a=this.stoppedAt==null?this.to:Math.min(this.to,this.stoppedAt),l=Math.min(a,this.chunkStart+512);for(r&&(l=Math.min(l,r.viewport.to));this.parsedPos<l;)this.parseLine(r);return this.chunkStart<this.parsedPos&&this.finishChunk(),this.parsedPos>=a?this.finish():r&&this.parsedPos>=r.viewport.to?(r.skipUntilInView(this.parsedPos,a),this.finish()):null}stopAt(r){this.stoppedAt=r}lineAfter(r){let a=this.input.chunk(r);if(this.input.lineChunks)a==`
`&&(a="");else{let l=a.indexOf(`
`);l>-1&&(a=a.slice(0,l))}return r+a.length<=this.to?a:a.slice(0,this.to-r)}nextLine(){let r=this.parsedPos,a=this.lineAfter(r),l=r+a.length;for(let o=this.rangeIndex;;){let f=this.ranges[o].to;if(f>=l||(a=a.slice(0,f-(l-a.length)),o++,o==this.ranges.length))break;let h=this.ranges[o].from,d=this.lineAfter(h);a+=d,l=h+d.length}return{line:a,end:l}}skipGapsTo(r,a,l){for(;;){let o=this.ranges[this.rangeIndex].to,f=r+a;if(l>0?o>f:o>=f)break;let h=this.ranges[++this.rangeIndex].from;a+=h-o}return a}moveRangeIndex(){for(;this.ranges[this.rangeIndex].to<this.parsedPos;)this.rangeIndex++}emitToken(r,a,l,o){let f=4;if(this.ranges.length>1){o=this.skipGapsTo(a,o,1),a+=o;let d=this.chunk.length;o=this.skipGapsTo(l,o,-1),l+=o,f+=this.chunk.length-d}let h=this.chunk.length-4;return this.lang.streamParser.mergeTokens&&f==4&&h>=0&&this.chunk[h]==r&&this.chunk[h+2]==a?this.chunk[h+2]=l:this.chunk.push(r,a,l,f),o}parseLine(r){let{line:a,end:l}=this.nextLine(),o=0,{streamParser:f}=this.lang,h=new StringStream(a,r?r.state.tabSize:4,r?getIndentUnit(r.state):2);if(h.eol())f.blankLine(this.state,h.indentUnit);else for(;!h.eol();){let d=readToken$1(f.token,h,this.state);if(d&&(o=this.emitToken(this.lang.tokenTable.resolve(d),this.parsedPos+h.start,this.parsedPos+h.pos,o)),h.start>1e4)break}this.parsedPos=l,this.moveRangeIndex(),this.parsedPos<this.to&&this.parsedPos++}finishChunk(){let r=Tree.build({buffer:this.chunk,start:this.chunkStart,length:this.parsedPos-this.chunkStart,nodeSet,topID:0,maxBufferLength:512,reused:this.chunkReused});r=new Tree(r.type,r.children,r.positions,r.length,[[this.lang.stateAfter,this.lang.streamParser.copyState(this.state)]]),this.chunks.push(r),this.chunkPos.push(this.chunkStart-this.ranges[0].from),this.chunk=[],this.chunkReused=void 0,this.chunkStart=this.parsedPos}finish(){return new Tree(this.lang.topNode,this.chunks,this.chunkPos,this.parsedPos-this.ranges[0].from).balance()}};function readToken$1(s,r,a){r.start=r.pos;for(let l=0;l<10;l++){let o=s(r,a);if(r.pos>r.start)return o}throw new Error("Stream parser failed to advance stream.")}const noTokens=Object.create(null),typeArray=[NodeType.none],nodeSet=new NodeSet(typeArray),warned=[],byTag=Object.create(null),defaultTable=Object.create(null);for(let[s,r]of[["variable","variableName"],["variable-2","variableName.special"],["string-2","string.special"],["def","variableName.definition"],["tag","tagName"],["attribute","attributeName"],["type","typeName"],["builtin","variableName.standard"],["qualifier","modifier"],["error","invalid"],["header","heading"],["property","propertyName"]])defaultTable[s]=createTokenType(noTokens,r);class TokenTable{constructor(r){this.extra=r,this.table=Object.assign(Object.create(null),defaultTable)}resolve(r){return r?this.table[r]||(this.table[r]=createTokenType(this.extra,r)):0}}const defaultTokenTable=new TokenTable(noTokens);function warnForPart(s,r){warned.indexOf(s)>-1||(warned.push(s),console.warn(r))}function createTokenType(s,r){let a=[];for(let d of r.split(" ")){let g=[];for(let m of d.split(".")){let y=s[m]||tags[m];y?typeof y=="function"?g.length?g=g.map(y):warnForPart(m,`Modifier ${m} used at start of tag`):g.length?warnForPart(m,`Tag ${m} used as modifier`):g=Array.isArray(y)?y:[y]:warnForPart(m,`Unknown highlighting tag ${m}`)}for(let m of g)a.push(m)}if(!a.length)return 0;let l=r.replace(/ /g,"_"),o=l+" "+a.map(d=>d.id),f=byTag[o];if(f)return f.id;let h=byTag[o]=NodeType.define({id:typeArray.length,name:l,props:[styleTags({[l]:a})]});return typeArray.push(h),h.id}function docID(s,r){let a=NodeType.define({id:typeArray.length,name:"Document",props:[languageDataProp.add(()=>s),indentNodeProp.add(()=>l=>r.getIndent(l))],top:!0});return typeArray.push(a),a}Direction.RTL,Direction.LTR;const toggleComment=s=>{let{state:r}=s,a=r.doc.lineAt(r.selection.main.from),l=getConfig(s.state,a.from);return l.line?toggleLineComment(s):l.block?toggleBlockCommentByLine(s):!1};function command(s,r){return({state:a,dispatch:l})=>{if(a.readOnly)return!1;let o=s(r,a);return o?(l(a.update(o)),!0):!1}}const toggleLineComment=command(changeLineComment,0),toggleBlockComment=command(changeBlockComment,0),toggleBlockCommentByLine=command((s,r)=>changeBlockComment(s,r,selectedLineRanges(r)),0);function getConfig(s,r){let a=s.languageDataAt("commentTokens",r,1);return a.length?a[0]:{}}const SearchMargin=50;function findBlockComment(s,{open:r,close:a},l,o){let f=s.sliceDoc(l-SearchMargin,l),h=s.sliceDoc(o,o+SearchMargin),d=/\s*$/.exec(f)[0].length,g=/^\s*/.exec(h)[0].length,m=f.length-d;if(f.slice(m-r.length,m)==r&&h.slice(g,g+a.length)==a)return{open:{pos:l-d,margin:d&&1},close:{pos:o+g,margin:g&&1}};let y,S;o-l<=2*SearchMargin?y=S=s.sliceDoc(l,o):(y=s.sliceDoc(l,l+SearchMargin),S=s.sliceDoc(o-SearchMargin,o));let x=/^\s*/.exec(y)[0].length,w=/\s*$/.exec(S)[0].length,Q=S.length-w-a.length;return y.slice(x,x+r.length)==r&&S.slice(Q,Q+a.length)==a?{open:{pos:l+x+r.length,margin:/\s/.test(y.charAt(x+r.length))?1:0},close:{pos:o-w-a.length,margin:/\s/.test(S.charAt(Q-1))?1:0}}:null}function selectedLineRanges(s){let r=[];for(let a of s.selection.ranges){let l=s.doc.lineAt(a.from),o=a.to<=l.to?l:s.doc.lineAt(a.to);o.from>l.from&&o.from==a.to&&(o=a.to==l.to+1?l:s.doc.lineAt(a.to-1));let f=r.length-1;f>=0&&r[f].to>l.from?r[f].to=o.to:r.push({from:l.from+/^\s*/.exec(l.text)[0].length,to:o.to})}return r}function changeBlockComment(s,r,a=r.selection.ranges){let l=a.map(f=>getConfig(r,f.from).block);if(!l.every(f=>f))return null;let o=a.map((f,h)=>findBlockComment(r,l[h],f.from,f.to));if(s!=2&&!o.every(f=>f))return{changes:r.changes(a.map((f,h)=>o[h]?[]:[{from:f.from,insert:l[h].open+" "},{from:f.to,insert:" "+l[h].close}]))};if(s!=1&&o.some(f=>f)){let f=[];for(let h=0,d;h<o.length;h++)if(d=o[h]){let g=l[h],{open:m,close:y}=d;f.push({from:m.pos-g.open.length,to:m.pos+m.margin},{from:y.pos-y.margin,to:y.pos+g.close.length})}return{changes:f}}return null}function changeLineComment(s,r,a=r.selection.ranges){let l=[],o=-1;e:for(let{from:f,to:h}of a){let d=l.length,g=1e9,m;for(let y=f;y<=h;){let S=r.doc.lineAt(y);if(m==null&&(m=getConfig(r,S.from).line,!m))continue e;if(S.from>o&&(f==h||h>S.from)){o=S.from;let x=/^\s*/.exec(S.text)[0].length,w=x==S.length,Q=S.text.slice(x,x+m.length)==m?x:-1;x<S.text.length&&x<g&&(g=x),l.push({line:S,comment:Q,token:m,indent:x,empty:w,single:!1})}y=S.to+1}if(g<1e9)for(let y=d;y<l.length;y++)l[y].indent<l[y].line.text.length&&(l[y].indent=g);l.length==d+1&&(l[d].single=!0)}if(s!=2&&l.some(f=>f.comment<0&&(!f.empty||f.single))){let f=[];for(let{line:d,token:g,indent:m,empty:y,single:S}of l)(S||!y)&&f.push({from:d.from+m,insert:g+" "});let h=r.changes(f);return{changes:h,selection:r.selection.map(h,1)}}else if(s!=1&&l.some(f=>f.comment>=0)){let f=[];for(let{line:h,comment:d,token:g}of l)if(d>=0){let m=h.from+d,y=m+g.length;h.text[y-h.from]==" "&&y++,f.push({from:m,to:y})}return{changes:f}}return null}const fromHistory=Annotation.define(),isolateHistory=Annotation.define(),invertedEffects=Facet.define(),historyConfig=Facet.define({combine(s){return combineConfig(s,{minDepth:100,newGroupDelay:500,joinToEvent:(r,a)=>a},{minDepth:Math.max,newGroupDelay:Math.min,joinToEvent:(r,a)=>(l,o)=>r(l,o)||a(l,o)})}}),historyField_=StateField.define({create(){return HistoryState.empty},update(s,r){let a=r.state.facet(historyConfig),l=r.annotation(fromHistory);if(l){let g=HistEvent.fromTransaction(r,l.selection),m=l.side,y=m==0?s.undone:s.done;return g?y=updateBranch(y,y.length,a.minDepth,g):y=addSelection(y,r.startState.selection),new HistoryState(m==0?l.rest:y,m==0?y:l.rest)}let o=r.annotation(isolateHistory);if((o=="full"||o=="before")&&(s=s.isolate()),r.annotation(Transaction.addToHistory)===!1)return r.changes.empty?s:s.addMapping(r.changes.desc);let f=HistEvent.fromTransaction(r),h=r.annotation(Transaction.time),d=r.annotation(Transaction.userEvent);return f?s=s.addChanges(f,h,d,a,r):r.selection&&(s=s.addSelection(r.startState.selection,h,d,a.newGroupDelay)),(o=="full"||o=="after")&&(s=s.isolate()),s},toJSON(s){return{done:s.done.map(r=>r.toJSON()),undone:s.undone.map(r=>r.toJSON())}},fromJSON(s){return new HistoryState(s.done.map(HistEvent.fromJSON),s.undone.map(HistEvent.fromJSON))}});function history(s={}){return[historyField_,historyConfig.of(s),EditorView.domEventHandlers({beforeinput(r,a){let l=r.inputType=="historyUndo"?undo:r.inputType=="historyRedo"?redo:null;return l?(r.preventDefault(),l(a)):!1}})]}function cmd(s,r){return function({state:a,dispatch:l}){if(!r&&a.readOnly)return!1;let o=a.field(historyField_,!1);if(!o)return!1;let f=o.pop(s,a,r);return f?(l(f),!0):!1}}const undo=cmd(0,!1),redo=cmd(1,!1),undoSelection=cmd(0,!0),redoSelection=cmd(1,!0);class HistEvent{constructor(r,a,l,o,f){this.changes=r,this.effects=a,this.mapped=l,this.startSelection=o,this.selectionsAfter=f}setSelAfter(r){return new HistEvent(this.changes,this.effects,this.mapped,this.startSelection,r)}toJSON(){var r,a,l;return{changes:(r=this.changes)===null||r===void 0?void 0:r.toJSON(),mapped:(a=this.mapped)===null||a===void 0?void 0:a.toJSON(),startSelection:(l=this.startSelection)===null||l===void 0?void 0:l.toJSON(),selectionsAfter:this.selectionsAfter.map(o=>o.toJSON())}}static fromJSON(r){return new HistEvent(r.changes&&ChangeSet.fromJSON(r.changes),[],r.mapped&&ChangeDesc.fromJSON(r.mapped),r.startSelection&&EditorSelection.fromJSON(r.startSelection),r.selectionsAfter.map(EditorSelection.fromJSON))}static fromTransaction(r,a){let l=none$1;for(let o of r.startState.facet(invertedEffects)){let f=o(r);f.length&&(l=l.concat(f))}return!l.length&&r.changes.empty?null:new HistEvent(r.changes.invert(r.startState.doc),l,void 0,a||r.startState.selection,none$1)}static selection(r){return new HistEvent(void 0,none$1,void 0,void 0,r)}}function updateBranch(s,r,a,l){let o=r+1>a+20?r-a-1:0,f=s.slice(o,r);return f.push(l),f}function isAdjacent(s,r){let a=[],l=!1;return s.iterChangedRanges((o,f)=>a.push(o,f)),r.iterChangedRanges((o,f,h,d)=>{for(let g=0;g<a.length;){let m=a[g++],y=a[g++];d>=m&&h<=y&&(l=!0)}}),l}function eqSelectionShape(s,r){return s.ranges.length==r.ranges.length&&s.ranges.filter((a,l)=>a.empty!=r.ranges[l].empty).length===0}function conc(s,r){return s.length?r.length?s.concat(r):s:r}const none$1=[],MaxSelectionsPerEvent=200;function addSelection(s,r){if(s.length){let a=s[s.length-1],l=a.selectionsAfter.slice(Math.max(0,a.selectionsAfter.length-MaxSelectionsPerEvent));return l.length&&l[l.length-1].eq(r)?s:(l.push(r),updateBranch(s,s.length-1,1e9,a.setSelAfter(l)))}else return[HistEvent.selection([r])]}function popSelection(s){let r=s[s.length-1],a=s.slice();return a[s.length-1]=r.setSelAfter(r.selectionsAfter.slice(0,r.selectionsAfter.length-1)),a}function addMappingToBranch(s,r){if(!s.length)return s;let a=s.length,l=none$1;for(;a;){let o=mapEvent(s[a-1],r,l);if(o.changes&&!o.changes.empty||o.effects.length){let f=s.slice(0,a);return f[a-1]=o,f}else r=o.mapped,a--,l=o.selectionsAfter}return l.length?[HistEvent.selection(l)]:none$1}function mapEvent(s,r,a){let l=conc(s.selectionsAfter.length?s.selectionsAfter.map(d=>d.map(r)):none$1,a);if(!s.changes)return HistEvent.selection(l);let o=s.changes.map(r),f=r.mapDesc(s.changes,!0),h=s.mapped?s.mapped.composeDesc(f):f;return new HistEvent(o,StateEffect.mapEffects(s.effects,r),h,s.startSelection.map(f),l)}const joinableUserEvent=/^(input\.type|delete)($|\.)/;class HistoryState{constructor(r,a,l=0,o=void 0){this.done=r,this.undone=a,this.prevTime=l,this.prevUserEvent=o}isolate(){return this.prevTime?new HistoryState(this.done,this.undone):this}addChanges(r,a,l,o,f){let h=this.done,d=h[h.length-1];return d&&d.changes&&!d.changes.empty&&r.changes&&(!l||joinableUserEvent.test(l))&&(!d.selectionsAfter.length&&a-this.prevTime<o.newGroupDelay&&o.joinToEvent(f,isAdjacent(d.changes,r.changes))||l=="input.type.compose")?h=updateBranch(h,h.length-1,o.minDepth,new HistEvent(r.changes.compose(d.changes),conc(StateEffect.mapEffects(r.effects,d.changes),d.effects),d.mapped,d.startSelection,none$1)):h=updateBranch(h,h.length,o.minDepth,r),new HistoryState(h,none$1,a,l)}addSelection(r,a,l,o){let f=this.done.length?this.done[this.done.length-1].selectionsAfter:none$1;return f.length>0&&a-this.prevTime<o&&l==this.prevUserEvent&&l&&/^select($|\.)/.test(l)&&eqSelectionShape(f[f.length-1],r)?this:new HistoryState(addSelection(this.done,r),this.undone,a,l)}addMapping(r){return new HistoryState(addMappingToBranch(this.done,r),addMappingToBranch(this.undone,r),this.prevTime,this.prevUserEvent)}pop(r,a,l){let o=r==0?this.done:this.undone;if(o.length==0)return null;let f=o[o.length-1],h=f.selectionsAfter[0]||(f.startSelection?f.startSelection.map(f.changes.invertedDesc,1):a.selection);if(l&&f.selectionsAfter.length)return a.update({selection:f.selectionsAfter[f.selectionsAfter.length-1],annotations:fromHistory.of({side:r,rest:popSelection(o),selection:h}),userEvent:r==0?"select.undo":"select.redo",scrollIntoView:!0});if(f.changes){let d=o.length==1?none$1:o.slice(0,o.length-1);return f.mapped&&(d=addMappingToBranch(d,f.mapped)),a.update({changes:f.changes,selection:f.startSelection,effects:f.effects,annotations:fromHistory.of({side:r,rest:d,selection:h}),filter:!1,userEvent:r==0?"undo":"redo",scrollIntoView:!0})}else return null}}HistoryState.empty=new HistoryState(none$1,none$1);const historyKeymap=[{key:"Mod-z",run:undo,preventDefault:!0},{key:"Mod-y",mac:"Mod-Shift-z",run:redo,preventDefault:!0},{linux:"Ctrl-Shift-z",run:redo,preventDefault:!0},{key:"Mod-u",run:undoSelection,preventDefault:!0},{key:"Alt-u",mac:"Mod-Shift-u",run:redoSelection,preventDefault:!0}];function updateSel(s,r){return EditorSelection.create(s.ranges.map(r),s.mainIndex)}function setSel(s,r){return s.update({selection:r,scrollIntoView:!0,userEvent:"select"})}function moveSel({state:s,dispatch:r},a){let l=updateSel(s.selection,a);return l.eq(s.selection,!0)?!1:(r(setSel(s,l)),!0)}function rangeEnd(s,r){return EditorSelection.cursor(r?s.to:s.from)}function cursorByChar(s,r){return moveSel(s,a=>a.empty?s.moveByChar(a,r):rangeEnd(a,r))}function ltrAtCursor(s){return s.textDirectionAt(s.state.selection.main.head)==Direction.LTR}const cursorCharLeft=s=>cursorByChar(s,!ltrAtCursor(s)),cursorCharRight=s=>cursorByChar(s,ltrAtCursor(s));function cursorByGroup(s,r){return moveSel(s,a=>a.empty?s.moveByGroup(a,r):rangeEnd(a,r))}const cursorGroupLeft=s=>cursorByGroup(s,!ltrAtCursor(s)),cursorGroupRight=s=>cursorByGroup(s,ltrAtCursor(s));function interestingNode(s,r,a){if(r.type.prop(a))return!0;let l=r.to-r.from;return l&&(l>2||/[^\s,.;:]/.test(s.sliceDoc(r.from,r.to)))||r.firstChild}function moveBySyntax(s,r,a){let l=syntaxTree(s).resolveInner(r.head),o=a?NodeProp.closedBy:NodeProp.openedBy;for(let g=r.head;;){let m=a?l.childAfter(g):l.childBefore(g);if(!m)break;interestingNode(s,m,o)?l=m:g=a?m.to:m.from}let f=l.type.prop(o),h,d;return f&&(h=a?matchBrackets(s,l.from,1):matchBrackets(s,l.to,-1))&&h.matched?d=a?h.end.to:h.end.from:d=a?l.to:l.from,EditorSelection.cursor(d,a?-1:1)}const cursorSyntaxLeft=s=>moveSel(s,r=>moveBySyntax(s.state,r,!ltrAtCursor(s))),cursorSyntaxRight=s=>moveSel(s,r=>moveBySyntax(s.state,r,ltrAtCursor(s)));function cursorByLine(s,r){return moveSel(s,a=>{if(!a.empty)return rangeEnd(a,r);let l=s.moveVertically(a,r);return l.head!=a.head?l:s.moveToLineBoundary(a,r)})}const cursorLineUp=s=>cursorByLine(s,!1),cursorLineDown=s=>cursorByLine(s,!0);function pageInfo(s){let r=s.scrollDOM.clientHeight<s.scrollDOM.scrollHeight-2,a=0,l=0,o;if(r){for(let f of s.state.facet(EditorView.scrollMargins)){let h=f(s);h?.top&&(a=Math.max(h?.top,a)),h?.bottom&&(l=Math.max(h?.bottom,l))}o=s.scrollDOM.clientHeight-a-l}else o=(s.dom.ownerDocument.defaultView||window).innerHeight;return{marginTop:a,marginBottom:l,selfScroll:r,height:Math.max(s.defaultLineHeight,o-5)}}function cursorByPage(s,r){let a=pageInfo(s),{state:l}=s,o=updateSel(l.selection,h=>h.empty?s.moveVertically(h,r,a.height):rangeEnd(h,r));if(o.eq(l.selection))return!1;let f;if(a.selfScroll){let h=s.coordsAtPos(l.selection.main.head),d=s.scrollDOM.getBoundingClientRect(),g=d.top+a.marginTop,m=d.bottom-a.marginBottom;h&&h.top>g&&h.bottom<m&&(f=EditorView.scrollIntoView(o.main.head,{y:"start",yMargin:h.top-g}))}return s.dispatch(setSel(l,o),{effects:f}),!0}const cursorPageUp=s=>cursorByPage(s,!1),cursorPageDown=s=>cursorByPage(s,!0);function moveByLineBoundary(s,r,a){let l=s.lineBlockAt(r.head),o=s.moveToLineBoundary(r,a);if(o.head==r.head&&o.head!=(a?l.to:l.from)&&(o=s.moveToLineBoundary(r,a,!1)),!a&&o.head==l.from&&l.length){let f=/^\s*/.exec(s.state.sliceDoc(l.from,Math.min(l.from+100,l.to)))[0].length;f&&r.head!=l.from+f&&(o=EditorSelection.cursor(l.from+f))}return o}const cursorLineBoundaryForward=s=>moveSel(s,r=>moveByLineBoundary(s,r,!0)),cursorLineBoundaryBackward=s=>moveSel(s,r=>moveByLineBoundary(s,r,!1)),cursorLineBoundaryLeft=s=>moveSel(s,r=>moveByLineBoundary(s,r,!ltrAtCursor(s))),cursorLineBoundaryRight=s=>moveSel(s,r=>moveByLineBoundary(s,r,ltrAtCursor(s))),cursorLineStart=s=>moveSel(s,r=>EditorSelection.cursor(s.lineBlockAt(r.head).from,1)),cursorLineEnd=s=>moveSel(s,r=>EditorSelection.cursor(s.lineBlockAt(r.head).to,-1));function toMatchingBracket(s,r,a){let l=!1,o=updateSel(s.selection,f=>{let h=matchBrackets(s,f.head,-1)||matchBrackets(s,f.head,1)||f.head>0&&matchBrackets(s,f.head-1,1)||f.head<s.doc.length&&matchBrackets(s,f.head+1,-1);if(!h||!h.end)return f;l=!0;let d=h.start.from==f.head?h.end.to:h.end.from;return EditorSelection.cursor(d)});return l?(r(setSel(s,o)),!0):!1}const cursorMatchingBracket=({state:s,dispatch:r})=>toMatchingBracket(s,r);function extendSel(s,r){let a=updateSel(s.state.selection,l=>{let o=r(l);return EditorSelection.range(l.anchor,o.head,o.goalColumn,o.bidiLevel||void 0)});return a.eq(s.state.selection)?!1:(s.dispatch(setSel(s.state,a)),!0)}function selectByChar(s,r){return extendSel(s,a=>s.moveByChar(a,r))}const selectCharLeft=s=>selectByChar(s,!ltrAtCursor(s)),selectCharRight=s=>selectByChar(s,ltrAtCursor(s));function selectByGroup(s,r){return extendSel(s,a=>s.moveByGroup(a,r))}const selectGroupLeft=s=>selectByGroup(s,!ltrAtCursor(s)),selectGroupRight=s=>selectByGroup(s,ltrAtCursor(s)),selectSyntaxLeft=s=>extendSel(s,r=>moveBySyntax(s.state,r,!ltrAtCursor(s))),selectSyntaxRight=s=>extendSel(s,r=>moveBySyntax(s.state,r,ltrAtCursor(s)));function selectByLine(s,r){return extendSel(s,a=>s.moveVertically(a,r))}const selectLineUp=s=>selectByLine(s,!1),selectLineDown=s=>selectByLine(s,!0);function selectByPage(s,r){return extendSel(s,a=>s.moveVertically(a,r,pageInfo(s).height))}const selectPageUp=s=>selectByPage(s,!1),selectPageDown=s=>selectByPage(s,!0),selectLineBoundaryForward=s=>extendSel(s,r=>moveByLineBoundary(s,r,!0)),selectLineBoundaryBackward=s=>extendSel(s,r=>moveByLineBoundary(s,r,!1)),selectLineBoundaryLeft=s=>extendSel(s,r=>moveByLineBoundary(s,r,!ltrAtCursor(s))),selectLineBoundaryRight=s=>extendSel(s,r=>moveByLineBoundary(s,r,ltrAtCursor(s))),selectLineStart=s=>extendSel(s,r=>EditorSelection.cursor(s.lineBlockAt(r.head).from)),selectLineEnd=s=>extendSel(s,r=>EditorSelection.cursor(s.lineBlockAt(r.head).to)),cursorDocStart=({state:s,dispatch:r})=>(r(setSel(s,{anchor:0})),!0),cursorDocEnd=({state:s,dispatch:r})=>(r(setSel(s,{anchor:s.doc.length})),!0),selectDocStart=({state:s,dispatch:r})=>(r(setSel(s,{anchor:s.selection.main.anchor,head:0})),!0),selectDocEnd=({state:s,dispatch:r})=>(r(setSel(s,{anchor:s.selection.main.anchor,head:s.doc.length})),!0),selectAll=({state:s,dispatch:r})=>(r(s.update({selection:{anchor:0,head:s.doc.length},userEvent:"select"})),!0),selectLine=({state:s,dispatch:r})=>{let a=selectedLineBlocks(s).map(({from:l,to:o})=>EditorSelection.range(l,Math.min(o+1,s.doc.length)));return r(s.update({selection:EditorSelection.create(a),userEvent:"select"})),!0},selectParentSyntax=({state:s,dispatch:r})=>{let a=updateSel(s.selection,l=>{let o=syntaxTree(s),f=o.resolveStack(l.from,1);if(l.empty){let h=o.resolveStack(l.from,-1);h.node.from>=f.node.from&&h.node.to<=f.node.to&&(f=h)}for(let h=f;h;h=h.next){let{node:d}=h;if((d.from<l.from&&d.to>=l.to||d.to>l.to&&d.from<=l.from)&&h.next)return EditorSelection.range(d.to,d.from)}return l});return a.eq(s.selection)?!1:(r(setSel(s,a)),!0)};function addCursorVertically(s,r){let{state:a}=s,l=a.selection,o=a.selection.ranges.slice();for(let f of a.selection.ranges){let h=a.doc.lineAt(f.head);if(r?h.to<s.state.doc.length:h.from>0)for(let d=f;;){let g=s.moveVertically(d,r);if(g.head<h.from||g.head>h.to){o.some(m=>m.head==g.head)||o.push(g);break}else{if(g.head==d.head)break;d=g}}}return o.length==l.ranges.length?!1:(s.dispatch(setSel(a,EditorSelection.create(o,o.length-1))),!0)}const addCursorAbove=s=>addCursorVertically(s,!1),addCursorBelow=s=>addCursorVertically(s,!0),simplifySelection=({state:s,dispatch:r})=>{let a=s.selection,l=null;return a.ranges.length>1?l=EditorSelection.create([a.main]):a.main.empty||(l=EditorSelection.create([EditorSelection.cursor(a.main.head)])),l?(r(setSel(s,l)),!0):!1};function deleteBy(s,r){if(s.state.readOnly)return!1;let a="delete.selection",{state:l}=s,o=l.changeByRange(f=>{let{from:h,to:d}=f;if(h==d){let g=r(f);g<h?(a="delete.backward",g=skipAtomic(s,g,!1)):g>h&&(a="delete.forward",g=skipAtomic(s,g,!0)),h=Math.min(h,g),d=Math.max(d,g)}else h=skipAtomic(s,h,!1),d=skipAtomic(s,d,!0);return h==d?{range:f}:{changes:{from:h,to:d},range:EditorSelection.cursor(h,h<f.head?-1:1)}});return o.changes.empty?!1:(s.dispatch(l.update(o,{scrollIntoView:!0,userEvent:a,effects:a=="delete.selection"?EditorView.announce.of(l.phrase("Selection deleted")):void 0})),!0)}function skipAtomic(s,r,a){if(s instanceof EditorView)for(let l of s.state.facet(EditorView.atomicRanges).map(o=>o(s)))l.between(r,r,(o,f)=>{o<r&&f>r&&(r=a?f:o)});return r}const deleteByChar=(s,r,a)=>deleteBy(s,l=>{let o=l.from,{state:f}=s,h=f.doc.lineAt(o),d,g;if(a&&!r&&o>h.from&&o<h.from+200&&!/[^ \t]/.test(d=h.text.slice(0,o-h.from))){if(d[d.length-1]=="	")return o-1;let m=countColumn(d,f.tabSize),y=m%getIndentUnit(f)||getIndentUnit(f);for(let S=0;S<y&&d[d.length-1-S]==" ";S++)o--;g=o}else g=findClusterBreak(h.text,o-h.from,r,r)+h.from,g==o&&h.number!=(r?f.doc.lines:1)?g+=r?1:-1:!r&&/[\ufe00-\ufe0f]/.test(h.text.slice(g-h.from,o-h.from))&&(g=findClusterBreak(h.text,g-h.from,!1,!1)+h.from);return g}),deleteCharBackward=s=>deleteByChar(s,!1,!0),deleteCharForward=s=>deleteByChar(s,!0,!1),deleteByGroup=(s,r)=>deleteBy(s,a=>{let l=a.head,{state:o}=s,f=o.doc.lineAt(l),h=o.charCategorizer(l);for(let d=null;;){if(l==(r?f.to:f.from)){l==a.head&&f.number!=(r?o.doc.lines:1)&&(l+=r?1:-1);break}let g=findClusterBreak(f.text,l-f.from,r)+f.from,m=f.text.slice(Math.min(l,g)-f.from,Math.max(l,g)-f.from),y=h(m);if(d!=null&&y!=d)break;(m!=" "||l!=a.head)&&(d=y),l=g}return l}),deleteGroupBackward=s=>deleteByGroup(s,!1),deleteGroupForward=s=>deleteByGroup(s,!0),deleteToLineEnd=s=>deleteBy(s,r=>{let a=s.lineBlockAt(r.head).to;return r.head<a?a:Math.min(s.state.doc.length,r.head+1)}),deleteLineBoundaryBackward=s=>deleteBy(s,r=>{let a=s.moveToLineBoundary(r,!1).head;return r.head>a?a:Math.max(0,r.head-1)}),deleteLineBoundaryForward=s=>deleteBy(s,r=>{let a=s.moveToLineBoundary(r,!0).head;return r.head<a?a:Math.min(s.state.doc.length,r.head+1)}),splitLine=({state:s,dispatch:r})=>{if(s.readOnly)return!1;let a=s.changeByRange(l=>({changes:{from:l.from,to:l.to,insert:Text.of(["",""])},range:EditorSelection.cursor(l.from)}));return r(s.update(a,{scrollIntoView:!0,userEvent:"input"})),!0},transposeChars=({state:s,dispatch:r})=>{if(s.readOnly)return!1;let a=s.changeByRange(l=>{if(!l.empty||l.from==0||l.from==s.doc.length)return{range:l};let o=l.from,f=s.doc.lineAt(o),h=o==f.from?o-1:findClusterBreak(f.text,o-f.from,!1)+f.from,d=o==f.to?o+1:findClusterBreak(f.text,o-f.from,!0)+f.from;return{changes:{from:h,to:d,insert:s.doc.slice(o,d).append(s.doc.slice(h,o))},range:EditorSelection.cursor(d)}});return a.changes.empty?!1:(r(s.update(a,{scrollIntoView:!0,userEvent:"move.character"})),!0)};function selectedLineBlocks(s){let r=[],a=-1;for(let l of s.selection.ranges){let o=s.doc.lineAt(l.from),f=s.doc.lineAt(l.to);if(!l.empty&&l.to==f.from&&(f=s.doc.lineAt(l.to-1)),a>=o.number){let h=r[r.length-1];h.to=f.to,h.ranges.push(l)}else r.push({from:o.from,to:f.to,ranges:[l]});a=f.number+1}return r}function moveLine(s,r,a){if(s.readOnly)return!1;let l=[],o=[];for(let f of selectedLineBlocks(s)){if(a?f.to==s.doc.length:f.from==0)continue;let h=s.doc.lineAt(a?f.to+1:f.from-1),d=h.length+1;if(a){l.push({from:f.to,to:h.to},{from:f.from,insert:h.text+s.lineBreak});for(let g of f.ranges)o.push(EditorSelection.range(Math.min(s.doc.length,g.anchor+d),Math.min(s.doc.length,g.head+d)))}else{l.push({from:h.from,to:f.from},{from:f.to,insert:s.lineBreak+h.text});for(let g of f.ranges)o.push(EditorSelection.range(g.anchor-d,g.head-d))}}return l.length?(r(s.update({changes:l,scrollIntoView:!0,selection:EditorSelection.create(o,s.selection.mainIndex),userEvent:"move.line"})),!0):!1}const moveLineUp=({state:s,dispatch:r})=>moveLine(s,r,!1),moveLineDown=({state:s,dispatch:r})=>moveLine(s,r,!0);function copyLine(s,r,a){if(s.readOnly)return!1;let l=[];for(let f of selectedLineBlocks(s))a?l.push({from:f.from,insert:s.doc.slice(f.from,f.to)+s.lineBreak}):l.push({from:f.to,insert:s.lineBreak+s.doc.slice(f.from,f.to)});let o=s.changes(l);return r(s.update({changes:o,selection:s.selection.map(o,a?1:-1),scrollIntoView:!0,userEvent:"input.copyline"})),!0}const copyLineUp=({state:s,dispatch:r})=>copyLine(s,r,!1),copyLineDown=({state:s,dispatch:r})=>copyLine(s,r,!0),deleteLine=s=>{if(s.state.readOnly)return!1;let{state:r}=s,a=r.changes(selectedLineBlocks(r).map(({from:o,to:f})=>(o>0?o--:f<r.doc.length&&f++,{from:o,to:f}))),l=updateSel(r.selection,o=>{let f;if(s.lineWrapping){let h=s.lineBlockAt(o.head),d=s.coordsAtPos(o.head,o.assoc||1);d&&(f=h.bottom+s.documentTop-d.bottom+s.defaultLineHeight/2)}return s.moveVertically(o,!0,f)}).map(a);return s.dispatch({changes:a,selection:l,scrollIntoView:!0,userEvent:"delete.line"}),!0};function isBetweenBrackets(s,r){if(/\(\)|\[\]|\{\}/.test(s.sliceDoc(r-1,r+1)))return{from:r,to:r};let a=syntaxTree(s).resolveInner(r),l=a.childBefore(r),o=a.childAfter(r),f;return l&&o&&l.to<=r&&o.from>=r&&(f=l.type.prop(NodeProp.closedBy))&&f.indexOf(o.name)>-1&&s.doc.lineAt(l.to).from==s.doc.lineAt(o.from).from&&!/\S/.test(s.sliceDoc(l.to,o.from))?{from:l.to,to:o.from}:null}const insertNewlineAndIndent=newlineAndIndent(!1),insertBlankLine=newlineAndIndent(!0);function newlineAndIndent(s){return({state:r,dispatch:a})=>{if(r.readOnly)return!1;let l=r.changeByRange(o=>{let{from:f,to:h}=o,d=r.doc.lineAt(f),g=!s&&f==h&&isBetweenBrackets(r,f);s&&(f=h=(h<=d.to?d:r.doc.lineAt(h)).to);let m=new IndentContext(r,{simulateBreak:f,simulateDoubleBreak:!!g}),y=getIndentation(m,f);for(y==null&&(y=countColumn(/^\s*/.exec(r.doc.lineAt(f).text)[0],r.tabSize));h<d.to&&/\s/.test(d.text[h-d.from]);)h++;g?{from:f,to:h}=g:f>d.from&&f<d.from+100&&!/\S/.test(d.text.slice(0,f))&&(f=d.from);let S=["",indentString(r,y)];return g&&S.push(indentString(r,m.lineIndent(d.from,-1))),{changes:{from:f,to:h,insert:Text.of(S)},range:EditorSelection.cursor(f+1+S[1].length)}});return a(r.update(l,{scrollIntoView:!0,userEvent:"input"})),!0}}function changeBySelectedLine(s,r){let a=-1;return s.changeByRange(l=>{let o=[];for(let h=l.from;h<=l.to;){let d=s.doc.lineAt(h);d.number>a&&(l.empty||l.to>d.from)&&(r(d,o,l),a=d.number),h=d.to+1}let f=s.changes(o);return{changes:o,range:EditorSelection.range(f.mapPos(l.anchor,1),f.mapPos(l.head,1))}})}const indentSelection=({state:s,dispatch:r})=>{if(s.readOnly)return!1;let a=Object.create(null),l=new IndentContext(s,{overrideIndentation:f=>{let h=a[f];return h??-1}}),o=changeBySelectedLine(s,(f,h,d)=>{let g=getIndentation(l,f.from);if(g==null)return;/\S/.test(f.text)||(g=0);let m=/^\s*/.exec(f.text)[0],y=indentString(s,g);(m!=y||d.from<f.from+m.length)&&(a[f.from]=g,h.push({from:f.from,to:f.from+m.length,insert:y}))});return o.changes.empty||r(s.update(o,{userEvent:"indent"})),!0},indentMore=({state:s,dispatch:r})=>s.readOnly?!1:(r(s.update(changeBySelectedLine(s,(a,l)=>{l.push({from:a.from,insert:s.facet(indentUnit)})}),{userEvent:"input.indent"})),!0),indentLess=({state:s,dispatch:r})=>s.readOnly?!1:(r(s.update(changeBySelectedLine(s,(a,l)=>{let o=/^\s*/.exec(a.text)[0];if(!o)return;let f=countColumn(o,s.tabSize),h=0,d=indentString(s,Math.max(0,f-getIndentUnit(s)));for(;h<o.length&&h<d.length&&o.charCodeAt(h)==d.charCodeAt(h);)h++;l.push({from:a.from+h,to:a.from+o.length,insert:d.slice(h)})}),{userEvent:"delete.dedent"})),!0),toggleTabFocusMode=s=>(s.setTabFocusMode(),!0),emacsStyleKeymap=[{key:"Ctrl-b",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Ctrl-f",run:cursorCharRight,shift:selectCharRight},{key:"Ctrl-p",run:cursorLineUp,shift:selectLineUp},{key:"Ctrl-n",run:cursorLineDown,shift:selectLineDown},{key:"Ctrl-a",run:cursorLineStart,shift:selectLineStart},{key:"Ctrl-e",run:cursorLineEnd,shift:selectLineEnd},{key:"Ctrl-d",run:deleteCharForward},{key:"Ctrl-h",run:deleteCharBackward},{key:"Ctrl-k",run:deleteToLineEnd},{key:"Ctrl-Alt-h",run:deleteGroupBackward},{key:"Ctrl-o",run:splitLine},{key:"Ctrl-t",run:transposeChars},{key:"Ctrl-v",run:cursorPageDown}],standardKeymap=[{key:"ArrowLeft",run:cursorCharLeft,shift:selectCharLeft,preventDefault:!0},{key:"Mod-ArrowLeft",mac:"Alt-ArrowLeft",run:cursorGroupLeft,shift:selectGroupLeft,preventDefault:!0},{mac:"Cmd-ArrowLeft",run:cursorLineBoundaryLeft,shift:selectLineBoundaryLeft,preventDefault:!0},{key:"ArrowRight",run:cursorCharRight,shift:selectCharRight,preventDefault:!0},{key:"Mod-ArrowRight",mac:"Alt-ArrowRight",run:cursorGroupRight,shift:selectGroupRight,preventDefault:!0},{mac:"Cmd-ArrowRight",run:cursorLineBoundaryRight,shift:selectLineBoundaryRight,preventDefault:!0},{key:"ArrowUp",run:cursorLineUp,shift:selectLineUp,preventDefault:!0},{mac:"Cmd-ArrowUp",run:cursorDocStart,shift:selectDocStart},{mac:"Ctrl-ArrowUp",run:cursorPageUp,shift:selectPageUp},{key:"ArrowDown",run:cursorLineDown,shift:selectLineDown,preventDefault:!0},{mac:"Cmd-ArrowDown",run:cursorDocEnd,shift:selectDocEnd},{mac:"Ctrl-ArrowDown",run:cursorPageDown,shift:selectPageDown},{key:"PageUp",run:cursorPageUp,shift:selectPageUp},{key:"PageDown",run:cursorPageDown,shift:selectPageDown},{key:"Home",run:cursorLineBoundaryBackward,shift:selectLineBoundaryBackward,preventDefault:!0},{key:"Mod-Home",run:cursorDocStart,shift:selectDocStart},{key:"End",run:cursorLineBoundaryForward,shift:selectLineBoundaryForward,preventDefault:!0},{key:"Mod-End",run:cursorDocEnd,shift:selectDocEnd},{key:"Enter",run:insertNewlineAndIndent,shift:insertNewlineAndIndent},{key:"Mod-a",run:selectAll},{key:"Backspace",run:deleteCharBackward,shift:deleteCharBackward,preventDefault:!0},{key:"Delete",run:deleteCharForward,preventDefault:!0},{key:"Mod-Backspace",mac:"Alt-Backspace",run:deleteGroupBackward,preventDefault:!0},{key:"Mod-Delete",mac:"Alt-Delete",run:deleteGroupForward,preventDefault:!0},{mac:"Mod-Backspace",run:deleteLineBoundaryBackward,preventDefault:!0},{mac:"Mod-Delete",run:deleteLineBoundaryForward,preventDefault:!0}].concat(emacsStyleKeymap.map(s=>({mac:s.key,run:s.run,shift:s.shift}))),defaultKeymap=[{key:"Alt-ArrowLeft",mac:"Ctrl-ArrowLeft",run:cursorSyntaxLeft,shift:selectSyntaxLeft},{key:"Alt-ArrowRight",mac:"Ctrl-ArrowRight",run:cursorSyntaxRight,shift:selectSyntaxRight},{key:"Alt-ArrowUp",run:moveLineUp},{key:"Shift-Alt-ArrowUp",run:copyLineUp},{key:"Alt-ArrowDown",run:moveLineDown},{key:"Shift-Alt-ArrowDown",run:copyLineDown},{key:"Mod-Alt-ArrowUp",run:addCursorAbove},{key:"Mod-Alt-ArrowDown",run:addCursorBelow},{key:"Escape",run:simplifySelection},{key:"Mod-Enter",run:insertBlankLine},{key:"Alt-l",mac:"Ctrl-l",run:selectLine},{key:"Mod-i",run:selectParentSyntax,preventDefault:!0},{key:"Mod-[",run:indentLess},{key:"Mod-]",run:indentMore},{key:"Mod-Alt-\\",run:indentSelection},{key:"Shift-Mod-k",run:deleteLine},{key:"Shift-Mod-\\",run:cursorMatchingBracket},{key:"Mod-/",run:toggleComment},{key:"Alt-A",run:toggleBlockComment},{key:"Ctrl-m",mac:"Shift-Alt-m",run:toggleTabFocusMode}].concat(standardKeymap),indentWithTab={key:"Tab",run:indentMore,shift:indentLess},basicNormalize=typeof String.prototype.normalize=="function"?s=>s.normalize("NFKD"):s=>s;class SearchCursor{constructor(r,a,l=0,o=r.length,f,h){this.test=h,this.value={from:0,to:0},this.done=!1,this.matches=[],this.buffer="",this.bufferPos=0,this.iter=r.iterRange(l,o),this.bufferStart=l,this.normalize=f?d=>f(basicNormalize(d)):basicNormalize,this.query=this.normalize(a)}peek(){if(this.bufferPos==this.buffer.length){if(this.bufferStart+=this.buffer.length,this.iter.next(),this.iter.done)return-1;this.bufferPos=0,this.buffer=this.iter.value}return codePointAt(this.buffer,this.bufferPos)}next(){for(;this.matches.length;)this.matches.pop();return this.nextOverlapping()}nextOverlapping(){for(;;){let r=this.peek();if(r<0)return this.done=!0,this;let a=fromCodePoint(r),l=this.bufferStart+this.bufferPos;this.bufferPos+=codePointSize(r);let o=this.normalize(a);if(o.length)for(let f=0,h=l;;f++){let d=o.charCodeAt(f),g=this.match(d,h,this.bufferPos+this.bufferStart);if(f==o.length-1){if(g)return this.value=g,this;break}h==l&&f<a.length&&a.charCodeAt(f)==d&&h++}}}match(r,a,l){let o=null;for(let f=0;f<this.matches.length;f+=2){let h=this.matches[f],d=!1;this.query.charCodeAt(h)==r&&(h==this.query.length-1?o={from:this.matches[f+1],to:l}:(this.matches[f]++,d=!0)),d||(this.matches.splice(f,2),f-=2)}return this.query.charCodeAt(0)==r&&(this.query.length==1?o={from:a,to:l}:this.matches.push(1,a)),o&&this.test&&!this.test(o.from,o.to,this.buffer,this.bufferStart)&&(o=null),o}}typeof Symbol<"u"&&(SearchCursor.prototype[Symbol.iterator]=function(){return this});const empty={from:-1,to:-1,match:/.*/.exec("")},baseFlags="gm"+(/x/.unicode==null?"":"u");class RegExpCursor{constructor(r,a,l,o=0,f=r.length){if(this.text=r,this.to=f,this.curLine="",this.done=!1,this.value=empty,/\\[sWDnr]|\n|\r|\[\^/.test(a))return new MultilineRegExpCursor(r,a,l,o,f);this.re=new RegExp(a,baseFlags+(l?.ignoreCase?"i":"")),this.test=l?.test,this.iter=r.iter();let h=r.lineAt(o);this.curLineStart=h.from,this.matchPos=toCharEnd(r,o),this.getLine(this.curLineStart)}getLine(r){this.iter.next(r),this.iter.lineBreak?this.curLine="":(this.curLine=this.iter.value,this.curLineStart+this.curLine.length>this.to&&(this.curLine=this.curLine.slice(0,this.to-this.curLineStart)),this.iter.next())}nextLine(){this.curLineStart=this.curLineStart+this.curLine.length+1,this.curLineStart>this.to?this.curLine="":this.getLine(0)}next(){for(let r=this.matchPos-this.curLineStart;;){this.re.lastIndex=r;let a=this.matchPos<=this.to&&this.re.exec(this.curLine);if(a){let l=this.curLineStart+a.index,o=l+a[0].length;if(this.matchPos=toCharEnd(this.text,o+(l==o?1:0)),l==this.curLineStart+this.curLine.length&&this.nextLine(),(l<o||l>this.value.to)&&(!this.test||this.test(l,o,a)))return this.value={from:l,to:o,match:a},this;r=this.matchPos-this.curLineStart}else if(this.curLineStart+this.curLine.length<this.to)this.nextLine(),r=0;else return this.done=!0,this}}}const flattened=new WeakMap;class FlattenedDoc{constructor(r,a){this.from=r,this.text=a}get to(){return this.from+this.text.length}static get(r,a,l){let o=flattened.get(r);if(!o||o.from>=l||o.to<=a){let d=new FlattenedDoc(a,r.sliceString(a,l));return flattened.set(r,d),d}if(o.from==a&&o.to==l)return o;let{text:f,from:h}=o;return h>a&&(f=r.sliceString(a,h)+f,h=a),o.to<l&&(f+=r.sliceString(o.to,l)),flattened.set(r,new FlattenedDoc(h,f)),new FlattenedDoc(a,f.slice(a-h,l-h))}}class MultilineRegExpCursor{constructor(r,a,l,o,f){this.text=r,this.to=f,this.done=!1,this.value=empty,this.matchPos=toCharEnd(r,o),this.re=new RegExp(a,baseFlags+(l?.ignoreCase?"i":"")),this.test=l?.test,this.flat=FlattenedDoc.get(r,o,this.chunkEnd(o+5e3))}chunkEnd(r){return r>=this.to?this.to:this.text.lineAt(r).to}next(){for(;;){let r=this.re.lastIndex=this.matchPos-this.flat.from,a=this.re.exec(this.flat.text);if(a&&!a[0]&&a.index==r&&(this.re.lastIndex=r+1,a=this.re.exec(this.flat.text)),a){let l=this.flat.from+a.index,o=l+a[0].length;if((this.flat.to>=this.to||a.index+a[0].length<=this.flat.text.length-10)&&(!this.test||this.test(l,o,a)))return this.value={from:l,to:o,match:a},this.matchPos=toCharEnd(this.text,o+(l==o?1:0)),this}if(this.flat.to==this.to)return this.done=!0,this;this.flat=FlattenedDoc.get(this.text,this.flat.from,this.chunkEnd(this.flat.from+this.flat.text.length*2))}}}typeof Symbol<"u"&&(RegExpCursor.prototype[Symbol.iterator]=MultilineRegExpCursor.prototype[Symbol.iterator]=function(){return this});function validRegExp(s){try{return new RegExp(s,baseFlags),!0}catch{return!1}}function toCharEnd(s,r){if(r>=s.length)return r;let a=s.lineAt(r),l;for(;r<a.to&&(l=a.text.charCodeAt(r-a.from))>=56320&&l<57344;)r++;return r}const gotoLine=s=>{let{state:r}=s,a=String(r.doc.lineAt(s.state.selection.main.head).number),{close:l,result:o}=showDialog(s,{label:r.phrase("Go to line"),input:{type:"text",name:"line",value:a},focus:!0,submitLabel:r.phrase("go")});return o.then(f=>{let h=f&&/^([+-])?(\d+)?(:\d+)?(%)?$/.exec(f.elements.line.value);if(!h){s.dispatch({effects:l});return}let d=r.doc.lineAt(r.selection.main.head),[,g,m,y,S]=h,x=y?+y.slice(1):0,w=m?+m:d.number;if(m&&S){let M=w/100;g&&(M=M*(g=="-"?-1:1)+d.number/r.doc.lines),w=Math.round(r.doc.lines*M)}else m&&g&&(w=w*(g=="-"?-1:1)+d.number);let Q=r.doc.line(Math.max(1,Math.min(r.doc.lines,w))),A=EditorSelection.cursor(Q.from+Math.max(0,Math.min(x,Q.length)));s.dispatch({effects:[l,EditorView.scrollIntoView(A.from,{y:"center"})],selection:A})}),!0},defaultHighlightOptions={highlightWordAroundCursor:!1,minSelectionLength:1,maxMatches:100,wholeWords:!1},highlightConfig=Facet.define({combine(s){return combineConfig(s,defaultHighlightOptions,{highlightWordAroundCursor:(r,a)=>r||a,minSelectionLength:Math.min,maxMatches:Math.min})}});function highlightSelectionMatches(s){return[defaultTheme,matchHighlighter]}const matchDeco=Decoration.mark({class:"cm-selectionMatch"}),mainMatchDeco=Decoration.mark({class:"cm-selectionMatch cm-selectionMatch-main"});function insideWordBoundaries(s,r,a,l){return(a==0||s(r.sliceDoc(a-1,a))!=CharCategory.Word)&&(l==r.doc.length||s(r.sliceDoc(l,l+1))!=CharCategory.Word)}function insideWord(s,r,a,l){return s(r.sliceDoc(a,a+1))==CharCategory.Word&&s(r.sliceDoc(l-1,l))==CharCategory.Word}const matchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.decorations=this.getDeco(s)}update(s){(s.selectionSet||s.docChanged||s.viewportChanged)&&(this.decorations=this.getDeco(s.view))}getDeco(s){let r=s.state.facet(highlightConfig),{state:a}=s,l=a.selection;if(l.ranges.length>1)return Decoration.none;let o=l.main,f,h=null;if(o.empty){if(!r.highlightWordAroundCursor)return Decoration.none;let g=a.wordAt(o.head);if(!g)return Decoration.none;h=a.charCategorizer(o.head),f=a.sliceDoc(g.from,g.to)}else{let g=o.to-o.from;if(g<r.minSelectionLength||g>200)return Decoration.none;if(r.wholeWords){if(f=a.sliceDoc(o.from,o.to),h=a.charCategorizer(o.head),!(insideWordBoundaries(h,a,o.from,o.to)&&insideWord(h,a,o.from,o.to)))return Decoration.none}else if(f=a.sliceDoc(o.from,o.to),!f)return Decoration.none}let d=[];for(let g of s.visibleRanges){let m=new SearchCursor(a.doc,f,g.from,g.to);for(;!m.next().done;){let{from:y,to:S}=m.value;if((!h||insideWordBoundaries(h,a,y,S))&&(o.empty&&y<=o.from&&S>=o.to?d.push(mainMatchDeco.range(y,S)):(y>=o.to||S<=o.from)&&d.push(matchDeco.range(y,S)),d.length>r.maxMatches))return Decoration.none}}return Decoration.set(d)}},{decorations:s=>s.decorations}),defaultTheme=EditorView.baseTheme({".cm-selectionMatch":{backgroundColor:"#99ff7780"},".cm-searchMatch .cm-selectionMatch":{backgroundColor:"transparent"}}),selectWord=({state:s,dispatch:r})=>{let{selection:a}=s,l=EditorSelection.create(a.ranges.map(o=>s.wordAt(o.head)||EditorSelection.cursor(o.head)),a.mainIndex);return l.eq(a)?!1:(r(s.update({selection:l})),!0)};function findNextOccurrence(s,r){let{main:a,ranges:l}=s.selection,o=s.wordAt(a.head),f=o&&o.from==a.from&&o.to==a.to;for(let h=!1,d=new SearchCursor(s.doc,r,l[l.length-1].to);;)if(d.next(),d.done){if(h)return null;d=new SearchCursor(s.doc,r,0,Math.max(0,l[l.length-1].from-1)),h=!0}else{if(h&&l.some(g=>g.from==d.value.from))continue;if(f){let g=s.wordAt(d.value.from);if(!g||g.from!=d.value.from||g.to!=d.value.to)continue}return d.value}}const selectNextOccurrence=({state:s,dispatch:r})=>{let{ranges:a}=s.selection;if(a.some(f=>f.from===f.to))return selectWord({state:s,dispatch:r});let l=s.sliceDoc(a[0].from,a[0].to);if(s.selection.ranges.some(f=>s.sliceDoc(f.from,f.to)!=l))return!1;let o=findNextOccurrence(s,l);return o?(r(s.update({selection:s.selection.addRange(EditorSelection.range(o.from,o.to),!1),effects:EditorView.scrollIntoView(o.to)})),!0):!1},searchConfigFacet=Facet.define({combine(s){return combineConfig(s,{top:!1,caseSensitive:!1,literal:!1,regexp:!1,wholeWord:!1,createPanel:r=>new SearchPanel(r),scrollToMatch:r=>EditorView.scrollIntoView(r)})}});class SearchQuery{constructor(r){this.search=r.search,this.caseSensitive=!!r.caseSensitive,this.literal=!!r.literal,this.regexp=!!r.regexp,this.replace=r.replace||"",this.valid=!!this.search&&(!this.regexp||validRegExp(this.search)),this.unquoted=this.unquote(this.search),this.wholeWord=!!r.wholeWord,this.test=r.test}unquote(r){return this.literal?r:r.replace(/\\([nrt\\])/g,(a,l)=>l=="n"?`
`:l=="r"?"\r":l=="t"?"	":"\\")}eq(r){return this.search==r.search&&this.replace==r.replace&&this.caseSensitive==r.caseSensitive&&this.regexp==r.regexp&&this.wholeWord==r.wholeWord&&this.test==r.test}create(){return this.regexp?new RegExpQuery(this):new StringQuery(this)}getCursor(r,a=0,l){let o=r.doc?r:EditorState.create({doc:r});return l==null&&(l=o.doc.length),this.regexp?regexpCursor(this,o,a,l):stringCursor(this,o,a,l)}}class QueryType{constructor(r){this.spec=r}}function wrapStringTest(s,r,a){return(l,o,f,h)=>{if(a&&!a(l,o,f,h))return!1;let d=l>=h&&o<=h+f.length?f.slice(l-h,o-h):r.doc.sliceString(l,o);return s(d,r,l,o)}}function stringCursor(s,r,a,l){let o;return s.wholeWord&&(o=stringWordTest(r.doc,r.charCategorizer(r.selection.main.head))),s.test&&(o=wrapStringTest(s.test,r,o)),new SearchCursor(r.doc,s.unquoted,a,l,s.caseSensitive?void 0:f=>f.toLowerCase(),o)}function stringWordTest(s,r){return(a,l,o,f)=>((f>a||f+o.length<l)&&(f=Math.max(0,a-2),o=s.sliceString(f,Math.min(s.length,l+2))),(r(charBefore(o,a-f))!=CharCategory.Word||r(charAfter(o,a-f))!=CharCategory.Word)&&(r(charAfter(o,l-f))!=CharCategory.Word||r(charBefore(o,l-f))!=CharCategory.Word))}class StringQuery extends QueryType{constructor(r){super(r)}nextMatch(r,a,l){let o=stringCursor(this.spec,r,l,r.doc.length).nextOverlapping();if(o.done){let f=Math.min(r.doc.length,a+this.spec.unquoted.length);o=stringCursor(this.spec,r,0,f).nextOverlapping()}return o.done||o.value.from==a&&o.value.to==l?null:o.value}prevMatchInRange(r,a,l){for(let o=l;;){let f=Math.max(a,o-1e4-this.spec.unquoted.length),h=stringCursor(this.spec,r,f,o),d=null;for(;!h.nextOverlapping().done;)d=h.value;if(d)return d;if(f==a)return null;o-=1e4}}prevMatch(r,a,l){let o=this.prevMatchInRange(r,0,a);return o||(o=this.prevMatchInRange(r,Math.max(0,l-this.spec.unquoted.length),r.doc.length)),o&&(o.from!=a||o.to!=l)?o:null}getReplacement(r){return this.spec.unquote(this.spec.replace)}matchAll(r,a){let l=stringCursor(this.spec,r,0,r.doc.length),o=[];for(;!l.next().done;){if(o.length>=a)return null;o.push(l.value)}return o}highlight(r,a,l,o){let f=stringCursor(this.spec,r,Math.max(0,a-this.spec.unquoted.length),Math.min(l+this.spec.unquoted.length,r.doc.length));for(;!f.next().done;)o(f.value.from,f.value.to)}}function wrapRegexpTest(s,r,a){return(l,o,f)=>(!a||a(l,o,f))&&s(f[0],r,l,o)}function regexpCursor(s,r,a,l){let o;return s.wholeWord&&(o=regexpWordTest(r.charCategorizer(r.selection.main.head))),s.test&&(o=wrapRegexpTest(s.test,r,o)),new RegExpCursor(r.doc,s.search,{ignoreCase:!s.caseSensitive,test:o},a,l)}function charBefore(s,r){return s.slice(findClusterBreak(s,r,!1),r)}function charAfter(s,r){return s.slice(r,findClusterBreak(s,r))}function regexpWordTest(s){return(r,a,l)=>!l[0].length||(s(charBefore(l.input,l.index))!=CharCategory.Word||s(charAfter(l.input,l.index))!=CharCategory.Word)&&(s(charAfter(l.input,l.index+l[0].length))!=CharCategory.Word||s(charBefore(l.input,l.index+l[0].length))!=CharCategory.Word)}class RegExpQuery extends QueryType{nextMatch(r,a,l){let o=regexpCursor(this.spec,r,l,r.doc.length).next();return o.done&&(o=regexpCursor(this.spec,r,0,a).next()),o.done?null:o.value}prevMatchInRange(r,a,l){for(let o=1;;o++){let f=Math.max(a,l-o*1e4),h=regexpCursor(this.spec,r,f,l),d=null;for(;!h.next().done;)d=h.value;if(d&&(f==a||d.from>f+10))return d;if(f==a)return null}}prevMatch(r,a,l){return this.prevMatchInRange(r,0,a)||this.prevMatchInRange(r,l,r.doc.length)}getReplacement(r){return this.spec.unquote(this.spec.replace).replace(/\$([$&]|\d+)/g,(a,l)=>{if(l=="&")return r.match[0];if(l=="$")return"$";for(let o=l.length;o>0;o--){let f=+l.slice(0,o);if(f>0&&f<r.match.length)return r.match[f]+l.slice(o)}return a})}matchAll(r,a){let l=regexpCursor(this.spec,r,0,r.doc.length),o=[];for(;!l.next().done;){if(o.length>=a)return null;o.push(l.value)}return o}highlight(r,a,l,o){let f=regexpCursor(this.spec,r,Math.max(0,a-250),Math.min(l+250,r.doc.length));for(;!f.next().done;)o(f.value.from,f.value.to)}}const setSearchQuery=StateEffect.define(),togglePanel$1=StateEffect.define(),searchState=StateField.define({create(s){return new SearchState(defaultQuery(s).create(),null)},update(s,r){for(let a of r.effects)a.is(setSearchQuery)?s=new SearchState(a.value.create(),s.panel):a.is(togglePanel$1)&&(s=new SearchState(s.query,a.value?createSearchPanel:null));return s},provide:s=>showPanel.from(s,r=>r.panel)});class SearchState{constructor(r,a){this.query=r,this.panel=a}}const matchMark=Decoration.mark({class:"cm-searchMatch"}),selectedMatchMark=Decoration.mark({class:"cm-searchMatch cm-searchMatch-selected"}),searchHighlighter=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.decorations=this.highlight(s.state.field(searchState))}update(s){let r=s.state.field(searchState);(r!=s.startState.field(searchState)||s.docChanged||s.selectionSet||s.viewportChanged)&&(this.decorations=this.highlight(r))}highlight({query:s,panel:r}){if(!r||!s.spec.valid)return Decoration.none;let{view:a}=this,l=new RangeSetBuilder;for(let o=0,f=a.visibleRanges,h=f.length;o<h;o++){let{from:d,to:g}=f[o];for(;o<h-1&&g>f[o+1].from-500;)g=f[++o].to;s.highlight(a.state,d,g,(m,y)=>{let S=a.state.selection.ranges.some(x=>x.from==m&&x.to==y);l.add(m,y,S?selectedMatchMark:matchMark)})}return l.finish()}},{decorations:s=>s.decorations});function searchCommand(s){return r=>{let a=r.state.field(searchState,!1);return a&&a.query.spec.valid?s(r,a):openSearchPanel(r)}}const findNext=searchCommand((s,{query:r})=>{let{to:a}=s.state.selection.main,l=r.nextMatch(s.state,a,a);if(!l)return!1;let o=EditorSelection.single(l.from,l.to),f=s.state.facet(searchConfigFacet);return s.dispatch({selection:o,effects:[announceMatch(s,l),f.scrollToMatch(o.main,s)],userEvent:"select.search"}),selectSearchInput(s),!0}),findPrevious=searchCommand((s,{query:r})=>{let{state:a}=s,{from:l}=a.selection.main,o=r.prevMatch(a,l,l);if(!o)return!1;let f=EditorSelection.single(o.from,o.to),h=s.state.facet(searchConfigFacet);return s.dispatch({selection:f,effects:[announceMatch(s,o),h.scrollToMatch(f.main,s)],userEvent:"select.search"}),selectSearchInput(s),!0}),selectMatches=searchCommand((s,{query:r})=>{let a=r.matchAll(s.state,1e3);return!a||!a.length?!1:(s.dispatch({selection:EditorSelection.create(a.map(l=>EditorSelection.range(l.from,l.to))),userEvent:"select.search.matches"}),!0)}),selectSelectionMatches=({state:s,dispatch:r})=>{let a=s.selection;if(a.ranges.length>1||a.main.empty)return!1;let{from:l,to:o}=a.main,f=[],h=0;for(let d=new SearchCursor(s.doc,s.sliceDoc(l,o));!d.next().done;){if(f.length>1e3)return!1;d.value.from==l&&(h=f.length),f.push(EditorSelection.range(d.value.from,d.value.to))}return r(s.update({selection:EditorSelection.create(f,h),userEvent:"select.search.matches"})),!0},replaceNext=searchCommand((s,{query:r})=>{let{state:a}=s,{from:l,to:o}=a.selection.main;if(a.readOnly)return!1;let f=r.nextMatch(a,l,l);if(!f)return!1;let h=f,d=[],g,m,y=[];h.from==l&&h.to==o&&(m=a.toText(r.getReplacement(h)),d.push({from:h.from,to:h.to,insert:m}),h=r.nextMatch(a,h.from,h.to),y.push(EditorView.announce.of(a.phrase("replaced match on line $",a.doc.lineAt(l).number)+".")));let S=s.state.changes(d);return h&&(g=EditorSelection.single(h.from,h.to).map(S),y.push(announceMatch(s,h)),y.push(a.facet(searchConfigFacet).scrollToMatch(g.main,s))),s.dispatch({changes:S,selection:g,effects:y,userEvent:"input.replace"}),!0}),replaceAll=searchCommand((s,{query:r})=>{if(s.state.readOnly)return!1;let a=r.matchAll(s.state,1e9).map(o=>{let{from:f,to:h}=o;return{from:f,to:h,insert:r.getReplacement(o)}});if(!a.length)return!1;let l=s.state.phrase("replaced $ matches",a.length)+".";return s.dispatch({changes:a,effects:EditorView.announce.of(l),userEvent:"input.replace.all"}),!0});function createSearchPanel(s){return s.state.facet(searchConfigFacet).createPanel(s)}function defaultQuery(s,r){var a,l,o,f,h;let d=s.selection.main,g=d.empty||d.to>d.from+100?"":s.sliceDoc(d.from,d.to);if(r&&!g)return r;let m=s.facet(searchConfigFacet);return new SearchQuery({search:((a=r?.literal)!==null&&a!==void 0?a:m.literal)?g:g.replace(/\n/g,"\\n"),caseSensitive:(l=r?.caseSensitive)!==null&&l!==void 0?l:m.caseSensitive,literal:(o=r?.literal)!==null&&o!==void 0?o:m.literal,regexp:(f=r?.regexp)!==null&&f!==void 0?f:m.regexp,wholeWord:(h=r?.wholeWord)!==null&&h!==void 0?h:m.wholeWord})}function getSearchInput(s){let r=getPanel(s,createSearchPanel);return r&&r.dom.querySelector("[main-field]")}function selectSearchInput(s){let r=getSearchInput(s);r&&r==s.root.activeElement&&r.select()}const openSearchPanel=s=>{let r=s.state.field(searchState,!1);if(r&&r.panel){let a=getSearchInput(s);if(a&&a!=s.root.activeElement){let l=defaultQuery(s.state,r.query.spec);l.valid&&s.dispatch({effects:setSearchQuery.of(l)}),a.focus(),a.select()}}else s.dispatch({effects:[togglePanel$1.of(!0),r?setSearchQuery.of(defaultQuery(s.state,r.query.spec)):StateEffect.appendConfig.of(searchExtensions)]});return!0},closeSearchPanel=s=>{let r=s.state.field(searchState,!1);if(!r||!r.panel)return!1;let a=getPanel(s,createSearchPanel);return a&&a.dom.contains(s.root.activeElement)&&s.focus(),s.dispatch({effects:togglePanel$1.of(!1)}),!0},searchKeymap=[{key:"Mod-f",run:openSearchPanel,scope:"editor search-panel"},{key:"F3",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Mod-g",run:findNext,shift:findPrevious,scope:"editor search-panel",preventDefault:!0},{key:"Escape",run:closeSearchPanel,scope:"editor search-panel"},{key:"Mod-Shift-l",run:selectSelectionMatches},{key:"Mod-Alt-g",run:gotoLine},{key:"Mod-d",run:selectNextOccurrence,preventDefault:!0}];class SearchPanel{constructor(r){this.view=r;let a=this.query=r.state.field(searchState).query.spec;this.commit=this.commit.bind(this),this.searchField=crelt("input",{value:a.search,placeholder:phrase(r,"Find"),"aria-label":phrase(r,"Find"),class:"cm-textfield",name:"search",form:"","main-field":"true",onchange:this.commit,onkeyup:this.commit}),this.replaceField=crelt("input",{value:a.replace,placeholder:phrase(r,"Replace"),"aria-label":phrase(r,"Replace"),class:"cm-textfield",name:"replace",form:"",onchange:this.commit,onkeyup:this.commit}),this.caseField=crelt("input",{type:"checkbox",name:"case",form:"",checked:a.caseSensitive,onchange:this.commit}),this.reField=crelt("input",{type:"checkbox",name:"re",form:"",checked:a.regexp,onchange:this.commit}),this.wordField=crelt("input",{type:"checkbox",name:"word",form:"",checked:a.wholeWord,onchange:this.commit});function l(o,f,h){return crelt("button",{class:"cm-button",name:o,onclick:f,type:"button"},h)}this.dom=crelt("div",{onkeydown:o=>this.keydown(o),class:"cm-search"},[this.searchField,l("next",()=>findNext(r),[phrase(r,"next")]),l("prev",()=>findPrevious(r),[phrase(r,"previous")]),l("select",()=>selectMatches(r),[phrase(r,"all")]),crelt("label",null,[this.caseField,phrase(r,"match case")]),crelt("label",null,[this.reField,phrase(r,"regexp")]),crelt("label",null,[this.wordField,phrase(r,"by word")]),...r.state.readOnly?[]:[crelt("br"),this.replaceField,l("replace",()=>replaceNext(r),[phrase(r,"replace")]),l("replaceAll",()=>replaceAll(r),[phrase(r,"replace all")])],crelt("button",{name:"close",onclick:()=>closeSearchPanel(r),"aria-label":phrase(r,"close"),type:"button"},[""])])}commit(){let r=new SearchQuery({search:this.searchField.value,caseSensitive:this.caseField.checked,regexp:this.reField.checked,wholeWord:this.wordField.checked,replace:this.replaceField.value});r.eq(this.query)||(this.query=r,this.view.dispatch({effects:setSearchQuery.of(r)}))}keydown(r){runScopeHandlers(this.view,r,"search-panel")?r.preventDefault():r.keyCode==13&&r.target==this.searchField?(r.preventDefault(),(r.shiftKey?findPrevious:findNext)(this.view)):r.keyCode==13&&r.target==this.replaceField&&(r.preventDefault(),replaceNext(this.view))}update(r){for(let a of r.transactions)for(let l of a.effects)l.is(setSearchQuery)&&!l.value.eq(this.query)&&this.setQuery(l.value)}setQuery(r){this.query=r,this.searchField.value=r.search,this.replaceField.value=r.replace,this.caseField.checked=r.caseSensitive,this.reField.checked=r.regexp,this.wordField.checked=r.wholeWord}mount(){this.searchField.select()}get pos(){return 80}get top(){return this.view.state.facet(searchConfigFacet).top}}function phrase(s,r){return s.state.phrase(r)}const AnnounceMargin=30,Break=/[\s\.,:;?!]/;function announceMatch(s,{from:r,to:a}){let l=s.state.doc.lineAt(r),o=s.state.doc.lineAt(a).to,f=Math.max(l.from,r-AnnounceMargin),h=Math.min(o,a+AnnounceMargin),d=s.state.sliceDoc(f,h);if(f!=l.from){for(let g=0;g<AnnounceMargin;g++)if(!Break.test(d[g+1])&&Break.test(d[g])){d=d.slice(g);break}}if(h!=o){for(let g=d.length-1;g>d.length-AnnounceMargin;g--)if(!Break.test(d[g-1])&&Break.test(d[g])){d=d.slice(0,g);break}}return EditorView.announce.of(`${s.state.phrase("current match")}. ${d} ${s.state.phrase("on line")} ${l.number}.`)}const baseTheme$2=EditorView.baseTheme({".cm-panel.cm-search":{padding:"2px 6px 4px",position:"relative","& [name=close]":{position:"absolute",top:"0",right:"4px",backgroundColor:"inherit",border:"none",font:"inherit",padding:0,margin:0},"& input, & button, & label":{margin:".2em .6em .2em 0"},"& input[type=checkbox]":{marginRight:".2em"},"& label":{fontSize:"80%",whiteSpace:"pre"}},"&light .cm-searchMatch":{backgroundColor:"#ffff0054"},"&dark .cm-searchMatch":{backgroundColor:"#00ffff8a"},"&light .cm-searchMatch-selected":{backgroundColor:"#ff6a0054"},"&dark .cm-searchMatch-selected":{backgroundColor:"#ff00ff8a"}}),searchExtensions=[searchState,Prec.low(searchHighlighter),baseTheme$2];class CompletionContext{constructor(r,a,l,o){this.state=r,this.pos=a,this.explicit=l,this.view=o,this.abortListeners=[],this.abortOnDocChange=!1}tokenBefore(r){let a=syntaxTree(this.state).resolveInner(this.pos,-1);for(;a&&r.indexOf(a.name)<0;)a=a.parent;return a?{from:a.from,to:this.pos,text:this.state.sliceDoc(a.from,this.pos),type:a.type}:null}matchBefore(r){let a=this.state.doc.lineAt(this.pos),l=Math.max(a.from,this.pos-250),o=a.text.slice(l-a.from,this.pos-a.from),f=o.search(ensureAnchor(r,!1));return f<0?null:{from:l+f,to:this.pos,text:o.slice(f)}}get aborted(){return this.abortListeners==null}addEventListener(r,a,l){r=="abort"&&this.abortListeners&&(this.abortListeners.push(a),l&&l.onDocChange&&(this.abortOnDocChange=!0))}}function toSet(s){let r=Object.keys(s).join(""),a=/\w/.test(r);return a&&(r=r.replace(/\w/g,"")),`[${a?"\\w":""}${r.replace(/[^\w\s]/g,"\\$&")}]`}function prefixMatch(s){let r=Object.create(null),a=Object.create(null);for(let{label:o}of s){r[o[0]]=!0;for(let f=1;f<o.length;f++)a[o[f]]=!0}let l=toSet(r)+toSet(a)+"*$";return[new RegExp("^"+l),new RegExp(l)]}function completeFromList(s){let r=s.map(o=>typeof o=="string"?{label:o}:o),[a,l]=r.every(o=>/^\w+$/.test(o.label))?[/\w*$/,/\w+$/]:prefixMatch(r);return o=>{let f=o.matchBefore(l);return f||o.explicit?{from:f?f.from:o.pos,options:r,validFor:a}:null}}function ifNotIn(s,r){return a=>{for(let l=syntaxTree(a.state).resolveInner(a.pos,-1);l;l=l.parent){if(s.indexOf(l.name)>-1)return null;if(l.type.isTop)break}return r(a)}}class Option{constructor(r,a,l,o){this.completion=r,this.source=a,this.match=l,this.score=o}}function cur(s){return s.selection.main.from}function ensureAnchor(s,r){var a;let{source:l}=s,o=r&&l[0]!="^",f=l[l.length-1]!="$";return!o&&!f?s:new RegExp(`${o?"^":""}(?:${l})${f?"$":""}`,(a=s.flags)!==null&&a!==void 0?a:s.ignoreCase?"i":"")}const pickedCompletion=Annotation.define();function insertCompletionText(s,r,a,l){let{main:o}=s.selection,f=a-o.from,h=l-o.from;return{...s.changeByRange(d=>{if(d!=o&&a!=l&&s.sliceDoc(d.from+f,d.from+h)!=s.sliceDoc(a,l))return{range:d};let g=s.toText(r);return{changes:{from:d.from+f,to:l==o.from?d.to:d.from+h,insert:g},range:EditorSelection.cursor(d.from+f+g.length)}}),scrollIntoView:!0,userEvent:"input.complete"}}const SourceCache=new WeakMap;function asSource(s){if(!Array.isArray(s))return s;let r=SourceCache.get(s);return r||SourceCache.set(s,r=completeFromList(s)),r}const startCompletionEffect=StateEffect.define(),closeCompletionEffect=StateEffect.define();class FuzzyMatcher{constructor(r){this.pattern=r,this.chars=[],this.folded=[],this.any=[],this.precise=[],this.byWord=[],this.score=0,this.matched=[];for(let a=0;a<r.length;){let l=codePointAt(r,a),o=codePointSize(l);this.chars.push(l);let f=r.slice(a,a+o),h=f.toUpperCase();this.folded.push(codePointAt(h==f?f.toLowerCase():h,0)),a+=o}this.astral=r.length!=this.chars.length}ret(r,a){return this.score=r,this.matched=a,this}match(r){if(this.pattern.length==0)return this.ret(-100,[]);if(r.length<this.pattern.length)return null;let{chars:a,folded:l,any:o,precise:f,byWord:h}=this;if(a.length==1){let Z=codePointAt(r,0),z=codePointSize(Z),j=z==r.length?0:-100;if(Z!=a[0])if(Z==l[0])j+=-200;else return null;return this.ret(j,[0,z])}let d=r.indexOf(this.pattern);if(d==0)return this.ret(r.length==this.pattern.length?0:-100,[0,this.pattern.length]);let g=a.length,m=0;if(d<0){for(let Z=0,z=Math.min(r.length,200);Z<z&&m<g;){let j=codePointAt(r,Z);(j==a[m]||j==l[m])&&(o[m++]=Z),Z+=codePointSize(j)}if(m<g)return null}let y=0,S=0,x=!1,w=0,Q=-1,A=-1,M=/[a-z]/.test(r),L=!0;for(let Z=0,z=Math.min(r.length,200),j=0;Z<z&&S<g;){let B=codePointAt(r,Z);d<0&&(y<g&&B==a[y]&&(f[y++]=Z),w<g&&(B==a[w]||B==l[w]?(w==0&&(Q=Z),A=Z+1,w++):w=0));let G,D=B<255?B>=48&&B<=57||B>=97&&B<=122?2:B>=65&&B<=90?1:0:(G=fromCodePoint(B))!=G.toLowerCase()?1:G!=G.toUpperCase()?2:0;(!Z||D==1&&M||j==0&&D!=0)&&(a[S]==B||l[S]==B&&(x=!0)?h[S++]=Z:h.length&&(L=!1)),j=D,Z+=codePointSize(B)}return S==g&&h[0]==0&&L?this.result(-100+(x?-200:0),h,r):w==g&&Q==0?this.ret(-200-r.length+(A==r.length?0:-100),[0,A]):d>-1?this.ret(-700-r.length,[d,d+this.pattern.length]):w==g?this.ret(-900-r.length,[Q,A]):S==g?this.result(-100+(x?-200:0)+-700+(L?0:-1100),h,r):a.length==2?null:this.result((o[0]?-700:0)+-200+-1100,o,r)}result(r,a,l){let o=[],f=0;for(let h of a){let d=h+(this.astral?codePointSize(codePointAt(l,h)):1);f&&o[f-1]==h?o[f-1]=d:(o[f++]=h,o[f++]=d)}return this.ret(r-l.length,o)}}class StrictMatcher{constructor(r){this.pattern=r,this.matched=[],this.score=0,this.folded=r.toLowerCase()}match(r){if(r.length<this.pattern.length)return null;let a=r.slice(0,this.pattern.length),l=a==this.pattern?0:a.toLowerCase()==this.folded?-200:null;return l==null?null:(this.matched=[0,a.length],this.score=l+(r.length==this.pattern.length?0:-100),this)}}const completionConfig=Facet.define({combine(s){return combineConfig(s,{activateOnTyping:!0,activateOnCompletion:()=>!1,activateOnTypingDelay:100,selectOnOpen:!0,override:null,closeOnBlur:!0,maxRenderedOptions:100,defaultKeymap:!0,tooltipClass:()=>"",optionClass:()=>"",aboveCursor:!1,icons:!0,addToOptions:[],positionInfo:defaultPositionInfo,filterStrict:!1,compareCompletions:(r,a)=>(r.sortText||r.label).localeCompare(a.sortText||a.label),interactionDelay:75,updateSyncTime:100},{defaultKeymap:(r,a)=>r&&a,closeOnBlur:(r,a)=>r&&a,icons:(r,a)=>r&&a,tooltipClass:(r,a)=>l=>joinClass(r(l),a(l)),optionClass:(r,a)=>l=>joinClass(r(l),a(l)),addToOptions:(r,a)=>r.concat(a),filterStrict:(r,a)=>r||a})}});function joinClass(s,r){return s?r?s+" "+r:s:r}function defaultPositionInfo(s,r,a,l,o,f){let h=s.textDirection==Direction.RTL,d=h,g=!1,m="top",y,S,x=r.left-o.left,w=o.right-r.right,Q=l.right-l.left,A=l.bottom-l.top;if(d&&x<Math.min(Q,w)?d=!1:!d&&w<Math.min(Q,x)&&(d=!0),Q<=(d?x:w))y=Math.max(o.top,Math.min(a.top,o.bottom-A))-r.top,S=Math.min(400,d?x:w);else{g=!0,S=Math.min(400,(h?r.right:o.right-r.left)-30);let Z=o.bottom-r.bottom;Z>=A||Z>r.top?y=a.bottom-r.top:(m="bottom",y=r.bottom-a.top)}let M=(r.bottom-r.top)/f.offsetHeight,L=(r.right-r.left)/f.offsetWidth;return{style:`${m}: ${y/M}px; max-width: ${S/L}px`,class:"cm-completionInfo-"+(g?h?"left-narrow":"right-narrow":d?"left":"right")}}function optionContent(s){let r=s.addToOptions.slice();return s.icons&&r.push({render(a){let l=document.createElement("div");return l.classList.add("cm-completionIcon"),a.type&&l.classList.add(...a.type.split(/\s+/g).map(o=>"cm-completionIcon-"+o)),l.setAttribute("aria-hidden","true"),l},position:20}),r.push({render(a,l,o,f){let h=document.createElement("span");h.className="cm-completionLabel";let d=a.displayLabel||a.label,g=0;for(let m=0;m<f.length;){let y=f[m++],S=f[m++];y>g&&h.appendChild(document.createTextNode(d.slice(g,y)));let x=h.appendChild(document.createElement("span"));x.appendChild(document.createTextNode(d.slice(y,S))),x.className="cm-completionMatchedText",g=S}return g<d.length&&h.appendChild(document.createTextNode(d.slice(g))),h},position:50},{render(a){if(!a.detail)return null;let l=document.createElement("span");return l.className="cm-completionDetail",l.textContent=a.detail,l},position:80}),r.sort((a,l)=>a.position-l.position).map(a=>a.render)}function rangeAroundSelected(s,r,a){if(s<=a)return{from:0,to:s};if(r<0&&(r=0),r<=s>>1){let o=Math.floor(r/a);return{from:o*a,to:(o+1)*a}}let l=Math.floor((s-r)/a);return{from:s-(l+1)*a,to:s-l*a}}class CompletionTooltip{constructor(r,a,l){this.view=r,this.stateField=a,this.applyCompletion=l,this.info=null,this.infoDestroy=null,this.placeInfoReq={read:()=>this.measureInfo(),write:g=>this.placeInfo(g),key:this},this.space=null,this.currentClass="";let o=r.state.field(a),{options:f,selected:h}=o.open,d=r.state.facet(completionConfig);this.optionContent=optionContent(d),this.optionClass=d.optionClass,this.tooltipClass=d.tooltipClass,this.range=rangeAroundSelected(f.length,h,d.maxRenderedOptions),this.dom=document.createElement("div"),this.dom.className="cm-tooltip-autocomplete",this.updateTooltipClass(r.state),this.dom.addEventListener("mousedown",g=>{let{options:m}=r.state.field(a).open;for(let y=g.target,S;y&&y!=this.dom;y=y.parentNode)if(y.nodeName=="LI"&&(S=/-(\d+)$/.exec(y.id))&&+S[1]<m.length){this.applyCompletion(r,m[+S[1]]),g.preventDefault();return}}),this.dom.addEventListener("focusout",g=>{let m=r.state.field(this.stateField,!1);m&&m.tooltip&&r.state.facet(completionConfig).closeOnBlur&&g.relatedTarget!=r.contentDOM&&r.dispatch({effects:closeCompletionEffect.of(null)})}),this.showOptions(f,o.id)}mount(){this.updateSel()}showOptions(r,a){this.list&&this.list.remove(),this.list=this.dom.appendChild(this.createListBox(r,a,this.range)),this.list.addEventListener("scroll",()=>{this.info&&this.view.requestMeasure(this.placeInfoReq)})}update(r){var a;let l=r.state.field(this.stateField),o=r.startState.field(this.stateField);if(this.updateTooltipClass(r.state),l!=o){let{options:f,selected:h,disabled:d}=l.open;(!o.open||o.open.options!=f)&&(this.range=rangeAroundSelected(f.length,h,r.state.facet(completionConfig).maxRenderedOptions),this.showOptions(f,l.id)),this.updateSel(),d!=((a=o.open)===null||a===void 0?void 0:a.disabled)&&this.dom.classList.toggle("cm-tooltip-autocomplete-disabled",!!d)}}updateTooltipClass(r){let a=this.tooltipClass(r);if(a!=this.currentClass){for(let l of this.currentClass.split(" "))l&&this.dom.classList.remove(l);for(let l of a.split(" "))l&&this.dom.classList.add(l);this.currentClass=a}}positioned(r){this.space=r,this.info&&this.view.requestMeasure(this.placeInfoReq)}updateSel(){let r=this.view.state.field(this.stateField),a=r.open;(a.selected>-1&&a.selected<this.range.from||a.selected>=this.range.to)&&(this.range=rangeAroundSelected(a.options.length,a.selected,this.view.state.facet(completionConfig).maxRenderedOptions),this.showOptions(a.options,r.id));let l=this.updateSelectedOption(a.selected);if(l){this.destroyInfo();let{completion:o}=a.options[a.selected],{info:f}=o;if(!f)return;let h=typeof f=="string"?document.createTextNode(f):f(o);if(!h)return;"then"in h?h.then(d=>{d&&this.view.state.field(this.stateField,!1)==r&&this.addInfoPane(d,o)}).catch(d=>logException(this.view.state,d,"completion info")):(this.addInfoPane(h,o),l.setAttribute("aria-describedby",this.info.id))}}addInfoPane(r,a){this.destroyInfo();let l=this.info=document.createElement("div");if(l.className="cm-tooltip cm-completionInfo",l.id="cm-completionInfo-"+Math.floor(Math.random()*65535).toString(16),r.nodeType!=null)l.appendChild(r),this.infoDestroy=null;else{let{dom:o,destroy:f}=r;l.appendChild(o),this.infoDestroy=f||null}this.dom.appendChild(l),this.view.requestMeasure(this.placeInfoReq)}updateSelectedOption(r){let a=null;for(let l=this.list.firstChild,o=this.range.from;l;l=l.nextSibling,o++)l.nodeName!="LI"||!l.id?o--:o==r?l.hasAttribute("aria-selected")||(l.setAttribute("aria-selected","true"),a=l):l.hasAttribute("aria-selected")&&(l.removeAttribute("aria-selected"),l.removeAttribute("aria-describedby"));return a&&scrollIntoView(this.list,a),a}measureInfo(){let r=this.dom.querySelector("[aria-selected]");if(!r||!this.info)return null;let a=this.dom.getBoundingClientRect(),l=this.info.getBoundingClientRect(),o=r.getBoundingClientRect(),f=this.space;if(!f){let h=this.dom.ownerDocument.documentElement;f={left:0,top:0,right:h.clientWidth,bottom:h.clientHeight}}return o.top>Math.min(f.bottom,a.bottom)-10||o.bottom<Math.max(f.top,a.top)+10?null:this.view.state.facet(completionConfig).positionInfo(this.view,a,o,l,f,this.dom)}placeInfo(r){this.info&&(r?(r.style&&(this.info.style.cssText=r.style),this.info.className="cm-tooltip cm-completionInfo "+(r.class||"")):this.info.style.cssText="top: -1e6px")}createListBox(r,a,l){const o=document.createElement("ul");o.id=a,o.setAttribute("role","listbox"),o.setAttribute("aria-expanded","true"),o.setAttribute("aria-label",this.view.state.phrase("Completions")),o.addEventListener("mousedown",h=>{h.target==o&&h.preventDefault()});let f=null;for(let h=l.from;h<l.to;h++){let{completion:d,match:g}=r[h],{section:m}=d;if(m){let x=typeof m=="string"?m:m.name;if(x!=f&&(h>l.from||l.from==0))if(f=x,typeof m!="string"&&m.header)o.appendChild(m.header(m));else{let w=o.appendChild(document.createElement("completion-section"));w.textContent=x}}const y=o.appendChild(document.createElement("li"));y.id=a+"-"+h,y.setAttribute("role","option");let S=this.optionClass(d);S&&(y.className=S);for(let x of this.optionContent){let w=x(d,this.view.state,this.view,g);w&&y.appendChild(w)}}return l.from&&o.classList.add("cm-completionListIncompleteTop"),l.to<r.length&&o.classList.add("cm-completionListIncompleteBottom"),o}destroyInfo(){this.info&&(this.infoDestroy&&this.infoDestroy(),this.info.remove(),this.info=null)}destroy(){this.destroyInfo()}}function completionTooltip(s,r){return a=>new CompletionTooltip(a,s,r)}function scrollIntoView(s,r){let a=s.getBoundingClientRect(),l=r.getBoundingClientRect(),o=a.height/s.offsetHeight;l.top<a.top?s.scrollTop-=(a.top-l.top)/o:l.bottom>a.bottom&&(s.scrollTop+=(l.bottom-a.bottom)/o)}function score(s){return(s.boost||0)*100+(s.apply?10:0)+(s.info?5:0)+(s.type?1:0)}function sortOptions(s,r){let a=[],l=null,o=null,f=y=>{a.push(y);let{section:S}=y.completion;if(S){l||(l=[]);let x=typeof S=="string"?S:S.name;l.some(w=>w.name==x)||l.push(typeof S=="string"?{name:x}:S)}},h=r.facet(completionConfig);for(let y of s)if(y.hasResult()){let S=y.result.getMatch;if(y.result.filter===!1)for(let x of y.result.options)f(new Option(x,y.source,S?S(x):[],1e9-a.length));else{let x=r.sliceDoc(y.from,y.to),w,Q=h.filterStrict?new StrictMatcher(x):new FuzzyMatcher(x);for(let A of y.result.options)if(w=Q.match(A.label)){let M=A.displayLabel?S?S(A,w.matched):[]:w.matched,L=w.score+(A.boost||0);if(f(new Option(A,y.source,M,L)),typeof A.section=="object"&&A.section.rank==="dynamic"){let{name:Z}=A.section;o||(o=Object.create(null)),o[Z]=Math.max(L,o[Z]||-1e9)}}}}if(l){let y=Object.create(null),S=0,x=(w,Q)=>(w.rank==="dynamic"&&Q.rank==="dynamic"?o[Q.name]-o[w.name]:0)||(typeof w.rank=="number"?w.rank:1e9)-(typeof Q.rank=="number"?Q.rank:1e9)||(w.name<Q.name?-1:1);for(let w of l.sort(x))S-=1e5,y[w.name]=S;for(let w of a){let{section:Q}=w.completion;Q&&(w.score+=y[typeof Q=="string"?Q:Q.name])}}let d=[],g=null,m=h.compareCompletions;for(let y of a.sort((S,x)=>x.score-S.score||m(S.completion,x.completion))){let S=y.completion;!g||g.label!=S.label||g.detail!=S.detail||g.type!=null&&S.type!=null&&g.type!=S.type||g.apply!=S.apply||g.boost!=S.boost?d.push(y):score(y.completion)>score(g)&&(d[d.length-1]=y),g=y.completion}return d}class CompletionDialog{constructor(r,a,l,o,f,h){this.options=r,this.attrs=a,this.tooltip=l,this.timestamp=o,this.selected=f,this.disabled=h}setSelected(r,a){return r==this.selected||r>=this.options.length?this:new CompletionDialog(this.options,makeAttrs(a,r),this.tooltip,this.timestamp,r,this.disabled)}static build(r,a,l,o,f,h){if(o&&!h&&r.some(m=>m.isPending))return o.setDisabled();let d=sortOptions(r,a);if(!d.length)return o&&r.some(m=>m.isPending)?o.setDisabled():null;let g=a.facet(completionConfig).selectOnOpen?0:-1;if(o&&o.selected!=g&&o.selected!=-1){let m=o.options[o.selected].completion;for(let y=0;y<d.length;y++)if(d[y].completion==m){g=y;break}}return new CompletionDialog(d,makeAttrs(l,g),{pos:r.reduce((m,y)=>y.hasResult()?Math.min(m,y.from):m,1e8),create:createTooltip,above:f.aboveCursor},o?o.timestamp:Date.now(),g,!1)}map(r){return new CompletionDialog(this.options,this.attrs,{...this.tooltip,pos:r.mapPos(this.tooltip.pos)},this.timestamp,this.selected,this.disabled)}setDisabled(){return new CompletionDialog(this.options,this.attrs,this.tooltip,this.timestamp,this.selected,!0)}}class CompletionState{constructor(r,a,l){this.active=r,this.id=a,this.open=l}static start(){return new CompletionState(none,"cm-ac-"+Math.floor(Math.random()*2e6).toString(36),null)}update(r){let{state:a}=r,l=a.facet(completionConfig),f=(l.override||a.languageDataAt("autocomplete",cur(a)).map(asSource)).map(g=>(this.active.find(y=>y.source==g)||new ActiveSource(g,this.active.some(y=>y.state!=0)?1:0)).update(r,l));f.length==this.active.length&&f.every((g,m)=>g==this.active[m])&&(f=this.active);let h=this.open,d=r.effects.some(g=>g.is(setActiveEffect));h&&r.docChanged&&(h=h.map(r.changes)),r.selection||f.some(g=>g.hasResult()&&r.changes.touchesRange(g.from,g.to))||!sameResults(f,this.active)||d?h=CompletionDialog.build(f,a,this.id,h,l,d):h&&h.disabled&&!f.some(g=>g.isPending)&&(h=null),!h&&f.every(g=>!g.isPending)&&f.some(g=>g.hasResult())&&(f=f.map(g=>g.hasResult()?new ActiveSource(g.source,0):g));for(let g of r.effects)g.is(setSelectedEffect)&&(h=h&&h.setSelected(g.value,this.id));return f==this.active&&h==this.open?this:new CompletionState(f,this.id,h)}get tooltip(){return this.open?this.open.tooltip:null}get attrs(){return this.open?this.open.attrs:this.active.length?baseAttrs:noAttrs}}function sameResults(s,r){if(s==r)return!0;for(let a=0,l=0;;){for(;a<s.length&&!s[a].hasResult();)a++;for(;l<r.length&&!r[l].hasResult();)l++;let o=a==s.length,f=l==r.length;if(o||f)return o==f;if(s[a++].result!=r[l++].result)return!1}}const baseAttrs={"aria-autocomplete":"list"},noAttrs={};function makeAttrs(s,r){let a={"aria-autocomplete":"list","aria-haspopup":"listbox","aria-controls":s};return r>-1&&(a["aria-activedescendant"]=s+"-"+r),a}const none=[];function getUpdateType(s,r){if(s.isUserEvent("input.complete")){let l=s.annotation(pickedCompletion);if(l&&r.activateOnCompletion(l))return 12}let a=s.isUserEvent("input.type");return a&&r.activateOnTyping?5:a?1:s.isUserEvent("delete.backward")?2:s.selection?8:s.docChanged?16:0}class ActiveSource{constructor(r,a,l=!1){this.source=r,this.state=a,this.explicit=l}hasResult(){return!1}get isPending(){return this.state==1}update(r,a){let l=getUpdateType(r,a),o=this;(l&8||l&16&&this.touches(r))&&(o=new ActiveSource(o.source,0)),l&4&&o.state==0&&(o=new ActiveSource(this.source,1)),o=o.updateFor(r,l);for(let f of r.effects)if(f.is(startCompletionEffect))o=new ActiveSource(o.source,1,f.value);else if(f.is(closeCompletionEffect))o=new ActiveSource(o.source,0);else if(f.is(setActiveEffect))for(let h of f.value)h.source==o.source&&(o=h);return o}updateFor(r,a){return this.map(r.changes)}map(r){return this}touches(r){return r.changes.touchesRange(cur(r.state))}}class ActiveResult extends ActiveSource{constructor(r,a,l,o,f,h){super(r,3,a),this.limit=l,this.result=o,this.from=f,this.to=h}hasResult(){return!0}updateFor(r,a){var l;if(!(a&3))return this.map(r.changes);let o=this.result;o.map&&!r.changes.empty&&(o=o.map(o,r.changes));let f=r.changes.mapPos(this.from),h=r.changes.mapPos(this.to,1),d=cur(r.state);if(d>h||!o||a&2&&(cur(r.startState)==this.from||d<this.limit))return new ActiveSource(this.source,a&4?1:0);let g=r.changes.mapPos(this.limit);return checkValid(o.validFor,r.state,f,h)?new ActiveResult(this.source,this.explicit,g,o,f,h):o.update&&(o=o.update(o,f,h,new CompletionContext(r.state,d,!1)))?new ActiveResult(this.source,this.explicit,g,o,o.from,(l=o.to)!==null&&l!==void 0?l:cur(r.state)):new ActiveSource(this.source,1,this.explicit)}map(r){return r.empty?this:(this.result.map?this.result.map(this.result,r):this.result)?new ActiveResult(this.source,this.explicit,r.mapPos(this.limit),this.result,r.mapPos(this.from),r.mapPos(this.to,1)):new ActiveSource(this.source,0)}touches(r){return r.changes.touchesRange(this.from,this.to)}}function checkValid(s,r,a,l){if(!s)return!1;let o=r.sliceDoc(a,l);return typeof s=="function"?s(o,a,l,r):ensureAnchor(s,!0).test(o)}const setActiveEffect=StateEffect.define({map(s,r){return s.map(a=>a.map(r))}}),setSelectedEffect=StateEffect.define(),completionState=StateField.define({create(){return CompletionState.start()},update(s,r){return s.update(r)},provide:s=>[showTooltip.from(s,r=>r.tooltip),EditorView.contentAttributes.from(s,r=>r.attrs)]});function applyCompletion(s,r){const a=r.completion.apply||r.completion.label;let l=s.state.field(completionState).active.find(o=>o.source==r.source);return l instanceof ActiveResult?(typeof a=="string"?s.dispatch({...insertCompletionText(s.state,a,l.from,l.to),annotations:pickedCompletion.of(r.completion)}):a(s,r.completion,l.from,l.to),!0):!1}const createTooltip=completionTooltip(completionState,applyCompletion);function moveCompletionSelection(s,r="option"){return a=>{let l=a.state.field(completionState,!1);if(!l||!l.open||l.open.disabled||Date.now()-l.open.timestamp<a.state.facet(completionConfig).interactionDelay)return!1;let o=1,f;r=="page"&&(f=getTooltip(a,l.open.tooltip))&&(o=Math.max(2,Math.floor(f.dom.offsetHeight/f.dom.querySelector("li").offsetHeight)-1));let{length:h}=l.open.options,d=l.open.selected>-1?l.open.selected+o*(s?1:-1):s?0:h-1;return d<0?d=r=="page"?0:h-1:d>=h&&(d=r=="page"?h-1:0),a.dispatch({effects:setSelectedEffect.of(d)}),!0}}const acceptCompletion=s=>{let r=s.state.field(completionState,!1);return s.state.readOnly||!r||!r.open||r.open.selected<0||r.open.disabled||Date.now()-r.open.timestamp<s.state.facet(completionConfig).interactionDelay?!1:applyCompletion(s,r.open.options[r.open.selected])},startCompletion=s=>s.state.field(completionState,!1)?(s.dispatch({effects:startCompletionEffect.of(!0)}),!0):!1,closeCompletion=s=>{let r=s.state.field(completionState,!1);return!r||!r.active.some(a=>a.state!=0)?!1:(s.dispatch({effects:closeCompletionEffect.of(null)}),!0)};class RunningQuery{constructor(r,a){this.active=r,this.context=a,this.time=Date.now(),this.updates=[],this.done=void 0}}const MaxUpdateCount=50,MinAbortTime=1e3,completionPlugin=ViewPlugin.fromClass(class{constructor(s){this.view=s,this.debounceUpdate=-1,this.running=[],this.debounceAccept=-1,this.pendingStart=!1,this.composing=0;for(let r of s.state.field(completionState).active)r.isPending&&this.startQuery(r)}update(s){let r=s.state.field(completionState),a=s.state.facet(completionConfig);if(!s.selectionSet&&!s.docChanged&&s.startState.field(completionState)==r)return;let l=s.transactions.some(f=>{let h=getUpdateType(f,a);return h&8||(f.selection||f.docChanged)&&!(h&3)});for(let f=0;f<this.running.length;f++){let h=this.running[f];if(l||h.context.abortOnDocChange&&s.docChanged||h.updates.length+s.transactions.length>MaxUpdateCount&&Date.now()-h.time>MinAbortTime){for(let d of h.context.abortListeners)try{d()}catch(g){logException(this.view.state,g)}h.context.abortListeners=null,this.running.splice(f--,1)}else h.updates.push(...s.transactions)}this.debounceUpdate>-1&&clearTimeout(this.debounceUpdate),s.transactions.some(f=>f.effects.some(h=>h.is(startCompletionEffect)))&&(this.pendingStart=!0);let o=this.pendingStart?50:a.activateOnTypingDelay;if(this.debounceUpdate=r.active.some(f=>f.isPending&&!this.running.some(h=>h.active.source==f.source))?setTimeout(()=>this.startUpdate(),o):-1,this.composing!=0)for(let f of s.transactions)f.isUserEvent("input.type")?this.composing=2:this.composing==2&&f.selection&&(this.composing=3)}startUpdate(){this.debounceUpdate=-1,this.pendingStart=!1;let{state:s}=this.view,r=s.field(completionState);for(let a of r.active)a.isPending&&!this.running.some(l=>l.active.source==a.source)&&this.startQuery(a);this.running.length&&r.open&&r.open.disabled&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}startQuery(s){let{state:r}=this.view,a=cur(r),l=new CompletionContext(r,a,s.explicit,this.view),o=new RunningQuery(s,l);this.running.push(o),Promise.resolve(s.source(l)).then(f=>{o.context.aborted||(o.done=f||null,this.scheduleAccept())},f=>{this.view.dispatch({effects:closeCompletionEffect.of(null)}),logException(this.view.state,f)})}scheduleAccept(){this.running.every(s=>s.done!==void 0)?this.accept():this.debounceAccept<0&&(this.debounceAccept=setTimeout(()=>this.accept(),this.view.state.facet(completionConfig).updateSyncTime))}accept(){var s;this.debounceAccept>-1&&clearTimeout(this.debounceAccept),this.debounceAccept=-1;let r=[],a=this.view.state.facet(completionConfig),l=this.view.state.field(completionState);for(let o=0;o<this.running.length;o++){let f=this.running[o];if(f.done===void 0)continue;if(this.running.splice(o--,1),f.done){let d=cur(f.updates.length?f.updates[0].startState:this.view.state),g=Math.min(d,f.done.from+(f.active.explicit?0:1)),m=new ActiveResult(f.active.source,f.active.explicit,g,f.done,f.done.from,(s=f.done.to)!==null&&s!==void 0?s:d);for(let y of f.updates)m=m.update(y,a);if(m.hasResult()){r.push(m);continue}}let h=l.active.find(d=>d.source==f.active.source);if(h&&h.isPending)if(f.done==null){let d=new ActiveSource(f.active.source,0);for(let g of f.updates)d=d.update(g,a);d.isPending||r.push(d)}else this.startQuery(h)}(r.length||l.open&&l.open.disabled)&&this.view.dispatch({effects:setActiveEffect.of(r)})}},{eventHandlers:{blur(s){let r=this.view.state.field(completionState,!1);if(r&&r.tooltip&&this.view.state.facet(completionConfig).closeOnBlur){let a=r.open&&getTooltip(this.view,r.open.tooltip);(!a||!a.dom.contains(s.relatedTarget))&&setTimeout(()=>this.view.dispatch({effects:closeCompletionEffect.of(null)}),10)}},compositionstart(){this.composing=1},compositionend(){this.composing==3&&setTimeout(()=>this.view.dispatch({effects:startCompletionEffect.of(!1)}),20),this.composing=0}}}),windows=typeof navigator=="object"&&/Win/.test(navigator.platform),commitCharacters=Prec.highest(EditorView.domEventHandlers({keydown(s,r){let a=r.state.field(completionState,!1);if(!a||!a.open||a.open.disabled||a.open.selected<0||s.key.length>1||s.ctrlKey&&!(windows&&s.altKey)||s.metaKey)return!1;let l=a.open.options[a.open.selected],o=a.active.find(h=>h.source==l.source),f=l.completion.commitCharacters||o.result.commitCharacters;return f&&f.indexOf(s.key)>-1&&applyCompletion(r,l),!1}})),baseTheme$1=EditorView.baseTheme({".cm-tooltip.cm-tooltip-autocomplete":{"& > ul":{fontFamily:"monospace",whiteSpace:"nowrap",overflow:"hidden auto",maxWidth_fallback:"700px",maxWidth:"min(700px, 95vw)",minWidth:"250px",maxHeight:"10em",height:"100%",listStyle:"none",margin:0,padding:0,"& > li, & > completion-section":{padding:"1px 3px",lineHeight:1.2},"& > li":{overflowX:"hidden",textOverflow:"ellipsis",cursor:"pointer"},"& > completion-section":{display:"list-item",borderBottom:"1px solid silver",paddingLeft:"0.5em",opacity:.7}}},"&light .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#17c",color:"white"},"&light .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#777"},"&dark .cm-tooltip-autocomplete ul li[aria-selected]":{background:"#347",color:"white"},"&dark .cm-tooltip-autocomplete-disabled ul li[aria-selected]":{background:"#444"},".cm-completionListIncompleteTop:before, .cm-completionListIncompleteBottom:after":{content:'""',opacity:.5,display:"block",textAlign:"center"},".cm-tooltip.cm-completionInfo":{position:"absolute",padding:"3px 9px",width:"max-content",maxWidth:"400px",boxSizing:"border-box",whiteSpace:"pre-line"},".cm-completionInfo.cm-completionInfo-left":{right:"100%"},".cm-completionInfo.cm-completionInfo-right":{left:"100%"},".cm-completionInfo.cm-completionInfo-left-narrow":{right:"30px"},".cm-completionInfo.cm-completionInfo-right-narrow":{left:"30px"},"&light .cm-snippetField":{backgroundColor:"#00000022"},"&dark .cm-snippetField":{backgroundColor:"#ffffff22"},".cm-snippetFieldPosition":{verticalAlign:"text-top",width:0,height:"1.15em",display:"inline-block",margin:"0 -0.7px -.7em",borderLeft:"1.4px dotted #888"},".cm-completionMatchedText":{textDecoration:"underline"},".cm-completionDetail":{marginLeft:"0.5em",fontStyle:"italic"},".cm-completionIcon":{fontSize:"90%",width:".8em",display:"inline-block",textAlign:"center",paddingRight:".6em",opacity:"0.6",boxSizing:"content-box"},".cm-completionIcon-function, .cm-completionIcon-method":{"&:after":{content:"''"}},".cm-completionIcon-class":{"&:after":{content:"''"}},".cm-completionIcon-interface":{"&:after":{content:"''"}},".cm-completionIcon-variable":{"&:after":{content:"''"}},".cm-completionIcon-constant":{"&:after":{content:"''"}},".cm-completionIcon-type":{"&:after":{content:"''"}},".cm-completionIcon-enum":{"&:after":{content:"''"}},".cm-completionIcon-property":{"&:after":{content:"''"}},".cm-completionIcon-keyword":{"&:after":{content:"''"}},".cm-completionIcon-namespace":{"&:after":{content:"''"}},".cm-completionIcon-text":{"&:after":{content:"'abc'",fontSize:"50%",verticalAlign:"middle"}}});class FieldPos{constructor(r,a,l,o){this.field=r,this.line=a,this.from=l,this.to=o}}class FieldRange{constructor(r,a,l){this.field=r,this.from=a,this.to=l}map(r){let a=r.mapPos(this.from,-1,MapMode.TrackDel),l=r.mapPos(this.to,1,MapMode.TrackDel);return a==null||l==null?null:new FieldRange(this.field,a,l)}}class Snippet{constructor(r,a){this.lines=r,this.fieldPositions=a}instantiate(r,a){let l=[],o=[a],f=r.doc.lineAt(a),h=/^\s*/.exec(f.text)[0];for(let g of this.lines){if(l.length){let m=h,y=/^\t*/.exec(g)[0].length;for(let S=0;S<y;S++)m+=r.facet(indentUnit);o.push(a+m.length-y),g=m+g.slice(y)}l.push(g),a+=g.length+1}let d=this.fieldPositions.map(g=>new FieldRange(g.field,o[g.line]+g.from,o[g.line]+g.to));return{text:l,ranges:d}}static parse(r){let a=[],l=[],o=[],f;for(let h of r.split(/\r\n?|\n/)){for(;f=/[#$]\{(?:(\d+)(?::([^{}]*))?|((?:\\[{}]|[^{}])*))\}/.exec(h);){let d=f[1]?+f[1]:null,g=f[2]||f[3]||"",m=-1,y=g.replace(/\\[{}]/g,S=>S[1]);for(let S=0;S<a.length;S++)(d!=null?a[S].seq==d:y&&a[S].name==y)&&(m=S);if(m<0){let S=0;for(;S<a.length&&(d==null||a[S].seq!=null&&a[S].seq<d);)S++;a.splice(S,0,{seq:d,name:y}),m=S;for(let x of o)x.field>=m&&x.field++}for(let S of o)if(S.line==l.length&&S.from>f.index){let x=f[2]?3+(f[1]||"").length:2;S.from-=x,S.to-=x}o.push(new FieldPos(m,l.length,f.index,f.index+y.length)),h=h.slice(0,f.index)+g+h.slice(f.index+f[0].length)}h=h.replace(/\\([{}])/g,(d,g,m)=>{for(let y of o)y.line==l.length&&y.from>m&&(y.from--,y.to--);return g}),l.push(h)}return new Snippet(l,o)}}let fieldMarker=Decoration.widget({widget:new class extends WidgetType{toDOM(){let s=document.createElement("span");return s.className="cm-snippetFieldPosition",s}ignoreEvent(){return!1}}}),fieldRange=Decoration.mark({class:"cm-snippetField"});class ActiveSnippet{constructor(r,a){this.ranges=r,this.active=a,this.deco=Decoration.set(r.map(l=>(l.from==l.to?fieldMarker:fieldRange).range(l.from,l.to)),!0)}map(r){let a=[];for(let l of this.ranges){let o=l.map(r);if(!o)return null;a.push(o)}return new ActiveSnippet(a,this.active)}selectionInsideField(r){return r.ranges.every(a=>this.ranges.some(l=>l.field==this.active&&l.from<=a.from&&l.to>=a.to))}}const setActive=StateEffect.define({map(s,r){return s&&s.map(r)}}),moveToField=StateEffect.define(),snippetState=StateField.define({create(){return null},update(s,r){for(let a of r.effects){if(a.is(setActive))return a.value;if(a.is(moveToField)&&s)return new ActiveSnippet(s.ranges,a.value)}return s&&r.docChanged&&(s=s.map(r.changes)),s&&r.selection&&!s.selectionInsideField(r.selection)&&(s=null),s},provide:s=>EditorView.decorations.from(s,r=>r?r.deco:Decoration.none)});function fieldSelection(s,r){return EditorSelection.create(s.filter(a=>a.field==r).map(a=>EditorSelection.range(a.from,a.to)))}function snippet(s){let r=Snippet.parse(s);return(a,l,o,f)=>{let{text:h,ranges:d}=r.instantiate(a.state,o),{main:g}=a.state.selection,m={changes:{from:o,to:f==g.from?g.to:f,insert:Text.of(h)},scrollIntoView:!0,annotations:l?[pickedCompletion.of(l),Transaction.userEvent.of("input.complete")]:void 0};if(d.length&&(m.selection=fieldSelection(d,0)),d.some(y=>y.field>0)){let y=new ActiveSnippet(d,0),S=m.effects=[setActive.of(y)];a.state.field(snippetState,!1)===void 0&&S.push(StateEffect.appendConfig.of([snippetState,addSnippetKeymap,snippetPointerHandler,baseTheme$1]))}a.dispatch(a.state.update(m))}}function moveField(s){return({state:r,dispatch:a})=>{let l=r.field(snippetState,!1);if(!l||s<0&&l.active==0)return!1;let o=l.active+s,f=s>0&&!l.ranges.some(h=>h.field==o+s);return a(r.update({selection:fieldSelection(l.ranges,o),effects:setActive.of(f?null:new ActiveSnippet(l.ranges,o)),scrollIntoView:!0})),!0}}const clearSnippet=({state:s,dispatch:r})=>s.field(snippetState,!1)?(r(s.update({effects:setActive.of(null)})),!0):!1,nextSnippetField=moveField(1),prevSnippetField=moveField(-1),defaultSnippetKeymap=[{key:"Tab",run:nextSnippetField,shift:prevSnippetField},{key:"Escape",run:clearSnippet}],snippetKeymap=Facet.define({combine(s){return s.length?s[0]:defaultSnippetKeymap}}),addSnippetKeymap=Prec.highest(keymap.compute([snippetKeymap],s=>s.facet(snippetKeymap)));function snippetCompletion(s,r){return{...r,apply:snippet(s)}}const snippetPointerHandler=EditorView.domEventHandlers({mousedown(s,r){let a=r.state.field(snippetState,!1),l;if(!a||(l=r.posAtCoords({x:s.clientX,y:s.clientY}))==null)return!1;let o=a.ranges.find(f=>f.from<=l&&f.to>=l);return!o||o.field==a.active?!1:(r.dispatch({selection:fieldSelection(a.ranges,o.field),effects:setActive.of(a.ranges.some(f=>f.field>o.field)?new ActiveSnippet(a.ranges,o.field):null),scrollIntoView:!0}),!0)}}),defaults={brackets:["(","[","{","'",'"'],before:")]}:;>",stringPrefixes:[]},closeBracketEffect=StateEffect.define({map(s,r){let a=r.mapPos(s,-1,MapMode.TrackAfter);return a??void 0}}),closedBracket=new class extends RangeValue{};closedBracket.startSide=1;closedBracket.endSide=-1;const bracketState=StateField.define({create(){return RangeSet.empty},update(s,r){if(s=s.map(r.changes),r.selection){let a=r.state.doc.lineAt(r.selection.main.head);s=s.update({filter:l=>l>=a.from&&l<=a.to})}for(let a of r.effects)a.is(closeBracketEffect)&&(s=s.update({add:[closedBracket.range(a.value,a.value+1)]}));return s}});function closeBrackets(){return[inputHandler,bracketState]}const definedClosing="()[]{}<>";function closing(s){for(let r=0;r<definedClosing.length;r+=2)if(definedClosing.charCodeAt(r)==s)return definedClosing.charAt(r+1);return fromCodePoint(s<128?s:s+1)}function config(s,r){return s.languageDataAt("closeBrackets",r)[0]||defaults}const android$1=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),inputHandler=EditorView.inputHandler.of((s,r,a,l)=>{if((android$1?s.composing:s.compositionStarted)||s.state.readOnly)return!1;let o=s.state.selection.main;if(l.length>2||l.length==2&&codePointSize(codePointAt(l,0))==1||r!=o.from||a!=o.to)return!1;let f=insertBracket(s.state,l);return f?(s.dispatch(f),!0):!1}),deleteBracketPair=({state:s,dispatch:r})=>{if(s.readOnly)return!1;let l=config(s,s.selection.main.head).brackets||defaults.brackets,o=null,f=s.changeByRange(h=>{if(h.empty){let d=prevChar(s.doc,h.head);for(let g of l)if(g==d&&nextChar(s.doc,h.head)==closing(codePointAt(g,0)))return{changes:{from:h.head-g.length,to:h.head+g.length},range:EditorSelection.cursor(h.head-g.length)}}return{range:o=h}});return o||r(s.update(f,{scrollIntoView:!0,userEvent:"delete.backward"})),!o},closeBracketsKeymap=[{key:"Backspace",run:deleteBracketPair}];function insertBracket(s,r){let a=config(s,s.selection.main.head),l=a.brackets||defaults.brackets;for(let o of l){let f=closing(codePointAt(o,0));if(r==o)return f==o?handleSame(s,o,l.indexOf(o+o+o)>-1,a):handleOpen(s,o,f,a.before||defaults.before);if(r==f&&closedBracketAt(s,s.selection.main.from))return handleClose(s,o,f)}return null}function closedBracketAt(s,r){let a=!1;return s.field(bracketState).between(0,s.doc.length,l=>{l==r&&(a=!0)}),a}function nextChar(s,r){let a=s.sliceString(r,r+2);return a.slice(0,codePointSize(codePointAt(a,0)))}function prevChar(s,r){let a=s.sliceString(r-2,r);return codePointSize(codePointAt(a,0))==a.length?a:a.slice(1)}function handleOpen(s,r,a,l){let o=null,f=s.changeByRange(h=>{if(!h.empty)return{changes:[{insert:r,from:h.from},{insert:a,from:h.to}],effects:closeBracketEffect.of(h.to+r.length),range:EditorSelection.range(h.anchor+r.length,h.head+r.length)};let d=nextChar(s.doc,h.head);return!d||/\s/.test(d)||l.indexOf(d)>-1?{changes:{insert:r+a,from:h.head},effects:closeBracketEffect.of(h.head+r.length),range:EditorSelection.cursor(h.head+r.length)}:{range:o=h}});return o?null:s.update(f,{scrollIntoView:!0,userEvent:"input.type"})}function handleClose(s,r,a){let l=null,o=s.changeByRange(f=>f.empty&&nextChar(s.doc,f.head)==a?{changes:{from:f.head,to:f.head+a.length,insert:a},range:EditorSelection.cursor(f.head+a.length)}:l={range:f});return l?null:s.update(o,{scrollIntoView:!0,userEvent:"input.type"})}function handleSame(s,r,a,l){let o=l.stringPrefixes||defaults.stringPrefixes,f=null,h=s.changeByRange(d=>{if(!d.empty)return{changes:[{insert:r,from:d.from},{insert:r,from:d.to}],effects:closeBracketEffect.of(d.to+r.length),range:EditorSelection.range(d.anchor+r.length,d.head+r.length)};let g=d.head,m=nextChar(s.doc,g),y;if(m==r){if(nodeStart(s,g))return{changes:{insert:r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)};if(closedBracketAt(s,g)){let x=a&&s.sliceDoc(g,g+r.length*3)==r+r+r?r+r+r:r;return{changes:{from:g,to:g+x.length,insert:x},range:EditorSelection.cursor(g+x.length)}}}else{if(a&&s.sliceDoc(g-2*r.length,g)==r+r&&(y=canStartStringAt(s,g-2*r.length,o))>-1&&nodeStart(s,y))return{changes:{insert:r+r+r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)};if(s.charCategorizer(g)(m)!=CharCategory.Word&&canStartStringAt(s,g,o)>-1&&!probablyInString(s,g,r,o))return{changes:{insert:r+r,from:g},effects:closeBracketEffect.of(g+r.length),range:EditorSelection.cursor(g+r.length)}}return{range:f=d}});return f?null:s.update(h,{scrollIntoView:!0,userEvent:"input.type"})}function nodeStart(s,r){let a=syntaxTree(s).resolveInner(r+1);return a.parent&&a.from==r}function probablyInString(s,r,a,l){let o=syntaxTree(s).resolveInner(r,-1),f=l.reduce((h,d)=>Math.max(h,d.length),0);for(let h=0;h<5;h++){let d=s.sliceDoc(o.from,Math.min(o.to,o.from+a.length+f)),g=d.indexOf(a);if(!g||g>-1&&l.indexOf(d.slice(0,g))>-1){let y=o.firstChild;for(;y&&y.from==o.from&&y.to-y.from>a.length+g;){if(s.sliceDoc(y.to-a.length,y.to)==a)return!1;y=y.firstChild}return!0}let m=o.to==r&&o.parent;if(!m)break;o=m}return!1}function canStartStringAt(s,r,a){let l=s.charCategorizer(r);if(l(s.sliceDoc(r-1,r))!=CharCategory.Word)return r;for(let o of a){let f=r-o.length;if(s.sliceDoc(f,r)==o&&l(s.sliceDoc(f-1,f))!=CharCategory.Word)return f}return-1}function autocompletion(s={}){return[commitCharacters,completionState,completionConfig.of(s),completionPlugin,completionKeymapExt,baseTheme$1]}const completionKeymap=[{key:"Ctrl-Space",run:startCompletion},{mac:"Alt-`",run:startCompletion},{mac:"Alt-i",run:startCompletion},{key:"Escape",run:closeCompletion},{key:"ArrowDown",run:moveCompletionSelection(!0)},{key:"ArrowUp",run:moveCompletionSelection(!1)},{key:"PageDown",run:moveCompletionSelection(!0,"page")},{key:"PageUp",run:moveCompletionSelection(!1,"page")},{key:"Enter",run:acceptCompletion}],completionKeymapExt=Prec.highest(keymap.computeN([completionConfig],s=>s.facet(completionConfig).defaultKeymap?[completionKeymap]:[]));class SelectedDiagnostic{constructor(r,a,l){this.from=r,this.to=a,this.diagnostic=l}}class LintState{constructor(r,a,l){this.diagnostics=r,this.panel=a,this.selected=l}static init(r,a,l){let o=l.facet(lintConfig).markerFilter;o&&(r=o(r,l));let f=r.slice().sort((w,Q)=>w.from-Q.from||w.to-Q.to),h=new RangeSetBuilder,d=[],g=0,m=l.doc.iter(),y=0,S=l.doc.length;for(let w=0;;){let Q=w==f.length?null:f[w];if(!Q&&!d.length)break;let A,M;if(d.length)A=g,M=d.reduce((z,j)=>Math.min(z,j.to),Q&&Q.from>A?Q.from:1e8);else{if(A=Q.from,A>S)break;M=Q.to,d.push(Q),w++}for(;w<f.length;){let z=f[w];if(z.from==A&&(z.to>z.from||z.to==A))d.push(z),w++,M=Math.min(z.to,M);else{M=Math.min(z.from,M);break}}M=Math.min(M,S);let L=!1;if(d.some(z=>z.from==A&&(z.to==M||M==S))&&(L=A==M,!L&&M-A<10)){let z=A-(y+m.value.length);z>0&&(m.next(z),y=A);for(let j=A;;){if(j>=M){L=!0;break}if(!m.lineBreak&&y+m.value.length>j)break;j=y+m.value.length,y+=m.value.length,m.next()}}let Z=maxSeverity(d);if(L)h.add(A,A,Decoration.widget({widget:new DiagnosticWidget(Z),diagnostics:d.slice()}));else{let z=d.reduce((j,B)=>B.markClass?j+" "+B.markClass:j,"");h.add(A,M,Decoration.mark({class:"cm-lintRange cm-lintRange-"+Z+z,diagnostics:d.slice(),inclusiveEnd:d.some(j=>j.to>M)}))}if(g=M,g==S)break;for(let z=0;z<d.length;z++)d[z].to<=g&&d.splice(z--,1)}let x=h.finish();return new LintState(x,a,findDiagnostic(x))}}function findDiagnostic(s,r=null,a=0){let l=null;return s.between(a,1e9,(o,f,{spec:h})=>{if(!(r&&h.diagnostics.indexOf(r)<0))if(!l)l=new SelectedDiagnostic(o,f,r||h.diagnostics[0]);else{if(h.diagnostics.indexOf(l.diagnostic)<0)return!1;l=new SelectedDiagnostic(l.from,f,l.diagnostic)}}),l}function hideTooltip(s,r){let a=r.pos,l=r.end||a,o=s.state.facet(lintConfig).hideOn(s,a,l);if(o!=null)return o;let f=s.startState.doc.lineAt(r.pos);return!!(s.effects.some(h=>h.is(setDiagnosticsEffect))||s.changes.touchesRange(f.from,Math.max(f.to,l)))}function maybeEnableLint(s,r){return s.field(lintState,!1)?r:r.concat(StateEffect.appendConfig.of(lintExtensions))}const setDiagnosticsEffect=StateEffect.define(),togglePanel=StateEffect.define(),movePanelSelection=StateEffect.define(),lintState=StateField.define({create(){return new LintState(Decoration.none,null,null)},update(s,r){if(r.docChanged&&s.diagnostics.size){let a=s.diagnostics.map(r.changes),l=null,o=s.panel;if(s.selected){let f=r.changes.mapPos(s.selected.from,1);l=findDiagnostic(a,s.selected.diagnostic,f)||findDiagnostic(a,null,f)}!a.size&&o&&r.state.facet(lintConfig).autoPanel&&(o=null),s=new LintState(a,o,l)}for(let a of r.effects)if(a.is(setDiagnosticsEffect)){let l=r.state.facet(lintConfig).autoPanel?a.value.length?LintPanel.open:null:s.panel;s=LintState.init(a.value,l,r.state)}else a.is(togglePanel)?s=new LintState(s.diagnostics,a.value?LintPanel.open:null,s.selected):a.is(movePanelSelection)&&(s=new LintState(s.diagnostics,s.panel,a.value));return s},provide:s=>[showPanel.from(s,r=>r.panel),EditorView.decorations.from(s,r=>r.diagnostics)]}),activeMark=Decoration.mark({class:"cm-lintRange cm-lintRange-active"});function lintTooltip(s,r,a){let{diagnostics:l}=s.state.field(lintState),o,f=-1,h=-1;l.between(r-(a<0?1:0),r+(a>0?1:0),(g,m,{spec:y})=>{if(r>=g&&r<=m&&(g==m||(r>g||a>0)&&(r<m||a<0)))return o=y.diagnostics,f=g,h=m,!1});let d=s.state.facet(lintConfig).tooltipFilter;return o&&d&&(o=d(o,s.state)),o?{pos:f,end:h,above:s.state.doc.lineAt(f).to<h,create(){return{dom:diagnosticsTooltip(s,o)}}}:null}function diagnosticsTooltip(s,r){return crelt("ul",{class:"cm-tooltip-lint"},r.map(a=>renderDiagnostic(s,a,!1)))}const openLintPanel=s=>{let r=s.state.field(lintState,!1);(!r||!r.panel)&&s.dispatch({effects:maybeEnableLint(s.state,[togglePanel.of(!0)])});let a=getPanel(s,LintPanel.open);return a&&a.dom.querySelector(".cm-panel-lint ul").focus(),!0},closeLintPanel=s=>{let r=s.state.field(lintState,!1);return!r||!r.panel?!1:(s.dispatch({effects:togglePanel.of(!1)}),!0)},nextDiagnostic=s=>{let r=s.state.field(lintState,!1);if(!r)return!1;let a=s.state.selection.main,l=r.diagnostics.iter(a.to+1);return!l.value&&(l=r.diagnostics.iter(0),!l.value||l.from==a.from&&l.to==a.to)?!1:(s.dispatch({selection:{anchor:l.from,head:l.to},scrollIntoView:!0}),!0)},lintKeymap=[{key:"Mod-Shift-m",run:openLintPanel,preventDefault:!0},{key:"F8",run:nextDiagnostic}],lintConfig=Facet.define({combine(s){return{sources:s.map(r=>r.source).filter(r=>r!=null),...combineConfig(s.map(r=>r.config),{delay:750,markerFilter:null,tooltipFilter:null,needsRefresh:null,hideOn:()=>null},{delay:Math.max,markerFilter:combineFilter,tooltipFilter:combineFilter,needsRefresh:(r,a)=>r?a?l=>r(l)||a(l):r:a,hideOn:(r,a)=>r?a?(l,o,f)=>r(l,o,f)||a(l,o,f):r:a,autoPanel:(r,a)=>r||a})}}});function combineFilter(s,r){return s?r?(a,l)=>r(s(a,l),l):s:r}function assignKeys(s){let r=[];if(s)e:for(let{name:a}of s){for(let l=0;l<a.length;l++){let o=a[l];if(/[a-zA-Z]/.test(o)&&!r.some(f=>f.toLowerCase()==o.toLowerCase())){r.push(o);continue e}}r.push("")}return r}function renderDiagnostic(s,r,a){var l;let o=a?assignKeys(r.actions):[];return crelt("li",{class:"cm-diagnostic cm-diagnostic-"+r.severity},crelt("span",{class:"cm-diagnosticText"},r.renderMessage?r.renderMessage(s):r.message),(l=r.actions)===null||l===void 0?void 0:l.map((f,h)=>{let d=!1,g=w=>{if(w.preventDefault(),d)return;d=!0;let Q=findDiagnostic(s.state.field(lintState).diagnostics,r);Q&&f.apply(s,Q.from,Q.to)},{name:m}=f,y=o[h]?m.indexOf(o[h]):-1,S=y<0?m:[m.slice(0,y),crelt("u",m.slice(y,y+1)),m.slice(y+1)],x=f.markClass?" "+f.markClass:"";return crelt("button",{type:"button",class:"cm-diagnosticAction"+x,onclick:g,onmousedown:g,"aria-label":` Action: ${m}${y<0?"":` (access key "${o[h]})"`}.`},S)}),r.source&&crelt("div",{class:"cm-diagnosticSource"},r.source))}class DiagnosticWidget extends WidgetType{constructor(r){super(),this.sev=r}eq(r){return r.sev==this.sev}toDOM(){return crelt("span",{class:"cm-lintPoint cm-lintPoint-"+this.sev})}}class PanelItem{constructor(r,a){this.diagnostic=a,this.id="item_"+Math.floor(Math.random()*4294967295).toString(16),this.dom=renderDiagnostic(r,a,!0),this.dom.id=this.id,this.dom.setAttribute("role","option")}}class LintPanel{constructor(r){this.view=r,this.items=[];let a=o=>{if(!(o.ctrlKey||o.altKey||o.metaKey)){if(o.keyCode==27)closeLintPanel(this.view),this.view.focus();else if(o.keyCode==38||o.keyCode==33)this.moveSelection((this.selectedIndex-1+this.items.length)%this.items.length);else if(o.keyCode==40||o.keyCode==34)this.moveSelection((this.selectedIndex+1)%this.items.length);else if(o.keyCode==36)this.moveSelection(0);else if(o.keyCode==35)this.moveSelection(this.items.length-1);else if(o.keyCode==13)this.view.focus();else if(o.keyCode>=65&&o.keyCode<=90&&this.selectedIndex>=0){let{diagnostic:f}=this.items[this.selectedIndex],h=assignKeys(f.actions);for(let d=0;d<h.length;d++)if(h[d].toUpperCase().charCodeAt(0)==o.keyCode){let g=findDiagnostic(this.view.state.field(lintState).diagnostics,f);g&&f.actions[d].apply(r,g.from,g.to)}}else return;o.preventDefault()}},l=o=>{for(let f=0;f<this.items.length;f++)this.items[f].dom.contains(o.target)&&this.moveSelection(f)};this.list=crelt("ul",{tabIndex:0,role:"listbox","aria-label":this.view.state.phrase("Diagnostics"),onkeydown:a,onclick:l}),this.dom=crelt("div",{class:"cm-panel-lint"},this.list,crelt("button",{type:"button",name:"close","aria-label":this.view.state.phrase("close"),onclick:()=>closeLintPanel(this.view)},"")),this.update()}get selectedIndex(){let r=this.view.state.field(lintState).selected;if(!r)return-1;for(let a=0;a<this.items.length;a++)if(this.items[a].diagnostic==r.diagnostic)return a;return-1}update(){let{diagnostics:r,selected:a}=this.view.state.field(lintState),l=0,o=!1,f=null,h=new Set;for(r.between(0,this.view.state.doc.length,(d,g,{spec:m})=>{for(let y of m.diagnostics){if(h.has(y))continue;h.add(y);let S=-1,x;for(let w=l;w<this.items.length;w++)if(this.items[w].diagnostic==y){S=w;break}S<0?(x=new PanelItem(this.view,y),this.items.splice(l,0,x),o=!0):(x=this.items[S],S>l&&(this.items.splice(l,S-l),o=!0)),a&&x.diagnostic==a.diagnostic?x.dom.hasAttribute("aria-selected")||(x.dom.setAttribute("aria-selected","true"),f=x):x.dom.hasAttribute("aria-selected")&&x.dom.removeAttribute("aria-selected"),l++}});l<this.items.length&&!(this.items.length==1&&this.items[0].diagnostic.from<0);)o=!0,this.items.pop();this.items.length==0&&(this.items.push(new PanelItem(this.view,{from:-1,to:-1,severity:"info",message:this.view.state.phrase("No diagnostics")})),o=!0),f?(this.list.setAttribute("aria-activedescendant",f.id),this.view.requestMeasure({key:this,read:()=>({sel:f.dom.getBoundingClientRect(),panel:this.list.getBoundingClientRect()}),write:({sel:d,panel:g})=>{let m=g.height/this.list.offsetHeight;d.top<g.top?this.list.scrollTop-=(g.top-d.top)/m:d.bottom>g.bottom&&(this.list.scrollTop+=(d.bottom-g.bottom)/m)}})):this.selectedIndex<0&&this.list.removeAttribute("aria-activedescendant"),o&&this.sync()}sync(){let r=this.list.firstChild;function a(){let l=r;r=l.nextSibling,l.remove()}for(let l of this.items)if(l.dom.parentNode==this.list){for(;r!=l.dom;)a();r=l.dom.nextSibling}else this.list.insertBefore(l.dom,r);for(;r;)a()}moveSelection(r){if(this.selectedIndex<0)return;let a=this.view.state.field(lintState),l=findDiagnostic(a.diagnostics,this.items[r].diagnostic);l&&this.view.dispatch({selection:{anchor:l.from,head:l.to},scrollIntoView:!0,effects:movePanelSelection.of(l)})}static open(r){return new LintPanel(r)}}function svg(s,r='viewBox="0 0 40 40"'){return`url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" ${r}>${encodeURIComponent(s)}</svg>')`}function underline(s){return svg(`<path d="m0 2.5 l2 -1.5 l1 0 l2 1.5 l1 0" stroke="${s}" fill="none" stroke-width=".7"/>`,'width="6" height="3"')}const baseTheme=EditorView.baseTheme({".cm-diagnostic":{padding:"3px 6px 3px 8px",marginLeft:"-1px",display:"block",whiteSpace:"pre-wrap"},".cm-diagnostic-error":{borderLeft:"5px solid #d11"},".cm-diagnostic-warning":{borderLeft:"5px solid orange"},".cm-diagnostic-info":{borderLeft:"5px solid #999"},".cm-diagnostic-hint":{borderLeft:"5px solid #66d"},".cm-diagnosticAction":{font:"inherit",border:"none",padding:"2px 4px",backgroundColor:"#444",color:"white",borderRadius:"3px",marginLeft:"8px",cursor:"pointer"},".cm-diagnosticSource":{fontSize:"70%",opacity:.7},".cm-lintRange":{backgroundPosition:"left bottom",backgroundRepeat:"repeat-x",paddingBottom:"0.7px"},".cm-lintRange-error":{backgroundImage:underline("#d11")},".cm-lintRange-warning":{backgroundImage:underline("orange")},".cm-lintRange-info":{backgroundImage:underline("#999")},".cm-lintRange-hint":{backgroundImage:underline("#66d")},".cm-lintRange-active":{backgroundColor:"#ffdd9980"},".cm-tooltip-lint":{padding:0,margin:0},".cm-lintPoint":{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:"-2px",borderLeft:"3px solid transparent",borderRight:"3px solid transparent",borderBottom:"4px solid #d11"}},".cm-lintPoint-warning":{"&:after":{borderBottomColor:"orange"}},".cm-lintPoint-info":{"&:after":{borderBottomColor:"#999"}},".cm-lintPoint-hint":{"&:after":{borderBottomColor:"#66d"}},".cm-panel.cm-panel-lint":{position:"relative","& ul":{maxHeight:"100px",overflowY:"auto","& [aria-selected]":{backgroundColor:"#ddd","& u":{textDecoration:"underline"}},"&:focus [aria-selected]":{background_fallback:"#bdf",backgroundColor:"Highlight",color_fallback:"white",color:"HighlightText"},"& u":{textDecoration:"none"},padding:0,margin:0},"& [name=close]":{position:"absolute",top:"0",right:"2px",background:"inherit",border:"none",font:"inherit",padding:0,margin:0}}});function severityWeight(s){return s=="error"?4:s=="warning"?3:s=="info"?2:1}function maxSeverity(s){let r="hint",a=1;for(let l of s){let o=severityWeight(l.severity);o>a&&(a=o,r=l.severity)}return r}const lintExtensions=[lintState,EditorView.decorations.compute([lintState],s=>{let{selected:r,panel:a}=s.field(lintState);return!r||!a||r.from==r.to?Decoration.none:Decoration.set([activeMark.range(r.from,r.to)])}),hoverTooltip(lintTooltip,{hideOn:hideTooltip}),baseTheme];var basicSetup=function(r){r===void 0&&(r={});var{crosshairCursor:a=!1}=r,l=[];r.closeBracketsKeymap!==!1&&(l=l.concat(closeBracketsKeymap)),r.defaultKeymap!==!1&&(l=l.concat(defaultKeymap)),r.searchKeymap!==!1&&(l=l.concat(searchKeymap)),r.historyKeymap!==!1&&(l=l.concat(historyKeymap)),r.foldKeymap!==!1&&(l=l.concat(foldKeymap)),r.completionKeymap!==!1&&(l=l.concat(completionKeymap)),r.lintKeymap!==!1&&(l=l.concat(lintKeymap));var o=[];return r.lineNumbers!==!1&&o.push(lineNumbers()),r.highlightActiveLineGutter!==!1&&o.push(highlightActiveLineGutter()),r.highlightSpecialChars!==!1&&o.push(highlightSpecialChars()),r.history!==!1&&o.push(history()),r.foldGutter!==!1&&o.push(foldGutter()),r.drawSelection!==!1&&o.push(drawSelection()),r.dropCursor!==!1&&o.push(dropCursor()),r.allowMultipleSelections!==!1&&o.push(EditorState.allowMultipleSelections.of(!0)),r.indentOnInput!==!1&&o.push(indentOnInput()),r.syntaxHighlighting!==!1&&o.push(syntaxHighlighting(defaultHighlightStyle,{fallback:!0})),r.bracketMatching!==!1&&o.push(bracketMatching()),r.closeBrackets!==!1&&o.push(closeBrackets()),r.autocompletion!==!1&&o.push(autocompletion()),r.rectangularSelection!==!1&&o.push(rectangularSelection()),a!==!1&&o.push(crosshairCursor()),r.highlightActiveLine!==!1&&o.push(highlightActiveLine()),r.highlightSelectionMatches!==!1&&o.push(highlightSelectionMatches()),r.tabSize&&typeof r.tabSize=="number"&&o.push(indentUnit.of(" ".repeat(r.tabSize))),o.concat([keymap.of(l.flat())]).filter(Boolean)};const chalky="#e5c07b",coral="#e06c75",cyan="#56b6c2",invalid="#ffffff",ivory="#abb2bf",stone="#7d8799",malibu="#61afef",sage="#98c379",whiskey="#d19a66",violet="#c678dd",darkBackground="#21252b",highlightBackground="#2c313a",background="#282c34",tooltipBackground="#353a42",selection="#3E4451",cursor="#528bff",oneDarkTheme=EditorView.theme({"&":{color:ivory,backgroundColor:background},".cm-content":{caretColor:cursor},".cm-cursor, .cm-dropCursor":{borderLeftColor:cursor},"&.cm-focused > .cm-scroller > .cm-selectionLayer .cm-selectionBackground, .cm-selectionBackground, .cm-content ::selection":{backgroundColor:selection},".cm-panels":{backgroundColor:darkBackground,color:ivory},".cm-panels.cm-panels-top":{borderBottom:"2px solid black"},".cm-panels.cm-panels-bottom":{borderTop:"2px solid black"},".cm-searchMatch":{backgroundColor:"#72a1ff59",outline:"1px solid #457dff"},".cm-searchMatch.cm-searchMatch-selected":{backgroundColor:"#6199ff2f"},".cm-activeLine":{backgroundColor:"#6699ff0b"},".cm-selectionMatch":{backgroundColor:"#aafe661a"},"&.cm-focused .cm-matchingBracket, &.cm-focused .cm-nonmatchingBracket":{backgroundColor:"#bad0f847"},".cm-gutters":{backgroundColor:background,color:stone,border:"none"},".cm-activeLineGutter":{backgroundColor:highlightBackground},".cm-foldPlaceholder":{backgroundColor:"transparent",border:"none",color:"#ddd"},".cm-tooltip":{border:"none",backgroundColor:tooltipBackground},".cm-tooltip .cm-tooltip-arrow:before":{borderTopColor:"transparent",borderBottomColor:"transparent"},".cm-tooltip .cm-tooltip-arrow:after":{borderTopColor:tooltipBackground,borderBottomColor:tooltipBackground},".cm-tooltip-autocomplete":{"& > ul > li[aria-selected]":{backgroundColor:highlightBackground,color:ivory}}},{dark:!0}),oneDarkHighlightStyle=HighlightStyle.define([{tag:tags.keyword,color:violet},{tag:[tags.name,tags.deleted,tags.character,tags.propertyName,tags.macroName],color:coral},{tag:[tags.function(tags.variableName),tags.labelName],color:malibu},{tag:[tags.color,tags.constant(tags.name),tags.standard(tags.name)],color:whiskey},{tag:[tags.definition(tags.name),tags.separator],color:ivory},{tag:[tags.typeName,tags.className,tags.number,tags.changed,tags.annotation,tags.modifier,tags.self,tags.namespace],color:chalky},{tag:[tags.operator,tags.operatorKeyword,tags.url,tags.escape,tags.regexp,tags.link,tags.special(tags.string)],color:cyan},{tag:[tags.meta,tags.comment],color:stone},{tag:tags.strong,fontWeight:"bold"},{tag:tags.emphasis,fontStyle:"italic"},{tag:tags.strikethrough,textDecoration:"line-through"},{tag:tags.link,color:stone,textDecoration:"underline"},{tag:tags.heading,fontWeight:"bold",color:coral},{tag:[tags.atom,tags.bool,tags.special(tags.variableName)],color:whiskey},{tag:[tags.processingInstruction,tags.string,tags.inserted],color:sage},{tag:tags.invalid,color:invalid}]),oneDark=[oneDarkTheme,syntaxHighlighting(oneDarkHighlightStyle)];var defaultLightThemeOption=EditorView.theme({"&":{backgroundColor:"#fff"}},{dark:!1}),getDefaultExtensions=function(r){r===void 0&&(r={});var{indentWithTab:a=!0,editable:l=!0,readOnly:o=!1,theme:f="light",placeholder:h="",basicSetup:d=!0}=r,g=[];switch(a&&g.unshift(keymap.of([indentWithTab])),d&&(typeof d=="boolean"?g.unshift(basicSetup()):g.unshift(basicSetup(d))),h&&g.unshift(placeholder(h)),f){case"light":g.push(defaultLightThemeOption);break;case"dark":g.push(oneDark);break;case"none":break;default:g.push(f);break}return l===!1&&g.push(EditorView.editable.of(!1)),o&&g.push(EditorState.readOnly.of(!0)),[...g]},getStatistics=s=>({line:s.state.doc.lineAt(s.state.selection.main.from),lineCount:s.state.doc.lines,lineBreak:s.state.lineBreak,length:s.state.doc.length,readOnly:s.state.readOnly,tabSize:s.state.tabSize,selection:s.state.selection,selectionAsSingle:s.state.selection.asSingle().main,ranges:s.state.selection.ranges,selectionCode:s.state.sliceDoc(s.state.selection.main.from,s.state.selection.main.to),selections:s.state.selection.ranges.map(r=>s.state.sliceDoc(r.from,r.to)),selectedText:s.state.selection.ranges.some(r=>!r.empty)});class TimeoutLatch{constructor(r,a){this.timeLeftMS=void 0,this.timeoutMS=void 0,this.isCancelled=!1,this.isTimeExhausted=!1,this.callbacks=[],this.timeLeftMS=a,this.timeoutMS=a,this.callbacks.push(r)}tick(){if(!this.isCancelled&&!this.isTimeExhausted&&(this.timeLeftMS--,this.timeLeftMS<=0)){this.isTimeExhausted=!0;var r=this.callbacks.slice();this.callbacks.length=0,r.forEach(a=>{try{a()}catch(l){console.error("TimeoutLatch callback error:",l)}})}}cancel(){this.isCancelled=!0,this.callbacks.length=0}reset(){this.timeLeftMS=this.timeoutMS,this.isCancelled=!1,this.isTimeExhausted=!1}get isDone(){return this.isCancelled||this.isTimeExhausted}}class Scheduler{constructor(){this.interval=null,this.latches=new Set}add(r){this.latches.add(r),this.start()}remove(r){this.latches.delete(r),this.latches.size===0&&this.stop()}start(){this.interval===null&&(this.interval=setInterval(()=>{this.latches.forEach(r=>{r.tick(),r.isDone&&this.remove(r)})},1))}stop(){this.interval!==null&&(clearInterval(this.interval),this.interval=null)}}var globalScheduler=null,getScheduler=()=>typeof window>"u"?new Scheduler:(globalScheduler||(globalScheduler=new Scheduler),globalScheduler),ExternalChange=Annotation.define(),TYPING_TIMOUT=200,emptyExtensions=[];function useCodeMirror(s){var{value:r,selection:a,onChange:l,onStatistics:o,onCreateEditor:f,onUpdate:h,extensions:d=emptyExtensions,autoFocus:g,theme:m="light",height:y=null,minHeight:S=null,maxHeight:x=null,width:w=null,minWidth:Q=null,maxWidth:A=null,placeholder:M="",editable:L=!0,readOnly:Z=!1,indentWithTab:z=!0,basicSetup:j=!0,root:B,initialState:G}=s,[D,I]=reactExports.useState(),[W,se]=reactExports.useState(),[ce,Se]=reactExports.useState(),ve=reactExports.useState(()=>({current:null}))[0],$e=reactExports.useState(()=>({current:null}))[0],Re=EditorView.theme({"&":{height:y,minHeight:S,maxHeight:x,width:w,minWidth:Q,maxWidth:A},"& .cm-scroller":{height:"100% !important"}}),re=EditorView.updateListener.of(be=>{if(be.docChanged&&typeof l=="function"&&!be.transactions.some(Y=>Y.annotation(ExternalChange))){ve.current?ve.current.reset():(ve.current=new TimeoutLatch(()=>{if($e.current){var Y=$e.current;$e.current=null,Y()}ve.current=null},TYPING_TIMOUT),getScheduler().add(ve.current));var X=be.state.doc,N=X.toString();l(N,be)}o&&o(getStatistics(be))}),Oe=getDefaultExtensions({theme:m,editable:L,readOnly:Z,placeholder:M,indentWithTab:z,basicSetup:j}),Ee=[re,Re,...Oe];return h&&typeof h=="function"&&Ee.push(EditorView.updateListener.of(h)),Ee=Ee.concat(d),reactExports.useLayoutEffect(()=>{if(D&&!ce){var be={doc:r,selection:a,extensions:Ee},X=G?EditorState.fromJSON(G.json,be,G.fields):EditorState.create(be);if(Se(X),!W){var N=new EditorView({state:X,parent:D,root:B});se(N),f&&f(N,X)}}return()=>{W&&(Se(void 0),se(void 0))}},[D,ce]),reactExports.useEffect(()=>{s.container&&I(s.container)},[s.container]),reactExports.useEffect(()=>()=>{W&&(W.destroy(),se(void 0)),ve.current&&(ve.current.cancel(),ve.current=null)},[W]),reactExports.useEffect(()=>{g&&W&&W.focus()},[g,W]),reactExports.useEffect(()=>{W&&W.dispatch({effects:StateEffect.reconfigure.of(Ee)})},[m,d,y,S,x,w,Q,A,M,L,Z,z,j,l,h]),reactExports.useEffect(()=>{if(r!==void 0){var be=W?W.state.doc.toString():"";if(W&&r!==be){var X=ve.current&&!ve.current.isDone,N=()=>{W&&r!==W.state.doc.toString()&&W.dispatch({changes:{from:0,to:W.state.doc.toString().length,insert:r||""},annotations:[ExternalChange.of(!0)]})};X?$e.current=N:N()}}},[r,W]),{state:ce,setState:Se,view:W,setView:se,container:D,setContainer:I}}var _excluded=["className","value","selection","extensions","onChange","onStatistics","onCreateEditor","onUpdate","autoFocus","theme","height","minHeight","maxHeight","width","minWidth","maxWidth","basicSetup","placeholder","indentWithTab","editable","readOnly","root","initialState"],ReactCodeMirror=reactExports.forwardRef((s,r)=>{var{className:a,value:l="",selection:o,extensions:f=[],onChange:h,onStatistics:d,onCreateEditor:g,onUpdate:m,autoFocus:y,theme:S="light",height:x,minHeight:w,maxHeight:Q,width:A,minWidth:M,maxWidth:L,basicSetup:Z,placeholder:z,indentWithTab:j,editable:B,readOnly:G,root:D,initialState:I}=s,W=_objectWithoutPropertiesLoose(s,_excluded),se=reactExports.useRef(null),{state:ce,view:Se,container:ve,setContainer:$e}=useCodeMirror({root:D,value:l,autoFocus:y,theme:S,height:x,minHeight:w,maxHeight:Q,width:A,minWidth:M,maxWidth:L,basicSetup:Z,placeholder:z,indentWithTab:j,editable:B,readOnly:G,selection:o,onChange:h,onStatistics:d,onCreateEditor:g,onUpdate:m,extensions:f,initialState:I});reactExports.useImperativeHandle(r,()=>({editor:se.current,state:ce,view:Se}),[se,ve,ce,Se]);var Re=reactExports.useCallback(Oe=>{se.current=Oe,$e(Oe)},[$e]);if(typeof l!="string")throw new Error("value must be typeof string but got "+typeof l);var re=typeof S=="string"?"cm-theme-"+S:"cm-theme";return jsxRuntimeExports.jsx("div",_extends({ref:Re,className:""+re+(a?" "+a:"")},W))});ReactCodeMirror.displayName="CodeMirror";var define_process_env_default={};class Stack{constructor(r,a,l,o,f,h,d,g,m,y=0,S){this.p=r,this.stack=a,this.state=l,this.reducePos=o,this.pos=f,this.score=h,this.buffer=d,this.bufferBase=g,this.curContext=m,this.lookAhead=y,this.parent=S}toString(){return`[${this.stack.filter((r,a)=>a%3==0).concat(this.state)}]@${this.pos}${this.score?"!"+this.score:""}`}static start(r,a,l=0){let o=r.parser.context;return new Stack(r,[],a,l,l,0,[],0,o?new StackContext(o,o.start):null,0,null)}get context(){return this.curContext?this.curContext.context:null}pushState(r,a){this.stack.push(this.state,a,this.bufferBase+this.buffer.length),this.state=r}reduce(r){var a;let l=r>>19,o=r&65535,{parser:f}=this.p,h=this.reducePos<this.pos-25&&this.setLookAhead(this.pos),d=f.dynamicPrecedence(o);if(d&&(this.score+=d),l==0){this.pushState(f.getGoto(this.state,o,!0),this.reducePos),o<f.minRepeatTerm&&this.storeNode(o,this.reducePos,this.reducePos,h?8:4,!0),this.reduceContext(o,this.reducePos);return}let g=this.stack.length-(l-1)*3-(r&262144?6:0),m=g?this.stack[g-2]:this.p.ranges[0].from,y=this.reducePos-m;y>=2e3&&!(!((a=this.p.parser.nodeSet.types[o])===null||a===void 0)&&a.isAnonymous)&&(m==this.p.lastBigReductionStart?(this.p.bigReductionCount++,this.p.lastBigReductionSize=y):this.p.lastBigReductionSize<y&&(this.p.bigReductionCount=1,this.p.lastBigReductionStart=m,this.p.lastBigReductionSize=y));let S=g?this.stack[g-1]:0,x=this.bufferBase+this.buffer.length-S;if(o<f.minRepeatTerm||r&131072){let w=f.stateFlag(this.state,1)?this.pos:this.reducePos;this.storeNode(o,m,w,x+4,!0)}if(r&262144)this.state=this.stack[g];else{let w=this.stack[g-3];this.state=f.getGoto(w,o,!0)}for(;this.stack.length>g;)this.stack.pop();this.reduceContext(o,m)}storeNode(r,a,l,o=4,f=!1){if(r==0&&(!this.stack.length||this.stack[this.stack.length-1]<this.buffer.length+this.bufferBase)){let h=this,d=this.buffer.length;if(d==0&&h.parent&&(d=h.bufferBase-h.parent.bufferBase,h=h.parent),d>0&&h.buffer[d-4]==0&&h.buffer[d-1]>-1){if(a==l)return;if(h.buffer[d-2]>=a){h.buffer[d-2]=l;return}}}if(!f||this.pos==l)this.buffer.push(r,a,l,o);else{let h=this.buffer.length;if(h>0&&(this.buffer[h-4]!=0||this.buffer[h-1]<0)){let d=!1;for(let g=h;g>0&&this.buffer[g-2]>l;g-=4)if(this.buffer[g-1]>=0){d=!0;break}if(d)for(;h>0&&this.buffer[h-2]>l;)this.buffer[h]=this.buffer[h-4],this.buffer[h+1]=this.buffer[h-3],this.buffer[h+2]=this.buffer[h-2],this.buffer[h+3]=this.buffer[h-1],h-=4,o>4&&(o-=4)}this.buffer[h]=r,this.buffer[h+1]=a,this.buffer[h+2]=l,this.buffer[h+3]=o}}shift(r,a,l,o){if(r&131072)this.pushState(r&65535,this.pos);else if((r&262144)==0){let f=r,{parser:h}=this.p;this.pos=o;let d=h.stateFlag(f,1);!d&&(o>l||a<=h.maxNode)&&(this.reducePos=o),this.pushState(f,d?l:Math.min(l,this.reducePos)),this.shiftContext(a,l),a<=h.maxNode&&this.buffer.push(a,l,o,4)}else this.pos=o,this.shiftContext(a,l),a<=this.p.parser.maxNode&&this.buffer.push(a,l,o,4)}apply(r,a,l,o){r&65536?this.reduce(r):this.shift(r,a,l,o)}useNode(r,a){let l=this.p.reused.length-1;(l<0||this.p.reused[l]!=r)&&(this.p.reused.push(r),l++);let o=this.pos;this.reducePos=this.pos=o+r.length,this.pushState(a,o),this.buffer.push(l,o,this.reducePos,-1),this.curContext&&this.updateContext(this.curContext.tracker.reuse(this.curContext.context,r,this,this.p.stream.reset(this.pos-r.length)))}split(){let r=this,a=r.buffer.length;for(;a>0&&r.buffer[a-2]>r.reducePos;)a-=4;let l=r.buffer.slice(a),o=r.bufferBase+a;for(;r&&o==r.bufferBase;)r=r.parent;return new Stack(this.p,this.stack.slice(),this.state,this.reducePos,this.pos,this.score,l,o,this.curContext,this.lookAhead,r)}recoverByDelete(r,a){let l=r<=this.p.parser.maxNode;l&&this.storeNode(r,this.pos,a,4),this.storeNode(0,this.pos,a,l?8:4),this.pos=this.reducePos=a,this.score-=190}canShift(r){for(let a=new SimulatedStack(this);;){let l=this.p.parser.stateSlot(a.state,4)||this.p.parser.hasAction(a.state,r);if(l==0)return!1;if((l&65536)==0)return!0;a.reduce(l)}}recoverByInsert(r){if(this.stack.length>=300)return[];let a=this.p.parser.nextStates(this.state);if(a.length>8||this.stack.length>=120){let o=[];for(let f=0,h;f<a.length;f+=2)(h=a[f+1])!=this.state&&this.p.parser.hasAction(h,r)&&o.push(a[f],h);if(this.stack.length<120)for(let f=0;o.length<8&&f<a.length;f+=2){let h=a[f+1];o.some((d,g)=>g&1&&d==h)||o.push(a[f],h)}a=o}let l=[];for(let o=0;o<a.length&&l.length<4;o+=2){let f=a[o+1];if(f==this.state)continue;let h=this.split();h.pushState(f,this.pos),h.storeNode(0,h.pos,h.pos,4,!0),h.shiftContext(a[o],this.pos),h.reducePos=this.pos,h.score-=200,l.push(h)}return l}forceReduce(){let{parser:r}=this.p,a=r.stateSlot(this.state,5);if((a&65536)==0)return!1;if(!r.validAction(this.state,a)){let l=a>>19,o=a&65535,f=this.stack.length-l*3;if(f<0||r.getGoto(this.stack[f],o,!1)<0){let h=this.findForcedReduction();if(h==null)return!1;a=h}this.storeNode(0,this.pos,this.pos,4,!0),this.score-=100}return this.reducePos=this.pos,this.reduce(a),!0}findForcedReduction(){let{parser:r}=this.p,a=[],l=(o,f)=>{if(!a.includes(o))return a.push(o),r.allActions(o,h=>{if(!(h&393216))if(h&65536){let d=(h>>19)-f;if(d>1){let g=h&65535,m=this.stack.length-d*3;if(m>=0&&r.getGoto(this.stack[m],g,!1)>=0)return d<<19|65536|g}}else{let d=l(h,f+1);if(d!=null)return d}})};return l(this.state,0)}forceAll(){for(;!this.p.parser.stateFlag(this.state,2);)if(!this.forceReduce()){this.storeNode(0,this.pos,this.pos,4,!0);break}return this}get deadEnd(){if(this.stack.length!=3)return!1;let{parser:r}=this.p;return r.data[r.stateSlot(this.state,1)]==65535&&!r.stateSlot(this.state,4)}restart(){this.storeNode(0,this.pos,this.pos,4,!0),this.state=this.stack[0],this.stack.length=0}sameState(r){if(this.state!=r.state||this.stack.length!=r.stack.length)return!1;for(let a=0;a<this.stack.length;a+=3)if(this.stack[a]!=r.stack[a])return!1;return!0}get parser(){return this.p.parser}dialectEnabled(r){return this.p.parser.dialect.flags[r]}shiftContext(r,a){this.curContext&&this.updateContext(this.curContext.tracker.shift(this.curContext.context,r,this,this.p.stream.reset(a)))}reduceContext(r,a){this.curContext&&this.updateContext(this.curContext.tracker.reduce(this.curContext.context,r,this,this.p.stream.reset(a)))}emitContext(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-3)&&this.buffer.push(this.curContext.hash,this.pos,this.pos,-3)}emitLookAhead(){let r=this.buffer.length-1;(r<0||this.buffer[r]!=-4)&&this.buffer.push(this.lookAhead,this.pos,this.pos,-4)}updateContext(r){if(r!=this.curContext.context){let a=new StackContext(this.curContext.tracker,r);a.hash!=this.curContext.hash&&this.emitContext(),this.curContext=a}}setLookAhead(r){return r<=this.lookAhead?!1:(this.emitLookAhead(),this.lookAhead=r,!0)}close(){this.curContext&&this.curContext.tracker.strict&&this.emitContext(),this.lookAhead>0&&this.emitLookAhead()}}class StackContext{constructor(r,a){this.tracker=r,this.context=a,this.hash=r.strict?r.hash(a):0}}class SimulatedStack{constructor(r){this.start=r,this.state=r.state,this.stack=r.stack,this.base=this.stack.length}reduce(r){let a=r&65535,l=r>>19;l==0?(this.stack==this.start.stack&&(this.stack=this.stack.slice()),this.stack.push(this.state,0,0),this.base+=3):this.base-=(l-1)*3;let o=this.start.p.parser.getGoto(this.stack[this.base-3],a,!0);this.state=o}}class StackBufferCursor{constructor(r,a,l){this.stack=r,this.pos=a,this.index=l,this.buffer=r.buffer,this.index==0&&this.maybeNext()}static create(r,a=r.bufferBase+r.buffer.length){return new StackBufferCursor(r,a,a-r.bufferBase)}maybeNext(){let r=this.stack.parent;r!=null&&(this.index=this.stack.bufferBase-r.bufferBase,this.stack=r,this.buffer=r.buffer)}get id(){return this.buffer[this.index-4]}get start(){return this.buffer[this.index-3]}get end(){return this.buffer[this.index-2]}get size(){return this.buffer[this.index-1]}next(){this.index-=4,this.pos-=4,this.index==0&&this.maybeNext()}fork(){return new StackBufferCursor(this.stack,this.pos,this.index)}}function decodeArray(s,r=Uint16Array){if(typeof s!="string")return s;let a=null;for(let l=0,o=0;l<s.length;){let f=0;for(;;){let h=s.charCodeAt(l++),d=!1;if(h==126){f=65535;break}h>=92&&h--,h>=34&&h--;let g=h-32;if(g>=46&&(g-=46,d=!0),f+=g,d)break;f*=46}a?a[o++]=f:a=new r(f)}return a}class CachedToken{constructor(){this.start=-1,this.value=-1,this.end=-1,this.extended=-1,this.lookAhead=0,this.mask=0,this.context=0}}const nullToken=new CachedToken;class InputStream{constructor(r,a){this.input=r,this.ranges=a,this.chunk="",this.chunkOff=0,this.chunk2="",this.chunk2Pos=0,this.next=-1,this.token=nullToken,this.rangeIndex=0,this.pos=this.chunkPos=a[0].from,this.range=a[0],this.end=a[a.length-1].to,this.readNext()}resolveOffset(r,a){let l=this.range,o=this.rangeIndex,f=this.pos+r;for(;f<l.from;){if(!o)return null;let h=this.ranges[--o];f-=l.from-h.to,l=h}for(;a<0?f>l.to:f>=l.to;){if(o==this.ranges.length-1)return null;let h=this.ranges[++o];f+=h.from-l.to,l=h}return f}clipPos(r){if(r>=this.range.from&&r<this.range.to)return r;for(let a of this.ranges)if(a.to>r)return Math.max(r,a.from);return this.end}peek(r){let a=this.chunkOff+r,l,o;if(a>=0&&a<this.chunk.length)l=this.pos+r,o=this.chunk.charCodeAt(a);else{let f=this.resolveOffset(r,1);if(f==null)return-1;if(l=f,l>=this.chunk2Pos&&l<this.chunk2Pos+this.chunk2.length)o=this.chunk2.charCodeAt(l-this.chunk2Pos);else{let h=this.rangeIndex,d=this.range;for(;d.to<=l;)d=this.ranges[++h];this.chunk2=this.input.chunk(this.chunk2Pos=l),l+this.chunk2.length>d.to&&(this.chunk2=this.chunk2.slice(0,d.to-l)),o=this.chunk2.charCodeAt(0)}}return l>=this.token.lookAhead&&(this.token.lookAhead=l+1),o}acceptToken(r,a=0){let l=a?this.resolveOffset(a,-1):this.pos;if(l==null||l<this.token.start)throw new RangeError("Token end out of bounds");this.token.value=r,this.token.end=l}acceptTokenTo(r,a){this.token.value=r,this.token.end=a}getChunk(){if(this.pos>=this.chunk2Pos&&this.pos<this.chunk2Pos+this.chunk2.length){let{chunk:r,chunkPos:a}=this;this.chunk=this.chunk2,this.chunkPos=this.chunk2Pos,this.chunk2=r,this.chunk2Pos=a,this.chunkOff=this.pos-this.chunkPos}else{this.chunk2=this.chunk,this.chunk2Pos=this.chunkPos;let r=this.input.chunk(this.pos),a=this.pos+r.length;this.chunk=a>this.range.to?r.slice(0,this.range.to-this.pos):r,this.chunkPos=this.pos,this.chunkOff=0}}readNext(){return this.chunkOff>=this.chunk.length&&(this.getChunk(),this.chunkOff==this.chunk.length)?this.next=-1:this.next=this.chunk.charCodeAt(this.chunkOff)}advance(r=1){for(this.chunkOff+=r;this.pos+r>=this.range.to;){if(this.rangeIndex==this.ranges.length-1)return this.setDone();r-=this.range.to-this.pos,this.range=this.ranges[++this.rangeIndex],this.pos=this.range.from}return this.pos+=r,this.pos>=this.token.lookAhead&&(this.token.lookAhead=this.pos+1),this.readNext()}setDone(){return this.pos=this.chunkPos=this.end,this.range=this.ranges[this.rangeIndex=this.ranges.length-1],this.chunk="",this.next=-1}reset(r,a){if(a?(this.token=a,a.start=r,a.lookAhead=r+1,a.value=a.extended=-1):this.token=nullToken,this.pos!=r){if(this.pos=r,r==this.end)return this.setDone(),this;for(;r<this.range.from;)this.range=this.ranges[--this.rangeIndex];for(;r>=this.range.to;)this.range=this.ranges[++this.rangeIndex];r>=this.chunkPos&&r<this.chunkPos+this.chunk.length?this.chunkOff=r-this.chunkPos:(this.chunk="",this.chunkOff=0),this.readNext()}return this}read(r,a){if(r>=this.chunkPos&&a<=this.chunkPos+this.chunk.length)return this.chunk.slice(r-this.chunkPos,a-this.chunkPos);if(r>=this.chunk2Pos&&a<=this.chunk2Pos+this.chunk2.length)return this.chunk2.slice(r-this.chunk2Pos,a-this.chunk2Pos);if(r>=this.range.from&&a<=this.range.to)return this.input.read(r,a);let l="";for(let o of this.ranges){if(o.from>=a)break;o.to>r&&(l+=this.input.read(Math.max(o.from,r),Math.min(o.to,a)))}return l}}class TokenGroup{constructor(r,a){this.data=r,this.id=a}token(r,a){let{parser:l}=a.p;readToken(this.data,r,a,this.id,l.data,l.tokenPrecTable)}}TokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class LocalTokenGroup{constructor(r,a,l){this.precTable=a,this.elseToken=l,this.data=typeof r=="string"?decodeArray(r):r}token(r,a){let l=r.pos,o=0;for(;;){let f=r.next<0,h=r.resolveOffset(1,1);if(readToken(this.data,r,a,0,this.data,this.precTable),r.token.value>-1)break;if(this.elseToken==null)return;if(f||o++,h==null)break;r.reset(h,r.token)}o&&(r.reset(l,r.token),r.acceptToken(this.elseToken,o))}}LocalTokenGroup.prototype.contextual=TokenGroup.prototype.fallback=TokenGroup.prototype.extend=!1;class ExternalTokenizer{constructor(r,a={}){this.token=r,this.contextual=!!a.contextual,this.fallback=!!a.fallback,this.extend=!!a.extend}}function readToken(s,r,a,l,o,f){let h=0,d=1<<l,{dialect:g}=a.p.parser;e:for(;(d&s[h])!=0;){let m=s[h+1];for(let w=h+3;w<m;w+=2)if((s[w+1]&d)>0){let Q=s[w];if(g.allows(Q)&&(r.token.value==-1||r.token.value==Q||overrides(Q,r.token.value,o,f))){r.acceptToken(Q);break}}let y=r.next,S=0,x=s[h+2];if(r.next<0&&x>S&&s[m+x*3-3]==65535){h=s[m+x*3-1];continue e}for(;S<x;){let w=S+x>>1,Q=m+w+(w<<1),A=s[Q],M=s[Q+1]||65536;if(y<A)x=w;else if(y>=M)S=w+1;else{h=s[Q+2],r.advance();continue e}}break}}function findOffset(s,r,a){for(let l=r,o;(o=s[l])!=65535;l++)if(o==a)return l-r;return-1}function overrides(s,r,a,l){let o=findOffset(a,l,r);return o<0||findOffset(a,l,s)<o}const verbose=typeof process<"u"&&define_process_env_default&&/\bparse\b/.test(define_process_env_default.LOG);let stackIDs=null;function cutAt(s,r,a){let l=s.cursor(IterMode.IncludeAnonymous);for(l.moveTo(r);;)if(!(a<0?l.childBefore(r):l.childAfter(r)))for(;;){if((a<0?l.to<r:l.from>r)&&!l.type.isError)return a<0?Math.max(0,Math.min(l.to-1,r-25)):Math.min(s.length,Math.max(l.from+1,r+25));if(a<0?l.prevSibling():l.nextSibling())break;if(!l.parent())return a<0?0:s.length}}class FragmentCursor{constructor(r,a){this.fragments=r,this.nodeSet=a,this.i=0,this.fragment=null,this.safeFrom=-1,this.safeTo=-1,this.trees=[],this.start=[],this.index=[],this.nextFragment()}nextFragment(){let r=this.fragment=this.i==this.fragments.length?null:this.fragments[this.i++];if(r){for(this.safeFrom=r.openStart?cutAt(r.tree,r.from+r.offset,1)-r.offset:r.from,this.safeTo=r.openEnd?cutAt(r.tree,r.to+r.offset,-1)-r.offset:r.to;this.trees.length;)this.trees.pop(),this.start.pop(),this.index.pop();this.trees.push(r.tree),this.start.push(-r.offset),this.index.push(0),this.nextStart=this.safeFrom}else this.nextStart=1e9}nodeAt(r){if(r<this.nextStart)return null;for(;this.fragment&&this.safeTo<=r;)this.nextFragment();if(!this.fragment)return null;for(;;){let a=this.trees.length-1;if(a<0)return this.nextFragment(),null;let l=this.trees[a],o=this.index[a];if(o==l.children.length){this.trees.pop(),this.start.pop(),this.index.pop();continue}let f=l.children[o],h=this.start[a]+l.positions[o];if(h>r)return this.nextStart=h,null;if(f instanceof Tree){if(h==r){if(h<this.safeFrom)return null;let d=h+f.length;if(d<=this.safeTo){let g=f.prop(NodeProp.lookAhead);if(!g||d+g<this.fragment.to)return f}}this.index[a]++,h+f.length>=Math.max(this.safeFrom,r)&&(this.trees.push(f),this.start.push(h),this.index.push(0))}else this.index[a]++,this.nextStart=h+f.length}}}class TokenCache{constructor(r,a){this.stream=a,this.tokens=[],this.mainToken=null,this.actions=[],this.tokens=r.tokenizers.map(l=>new CachedToken)}getActions(r){let a=0,l=null,{parser:o}=r.p,{tokenizers:f}=o,h=o.stateSlot(r.state,3),d=r.curContext?r.curContext.hash:0,g=0;for(let m=0;m<f.length;m++){if((1<<m&h)==0)continue;let y=f[m],S=this.tokens[m];if(!(l&&!y.fallback)&&((y.contextual||S.start!=r.pos||S.mask!=h||S.context!=d)&&(this.updateCachedToken(S,y,r),S.mask=h,S.context=d),S.lookAhead>S.end+25&&(g=Math.max(S.lookAhead,g)),S.value!=0)){let x=a;if(S.extended>-1&&(a=this.addActions(r,S.extended,S.end,a)),a=this.addActions(r,S.value,S.end,a),!y.extend&&(l=S,a>x))break}}for(;this.actions.length>a;)this.actions.pop();return g&&r.setLookAhead(g),!l&&r.pos==this.stream.end&&(l=new CachedToken,l.value=r.p.parser.eofTerm,l.start=l.end=r.pos,a=this.addActions(r,l.value,l.end,a)),this.mainToken=l,this.actions}getMainToken(r){if(this.mainToken)return this.mainToken;let a=new CachedToken,{pos:l,p:o}=r;return a.start=l,a.end=Math.min(l+1,o.stream.end),a.value=l==o.stream.end?o.parser.eofTerm:0,a}updateCachedToken(r,a,l){let o=this.stream.clipPos(l.pos);if(a.token(this.stream.reset(o,r),l),r.value>-1){let{parser:f}=l.p;for(let h=0;h<f.specialized.length;h++)if(f.specialized[h]==r.value){let d=f.specializers[h](this.stream.read(r.start,r.end),l);if(d>=0&&l.p.parser.dialect.allows(d>>1)){(d&1)==0?r.value=d>>1:r.extended=d>>1;break}}}else r.value=0,r.end=this.stream.clipPos(o+1)}putAction(r,a,l,o){for(let f=0;f<o;f+=3)if(this.actions[f]==r)return o;return this.actions[o++]=r,this.actions[o++]=a,this.actions[o++]=l,o}addActions(r,a,l,o){let{state:f}=r,{parser:h}=r.p,{data:d}=h;for(let g=0;g<2;g++)for(let m=h.stateSlot(f,g?2:1);;m+=3){if(d[m]==65535)if(d[m+1]==1)m=pair(d,m+2);else{o==0&&d[m+1]==2&&(o=this.putAction(pair(d,m+2),a,l,o));break}d[m]==a&&(o=this.putAction(pair(d,m+1),a,l,o))}return o}}class Parse{constructor(r,a,l,o){this.parser=r,this.input=a,this.ranges=o,this.recovering=0,this.nextStackID=9812,this.minStackPos=0,this.reused=[],this.stoppedAt=null,this.lastBigReductionStart=-1,this.lastBigReductionSize=0,this.bigReductionCount=0,this.stream=new InputStream(a,o),this.tokens=new TokenCache(r,this.stream),this.topTerm=r.top[1];let{from:f}=o[0];this.stacks=[Stack.start(this,r.top[0],f)],this.fragments=l.length&&this.stream.end-f>r.bufferLength*4?new FragmentCursor(l,r.nodeSet):null}get parsedPos(){return this.minStackPos}advance(){let r=this.stacks,a=this.minStackPos,l=this.stacks=[],o,f;if(this.bigReductionCount>300&&r.length==1){let[h]=r;for(;h.forceReduce()&&h.stack.length&&h.stack[h.stack.length-2]>=this.lastBigReductionStart;);this.bigReductionCount=this.lastBigReductionSize=0}for(let h=0;h<r.length;h++){let d=r[h];for(;;){if(this.tokens.mainToken=null,d.pos>a)l.push(d);else{if(this.advanceStack(d,l,r))continue;{o||(o=[],f=[]),o.push(d);let g=this.tokens.getMainToken(d);f.push(g.value,g.end)}}break}}if(!l.length){let h=o&&findFinished(o);if(h)return verbose&&console.log("Finish with "+this.stackID(h)),this.stackToTree(h);if(this.parser.strict)throw verbose&&o&&console.log("Stuck with token "+(this.tokens.mainToken?this.parser.getName(this.tokens.mainToken.value):"none")),new SyntaxError("No parse at "+a);this.recovering||(this.recovering=5)}if(this.recovering&&o){let h=this.stoppedAt!=null&&o[0].pos>this.stoppedAt?o[0]:this.runRecovery(o,f,l);if(h)return verbose&&console.log("Force-finish "+this.stackID(h)),this.stackToTree(h.forceAll())}if(this.recovering){let h=this.recovering==1?1:this.recovering*3;if(l.length>h)for(l.sort((d,g)=>g.score-d.score);l.length>h;)l.pop();l.some(d=>d.reducePos>a)&&this.recovering--}else if(l.length>1){e:for(let h=0;h<l.length-1;h++){let d=l[h];for(let g=h+1;g<l.length;g++){let m=l[g];if(d.sameState(m)||d.buffer.length>500&&m.buffer.length>500)if((d.score-m.score||d.buffer.length-m.buffer.length)>0)l.splice(g--,1);else{l.splice(h--,1);continue e}}}l.length>12&&(l.sort((h,d)=>d.score-h.score),l.splice(12,l.length-12))}this.minStackPos=l[0].pos;for(let h=1;h<l.length;h++)l[h].pos<this.minStackPos&&(this.minStackPos=l[h].pos);return null}stopAt(r){if(this.stoppedAt!=null&&this.stoppedAt<r)throw new RangeError("Can't move stoppedAt forward");this.stoppedAt=r}advanceStack(r,a,l){let o=r.pos,{parser:f}=this,h=verbose?this.stackID(r)+" -> ":"";if(this.stoppedAt!=null&&o>this.stoppedAt)return r.forceReduce()?r:null;if(this.fragments){let m=r.curContext&&r.curContext.tracker.strict,y=m?r.curContext.hash:0;for(let S=this.fragments.nodeAt(o);S;){let x=this.parser.nodeSet.types[S.type.id]==S.type?f.getGoto(r.state,S.type.id):-1;if(x>-1&&S.length&&(!m||(S.prop(NodeProp.contextHash)||0)==y))return r.useNode(S,x),verbose&&console.log(h+this.stackID(r)+` (via reuse of ${f.getName(S.type.id)})`),!0;if(!(S instanceof Tree)||S.children.length==0||S.positions[0]>0)break;let w=S.children[0];if(w instanceof Tree&&S.positions[0]==0)S=w;else break}}let d=f.stateSlot(r.state,4);if(d>0)return r.reduce(d),verbose&&console.log(h+this.stackID(r)+` (via always-reduce ${f.getName(d&65535)})`),!0;if(r.stack.length>=8400)for(;r.stack.length>6e3&&r.forceReduce(););let g=this.tokens.getActions(r);for(let m=0;m<g.length;){let y=g[m++],S=g[m++],x=g[m++],w=m==g.length||!l,Q=w?r:r.split(),A=this.tokens.mainToken;if(Q.apply(y,S,A?A.start:Q.pos,x),verbose&&console.log(h+this.stackID(Q)+` (via ${(y&65536)==0?"shift":`reduce of ${f.getName(y&65535)}`} for ${f.getName(S)} @ ${o}${Q==r?"":", split"})`),w)return!0;Q.pos>o?a.push(Q):l.push(Q)}return!1}advanceFully(r,a){let l=r.pos;for(;;){if(!this.advanceStack(r,null,null))return!1;if(r.pos>l)return pushStackDedup(r,a),!0}}runRecovery(r,a,l){let o=null,f=!1;for(let h=0;h<r.length;h++){let d=r[h],g=a[h<<1],m=a[(h<<1)+1],y=verbose?this.stackID(d)+" -> ":"";if(d.deadEnd&&(f||(f=!0,d.restart(),verbose&&console.log(y+this.stackID(d)+" (restarted)"),this.advanceFully(d,l))))continue;let S=d.split(),x=y;for(let w=0;w<10&&S.forceReduce()&&(verbose&&console.log(x+this.stackID(S)+" (via force-reduce)"),!this.advanceFully(S,l));w++)verbose&&(x=this.stackID(S)+" -> ");for(let w of d.recoverByInsert(g))verbose&&console.log(y+this.stackID(w)+" (via recover-insert)"),this.advanceFully(w,l);this.stream.end>d.pos?(m==d.pos&&(m++,g=0),d.recoverByDelete(g,m),verbose&&console.log(y+this.stackID(d)+` (via recover-delete ${this.parser.getName(g)})`),pushStackDedup(d,l)):(!o||o.score<S.score)&&(o=S)}return o}stackToTree(r){return r.close(),Tree.build({buffer:StackBufferCursor.create(r),nodeSet:this.parser.nodeSet,topID:this.topTerm,maxBufferLength:this.parser.bufferLength,reused:this.reused,start:this.ranges[0].from,length:r.pos-this.ranges[0].from,minRepeatType:this.parser.minRepeatTerm})}stackID(r){let a=(stackIDs||(stackIDs=new WeakMap)).get(r);return a||stackIDs.set(r,a=String.fromCodePoint(this.nextStackID++)),a+r}}function pushStackDedup(s,r){for(let a=0;a<r.length;a++){let l=r[a];if(l.pos==s.pos&&l.sameState(s)){r[a].score<s.score&&(r[a]=s);return}}r.push(s)}class Dialect{constructor(r,a,l){this.source=r,this.flags=a,this.disabled=l}allows(r){return!this.disabled||this.disabled[r]==0}}const id=s=>s;class ContextTracker{constructor(r){this.start=r.start,this.shift=r.shift||id,this.reduce=r.reduce||id,this.reuse=r.reuse||id,this.hash=r.hash||(()=>0),this.strict=r.strict!==!1}}class LRParser extends Parser{constructor(r){if(super(),this.wrappers=[],r.version!=14)throw new RangeError(`Parser version (${r.version}) doesn't match runtime version (14)`);let a=r.nodeNames.split(" ");this.minRepeatTerm=a.length;for(let d=0;d<r.repeatNodeCount;d++)a.push("");let l=Object.keys(r.topRules).map(d=>r.topRules[d][1]),o=[];for(let d=0;d<a.length;d++)o.push([]);function f(d,g,m){o[d].push([g,g.deserialize(String(m))])}if(r.nodeProps)for(let d of r.nodeProps){let g=d[0];typeof g=="string"&&(g=NodeProp[g]);for(let m=1;m<d.length;){let y=d[m++];if(y>=0)f(y,g,d[m++]);else{let S=d[m+-y];for(let x=-y;x>0;x--)f(d[m++],g,S);m++}}}this.nodeSet=new NodeSet(a.map((d,g)=>NodeType.define({name:g>=this.minRepeatTerm?void 0:d,id:g,props:o[g],top:l.indexOf(g)>-1,error:g==0,skipped:r.skippedNodes&&r.skippedNodes.indexOf(g)>-1}))),r.propSources&&(this.nodeSet=this.nodeSet.extend(...r.propSources)),this.strict=!1,this.bufferLength=DefaultBufferLength;let h=decodeArray(r.tokenData);this.context=r.context,this.specializerSpecs=r.specialized||[],this.specialized=new Uint16Array(this.specializerSpecs.length);for(let d=0;d<this.specializerSpecs.length;d++)this.specialized[d]=this.specializerSpecs[d].term;this.specializers=this.specializerSpecs.map(getSpecializer),this.states=decodeArray(r.states,Uint32Array),this.data=decodeArray(r.stateData),this.goto=decodeArray(r.goto),this.maxTerm=r.maxTerm,this.tokenizers=r.tokenizers.map(d=>typeof d=="number"?new TokenGroup(h,d):d),this.topRules=r.topRules,this.dialects=r.dialects||{},this.dynamicPrecedences=r.dynamicPrecedences||null,this.tokenPrecTable=r.tokenPrec,this.termNames=r.termNames||null,this.maxNode=this.nodeSet.types.length-1,this.dialect=this.parseDialect(),this.top=this.topRules[Object.keys(this.topRules)[0]]}createParse(r,a,l){let o=new Parse(this,r,a,l);for(let f of this.wrappers)o=f(o,r,a,l);return o}getGoto(r,a,l=!1){let o=this.goto;if(a>=o[0])return-1;for(let f=o[a+1];;){let h=o[f++],d=h&1,g=o[f++];if(d&&l)return g;for(let m=f+(h>>1);f<m;f++)if(o[f]==r)return g;if(d)return-1}}hasAction(r,a){let l=this.data;for(let o=0;o<2;o++)for(let f=this.stateSlot(r,o?2:1),h;;f+=3){if((h=l[f])==65535)if(l[f+1]==1)h=l[f=pair(l,f+2)];else{if(l[f+1]==2)return pair(l,f+2);break}if(h==a||h==0)return pair(l,f+1)}return 0}stateSlot(r,a){return this.states[r*6+a]}stateFlag(r,a){return(this.stateSlot(r,0)&a)>0}validAction(r,a){return!!this.allActions(r,l=>l==a?!0:null)}allActions(r,a){let l=this.stateSlot(r,4),o=l?a(l):void 0;for(let f=this.stateSlot(r,1);o==null;f+=3){if(this.data[f]==65535)if(this.data[f+1]==1)f=pair(this.data,f+2);else break;o=a(pair(this.data,f+1))}return o}nextStates(r){let a=[];for(let l=this.stateSlot(r,1);;l+=3){if(this.data[l]==65535)if(this.data[l+1]==1)l=pair(this.data,l+2);else break;if((this.data[l+2]&1)==0){let o=this.data[l+1];a.some((f,h)=>h&1&&f==o)||a.push(this.data[l],o)}}return a}configure(r){let a=Object.assign(Object.create(LRParser.prototype),this);if(r.props&&(a.nodeSet=this.nodeSet.extend(...r.props)),r.top){let l=this.topRules[r.top];if(!l)throw new RangeError(`Invalid top rule name ${r.top}`);a.top=l}return r.tokenizers&&(a.tokenizers=this.tokenizers.map(l=>{let o=r.tokenizers.find(f=>f.from==l);return o?o.to:l})),r.specializers&&(a.specializers=this.specializers.slice(),a.specializerSpecs=this.specializerSpecs.map((l,o)=>{let f=r.specializers.find(d=>d.from==l.external);if(!f)return l;let h=Object.assign(Object.assign({},l),{external:f.to});return a.specializers[o]=getSpecializer(h),h})),r.contextTracker&&(a.context=r.contextTracker),r.dialect&&(a.dialect=this.parseDialect(r.dialect)),r.strict!=null&&(a.strict=r.strict),r.wrap&&(a.wrappers=a.wrappers.concat(r.wrap)),r.bufferLength!=null&&(a.bufferLength=r.bufferLength),a}hasWrappers(){return this.wrappers.length>0}getName(r){return this.termNames?this.termNames[r]:String(r<=this.maxNode&&this.nodeSet.types[r].name||r)}get eofTerm(){return this.maxNode+1}get topNode(){return this.nodeSet.types[this.top[1]]}dynamicPrecedence(r){let a=this.dynamicPrecedences;return a==null?0:a[r]||0}parseDialect(r){let a=Object.keys(this.dialects),l=a.map(()=>!1);if(r)for(let f of r.split(" ")){let h=a.indexOf(f);h>=0&&(l[h]=!0)}let o=null;for(let f=0;f<a.length;f++)if(!l[f])for(let h=this.dialects[a[f]],d;(d=this.data[h++])!=65535;)(o||(o=new Uint8Array(this.maxTerm+1)))[d]=1;return new Dialect(r,l,o)}static deserialize(r){return new LRParser(r)}}function pair(s,r){return s[r]|s[r+1]<<16}function findFinished(s){let r=null;for(let a of s){let l=a.p.stoppedAt;(a.pos==a.p.stream.end||l!=null&&a.pos>l)&&a.p.parser.stateFlag(a.state,2)&&(!r||r.score<a.score)&&(r=a)}return r}function getSpecializer(s){if(s.external){let r=s.extend?1:0;return(a,l)=>s.external(a,l)<<1|r}return s.get}const noSemi=316,noSemiType=317,incdec=1,incdecPrefix=2,questionDot=3,JSXStartTag=4,insertSemi=318,spaces=320,newline=321,LineComment=5,BlockComment=6,Dialect_jsx=0,space=[9,10,11,12,13,32,133,160,5760,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8232,8233,8239,8287,12288],braceR=125,semicolon=59,slash=47,star=42,plus=43,minus=45,lt=60,comma=44,question=63,dot=46,bracketL=91,trackNewline=new ContextTracker({start:!1,shift(s,r){return r==LineComment||r==BlockComment||r==spaces?s:r==newline},strict:!1}),insertSemicolon=new ExternalTokenizer((s,r)=>{let{next:a}=s;(a==braceR||a==-1||r.context)&&s.acceptToken(insertSemi)},{contextual:!0,fallback:!0}),noSemicolon=new ExternalTokenizer((s,r)=>{let{next:a}=s,l;space.indexOf(a)>-1||a==slash&&((l=s.peek(1))==slash||l==star)||a!=braceR&&a!=semicolon&&a!=-1&&!r.context&&s.acceptToken(noSemi)},{contextual:!0}),noSemicolonType=new ExternalTokenizer((s,r)=>{s.next==bracketL&&!r.context&&s.acceptToken(noSemiType)},{contextual:!0}),operatorToken=new ExternalTokenizer((s,r)=>{let{next:a}=s;if(a==plus||a==minus){if(s.advance(),a==s.next){s.advance();let l=!r.context&&r.canShift(incdec);s.acceptToken(l?incdec:incdecPrefix)}}else a==question&&s.peek(1)==dot&&(s.advance(),s.advance(),(s.next<48||s.next>57)&&s.acceptToken(questionDot))},{contextual:!0});function identifierChar(s,r){return s>=65&&s<=90||s>=97&&s<=122||s==95||s>=192||!r&&s>=48&&s<=57}const jsx=new ExternalTokenizer((s,r)=>{if(s.next!=lt||!r.dialectEnabled(Dialect_jsx)||(s.advance(),s.next==slash))return;let a=0;for(;space.indexOf(s.next)>-1;)s.advance(),a++;if(identifierChar(s.next,!0)){for(s.advance(),a++;identifierChar(s.next,!1);)s.advance(),a++;for(;space.indexOf(s.next)>-1;)s.advance(),a++;if(s.next==comma)return;for(let l=0;;l++){if(l==7){if(!identifierChar(s.next,!0))return;break}if(s.next!="extends".charCodeAt(l))break;s.advance(),a++}}s.acceptToken(JSXStartTag,-a)}),jsHighlight=styleTags({"get set async static":tags.modifier,"for while do if else switch try catch finally return throw break continue default case defer":tags.controlKeyword,"in of await yield void typeof delete instanceof as satisfies":tags.operatorKeyword,"let var const using function class extends":tags.definitionKeyword,"import export from":tags.moduleKeyword,"with debugger new":tags.keyword,TemplateString:tags.special(tags.string),super:tags.atom,BooleanLiteral:tags.bool,this:tags.self,null:tags.null,Star:tags.modifier,VariableName:tags.variableName,"CallExpression/VariableName TaggedTemplateExpression/VariableName":tags.function(tags.variableName),VariableDefinition:tags.definition(tags.variableName),Label:tags.labelName,PropertyName:tags.propertyName,PrivatePropertyName:tags.special(tags.propertyName),"CallExpression/MemberExpression/PropertyName":tags.function(tags.propertyName),"FunctionDeclaration/VariableDefinition":tags.function(tags.definition(tags.variableName)),"ClassDeclaration/VariableDefinition":tags.definition(tags.className),"NewExpression/VariableName":tags.className,PropertyDefinition:tags.definition(tags.propertyName),PrivatePropertyDefinition:tags.definition(tags.special(tags.propertyName)),UpdateOp:tags.updateOperator,"LineComment Hashbang":tags.lineComment,BlockComment:tags.blockComment,Number:tags.number,String:tags.string,Escape:tags.escape,ArithOp:tags.arithmeticOperator,LogicOp:tags.logicOperator,BitOp:tags.bitwiseOperator,CompareOp:tags.compareOperator,RegExp:tags.regexp,Equals:tags.definitionOperator,Arrow:tags.function(tags.punctuation),": Spread":tags.punctuation,"( )":tags.paren,"[ ]":tags.squareBracket,"{ }":tags.brace,"InterpolationStart InterpolationEnd":tags.special(tags.brace),".":tags.derefOperator,", ;":tags.separator,"@":tags.meta,TypeName:tags.typeName,TypeDefinition:tags.definition(tags.typeName),"type enum interface implements namespace module declare":tags.definitionKeyword,"abstract global Privacy readonly override":tags.modifier,"is keyof unique infer asserts":tags.operatorKeyword,JSXAttributeValue:tags.attributeValue,JSXText:tags.content,"JSXStartTag JSXStartCloseTag JSXSelfCloseEndTag JSXEndTag":tags.angleBracket,"JSXIdentifier JSXNameSpacedName":tags.tagName,"JSXAttribute/JSXIdentifier JSXAttribute/JSXNameSpacedName":tags.attributeName,"JSXBuiltin/JSXIdentifier":tags.standard(tags.tagName)}),spec_identifier={__proto__:null,export:20,as:25,from:33,default:36,async:41,function:42,in:52,out:55,const:56,extends:60,this:64,true:72,false:72,null:84,void:88,typeof:92,super:108,new:142,delete:154,yield:163,await:167,class:172,public:235,private:235,protected:235,readonly:237,instanceof:256,satisfies:259,import:292,keyof:349,unique:353,infer:359,asserts:395,is:397,abstract:417,implements:419,type:421,let:424,var:426,using:429,interface:435,enum:439,namespace:445,module:447,declare:451,global:455,defer:471,for:476,of:485,while:488,with:492,do:496,if:500,else:502,switch:506,case:512,try:518,catch:522,finally:526,return:530,throw:534,break:538,continue:542,debugger:546},spec_word={__proto__:null,async:129,get:131,set:133,declare:195,public:197,private:197,protected:197,static:199,abstract:201,override:203,readonly:209,accessor:211,new:401},spec_LessThan={__proto__:null,"<":193},parser=LRParser.deserialize({version:14,states:"$F|Q%TQlOOO%[QlOOO'_QpOOP(lO`OOO*zQ!0MxO'#CiO+RO#tO'#CjO+aO&jO'#CjO+oO#@ItO'#DaO.QQlO'#DgO.bQlO'#DrO%[QlO'#DzO0fQlO'#ESOOQ!0Lf'#E['#E[O1PQ`O'#EXOOQO'#Ep'#EpOOQO'#Il'#IlO1XQ`O'#GsO1dQ`O'#EoO1iQ`O'#EoO3hQ!0MxO'#JrO6[Q!0MxO'#JsO6uQ`O'#F]O6zQ,UO'#FtOOQ!0Lf'#Ff'#FfO7VO7dO'#FfO9XQMhO'#F|O9`Q`O'#F{OOQ!0Lf'#Js'#JsOOQ!0Lb'#Jr'#JrO9eQ`O'#GwOOQ['#K_'#K_O9pQ`O'#IYO9uQ!0LrO'#IZOOQ['#J`'#J`OOQ['#I_'#I_Q`QlOOQ`QlOOO9}Q!L^O'#DvO:UQlO'#EOO:]QlO'#EQO9kQ`O'#GsO:dQMhO'#CoO:rQ`O'#EnO:}Q`O'#EyO;hQMhO'#FeO;xQ`O'#GsOOQO'#K`'#K`O;}Q`O'#K`O<]Q`O'#G{O<]Q`O'#G|O<]Q`O'#HOO9kQ`O'#HRO=SQ`O'#HUO>kQ`O'#CeO>{Q`O'#HcO?TQ`O'#HiO?TQ`O'#HkO`QlO'#HmO?TQ`O'#HoO?TQ`O'#HrO?YQ`O'#HxO?_Q!0LsO'#IOO%[QlO'#IQO?jQ!0LsO'#ISO?uQ!0LsO'#IUO9uQ!0LrO'#IWO@QQ!0MxO'#CiOASQpO'#DlQOQ`OOO%[QlO'#EQOAjQ`O'#ETO:dQMhO'#EnOAuQ`O'#EnOBQQ!bO'#FeOOQ['#Cg'#CgOOQ!0Lb'#Dq'#DqOOQ!0Lb'#Jv'#JvO%[QlO'#JvOOQO'#Jy'#JyOOQO'#Ih'#IhOCQQpO'#EgOOQ!0Lb'#Ef'#EfOOQ!0Lb'#J}'#J}OC|Q!0MSO'#EgODWQpO'#EWOOQO'#Jx'#JxODlQpO'#JyOEyQpO'#EWODWQpO'#EgPFWO&2DjO'#CbPOOO)CD})CD}OOOO'#I`'#I`OFcO#tO,59UOOQ!0Lh,59U,59UOOOO'#Ia'#IaOFqO&jO,59UOGPQ!L^O'#DcOOOO'#Ic'#IcOGWO#@ItO,59{OOQ!0Lf,59{,59{OGfQlO'#IdOGyQ`O'#JtOIxQ!fO'#JtO+}QlO'#JtOJPQ`O,5:ROJgQ`O'#EpOJtQ`O'#KTOKPQ`O'#KSOKPQ`O'#KSOKXQ`O,5;^OK^Q`O'#KROOQ!0Ln,5:^,5:^OKeQlO,5:^OMcQ!0MxO,5:fONSQ`O,5:nONmQ!0LrO'#KQONtQ`O'#KPO9eQ`O'#KPO! YQ`O'#KPO! bQ`O,5;]O! gQ`O'#KPO!#lQ!fO'#JsOOQ!0Lh'#Ci'#CiO%[QlO'#ESO!$[Q!fO,5:sOOQS'#Jz'#JzOOQO-E<j-E<jO9kQ`O,5=_O!$rQ`O,5=_O!$wQlO,5;ZO!&zQMhO'#EkO!(eQ`O,5;ZO!(jQlO'#DyO!(tQpO,5;dO!(|QpO,5;dO%[QlO,5;dOOQ['#FT'#FTOOQ['#FV'#FVO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eO%[QlO,5;eOOQ['#FZ'#FZO!)[QlO,5;tOOQ!0Lf,5;y,5;yOOQ!0Lf,5;z,5;zOOQ!0Lf,5;|,5;|O%[QlO'#IpO!+_Q!0LrO,5<iO%[QlO,5;eO!&zQMhO,5;eO!+|QMhO,5;eO!-nQMhO'#E^O%[QlO,5;wOOQ!0Lf,5;{,5;{O!-uQ,UO'#FjO!.rQ,UO'#KXO!.^Q,UO'#KXO!.yQ,UO'#KXOOQO'#KX'#KXO!/_Q,UO,5<SOOOW,5<`,5<`O!/pQlO'#FvOOOW'#Io'#IoO7VO7dO,5<QO!/wQ,UO'#FxOOQ!0Lf,5<Q,5<QO!0hQ$IUO'#CyOOQ!0Lh'#C}'#C}O!0{O#@ItO'#DRO!1iQMjO,5<eO!1pQ`O,5<hO!3YQ(CWO'#GXO!3jQ`O'#GYO!3oQ`O'#GYO!5_Q(CWO'#G^O!6dQpO'#GbOOQO'#Gn'#GnO!,TQMhO'#GmOOQO'#Gp'#GpO!,TQMhO'#GoO!7VQ$IUO'#JlOOQ!0Lh'#Jl'#JlO!7aQ`O'#JkO!7oQ`O'#JjO!7wQ`O'#CuOOQ!0Lh'#C{'#C{O!8YQ`O'#C}OOQ!0Lh'#DV'#DVOOQ!0Lh'#DX'#DXO!8_Q`O,5<eO1SQ`O'#DZO!,TQMhO'#GPO!,TQMhO'#GRO!8gQ`O'#GTO!8lQ`O'#GUO!3oQ`O'#G[O!,TQMhO'#GaO<]Q`O'#JkO!8qQ`O'#EqO!9`Q`O,5<gOOQ!0Lb'#Cr'#CrO!9hQ`O'#ErO!:bQpO'#EsOOQ!0Lb'#KR'#KRO!:iQ!0LrO'#KaO9uQ!0LrO,5=cO`QlO,5>tOOQ['#Jh'#JhOOQ[,5>u,5>uOOQ[-E<]-E<]O!<hQ!0MxO,5:bO!:]QpO,5:`O!?RQ!0MxO,5:jO%[QlO,5:jO!AiQ!0MxO,5:lOOQO,5@z,5@zO!BYQMhO,5=_O!BhQ!0LrO'#JiO9`Q`O'#JiO!ByQ!0LrO,59ZO!CUQpO,59ZO!C^QMhO,59ZO:dQMhO,59ZO!CiQ`O,5;ZO!CqQ`O'#HbO!DVQ`O'#KdO%[QlO,5;}O!:]QpO,5<PO!D_Q`O,5=zO!DdQ`O,5=zO!DiQ`O,5=zO!DwQ`O,5=zO9uQ!0LrO,5=zO<]Q`O,5=jOOQO'#Cy'#CyO!EOQpO,5=gO!EWQMhO,5=hO!EcQ`O,5=jO!EhQ!bO,5=mO!EpQ`O'#K`O?YQ`O'#HWO9kQ`O'#HYO!EuQ`O'#HYO:dQMhO'#H[O!EzQ`O'#H[OOQ[,5=p,5=pO!FPQ`O'#H]O!FbQ`O'#CoO!FgQ`O,59PO!FqQ`O,59PO!HvQlO,59POOQ[,59P,59PO!IWQ!0LrO,59PO%[QlO,59PO!KcQlO'#HeOOQ['#Hf'#HfOOQ['#Hg'#HgO`QlO,5=}O!KyQ`O,5=}O`QlO,5>TO`QlO,5>VO!LOQ`O,5>XO`QlO,5>ZO!LTQ`O,5>^O!LYQlO,5>dOOQ[,5>j,5>jO%[QlO,5>jO9uQ!0LrO,5>lOOQ[,5>n,5>nO#!dQ`O,5>nOOQ[,5>p,5>pO#!dQ`O,5>pOOQ[,5>r,5>rO##QQpO'#D_O%[QlO'#JvO##sQpO'#JvO##}QpO'#DmO#$`QpO'#DmO#&qQlO'#DmO#&xQ`O'#JuO#'QQ`O,5:WO#'VQ`O'#EtO#'eQ`O'#KUO#'mQ`O,5;_O#'rQpO'#DmO#(PQpO'#EVOOQ!0Lf,5:o,5:oO%[QlO,5:oO#(WQ`O,5:oO?YQ`O,5;YO!CUQpO,5;YO!C^QMhO,5;YO:dQMhO,5;YO#(`Q`O,5@bO#(eQ07dO,5:sOOQO-E<f-E<fO#)kQ!0MSO,5;RODWQpO,5:rO#)uQpO,5:rODWQpO,5;RO!ByQ!0LrO,5:rOOQ!0Lb'#Ej'#EjOOQO,5;R,5;RO%[QlO,5;RO#*SQ!0LrO,5;RO#*_Q!0LrO,5;RO!CUQpO,5:rOOQO,5;X,5;XO#*mQ!0LrO,5;RPOOO'#I^'#I^P#+RO&2DjO,58|POOO,58|,58|OOOO-E<^-E<^OOQ!0Lh1G.p1G.pOOOO-E<_-E<_OOOO,59},59}O#+^Q!bO,59}OOOO-E<a-E<aOOQ!0Lf1G/g1G/gO#+cQ!fO,5?OO+}QlO,5?OOOQO,5?U,5?UO#+mQlO'#IdOOQO-E<b-E<bO#+zQ`O,5@`O#,SQ!fO,5@`O#,ZQ`O,5@nOOQ!0Lf1G/m1G/mO%[QlO,5@oO#,cQ`O'#IjOOQO-E<h-E<hO#,ZQ`O,5@nOOQ!0Lb1G0x1G0xOOQ!0Ln1G/x1G/xOOQ!0Ln1G0Y1G0YO%[QlO,5@lO#,wQ!0LrO,5@lO#-YQ!0LrO,5@lO#-aQ`O,5@kO9eQ`O,5@kO#-iQ`O,5@kO#-wQ`O'#ImO#-aQ`O,5@kOOQ!0Lb1G0w1G0wO!(tQpO,5:uO!)PQpO,5:uOOQS,5:w,5:wO#.iQdO,5:wO#.qQMhO1G2yO9kQ`O1G2yOOQ!0Lf1G0u1G0uO#/PQ!0MxO1G0uO#0UQ!0MvO,5;VOOQ!0Lh'#GW'#GWO#0rQ!0MzO'#JlO!$wQlO1G0uO#2}Q!fO'#JwO%[QlO'#JwO#3XQ`O,5:eOOQ!0Lh'#D_'#D_OOQ!0Lf1G1O1G1OO%[QlO1G1OOOQ!0Lf1G1f1G1fO#3^Q`O1G1OO#5rQ!0MxO1G1PO#5yQ!0MxO1G1PO#8aQ!0MxO1G1PO#8hQ!0MxO1G1PO#;OQ!0MxO1G1PO#=fQ!0MxO1G1PO#=mQ!0MxO1G1PO#=tQ!0MxO1G1PO#@[Q!0MxO1G1PO#@cQ!0MxO1G1PO#BpQ?MtO'#CiO#DkQ?MtO1G1`O#DrQ?MtO'#JsO#EVQ!0MxO,5?[OOQ!0Lb-E<n-E<nO#GdQ!0MxO1G1PO#HaQ!0MzO1G1POOQ!0Lf1G1P1G1PO#IdQMjO'#J|O#InQ`O,5:xO#IsQ!0MxO1G1cO#JgQ,UO,5<WO#JoQ,UO,5<XO#JwQ,UO'#FoO#K`Q`O'#FnOOQO'#KY'#KYOOQO'#In'#InO#KeQ,UO1G1nOOQ!0Lf1G1n1G1nOOOW1G1y1G1yO#KvQ?MtO'#JrO#LQQ`O,5<bO!)[QlO,5<bOOOW-E<m-E<mOOQ!0Lf1G1l1G1lO#LVQpO'#KXOOQ!0Lf,5<d,5<dO#L_QpO,5<dO#LdQMhO'#DTOOOO'#Ib'#IbO#LkO#@ItO,59mOOQ!0Lh,59m,59mO%[QlO1G2PO!8lQ`O'#IrO#LvQ`O,5<zOOQ!0Lh,5<w,5<wO!,TQMhO'#IuO#MdQMjO,5=XO!,TQMhO'#IwO#NVQMjO,5=ZO!&zQMhO,5=]OOQO1G2S1G2SO#NaQ!dO'#CrO#NtQ(CWO'#ErO$ |QpO'#GbO$!dQ!dO,5<sO$!kQ`O'#K[O9eQ`O'#K[O$!yQ`O,5<uO$#aQ!dO'#C{O!,TQMhO,5<tO$#kQ`O'#GZO$$PQ`O,5<tO$$UQ!dO'#GWO$$cQ!dO'#K]O$$mQ`O'#K]O!&zQMhO'#K]O$$rQ`O,5<xO$$wQlO'#JvO$%RQpO'#GcO#$`QpO'#GcO$%dQ`O'#GgO!3oQ`O'#GkO$%iQ!0LrO'#ItO$%tQpO,5<|OOQ!0Lp,5<|,5<|O$%{QpO'#GcO$&YQpO'#GdO$&kQpO'#GdO$&pQMjO,5=XO$'QQMjO,5=ZOOQ!0Lh,5=^,5=^O!,TQMhO,5@VO!,TQMhO,5@VO$'bQ`O'#IyO$'vQ`O,5@UO$(OQ`O,59aOOQ!0Lh,59i,59iO$(TQ`O,5@VO$)TQ$IYO,59uOOQ!0Lh'#Jp'#JpO$)vQMjO,5<kO$*iQMjO,5<mO@zQ`O,5<oOOQ!0Lh,5<p,5<pO$*sQ`O,5<vO$*xQMjO,5<{O$+YQ`O'#KPO!$wQlO1G2RO$+_Q`O1G2RO9eQ`O'#KSO9eQ`O'#EtO%[QlO'#EtO9eQ`O'#I{O$+dQ!0LrO,5@{OOQ[1G2}1G2}OOQ[1G4`1G4`OOQ!0Lf1G/|1G/|OOQ!0Lf1G/z1G/zO$-fQ!0MxO1G0UOOQ[1G2y1G2yO!&zQMhO1G2yO%[QlO1G2yO#.tQ`O1G2yO$/jQMhO'#EkOOQ!0Lb,5@T,5@TO$/wQ!0LrO,5@TOOQ[1G.u1G.uO!ByQ!0LrO1G.uO!CUQpO1G.uO!C^QMhO1G.uO$0YQ`O1G0uO$0_Q`O'#CiO$0jQ`O'#KeO$0rQ`O,5=|O$0wQ`O'#KeO$0|Q`O'#KeO$1[Q`O'#JRO$1jQ`O,5AOO$1rQ!fO1G1iOOQ!0Lf1G1k1G1kO9kQ`O1G3fO@zQ`O1G3fO$1yQ`O1G3fO$2OQ`O1G3fO!DiQ`O1G3fO9uQ!0LrO1G3fOOQ[1G3f1G3fO!EcQ`O1G3UO!&zQMhO1G3RO$2TQ`O1G3ROOQ[1G3S1G3SO!&zQMhO1G3SO$2YQ`O1G3SO$2bQpO'#HQOOQ[1G3U1G3UO!6_QpO'#I}O!EhQ!bO1G3XOOQ[1G3X1G3XOOQ[,5=r,5=rO$2jQMhO,5=tO9kQ`O,5=tO$%dQ`O,5=vO9`Q`O,5=vO!CUQpO,5=vO!C^QMhO,5=vO:dQMhO,5=vO$2xQ`O'#KcO$3TQ`O,5=wOOQ[1G.k1G.kO$3YQ!0LrO1G.kO@zQ`O1G.kO$3eQ`O1G.kO9uQ!0LrO1G.kO$5mQ!fO,5AQO$5zQ`O,5AQO9eQ`O,5AQO$6VQlO,5>PO$6^Q`O,5>POOQ[1G3i1G3iO`QlO1G3iOOQ[1G3o1G3oOOQ[1G3q1G3qO?TQ`O1G3sO$6cQlO1G3uO$:gQlO'#HtOOQ[1G3x1G3xO$:tQ`O'#HzO?YQ`O'#H|OOQ[1G4O1G4OO$:|QlO1G4OO9uQ!0LrO1G4UOOQ[1G4W1G4WOOQ!0Lb'#G_'#G_O9uQ!0LrO1G4YO9uQ!0LrO1G4[O$?TQ`O,5@bO!)[QlO,5;`O9eQ`O,5;`O?YQ`O,5:XO!)[QlO,5:XO!CUQpO,5:XO$?YQ?MtO,5:XOOQO,5;`,5;`O$?dQpO'#IeO$?zQ`O,5@aOOQ!0Lf1G/r1G/rO$@SQpO'#IkO$@^Q`O,5@pOOQ!0Lb1G0y1G0yO#$`QpO,5:XOOQO'#Ig'#IgO$@fQpO,5:qOOQ!0Ln,5:q,5:qO#(ZQ`O1G0ZOOQ!0Lf1G0Z1G0ZO%[QlO1G0ZOOQ!0Lf1G0t1G0tO?YQ`O1G0tO!CUQpO1G0tO!C^QMhO1G0tOOQ!0Lb1G5|1G5|O!ByQ!0LrO1G0^OOQO1G0m1G0mO%[QlO1G0mO$@mQ!0LrO1G0mO$@xQ!0LrO1G0mO!CUQpO1G0^ODWQpO1G0^O$AWQ!0LrO1G0mOOQO1G0^1G0^O$AlQ!0MxO1G0mPOOO-E<[-E<[POOO1G.h1G.hOOOO1G/i1G/iO$AvQ!bO,5<iO$BOQ!fO1G4jOOQO1G4p1G4pO%[QlO,5?OO$BYQ`O1G5zO$BbQ`O1G6YO$BjQ!fO1G6ZO9eQ`O,5?UO$BtQ!0MxO1G6WO%[QlO1G6WO$CUQ!0LrO1G6WO$CgQ`O1G6VO$CgQ`O1G6VO9eQ`O1G6VO$CoQ`O,5?XO9eQ`O,5?XOOQO,5?X,5?XO$DTQ`O,5?XO$+YQ`O,5?XOOQO-E<k-E<kOOQS1G0a1G0aOOQS1G0c1G0cO#.lQ`O1G0cOOQ[7+(e7+(eO!&zQMhO7+(eO%[QlO7+(eO$DcQ`O7+(eO$DnQMhO7+(eO$D|Q!0MzO,5=XO$GXQ!0MzO,5=ZO$IdQ!0MzO,5=XO$KuQ!0MzO,5=ZO$NWQ!0MzO,59uO%!]Q!0MzO,5<kO%$hQ!0MzO,5<mO%&sQ!0MzO,5<{OOQ!0Lf7+&a7+&aO%)UQ!0MxO7+&aO%)xQlO'#IfO%*VQ`O,5@cO%*_Q!fO,5@cOOQ!0Lf1G0P1G0PO%*iQ`O7+&jOOQ!0Lf7+&j7+&jO%*nQ?MtO,5:fO%[QlO7+&zO%*xQ?MtO,5:bO%+VQ?MtO,5:jO%+aQ?MtO,5:lO%+kQMhO'#IiO%+uQ`O,5@hOOQ!0Lh1G0d1G0dOOQO1G1r1G1rOOQO1G1s1G1sO%+}Q!jO,5<ZO!)[QlO,5<YOOQO-E<l-E<lOOQ!0Lf7+'Y7+'YOOOW7+'e7+'eOOOW1G1|1G1|O%,YQ`O1G1|OOQ!0Lf1G2O1G2OOOOO,59o,59oO%,_Q!dO,59oOOOO-E<`-E<`OOQ!0Lh1G/X1G/XO%,fQ!0MxO7+'kOOQ!0Lh,5?^,5?^O%-YQMhO1G2fP%-aQ`O'#IrPOQ!0Lh-E<p-E<pO%-}QMjO,5?aOOQ!0Lh-E<s-E<sO%.pQMjO,5?cOOQ!0Lh-E<u-E<uO%.zQ!dO1G2wO%/RQ!dO'#CrO%/iQMhO'#KSO$$wQlO'#JvOOQ!0Lh1G2_1G2_O%/sQ`O'#IqO%0[Q`O,5@vO%0[Q`O,5@vO%0dQ`O,5@vO%0oQ`O,5@vOOQO1G2a1G2aO%0}QMjO1G2`O$+YQ`O'#K[O!,TQMhO1G2`O%1_Q(CWO'#IsO%1lQ`O,5@wO!&zQMhO,5@wO%1tQ!dO,5@wOOQ!0Lh1G2d1G2dO%4UQ!fO'#CiO%4`Q`O,5=POOQ!0Lb,5<},5<}O%4hQpO,5<}OOQ!0Lb,5=O,5=OOCwQ`O,5<}O%4sQpO,5<}OOQ!0Lb,5=R,5=RO$+YQ`O,5=VOOQO,5?`,5?`OOQO-E<r-E<rOOQ!0Lp1G2h1G2hO#$`QpO,5<}O$$wQlO,5=PO%5RQ`O,5=OO%5^QpO,5=OO!,TQMhO'#IuO%6WQMjO1G2sO!,TQMhO'#IwO%6yQMjO1G2uO%7TQMjO1G5qO%7_QMjO1G5qOOQO,5?e,5?eOOQO-E<w-E<wOOQO1G.{1G.{O!,TQMhO1G5qO!,TQMhO1G5qO!:]QpO,59wO%[QlO,59wOOQ!0Lh,5<j,5<jO%7lQ`O1G2ZO!,TQMhO1G2bO%7qQ!0MxO7+'mOOQ!0Lf7+'m7+'mO!$wQlO7+'mO%8eQ`O,5;`OOQ!0Lb,5?g,5?gOOQ!0Lb-E<y-E<yO%8jQ!dO'#K^O#(ZQ`O7+(eO4UQ!fO7+(eO$DfQ`O7+(eO%8tQ!0MvO'#CiO%9XQ!0MvO,5=SO%9lQ`O,5=SO%9tQ`O,5=SOOQ!0Lb1G5o1G5oOOQ[7+$a7+$aO!ByQ!0LrO7+$aO!CUQpO7+$aO!$wQlO7+&aO%9yQ`O'#JQO%:bQ`O,5APOOQO1G3h1G3hO9kQ`O,5APO%:bQ`O,5APO%:jQ`O,5APOOQO,5?m,5?mOOQO-E=P-E=POOQ!0Lf7+'T7+'TO%:oQ`O7+)QO9uQ!0LrO7+)QO9kQ`O7+)QO@zQ`O7+)QO%:tQ`O7+)QOOQ[7+)Q7+)QOOQ[7+(p7+(pO%:yQ!0MvO7+(mO!&zQMhO7+(mO!E^Q`O7+(nOOQ[7+(n7+(nO!&zQMhO7+(nO%;TQ`O'#KbO%;`Q`O,5=lOOQO,5?i,5?iOOQO-E<{-E<{OOQ[7+(s7+(sO%<rQpO'#HZOOQ[1G3`1G3`O!&zQMhO1G3`O%[QlO1G3`O%<yQ`O1G3`O%=UQMhO1G3`O9uQ!0LrO1G3bO$%dQ`O1G3bO9`Q`O1G3bO!CUQpO1G3bO!C^QMhO1G3bO%=dQ`O'#JPO%=xQ`O,5@}O%>QQpO,5@}OOQ!0Lb1G3c1G3cOOQ[7+$V7+$VO@zQ`O7+$VO9uQ!0LrO7+$VO%>]Q`O7+$VO%[QlO1G6lO%[QlO1G6mO%>bQ!0LrO1G6lO%>lQlO1G3kO%>sQ`O1G3kO%>xQlO1G3kOOQ[7+)T7+)TO9uQ!0LrO7+)_O`QlO7+)aOOQ['#Kh'#KhOOQ['#JS'#JSO%?PQlO,5>`OOQ[,5>`,5>`O%[QlO'#HuO%?^Q`O'#HwOOQ[,5>f,5>fO9eQ`O,5>fOOQ[,5>h,5>hOOQ[7+)j7+)jOOQ[7+)p7+)pOOQ[7+)t7+)tOOQ[7+)v7+)vO%?cQpO1G5|O%?}Q?MtO1G0zO%@XQ`O1G0zOOQO1G/s1G/sO%@dQ?MtO1G/sO?YQ`O1G/sO!)[QlO'#DmOOQO,5?P,5?POOQO-E<c-E<cOOQO,5?V,5?VOOQO-E<i-E<iO!CUQpO1G/sOOQO-E<e-E<eOOQ!0Ln1G0]1G0]OOQ!0Lf7+%u7+%uO#(ZQ`O7+%uOOQ!0Lf7+&`7+&`O?YQ`O7+&`O!CUQpO7+&`OOQO7+%x7+%xO$AlQ!0MxO7+&XOOQO7+&X7+&XO%[QlO7+&XO%@nQ!0LrO7+&XO!ByQ!0LrO7+%xO!CUQpO7+%xO%@yQ!0LrO7+&XO%AXQ!0MxO7++rO%[QlO7++rO%AiQ`O7++qO%AiQ`O7++qOOQO1G4s1G4sO9eQ`O1G4sO%AqQ`O1G4sOOQS7+%}7+%}O#(ZQ`O<<LPO4UQ!fO<<LPO%BPQ`O<<LPOOQ[<<LP<<LPO!&zQMhO<<LPO%[QlO<<LPO%BXQ`O<<LPO%BdQ!0MzO,5?aO%DoQ!0MzO,5?cO%FzQ!0MzO1G2`O%I]Q!0MzO1G2sO%KhQ!0MzO1G2uO%MsQ!fO,5?QO%[QlO,5?QOOQO-E<d-E<dO%M}Q`O1G5}OOQ!0Lf<<JU<<JUO%NVQ?MtO1G0uO&!^Q?MtO1G1PO&!eQ?MtO1G1PO&$fQ?MtO1G1PO&$mQ?MtO1G1PO&&nQ?MtO1G1PO&(oQ?MtO1G1PO&(vQ?MtO1G1PO&(}Q?MtO1G1PO&+OQ?MtO1G1PO&+VQ?MtO1G1PO&+^Q!0MxO<<JfO&-UQ?MtO1G1PO&.RQ?MvO1G1PO&/UQ?MvO'#JlO&1[Q?MtO1G1cO&1iQ?MtO1G0UO&1sQMjO,5?TOOQO-E<g-E<gO!)[QlO'#FqOOQO'#KZ'#KZOOQO1G1u1G1uO&1}Q`O1G1tO&2SQ?MtO,5?[OOOW7+'h7+'hOOOO1G/Z1G/ZO&2^Q!dO1G4xOOQ!0Lh7+(Q7+(QP!&zQMhO,5?^O!,TQMhO7+(cO&2eQ`O,5?]O9eQ`O,5?]O$+YQ`O,5?]OOQO-E<o-E<oO&2sQ`O1G6bO&2sQ`O1G6bO&2{Q`O1G6bO&3WQMjO7+'zO&3hQ!dO,5?_O&3rQ`O,5?_O!&zQMhO,5?_OOQO-E<q-E<qO&3wQ!dO1G6cO&4RQ`O1G6cO&4ZQ`O1G2kO!&zQMhO1G2kOOQ!0Lb1G2i1G2iOOQ!0Lb1G2j1G2jO%4hQpO1G2iO!CUQpO1G2iOCwQ`O1G2iOOQ!0Lb1G2q1G2qO&4`QpO1G2iO&4nQ`O1G2kO$+YQ`O1G2jOCwQ`O1G2jO$$wQlO1G2kO&4vQ`O1G2jO&5jQMjO,5?aOOQ!0Lh-E<t-E<tO&6]QMjO,5?cOOQ!0Lh-E<v-E<vO!,TQMhO7++]O&6gQMjO7++]O&6qQMjO7++]OOQ!0Lh1G/c1G/cO&7OQ`O1G/cOOQ!0Lh7+'u7+'uO&7TQMjO7+'|O&7eQ!0MxO<<KXOOQ!0Lf<<KX<<KXO&8XQ`O1G0zO!&zQMhO'#IzO&8^Q`O,5@xO&:`Q!fO<<LPO!&zQMhO1G2nO&:gQ!0LrO1G2nOOQ[<<G{<<G{O!ByQ!0LrO<<G{O&:xQ!0MxO<<I{OOQ!0Lf<<I{<<I{OOQO,5?l,5?lO&;lQ`O,5?lO&;qQ`O,5?lOOQO-E=O-E=OO&<PQ`O1G6kO&<PQ`O1G6kO9kQ`O1G6kO@zQ`O<<LlOOQ[<<Ll<<LlO&<XQ`O<<LlO9uQ!0LrO<<LlO9kQ`O<<LlOOQ[<<LX<<LXO%:yQ!0MvO<<LXOOQ[<<LY<<LYO!E^Q`O<<LYO&<^QpO'#I|O&<iQ`O,5@|O!)[QlO,5@|OOQ[1G3W1G3WOOQO'#JO'#JOO9uQ!0LrO'#JOO&<qQpO,5=uOOQ[,5=u,5=uO&<xQpO'#EgO&=PQpO'#GeO&=UQ`O7+(zO&=ZQ`O7+(zOOQ[7+(z7+(zO!&zQMhO7+(zO%[QlO7+(zO&=cQ`O7+(zOOQ[7+(|7+(|O9uQ!0LrO7+(|O$%dQ`O7+(|O9`Q`O7+(|O!CUQpO7+(|O&=nQ`O,5?kOOQO-E<}-E<}OOQO'#H^'#H^O&=yQ`O1G6iO9uQ!0LrO<<GqOOQ[<<Gq<<GqO@zQ`O<<GqO&>RQ`O7+,WO&>WQ`O7+,XO%[QlO7+,WO%[QlO7+,XOOQ[7+)V7+)VO&>]Q`O7+)VO&>bQlO7+)VO&>iQ`O7+)VOOQ[<<Ly<<LyOOQ[<<L{<<L{OOQ[-E=Q-E=QOOQ[1G3z1G3zO&>nQ`O,5>aOOQ[,5>c,5>cO&>sQ`O1G4QO9eQ`O7+&fO!)[QlO7+&fOOQO7+%_7+%_O&>xQ?MtO1G6ZO?YQ`O7+%_OOQ!0Lf<<Ia<<IaOOQ!0Lf<<Iz<<IzO?YQ`O<<IzOOQO<<Is<<IsO$AlQ!0MxO<<IsO%[QlO<<IsOOQO<<Id<<IdO!ByQ!0LrO<<IdO&?SQ!0LrO<<IsO&?_Q!0MxO<= ^O&?oQ`O<= ]OOQO7+*_7+*_O9eQ`O7+*_OOQ[ANAkANAkO&?wQ!fOANAkO!&zQMhOANAkO#(ZQ`OANAkO4UQ!fOANAkO&@OQ`OANAkO%[QlOANAkO&@WQ!0MzO7+'zO&BiQ!0MzO,5?aO&DtQ!0MzO,5?cO&GPQ!0MzO7+'|O&IbQ!fO1G4lO&IlQ?MtO7+&aO&KpQ?MvO,5=XO&MwQ?MvO,5=ZO&NXQ?MvO,5=XO&NiQ?MvO,5=ZO&NyQ?MvO,59uO'#PQ?MvO,5<kO'%SQ?MvO,5<mO''hQ?MvO,5<{O')^Q?MtO7+'kO')kQ?MtO7+'mO')xQ`O,5<]OOQO7+'`7+'`OOQ!0Lh7+*d7+*dO')}QMjO<<K}OOQO1G4w1G4wO'*UQ`O1G4wO'*aQ`O1G4wO'*oQ`O7++|O'*oQ`O7++|O!&zQMhO1G4yO'*wQ!dO1G4yO'+RQ`O7++}O'+ZQ`O7+(VO'+fQ!dO7+(VOOQ!0Lb7+(T7+(TOOQ!0Lb7+(U7+(UO!CUQpO7+(TOCwQ`O7+(TO'+pQ`O7+(VO!&zQMhO7+(VO$+YQ`O7+(UO'+uQ`O7+(VOCwQ`O7+(UO'+}QMjO<<NwO!,TQMhO<<NwOOQ!0Lh7+$}7+$}O',XQ!dO,5?fOOQO-E<x-E<xO',cQ!0MvO7+(YO!&zQMhO7+(YOOQ[AN=gAN=gO9kQ`O1G5WOOQO1G5W1G5WO',sQ`O1G5WO',xQ`O7+,VO',xQ`O7+,VO9uQ!0LrOANBWO@zQ`OANBWOOQ[ANBWANBWO'-QQ`OANBWOOQ[ANAsANAsOOQ[ANAtANAtO'-VQ`O,5?hOOQO-E<z-E<zO'-bQ?MtO1G6hOOQO,5?j,5?jOOQO-E<|-E<|OOQ[1G3a1G3aO'-lQ`O,5=POOQ[<<Lf<<LfO!&zQMhO<<LfO&=UQ`O<<LfO'-qQ`O<<LfO%[QlO<<LfOOQ[<<Lh<<LhO9uQ!0LrO<<LhO$%dQ`O<<LhO9`Q`O<<LhO'-yQpO1G5VO'.UQ`O7+,TOOQ[AN=]AN=]O9uQ!0LrOAN=]OOQ[<= r<= rOOQ[<= s<= sO'.^Q`O<= rO'.cQ`O<= sOOQ[<<Lq<<LqO'.hQ`O<<LqO'.mQlO<<LqOOQ[1G3{1G3{O?YQ`O7+)lO'.tQ`O<<JQO'/PQ?MtO<<JQOOQO<<Hy<<HyOOQ!0LfAN?fAN?fOOQOAN?_AN?_O$AlQ!0MxOAN?_OOQOAN?OAN?OO%[QlOAN?_OOQO<<My<<MyOOQ[G27VG27VO!&zQMhOG27VO#(ZQ`OG27VO'/ZQ!fOG27VO4UQ!fOG27VO'/bQ`OG27VO'/jQ?MtO<<JfO'/wQ?MvO1G2`O'1mQ?MvO,5?aO'3pQ?MvO,5?cO'5sQ?MvO1G2sO'7vQ?MvO1G2uO'9yQ?MtO<<KXO':WQ?MtO<<I{OOQO1G1w1G1wO!,TQMhOANAiOOQO7+*c7+*cO':eQ`O7+*cO':pQ`O<= hO':xQ!dO7+*eOOQ!0Lb<<Kq<<KqO$+YQ`O<<KqOCwQ`O<<KqO';SQ`O<<KqO!&zQMhO<<KqOOQ!0Lb<<Ko<<KoO!CUQpO<<KoO';_Q!dO<<KqOOQ!0Lb<<Kp<<KpO';iQ`O<<KqO!&zQMhO<<KqO$+YQ`O<<KpO';nQMjOANDcO';xQ!0MvO<<KtOOQO7+*r7+*rO9kQ`O7+*rO'<YQ`O<= qOOQ[G27rG27rO9uQ!0LrOG27rO@zQ`OG27rO!)[QlO1G5SO'<bQ`O7+,SO'<jQ`O1G2kO&=UQ`OANBQOOQ[ANBQANBQO!&zQMhOANBQO'<oQ`OANBQOOQ[ANBSANBSO9uQ!0LrOANBSO$%dQ`OANBSOOQO'#H_'#H_OOQO7+*q7+*qOOQ[G22wG22wOOQ[ANE^ANE^OOQ[ANE_ANE_OOQ[ANB]ANB]O'<wQ`OANB]OOQ[<<MW<<MWO!)[QlOAN?lOOQOG24yG24yO$AlQ!0MxOG24yO#(ZQ`OLD,qOOQ[LD,qLD,qO!&zQMhOLD,qO'<|Q!fOLD,qO'=TQ?MvO7+'zO'>yQ?MvO,5?aO'@|Q?MvO,5?cO'CPQ?MvO7+'|O'DuQMjOG27TOOQO<<M}<<M}OOQ!0LbANA]ANA]O$+YQ`OANA]OCwQ`OANA]O'EVQ!dOANA]OOQ!0LbANAZANAZO'E^Q`OANA]O!&zQMhOANA]O'EiQ!dOANA]OOQ!0LbANA[ANA[OOQO<<N^<<N^OOQ[LD-^LD-^O9uQ!0LrOLD-^O'EsQ?MtO7+*nOOQO'#Gf'#GfOOQ[G27lG27lO&=UQ`OG27lO!&zQMhOG27lOOQ[G27nG27nO9uQ!0LrOG27nOOQ[G27wG27wO'E}Q?MtOG25WOOQOLD*eLD*eOOQ[!$(!]!$(!]O#(ZQ`O!$(!]O!&zQMhO!$(!]O'FXQ!0MzOG27TOOQ!0LbG26wG26wO$+YQ`OG26wO'HjQ`OG26wOCwQ`OG26wO'HuQ!dOG26wO!&zQMhOG26wOOQ[!$(!x!$(!xOOQ[LD-WLD-WO&=UQ`OLD-WOOQ[LD-YLD-YOOQ[!)9Ew!)9EwO#(ZQ`O!)9EwOOQ!0LbLD,cLD,cO$+YQ`OLD,cOCwQ`OLD,cO'H|Q`OLD,cO'IXQ!dOLD,cOOQ[!$(!r!$(!rOOQ[!.K;c!.K;cO'I`Q?MvOG27TOOQ!0Lb!$( }!$( }O$+YQ`O!$( }OCwQ`O!$( }O'KUQ`O!$( }OOQ!0Lb!)9Ei!)9EiO$+YQ`O!)9EiOCwQ`O!)9EiOOQ!0Lb!.K;T!.K;TO$+YQ`O!.K;TOOQ!0Lb!4/0o!4/0oO!)[QlO'#DzO1PQ`O'#EXO'KaQ!fO'#JrO'KhQ!L^O'#DvO'KoQlO'#EOO'KvQ!fO'#CiO'N^Q!fO'#CiO!)[QlO'#EQO'NnQlO,5;ZO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO,5;eO!)[QlO'#IpO(!qQ`O,5<iO!)[QlO,5;eO(!yQMhO,5;eO($dQMhO,5;eO!)[QlO,5;wO!&zQMhO'#GmO(!yQMhO'#GmO!&zQMhO'#GoO(!yQMhO'#GoO1SQ`O'#DZO1SQ`O'#DZO!&zQMhO'#GPO(!yQMhO'#GPO!&zQMhO'#GRO(!yQMhO'#GRO!&zQMhO'#GaO(!yQMhO'#GaO!)[QlO,5:jO($kQpO'#D_O($uQpO'#JvO!)[QlO,5@oO'NnQlO1G0uO(%PQ?MtO'#CiO!)[QlO1G2PO!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO(%ZQ!dO'#CrO!&zQMhO,5<tO(!yQMhO,5<tO'NnQlO1G2RO!)[QlO7+&zO!&zQMhO1G2`O(!yQMhO1G2`O!&zQMhO'#IuO(!yQMhO'#IuO!&zQMhO'#IwO(!yQMhO'#IwO!&zQMhO1G2bO(!yQMhO1G2bO'NnQlO7+'mO'NnQlO7+&aO!&zQMhOANAiO(!yQMhOANAiO(%nQ`O'#EoO(%sQ`O'#EoO(%{Q`O'#F]O(&QQ`O'#EyO(&VQ`O'#KTO(&bQ`O'#KRO(&mQ`O,5;ZO(&rQMjO,5<eO(&yQ`O'#GYO('OQ`O'#GYO('TQ`O,5<eO(']Q`O,5<gO('eQ`O,5;ZO('mQ?MtO1G1`O('tQ`O,5<tO('yQ`O,5<tO((OQ`O,5<vO((TQ`O,5<vO((YQ`O1G2RO((_Q`O1G0uO((dQMjO<<K}O((kQMjO<<K}O((rQMhO'#F|O9`Q`O'#F{OAuQ`O'#EnO!)[QlO,5;tO!3oQ`O'#GYO!3oQ`O'#GYO!3oQ`O'#G[O!3oQ`O'#G[O!,TQMhO7+(cO!,TQMhO7+(cO%.zQ!dO1G2wO%.zQ!dO1G2wO!&zQMhO,5=]O!&zQMhO,5=]",stateData:"()x~O'|OS'}OSTOS(ORQ~OPYOQYOSfOY!VOaqOdzOeyOl!POpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!uwO!xxO!|]O$W|O$niO%h}O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO&W!WO&^!XO&`!YO&b!ZO&d![O&g!]O&m!^O&s!_O&u!`O&w!aO&y!bO&{!cO(TSO(VTO(YUO(aVO(o[O~OWtO~P`OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa!wOs!nO!S!oO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!xO#W!pO#X!pO#[!zO#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O(O!{O~OP]XR]X[]Xa]Xj]Xr]X!Q]X!S]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X'z]X(a]X(r]X(y]X(z]X~O!g%RX~P(qO_!}O(V#PO(W!}O(X#PO~O_#QO(X#PO(Y#PO(Z#QO~Ox#SO!U#TO(b#TO(c#VO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T<ZO(VTO(YUO(aVO(o[O~O![#ZO!]#WO!Y(hP!Y(vP~P+}O!^#cO~P`OPYOQYOSfOd!jOe!iOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(VTO(YUO(aVO(o[O~Op#mO![#iO!|]O#i#lO#j#iO(T<[O!k(sP~P.iO!l#oO(T#nO~O!x#sO!|]O%h#tO~O#k#uO~O!g#vO#k#uO~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!]$_O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa(fX'z(fX'w(fX!k(fX!Y(fX!_(fX%i(fX!g(fX~P1qO#S$dO#`$eO$Q$eOP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX!_(gX%i(gX~Oa(gX'z(gX'w(gX!Y(gX!k(gXv(gX!g(gX~P4UO#`$eO~O$]$hO$_$gO$f$mO~OSfO!_$nO$i$oO$k$qO~Oh%VOj%dOk%dOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T$sO(VTO(YUO(a$uO(y$}O(z%POg(^P~Ol%[O~P7eO!l%eO~O!S%hO!_%iO(T%gO~O!g%mO~Oa%nO'z%nO~O!Q%rO~P%[O(U!lO~P%[O%n%vO~P%[Oh%VO!l%eO(T%gO(U!lO~Oe%}O!l%eO(T%gO~Oj$RO~O!_&PO(T%gO(U!lO(VTO(YUO`)WP~O!Q&SO!l&RO%j&VO&T&WO~P;SO!x#sO~O%s&YO!S)SX!_)SX(T)SX~O(T&ZO~Ol!PO!u&`O%j!QO%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO~Od&eOe&dO!x&bO%h&cO%{&aO~P<bOd&hOeyOl!PO!_&gO!u&`O!xxO!|]O%h}O%l!OO%m!OO%n!OO%q!RO%s!SO%v!TO%w!TO%y!UO~Ob&kO#`&nO%j&iO(U!lO~P=gO!l&oO!u&sO~O!l#oO~O!_XO~Oa%nO'x&{O'z%nO~Oa%nO'x'OO'z%nO~Oa%nO'x'QO'z%nO~O'w]X!Y]Xv]X!k]X&[]X!_]X%i]X!g]X~P(qO!b'_O!c'WO!d'WO(U!lO(VTO(YUO~Os'UO!S'TO!['XO(e'SO!^(iP!^(xP~P@nOn'bO!_'`O(T%gO~Oe'gO!l%eO(T%gO~O!Q&SO!l&RO~Os!nO!S!oO!|<VO#T!pO#U!pO#W!pO#X!pO(U!lO(VTO(YUO(e!mO(o!sO~O!b'mO!c'lO!d'lO#V!pO#['nO#]'nO~PBYOa%nOh%VO!g#vO!l%eO'z%nO(r'pO~O!p'tO#`'rO~PChOs!nO!S!oO(VTO(YUO(e!mO(o!sO~O!_XOs(mX!S(mX!b(mX!c(mX!d(mX!|(mX#T(mX#U(mX#V(mX#W(mX#X(mX#[(mX#](mX(U(mX(V(mX(Y(mX(e(mX(o(mX~O!c'lO!d'lO(U!lO~PDWO(P'xO(Q'xO(R'zO~O_!}O(V'|O(W!}O(X'|O~O_#QO(X'|O(Y'|O(Z#QO~Ov(OO~P%[Ox#SO!U#TO(b#TO(c(RO~O![(TO!Y'WX!Y'^X!]'WX!]'^X~P+}O!](VO!Y(hX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!](VO!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~O!Y(hX~PHRO!Y([O~O!Y(uX!](uX!g(uX!k(uX(r(uX~O#`(uX#k#dX!^(uX~PJUO#`(]O!Y(wX!](wX~O!](^O!Y(vX~O!Y(aO~O#`$eO~PJUO!^(bO~P`OR#zO!Q#yO!S#{O!l#xO(aVOP!na[!naj!nar!na!]!na!p!na#R!na#n!na#o!na#p!na#q!na#r!na#s!na#t!na#u!na#v!na#x!na#z!na#{!na(r!na(y!na(z!na~Oa!na'z!na'w!na!Y!na!k!nav!na!_!na%i!na!g!na~PKlO!k(cO~O!g#vO#`(dO(r'pO!](tXa(tX'z(tX~O!k(tX~PNXO!S%hO!_%iO!|]O#i(iO#j(hO(T%gO~O!](jO!k(sX~O!k(lO~O!S%hO!_%iO#j(hO(T%gO~OP(gXR(gX[(gXj(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~O!g#vO!k(gX~P! uOR(nO!Q(mO!l#xO#S$dO!|!{a!S!{a~O!x!{a%h!{a!_!{a#i!{a#j!{a(T!{a~P!#vO!x(rO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_XO!iuO!lZO!oYO!pYO!qYO!svO!u!gO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~O#k(xO~O![(zO!k(kP~P%[O(e(|O(o[O~O!S)OO!l#xO(e(|O(o[O~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]$_Oa$qa'z$qa'w$qa!k$qa!Y$qa!_$qa%i$qa!g$qa~Ol)dO~P!&zOh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O%]O!S${O!_$|O!i%bO!l$xO#j%cO$W%`O$t%^O$v%_O$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Og(pP~P!,TO!Q)iO!g)hO!_$^X$Z$^X$]$^X$_$^X$f$^X~O!g)hO!_({X$Z({X$]({X$_({X$f({X~O!Q)iO~P!.^O!Q)iO!_({X$Z({X$]({X$_({X$f({X~O!_)kO$Z)oO$])jO$_)jO$f)pO~O![)sO~P!)[O$]$hO$_$gO$f)wO~On$zX!Q$zX#S$zX'y$zX(y$zX(z$zX~OgmXg$zXnmX!]mX#`mX~P!0SOx)yO(b)zO(c)|O~On*VO!Q*OO'y*PO(y$}O(z%PO~Og)}O~P!1WOg*WO~Oh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S*YO!_*ZO!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op*`O![*^O(T*XO!k)OP~P!1uO#k*aO~O!l*bO~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(T*dO(VTO(YUO(a$uO(y$}O(z%PO~O![*gO!Y)PP~P!3tOr*sOs!nO!S*iO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO(e!mO~O!^*pO~P!5iO#S$dOn(`X!Q(`X'y(`X(y(`X(z(`X!](`X#`(`X~Og(`X$O(`X~P!6kOn*xO#`*wOg(_X!](_X~O!]*yOg(^X~Oj%dOk%dOl%dO(T&ZOg(^P~Os*|O~Og)}O(T&ZO~O!l+SO~O(T(vO~Op+WO!S%hO![#iO!_%iO!|]O#i#lO#j#iO(T%gO!k(sP~O!g#vO#k+XO~O!S%hO![+ZO!](^O!_%iO(T%gO!Y(vP~Os'[O!S+]O![+[O(VTO(YUO(e(|O~O!^(xP~P!9|O!]+^Oa)TX'z)TX~OP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO#z$WO#{$XO(aVO(r$YO(y#|O(z#}O~Oa!ja!]!ja'z!ja'w!ja!Y!ja!k!jav!ja!_!ja%i!ja!g!ja~P!:tOR#zO!Q#yO!S#{O!l#xO(aVOP!ra[!raj!rar!ra!]!ra!p!ra#R!ra#n!ra#o!ra#p!ra#q!ra#r!ra#s!ra#t!ra#u!ra#v!ra#x!ra#z!ra#{!ra(r!ra(y!ra(z!ra~Oa!ra'z!ra'w!ra!Y!ra!k!rav!ra!_!ra%i!ra!g!ra~P!=[OR#zO!Q#yO!S#{O!l#xO(aVOP!ta[!taj!tar!ta!]!ta!p!ta#R!ta#n!ta#o!ta#p!ta#q!ta#r!ta#s!ta#t!ta#u!ta#v!ta#x!ta#z!ta#{!ta(r!ta(y!ta(z!ta~Oa!ta'z!ta'w!ta!Y!ta!k!tav!ta!_!ta%i!ta!g!ta~P!?rOh%VOn+gO!_'`O%i+fO~O!g+iOa(]X!_(]X'z(]X!](]X~Oa%nO!_XO'z%nO~Oh%VO!l%eO~Oh%VO!l%eO(T%gO~O!g#vO#k(xO~Ob+tO%j+uO(T+qO(VTO(YUO!^)XP~O!]+vO`)WX~O[+zO~O`+{O~O!_&PO(T%gO(U!lO`)WP~O%j,OO~P;SOh%VO#`,SO~Oh%VOn,VO!_$|O~O!_,XO~O!Q,ZO!_XO~O%n%vO~O!x,`O~Oe,eO~Ob,fO(T#nO(VTO(YUO!^)VP~Oe%}O~O%j!QO(T&ZO~P=gO[,kO`,jO~OPYOQYOSfOdzOeyOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!iuO!lZO!oYO!pYO!qYO!svO!xxO!|]O$niO%h}O(VTO(YUO(aVO(o[O~O!_!eO!u!gO$W!kO(T!dO~P!FyO`,jOa%nO'z%nO~OPYOQYOSfOd!jOe!iOpkOrYOskOtkOzkO|YO!OYO!SWO!WkO!XkO!_!eO!iuO!lZO!oYO!pYO!qYO!svO!x!hO$W!kO$niO(T!dO(VTO(YUO(aVO(o[O~Oa,pOl!OO!uwO%l!OO%m!OO%n!OO~P!IcO!l&oO~O&^,vO~O!_,xO~O&o,zO&q,{OP&laQ&laS&laY&laa&lad&lae&lal&lap&lar&las&lat&laz&la|&la!O&la!S&la!W&la!X&la!_&la!i&la!l&la!o&la!p&la!q&la!s&la!u&la!x&la!|&la$W&la$n&la%h&la%j&la%l&la%m&la%n&la%q&la%s&la%v&la%w&la%y&la&W&la&^&la&`&la&b&la&d&la&g&la&m&la&s&la&u&la&w&la&y&la&{&la'w&la(T&la(V&la(Y&la(a&la(o&la!^&la&e&lab&la&j&la~O(T-QO~Oh!eX!]!RX!^!RX!g!RX!g!eX!l!eX#`!RX~O!]!eX!^!eX~P#!iO!g-VO#`-UOh(jX!]#hX!^#hX!g(jX!l(jX~O!](jX!^(jX~P##[Oh%VO!g-XO!l%eO!]!aX!^!aX~Os!nO!S!oO(VTO(YUO(e!mO~OP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_!eO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(VTO(YUO(aVO(o[O~O(T=QO~P#$qO!]-]O!^(iX~O!^-_O~O!g-VO#`-UO!]#hX!^#hX~O!]-`O!^(xX~O!^-bO~O!c-cO!d-cO(U!lO~P#$`O!^-fO~P'_On-iO!_'`O~O!Y-nO~Os!{a!b!{a!c!{a!d!{a#T!{a#U!{a#V!{a#W!{a#X!{a#[!{a#]!{a(U!{a(V!{a(Y!{a(e!{a(o!{a~P!#vO!p-sO#`-qO~PChO!c-uO!d-uO(U!lO~PDWOa%nO#`-qO'z%nO~Oa%nO!g#vO#`-qO'z%nO~Oa%nO!g#vO!p-sO#`-qO'z%nO(r'pO~O(P'xO(Q'xO(R-zO~Ov-{O~O!Y'Wa!]'Wa~P!:tO![.PO!Y'WX!]'WX~P%[O!](VO!Y(ha~O!Y(ha~PHRO!](^O!Y(va~O!S%hO![.TO!_%iO(T%gO!Y'^X!]'^X~O#`.VO!](ta!k(taa(ta'z(ta~O!g#vO~P#,wO!](jO!k(sa~O!S%hO!_%iO#j.ZO(T%gO~Op.`O!S%hO![.]O!_%iO!|]O#i._O#j.]O(T%gO!]'aX!k'aX~OR.dO!l#xO~Oh%VOn.gO!_'`O%i.fO~Oa#ci!]#ci'z#ci'w#ci!Y#ci!k#civ#ci!_#ci%i#ci!g#ci~P!:tOn>]O!Q*OO'y*PO(y$}O(z%PO~O#k#_aa#_a#`#_a'z#_a!]#_a!k#_a!_#_a!Y#_a~P#/sO#k(`XP(`XR(`X[(`Xa(`Xj(`Xr(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X'z(`X(a(`X(r(`X!k(`X!Y(`X'w(`Xv(`X!_(`X%i(`X!g(`X~P!6kO!].tO!k(kX~P!:tO!k.wO~O!Y.yO~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mia#mij#mir#mi!]#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#n#mi~P#3cO#n$OO~P#3cOP$[OR#zOr$aO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO[#mia#mij#mi!]#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#r#mi~P#6QO#r$QO~P#6QOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO(aVOa#mi!]#mi#x#mi#z#mi#{#mi'z#mi(r#mi(y#mi(z#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#v#mi~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO(aVO(z#}Oa#mi!]#mi#z#mi#{#mi'z#mi(r#mi(y#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#x$UO~P#;VO#x#mi~P#;VO#v$SO~P#8oOP$[OR#zO[$cOj$ROr$aO!Q#yO!S#{O!l#xO!p$[O#R$RO#n$OO#o$PO#p$PO#q$PO#r$QO#s$RO#t$RO#u$bO#v$SO#x$UO(aVO(y#|O(z#}Oa#mi!]#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~O#z#mi~P#={O#z$WO~P#={OP]XR]X[]Xj]Xr]X!Q]X!S]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X!]]X!^]X~O$O]X~P#@jOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO#z<gO#{<hO(aVO(r$YO(y#|O(z#}O~O$O.{O~P#BwO#S$dO#`<nO$Q<nO$O(gX!^(gX~P! uOa'da!]'da'z'da'w'da!k'da!Y'dav'da!_'da%i'da!g'da~P!:tO[#mia#mij#mir#mi!]#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi'z#mi(r#mi'w#mi!Y#mi!k#miv#mi!_#mi%i#mi!g#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n$OO#o$PO#p$PO#q$PO(aVO(y#mi(z#mi~P#EyOn>]O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P#EyO!]/POg(pX~P!1WOg/RO~Oa$Pi!]$Pi'z$Pi'w$Pi!Y$Pi!k$Piv$Pi!_$Pi%i$Pi!g$Pi~P!:tO$]/SO$_/SO~O$]/TO$_/TO~O!g)hO#`/UO!_$cX$Z$cX$]$cX$_$cX$f$cX~O![/VO~O!_)kO$Z/XO$])jO$_)jO$f/YO~O!]<iO!^(fX~P#BwO!^/ZO~O!g)hO$f({X~O$f/]O~Ov/^O~P!&zOx)yO(b)zO(c/aO~O!S/dO~O(y$}On%aa!Q%aa'y%aa(z%aa!]%aa#`%aa~Og%aa$O%aa~P#L{O(z%POn%ca!Q%ca'y%ca(y%ca!]%ca#`%ca~Og%ca$O%ca~P#MnO!]fX!gfX!kfX!k$zX(rfX~P!0SOp%WO![/mO!](^O(T/lO!Y(vP!Y)PP~P!1uOr*sO!b*qO!c*kO!d*kO!l*bO#[*rO%`*mO(U!lO(VTO(YUO~Os<}O!S/nO![+[O!^*pO(e<|O!^(xP~P$ [O!k/oO~P#/sO!]/pO!g#vO(r'pO!k)OX~O!k/uO~OnoX!QoX'yoX(yoX(zoX~O!g#vO!koX~P$#OOp/wO!S%hO![*^O!_%iO(T%gO!k)OP~O#k/xO~O!Y$zX!]$zX!g%RX~P!0SO!]/yO!Y)PX~P#/sO!g/{O~O!Y/}O~OpkO(T0OO~P.iOh%VOr0TO!g#vO!l%eO(r'pO~O!g+iO~Oa%nO!]0XO'z%nO~O!^0ZO~P!5iO!c0[O!d0[O(U!lO~P#$`Os!nO!S0]O(VTO(YUO(e!mO~O#[0_O~Og%aa!]%aa#`%aa$O%aa~P!1WOg%ca!]%ca#`%ca$O%ca~P!1WOj%dOk%dOl%dO(T&ZOg'mX!]'mX~O!]*yOg(^a~Og0hO~On0jO#`0iOg(_a!](_a~OR0kO!Q0kO!S0lO#S$dOn}a'y}a(y}a(z}a!]}a#`}a~Og}a$O}a~P$(cO!Q*OO'y*POn$sa(y$sa(z$sa!]$sa#`$sa~Og$sa$O$sa~P$)_O!Q*OO'y*POn$ua(y$ua(z$ua!]$ua#`$ua~Og$ua$O$ua~P$*QO#k0oO~Og%Ta!]%Ta#`%Ta$O%Ta~P!1WO!g#vO~O#k0rO~O!]+^Oa)Ta'z)Ta~OR#zO!Q#yO!S#{O!l#xO(aVOP!ri[!rij!rir!ri!]!ri!p!ri#R!ri#n!ri#o!ri#p!ri#q!ri#r!ri#s!ri#t!ri#u!ri#v!ri#x!ri#z!ri#{!ri(r!ri(y!ri(z!ri~Oa!ri'z!ri'w!ri!Y!ri!k!riv!ri!_!ri%i!ri!g!ri~P$+oOh%VOr%XOs$tOt$tOz%YO|%ZO!O<sO!S${O!_$|O!i>VO!l$xO#j<yO$W%`O$t<uO$v<wO$y%aO(VTO(YUO(a$uO(y$}O(z%PO~Op0{O%]0|O(T0zO~P$.VO!g+iOa(]a!_(]a'z(]a!](]a~O#k1SO~O[]X!]fX!^fX~O!]1TO!^)XX~O!^1VO~O[1WO~Ob1YO(T+qO(VTO(YUO~O!_&PO(T%gO`'uX!]'uX~O!]+vO`)Wa~O!k1]O~P!:tO[1`O~O`1aO~O#`1fO~On1iO!_$|O~O(e(|O!^)UP~Oh%VOn1rO!_1oO%i1qO~O[1|O!]1zO!^)VX~O!^1}O~O`2POa%nO'z%nO~O(T#nO(VTO(YUO~O#S$dO#`$eO$Q$eOP(gXR(gX[(gXr(gX!Q(gX!S(gX!](gX!l(gX!p(gX#R(gX#n(gX#o(gX#p(gX#q(gX#r(gX#s(gX#t(gX#u(gX#v(gX#x(gX#z(gX#{(gX(a(gX(r(gX(y(gX(z(gX~Oj2SO&[2TOa(gX~P$3pOj2SO#`$eO&[2TO~Oa2VO~P%[Oa2XO~O&e2[OP&ciQ&ciS&ciY&cia&cid&cie&cil&cip&cir&cis&cit&ciz&ci|&ci!O&ci!S&ci!W&ci!X&ci!_&ci!i&ci!l&ci!o&ci!p&ci!q&ci!s&ci!u&ci!x&ci!|&ci$W&ci$n&ci%h&ci%j&ci%l&ci%m&ci%n&ci%q&ci%s&ci%v&ci%w&ci%y&ci&W&ci&^&ci&`&ci&b&ci&d&ci&g&ci&m&ci&s&ci&u&ci&w&ci&y&ci&{&ci'w&ci(T&ci(V&ci(Y&ci(a&ci(o&ci!^&cib&ci&j&ci~Ob2bO!^2`O&j2aO~P`O!_XO!l2dO~O&q,{OP&liQ&liS&liY&lia&lid&lie&lil&lip&lir&lis&lit&liz&li|&li!O&li!S&li!W&li!X&li!_&li!i&li!l&li!o&li!p&li!q&li!s&li!u&li!x&li!|&li$W&li$n&li%h&li%j&li%l&li%m&li%n&li%q&li%s&li%v&li%w&li%y&li&W&li&^&li&`&li&b&li&d&li&g&li&m&li&s&li&u&li&w&li&y&li&{&li'w&li(T&li(V&li(Y&li(a&li(o&li!^&li&e&lib&li&j&li~O!Y2jO~O!]!aa!^!aa~P#BwOs!nO!S!oO![2pO(e!mO!]'XX!^'XX~P@nO!]-]O!^(ia~O!]'_X!^'_X~P!9|O!]-`O!^(xa~O!^2wO~P'_Oa%nO#`3QO'z%nO~Oa%nO!g#vO#`3QO'z%nO~Oa%nO!g#vO!p3UO#`3QO'z%nO(r'pO~Oa%nO'z%nO~P!:tO!]$_Ov$qa~O!Y'Wi!]'Wi~P!:tO!](VO!Y(hi~O!](^O!Y(vi~O!Y(wi!](wi~P!:tO!](ti!k(tia(ti'z(ti~P!:tO#`3WO!](ti!k(tia(ti'z(ti~O!](jO!k(si~O!S%hO!_%iO!|]O#i3]O#j3[O(T%gO~O!S%hO!_%iO#j3[O(T%gO~On3dO!_'`O%i3cO~Oh%VOn3dO!_'`O%i3cO~O#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aav%aa!_%aa%i%aa!g%aa~P#L{O#k%caP%caR%ca[%caa%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%cav%ca!_%ca%i%ca!g%ca~P#MnO#k%aaP%aaR%aa[%aaa%aaj%aar%aa!S%aa!]%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa'z%aa(a%aa(r%aa!k%aa!Y%aa'w%aa#`%aav%aa!_%aa%i%aa!g%aa~P#/sO#k%caP%caR%ca[%caa%caj%car%ca!S%ca!]%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca'z%ca(a%ca(r%ca!k%ca!Y%ca'w%ca#`%cav%ca!_%ca%i%ca!g%ca~P#/sO#k}aP}a[}aa}aj}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a'z}a(a}a(r}a!k}a!Y}a'w}av}a!_}a%i}a!g}a~P$(cO#k$saP$saR$sa[$saa$saj$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa'z$sa(a$sa(r$sa!k$sa!Y$sa'w$sav$sa!_$sa%i$sa!g$sa~P$)_O#k$uaP$uaR$ua[$uaa$uaj$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua'z$ua(a$ua(r$ua!k$ua!Y$ua'w$uav$ua!_$ua%i$ua!g$ua~P$*QO#k%TaP%TaR%Ta[%Taa%Taj%Tar%Ta!S%Ta!]%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta'z%Ta(a%Ta(r%Ta!k%Ta!Y%Ta'w%Ta#`%Tav%Ta!_%Ta%i%Ta!g%Ta~P#/sOa#cq!]#cq'z#cq'w#cq!Y#cq!k#cqv#cq!_#cq%i#cq!g#cq~P!:tO![3lO!]'YX!k'YX~P%[O!].tO!k(ka~O!].tO!k(ka~P!:tO!Y3oO~O$O!na!^!na~PKlO$O!ja!]!ja!^!ja~P#BwO$O!ra!^!ra~P!=[O$O!ta!^!ta~P!?rOg']X!]']X~P!,TO!]/POg(pa~OSfO!_4TO$d4UO~O!^4YO~Ov4ZO~P#/sOa$mq!]$mq'z$mq'w$mq!Y$mq!k$mqv$mq!_$mq%i$mq!g$mq~P!:tO!Y4]O~P!&zO!S4^O~O!Q*OO'y*PO(z%POn'ia(y'ia!]'ia#`'ia~Og'ia$O'ia~P%-fO!Q*OO'y*POn'ka(y'ka(z'ka!]'ka#`'ka~Og'ka$O'ka~P%.XO(r$YO~P#/sO!YfX!Y$zX!]fX!]$zX!g%RX#`fX~P!0SOp%WO(T=WO~P!1uOp4bO!S%hO![4aO!_%iO(T%gO!]'eX!k'eX~O!]/pO!k)Oa~O!]/pO!g#vO!k)Oa~O!]/pO!g#vO(r'pO!k)Oa~Og$|i!]$|i#`$|i$O$|i~P!1WO![4jO!Y'gX!]'gX~P!3tO!]/yO!Y)Pa~O!]/yO!Y)Pa~P#/sOP]XR]X[]Xj]Xr]X!Q]X!S]X!Y]X!]]X!l]X!p]X#R]X#S]X#`]X#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~Oj%YX!g%YX~P%2OOj4oO!g#vO~Oh%VO!g#vO!l%eO~Oh%VOr4tO!l%eO(r'pO~Or4yO!g#vO(r'pO~Os!nO!S4zO(VTO(YUO(e!mO~O(y$}On%ai!Q%ai'y%ai(z%ai!]%ai#`%ai~Og%ai$O%ai~P%5oO(z%POn%ci!Q%ci'y%ci(y%ci!]%ci#`%ci~Og%ci$O%ci~P%6bOg(_i!](_i~P!1WO#`5QOg(_i!](_i~P!1WO!k5VO~Oa$oq!]$oq'z$oq'w$oq!Y$oq!k$oqv$oq!_$oq%i$oq!g$oq~P!:tO!Y5ZO~O!]5[O!_)QX~P#/sOa$zX!_$zX%^]X'z$zX!]$zX~P!0SO%^5_OaoX!_oX'zoX!]oX~P$#OOp5`O(T#nO~O%^5_O~Ob5fO%j5gO(T+qO(VTO(YUO!]'tX!^'tX~O!]1TO!^)Xa~O[5kO~O`5lO~O[5pO~Oa%nO'z%nO~P#/sO!]5uO#`5wO!^)UX~O!^5xO~Or6OOs!nO!S*iO!b!yO!c!vO!d!vO!|<VO#T!pO#U!pO#V!pO#W!pO#X!pO#[5}O#]!zO(U!lO(VTO(YUO(e!mO(o!sO~O!^5|O~P%;eOn6TO!_1oO%i6SO~Oh%VOn6TO!_1oO%i6SO~Ob6[O(T#nO(VTO(YUO!]'sX!^'sX~O!]1zO!^)Va~O(VTO(YUO(e6^O~O`6bO~Oj6eO&[6fO~PNXO!k6gO~P%[Oa6iO~Oa6iO~P%[Ob2bO!^6nO&j2aO~P`O!g6pO~O!g6rOh(ji!](ji!^(ji!g(ji!l(jir(ji(r(ji~O!]#hi!^#hi~P#BwO#`6sO!]#hi!^#hi~O!]!ai!^!ai~P#BwOa%nO#`6|O'z%nO~Oa%nO!g#vO#`6|O'z%nO~O!](tq!k(tqa(tq'z(tq~P!:tO!](jO!k(sq~O!S%hO!_%iO#j7TO(T%gO~O!_'`O%i7WO~On7[O!_'`O%i7WO~O#k'iaP'iaR'ia['iaa'iaj'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia'z'ia(a'ia(r'ia!k'ia!Y'ia'w'iav'ia!_'ia%i'ia!g'ia~P%-fO#k'kaP'kaR'ka['kaa'kaj'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka'z'ka(a'ka(r'ka!k'ka!Y'ka'w'kav'ka!_'ka%i'ka!g'ka~P%.XO#k$|iP$|iR$|i[$|ia$|ij$|ir$|i!S$|i!]$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i'z$|i(a$|i(r$|i!k$|i!Y$|i'w$|i#`$|iv$|i!_$|i%i$|i!g$|i~P#/sO#k%aiP%aiR%ai[%aia%aij%air%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai'z%ai(a%ai(r%ai!k%ai!Y%ai'w%aiv%ai!_%ai%i%ai!g%ai~P%5oO#k%ciP%ciR%ci[%cia%cij%cir%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci'z%ci(a%ci(r%ci!k%ci!Y%ci'w%civ%ci!_%ci%i%ci!g%ci~P%6bO!]'Ya!k'Ya~P!:tO!].tO!k(ki~O$O#ci!]#ci!^#ci~P#BwOP$[OR#zO!Q#yO!S#{O!l#xO!p$[O(aVO[#mij#mir#mi#R#mi#o#mi#p#mi#q#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#n#mi~P%NdO#n<_O~P%NdOP$[OR#zOr<kO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO[#mij#mi#R#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#r#mi~P&!lO#r<aO~P&!lOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO(aVO#x#mi#z#mi#{#mi$O#mi(r#mi(y#mi(z#mi!]#mi!^#mi~O#v#mi~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO(aVO(z#}O#z#mi#{#mi$O#mi(r#mi(y#mi!]#mi!^#mi~O#x<eO~P&&uO#x#mi~P&&uO#v<cO~P&$tOP$[OR#zO[<mOj<bOr<kO!Q#yO!S#{O!l#xO!p$[O#R<bO#n<_O#o<`O#p<`O#q<`O#r<aO#s<bO#t<bO#u<lO#v<cO#x<eO(aVO(y#|O(z#}O#{#mi$O#mi(r#mi!]#mi!^#mi~O#z#mi~P&)UO#z<gO~P&)UOa#|y!]#|y'z#|y'w#|y!Y#|y!k#|yv#|y!_#|y%i#|y!g#|y~P!:tO[#mij#mir#mi#R#mi#r#mi#s#mi#t#mi#u#mi#v#mi#x#mi#z#mi#{#mi$O#mi(r#mi!]#mi!^#mi~OP$[OR#zO!Q#yO!S#{O!l#xO!p$[O#n<_O#o<`O#p<`O#q<`O(aVO(y#mi(z#mi~P&,QOn>^O!Q*OO'y*PO(y$}O(z%POP#miR#mi!S#mi!l#mi!p#mi#n#mi#o#mi#p#mi#q#mi(a#mi~P&,QO#S$dOP(`XR(`X[(`Xj(`Xn(`Xr(`X!Q(`X!S(`X!l(`X!p(`X#R(`X#n(`X#o(`X#p(`X#q(`X#r(`X#s(`X#t(`X#u(`X#v(`X#x(`X#z(`X#{(`X$O(`X'y(`X(a(`X(r(`X(y(`X(z(`X!](`X!^(`X~O$O$Pi!]$Pi!^$Pi~P#BwO$O!ri!^!ri~P$+oOg']a!]']a~P!1WO!^7nO~O!]'da!^'da~P#BwO!Y7oO~P#/sO!g#vO(r'pO!]'ea!k'ea~O!]/pO!k)Oi~O!]/pO!g#vO!k)Oi~Og$|q!]$|q#`$|q$O$|q~P!1WO!Y'ga!]'ga~P#/sO!g7vO~O!]/yO!Y)Pi~P#/sO!]/yO!Y)Pi~O!Y7yO~Oh%VOr8OO!l%eO(r'pO~Oj8QO!g#vO~Or8TO!g#vO(r'pO~O!Q*OO'y*PO(z%POn'ja(y'ja!]'ja#`'ja~Og'ja$O'ja~P&5RO!Q*OO'y*POn'la(y'la(z'la!]'la#`'la~Og'la$O'la~P&5tOg(_q!](_q~P!1WO#`8VOg(_q!](_q~P!1WO!Y8WO~Og%Oq!]%Oq#`%Oq$O%Oq~P!1WOa$oy!]$oy'z$oy'w$oy!Y$oy!k$oyv$oy!_$oy%i$oy!g$oy~P!:tO!g6rO~O!]5[O!_)Qa~O!_'`OP$TaR$Ta[$Taj$Tar$Ta!Q$Ta!S$Ta!]$Ta!l$Ta!p$Ta#R$Ta#n$Ta#o$Ta#p$Ta#q$Ta#r$Ta#s$Ta#t$Ta#u$Ta#v$Ta#x$Ta#z$Ta#{$Ta(a$Ta(r$Ta(y$Ta(z$Ta~O%i7WO~P&8fO%^8[Oa%[i!_%[i'z%[i!]%[i~Oa#cy!]#cy'z#cy'w#cy!Y#cy!k#cyv#cy!_#cy%i#cy!g#cy~P!:tO[8^O~Ob8`O(T+qO(VTO(YUO~O!]1TO!^)Xi~O`8dO~O(e(|O!]'pX!^'pX~O!]5uO!^)Ua~O!^8nO~P%;eO(o!sO~P$&YO#[8oO~O!_1oO~O!_1oO%i8qO~On8tO!_1oO%i8qO~O[8yO!]'sa!^'sa~O!]1zO!^)Vi~O!k8}O~O!k9OO~O!k9RO~O!k9RO~P%[Oa9TO~O!g9UO~O!k9VO~O!](wi!^(wi~P#BwOa%nO#`9_O'z%nO~O!](ty!k(tya(ty'z(ty~P!:tO!](jO!k(sy~O%i9bO~P&8fO!_'`O%i9bO~O#k$|qP$|qR$|q[$|qa$|qj$|qr$|q!S$|q!]$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q'z$|q(a$|q(r$|q!k$|q!Y$|q'w$|q#`$|qv$|q!_$|q%i$|q!g$|q~P#/sO#k'jaP'jaR'ja['jaa'jaj'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja'z'ja(a'ja(r'ja!k'ja!Y'ja'w'jav'ja!_'ja%i'ja!g'ja~P&5RO#k'laP'laR'la['laa'laj'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la'z'la(a'la(r'la!k'la!Y'la'w'lav'la!_'la%i'la!g'la~P&5tO#k%OqP%OqR%Oq[%Oqa%Oqj%Oqr%Oq!S%Oq!]%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq'z%Oq(a%Oq(r%Oq!k%Oq!Y%Oq'w%Oq#`%Oqv%Oq!_%Oq%i%Oq!g%Oq~P#/sO!]'Yi!k'Yi~P!:tO$O#cq!]#cq!^#cq~P#BwO(y$}OP%aaR%aa[%aaj%aar%aa!S%aa!l%aa!p%aa#R%aa#n%aa#o%aa#p%aa#q%aa#r%aa#s%aa#t%aa#u%aa#v%aa#x%aa#z%aa#{%aa$O%aa(a%aa(r%aa!]%aa!^%aa~On%aa!Q%aa'y%aa(z%aa~P&IyO(z%POP%caR%ca[%caj%car%ca!S%ca!l%ca!p%ca#R%ca#n%ca#o%ca#p%ca#q%ca#r%ca#s%ca#t%ca#u%ca#v%ca#x%ca#z%ca#{%ca$O%ca(a%ca(r%ca!]%ca!^%ca~On%ca!Q%ca'y%ca(y%ca~P&LQOn>^O!Q*OO'y*PO(z%PO~P&IyOn>^O!Q*OO'y*PO(y$}O~P&LQOR0kO!Q0kO!S0lO#S$dOP}a[}aj}an}ar}a!l}a!p}a#R}a#n}a#o}a#p}a#q}a#r}a#s}a#t}a#u}a#v}a#x}a#z}a#{}a$O}a'y}a(a}a(r}a(y}a(z}a!]}a!^}a~O!Q*OO'y*POP$saR$sa[$saj$san$sar$sa!S$sa!l$sa!p$sa#R$sa#n$sa#o$sa#p$sa#q$sa#r$sa#s$sa#t$sa#u$sa#v$sa#x$sa#z$sa#{$sa$O$sa(a$sa(r$sa(y$sa(z$sa!]$sa!^$sa~O!Q*OO'y*POP$uaR$ua[$uaj$uan$uar$ua!S$ua!l$ua!p$ua#R$ua#n$ua#o$ua#p$ua#q$ua#r$ua#s$ua#t$ua#u$ua#v$ua#x$ua#z$ua#{$ua$O$ua(a$ua(r$ua(y$ua(z$ua!]$ua!^$ua~On>^O!Q*OO'y*PO(y$}O(z%PO~OP%TaR%Ta[%Taj%Tar%Ta!S%Ta!l%Ta!p%Ta#R%Ta#n%Ta#o%Ta#p%Ta#q%Ta#r%Ta#s%Ta#t%Ta#u%Ta#v%Ta#x%Ta#z%Ta#{%Ta$O%Ta(a%Ta(r%Ta!]%Ta!^%Ta~P''VO$O$mq!]$mq!^$mq~P#BwO$O$oq!]$oq!^$oq~P#BwO!^9oO~O$O9pO~P!1WO!g#vO!]'ei!k'ei~O!g#vO(r'pO!]'ei!k'ei~O!]/pO!k)Oq~O!Y'gi!]'gi~P#/sO!]/yO!Y)Pq~Or9wO!g#vO(r'pO~O[9yO!Y9xO~P#/sO!Y9xO~Oj:PO!g#vO~Og(_y!](_y~P!1WO!]'na!_'na~P#/sOa%[q!_%[q'z%[q!]%[q~P#/sO[:UO~O!]1TO!^)Xq~O`:YO~O#`:ZO!]'pa!^'pa~O!]5uO!^)Ui~P#BwO!S:]O~O!_1oO%i:`O~O(VTO(YUO(e:eO~O!]1zO!^)Vq~O!k:hO~O!k:iO~O!k:jO~O!k:jO~P%[O#`:mO!]#hy!^#hy~O!]#hy!^#hy~P#BwO%i:rO~P&8fO!_'`O%i:rO~O$O#|y!]#|y!^#|y~P#BwOP$|iR$|i[$|ij$|ir$|i!S$|i!l$|i!p$|i#R$|i#n$|i#o$|i#p$|i#q$|i#r$|i#s$|i#t$|i#u$|i#v$|i#x$|i#z$|i#{$|i$O$|i(a$|i(r$|i!]$|i!^$|i~P''VO!Q*OO'y*PO(z%POP'iaR'ia['iaj'ian'iar'ia!S'ia!l'ia!p'ia#R'ia#n'ia#o'ia#p'ia#q'ia#r'ia#s'ia#t'ia#u'ia#v'ia#x'ia#z'ia#{'ia$O'ia(a'ia(r'ia(y'ia!]'ia!^'ia~O!Q*OO'y*POP'kaR'ka['kaj'kan'kar'ka!S'ka!l'ka!p'ka#R'ka#n'ka#o'ka#p'ka#q'ka#r'ka#s'ka#t'ka#u'ka#v'ka#x'ka#z'ka#{'ka$O'ka(a'ka(r'ka(y'ka(z'ka!]'ka!^'ka~O(y$}OP%aiR%ai[%aij%ain%air%ai!Q%ai!S%ai!l%ai!p%ai#R%ai#n%ai#o%ai#p%ai#q%ai#r%ai#s%ai#t%ai#u%ai#v%ai#x%ai#z%ai#{%ai$O%ai'y%ai(a%ai(r%ai(z%ai!]%ai!^%ai~O(z%POP%ciR%ci[%cij%cin%cir%ci!Q%ci!S%ci!l%ci!p%ci#R%ci#n%ci#o%ci#p%ci#q%ci#r%ci#s%ci#t%ci#u%ci#v%ci#x%ci#z%ci#{%ci$O%ci'y%ci(a%ci(r%ci(y%ci!]%ci!^%ci~O$O$oy!]$oy!^$oy~P#BwO$O#cy!]#cy!^#cy~P#BwO!g#vO!]'eq!k'eq~O!]/pO!k)Oy~O!Y'gq!]'gq~P#/sOr:|O!g#vO(r'pO~O[;QO!Y;PO~P#/sO!Y;PO~Og(_!R!](_!R~P!1WOa%[y!_%[y'z%[y!]%[y~P#/sO!]1TO!^)Xy~O!]5uO!^)Uq~O(T;XO~O!_1oO%i;[O~O!k;_O~O%i;dO~P&8fOP$|qR$|q[$|qj$|qr$|q!S$|q!l$|q!p$|q#R$|q#n$|q#o$|q#p$|q#q$|q#r$|q#s$|q#t$|q#u$|q#v$|q#x$|q#z$|q#{$|q$O$|q(a$|q(r$|q!]$|q!^$|q~P''VO!Q*OO'y*PO(z%POP'jaR'ja['jaj'jan'jar'ja!S'ja!l'ja!p'ja#R'ja#n'ja#o'ja#p'ja#q'ja#r'ja#s'ja#t'ja#u'ja#v'ja#x'ja#z'ja#{'ja$O'ja(a'ja(r'ja(y'ja!]'ja!^'ja~O!Q*OO'y*POP'laR'la['laj'lan'lar'la!S'la!l'la!p'la#R'la#n'la#o'la#p'la#q'la#r'la#s'la#t'la#u'la#v'la#x'la#z'la#{'la$O'la(a'la(r'la(y'la(z'la!]'la!^'la~OP%OqR%Oq[%Oqj%Oqr%Oq!S%Oq!l%Oq!p%Oq#R%Oq#n%Oq#o%Oq#p%Oq#q%Oq#r%Oq#s%Oq#t%Oq#u%Oq#v%Oq#x%Oq#z%Oq#{%Oq$O%Oq(a%Oq(r%Oq!]%Oq!^%Oq~P''VOg%e!Z!]%e!Z#`%e!Z$O%e!Z~P!1WO!Y;hO~P#/sOr;iO!g#vO(r'pO~O[;kO!Y;hO~P#/sO!]'pq!^'pq~P#BwO!]#h!Z!^#h!Z~P#BwO#k%e!ZP%e!ZR%e!Z[%e!Za%e!Zj%e!Zr%e!Z!S%e!Z!]%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z'z%e!Z(a%e!Z(r%e!Z!k%e!Z!Y%e!Z'w%e!Z#`%e!Zv%e!Z!_%e!Z%i%e!Z!g%e!Z~P#/sOr;tO!g#vO(r'pO~O!Y;uO~P#/sOr;|O!g#vO(r'pO~O!Y;}O~P#/sOP%e!ZR%e!Z[%e!Zj%e!Zr%e!Z!S%e!Z!l%e!Z!p%e!Z#R%e!Z#n%e!Z#o%e!Z#p%e!Z#q%e!Z#r%e!Z#s%e!Z#t%e!Z#u%e!Z#v%e!Z#x%e!Z#z%e!Z#{%e!Z$O%e!Z(a%e!Z(r%e!Z!]%e!Z!^%e!Z~P''VOr<QO!g#vO(r'pO~Ov(fX~P1qO!Q%rO~P!)[O(U!lO~P!)[O!YfX!]fX#`fX~P%2OOP]XR]X[]Xj]Xr]X!Q]X!S]X!]]X!]fX!l]X!p]X#R]X#S]X#`]X#`fX#kfX#n]X#o]X#p]X#q]X#r]X#s]X#t]X#u]X#v]X#x]X#z]X#{]X$Q]X(a]X(r]X(y]X(z]X~O!gfX!k]X!kfX(rfX~P'LTOP<UOQ<UOSfOd>ROe!iOpkOr<UOskOtkOzkO|<UO!O<UO!SWO!WkO!XkO!_XO!i<XO!lZO!o<UO!p<UO!q<UO!s<YO!u<]O!x!hO$W!kO$n>PO(T)]O(VTO(YUO(aVO(o[O~O!]<iO!^$qa~Oh%VOp%WOr%XOs$tOt$tOz%YO|%ZO!O<tO!S${O!_$|O!i>WO!l$xO#j<zO$W%`O$t<vO$v<xO$y%aO(T(vO(VTO(YUO(a$uO(y$}O(z%PO~Ol)dO~P(!yOr!eX(r!eX~P#!iOr(jX(r(jX~P##[O!^]X!^fX~P'LTO!YfX!Y$zX!]fX!]$zX#`fX~P!0SO#k<^O~O!g#vO#k<^O~O#`<nO~Oj<bO~O#`=OO!](wX!^(wX~O#`<nO!](uX!^(uX~O#k=PO~Og=RO~P!1WO#k=XO~O#k=YO~Og=RO(T&ZO~O!g#vO#k=ZO~O!g#vO#k=PO~O$O=[O~P#BwO#k=]O~O#k=^O~O#k=cO~O#k=dO~O#k=eO~O#k=fO~O$O=gO~P!1WO$O=hO~P!1WOl=sO~P7eOk#S#T#U#W#X#[#i#j#u$n$t$v$y%]%^%h%i%j%q%s%v%w%y%{~(OT#o!X'|(U#ps#n#qr!Q'}$]'}(T$_(e~",goto:"$9Y)]PPPPPP)^PP)aP)rP+W/]PPPP6mPP7TPP=QPPP@tPA^PA^PPPA^PCfPA^PA^PA^PCjPCoPD^PIWPPPI[PPPPI[L_PPPLeMVPI[PI[PP! eI[PPPI[PI[P!#lI[P!'S!(X!(bP!)U!)Y!)U!,gPPPPPPP!-W!(XPP!-h!/YP!2iI[I[!2n!5z!:h!:h!>gPPP!>oI[PPPPPPPPP!BOP!C]PPI[!DnPI[PI[I[I[I[I[PI[!FQP!I[P!LbP!Lf!Lp!Lt!LtP!IXP!Lx!LxP#!OP#!SI[PI[#!Y#%_CjA^PA^PA^A^P#&lA^A^#)OA^#+vA^#.SA^A^#.r#1W#1W#1]#1f#1W#1qPP#1WPA^#2ZA^#6YA^A^6mPPP#:_PPP#:x#:xP#:xP#;`#:xPP#;fP#;]P#;]#;y#;]#<e#<k#<n)aP#<q)aP#<z#<z#<zP)aP)aP)aP)aPP)aP#=Q#=TP#=T)aP#=XP#=[P)aP)aP)aP)aP)aP)a)aPP#=b#=h#=s#=y#>P#>V#>]#>k#>q#>{#?R#?]#?c#?s#?y#@k#@}#AT#AZ#Ai#BO#Cs#DR#DY#Et#FS#Gt#HS#HY#H`#Hf#Hp#Hv#H|#IW#Ij#IpPPPPPPPPPPP#IvPPPPPPP#Jk#Mx$ b$ i$ qPPP$']P$'f$*_$0x$0{$1O$1}$2Q$2X$2aP$2g$2jP$3W$3[$4S$5b$5g$5}PP$6S$6Y$6^$6a$6e$6i$7e$7|$8e$8i$8l$8o$8y$8|$9Q$9UR!|RoqOXst!Z#d%m&r&t&u&w,s,x2[2_Y!vQ'`-e1o5{Q%tvQ%|yQ&T|Q&j!VS'W!e-]Q'f!iS'l!r!yU*k$|*Z*oQ+o%}S+|&V&WQ,d&dQ-c'_Q-m'gQ-u'mQ0[*qQ1b,OQ1y,eR<{<Y%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_S#q]<V!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU+P%]<s<tQ+t&PQ,f&gQ,m&oQ0x+gQ0}+iQ1Y+uQ2R,kQ3`.gQ5`0|Q5f1TQ6[1zQ7Y3dQ8`5gR9e7['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S!S!nQ!r!v!y!z$|'W'_'`'l'm'n*k*o*q*r-]-c-e-u0[0_1o5{5}%[$ti#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q&X|Q'U!eS'[%i-`Q+t&PQ,P&WQ,f&gQ0n+SQ1Y+uQ1_+{Q2Q,jQ2R,kQ5f1TQ5o1aQ6[1zQ6_1|Q6`2PQ8`5gQ8c5lQ8|6bQ:X8dQ:f8yQ;V:YR<}*ZrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R,h&k&z^OPXYstuvwz!Z!`!g!j!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'b'r(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>R>S[#]WZ#W#Z'X(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ%wxQ%{yW&Q|&V&W,OQ&_!TQ'c!hQ'e!iQ(q#sS+n%|%}Q+r&PQ,_&bQ,c&dS-l'f'gQ.i(rQ1R+oQ1X+uQ1Z+vQ1^+zQ1t,`S1x,d,eQ2|-mQ5e1TQ5i1WQ5n1`Q6Z1yQ8_5gQ8b5kQ8f5pQ:T8^R;T:U!U$zi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y!^%yy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{Q+h%wQ,T&[Q,W&]Q,b&dQ.h(qQ1s,_U1w,c,d,eQ3e.iQ6U1tS6Y1x1yQ8x6Z#f>T#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o>U<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hW%Ti%V*y>PS&[!Q&iQ&]!RQ&^!SU*}%[%d=sR,R&Y%]%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^T)z$u){V+P%]<s<tW'[!e%i*Z-`S(}#y#zQ+c%rQ+y&SS.b(m(nQ1j,XQ5T0kR8i5u'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S$i$^c#Y#e%q%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.|.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vT#TV#U'RkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ'Y!eR2q-]!W!nQ!e!r!v!y!z$|'W'_'`'l'm'n*Z*k*o*q*r-]-c-e-u0[0_1o5{5}R1l,ZnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&y!^Q'v!xS(s#u<^Q+l%zQ,]&_Q,^&aQ-j'dQ-w'oS.r(x=PS0q+X=ZQ1P+mQ1n,[Q2c,zQ2e,{Q2m-WQ2z-kQ2}-oS5Y0r=eQ5a1QS5d1S=fQ6t2oQ6x2{Q6}3SQ8]5bQ9Y6vQ9Z6yQ9^7OR:l9V$d$]c#Y#e%s%u(S(Y(t(y)R)S)T)U)V)W)X)Y)Z)[)^)`)b)g)q+d+x-Z-x-}.S.U.s.v.z.}/O/b0p2k2n3O3V3k3p3q3r3s3t3u3v3w3x3y3z3{3|4P4Q4X5X5c6u6{7Q7a7b7k7l8k9X9]9g9m9n:o;W;`<W=vS(o#p'iQ)P#zS+b%q.|S.c(n(pR3^.d'QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS#q]<VQ&t!XQ&u!YQ&w![Q&x!]R2Z,vQ'a!hQ+e%wQ-h'cS.e(q+hQ2x-gW3b.h.i0w0yQ6w2yW7U3_3a3e5^U9a7V7X7ZU:q9c9d9fS;b:p:sQ;p;cR;x;qU!wQ'`-eT5y1o5{!Q_OXZ`st!V!Z#d#h%e%m&i&k&r&t&u&w(j,s,x.[2[2_]!pQ!r'`-e1o5{T#q]<V%^{OPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S(}#y#zS.b(m(n!s=l$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SU$fd)_,mS(p#p'iU*v%R(w4OU0m+O.n7gQ5^0xQ7V3`Q9d7YR:s9em!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}Q't!uS(f#g2US-s'k'wQ/s*]Q0R*jQ3U-vQ4f/tQ4r0TQ4s0UQ4x0^Q7r4`S7}4t4vS8R4y4{Q9r7sQ9v7yQ9{8OQ:Q8TS:{9w9xS;g:|;PS;s;h;iS;{;t;uS<P;|;}R<S<QQ#wbQ's!uS(e#g2US(g#m+WQ+Y%fQ+j%xQ+p&OU-r'k't'wQ.W(fU/r*]*`/wQ0S*jQ0V*lQ1O+kQ1u,aS3R-s-vQ3Z.`S4e/s/tQ4n0PS4q0R0^Q4u0WQ6W1vQ7P3US7q4`4bQ7u4fU7|4r4x4{Q8P4wQ8v6XS9q7r7sQ9u7yQ9}8RQ:O8SQ:c8wQ:y9rS:z9v9xQ;S:QQ;^:dS;f:{;PS;r;g;hS;z;s;uS<O;{;}Q<R<PQ<T<SQ=o=jQ={=tR=|=uV!wQ'`-e%^aOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_S#wz!j!r=i$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=o>R%^bOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Q%fj!^%xy!i!u%{%|%}'V'e'f'g'k'u*j+n+o-Y-l-m-t0R0U1R2u2|3T4r4s4v7}9{S&Oz!jQ+k%yQ,a&dW1v,b,c,d,eU6X1w1x1yS8w6Y6ZQ:d8x!r=j$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ=t>QR=u>R%QeOPXYstuvw!Z!`!g!o#S#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_Y#bWZ#W#Z(T!b%jm#h#i#l$x%e%h(^(h(i(j*Y*^*b+Z+[+^,o-V.T.Z.[.]._/m/p2d3[3]4a6r7TQ,n&o!p=k$Z$n)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SR=n'XU']!e%i*ZR2s-`%SdOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+],p,s,x-i-q.P.V.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3l4z6T6e6f6i6|8t9T9_!r)_$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SQ,m&oQ0x+gQ3`.gQ7Y3dR9e7[!b$Tc#Y%q(S(Y(t(y)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!P<d)^)q-Z.|2k2n3p3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!f$Vc#Y%q(S(Y(t(y)W)X)Z)[)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<W!T<f)^)q-Z.|2k2n3p3v3w3y3z4P4X6u7b7k7l8k9X9g9m9n;W;`=v!^$Zc#Y%q(S(Y(t(y)`)g+x-x-}.S.U.s.v/b0p3O3V3k3{5X5c6{7Q7a9]:o<WQ4_/kz>S)^)q-Z.|2k2n3p4P4X6u7b7k7l8k9X9g9m9n;W;`=vQ>X>ZR>Y>['QkOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>SS$oh$pR4U/U'XgOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$kf$qQ$ifS)j$l)nR)v$qT$jf$qT)l$l)n'XhOPWXYZhstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$Z$_$a$e$n$p%m%t&R&k&n&o&r&t&u&w&{'T'X'b'r(T(V(](d(x(z)O)s)}*i+X+]+g,p,s,x-U-X-i-q.P.V.g.t.{/U/V/n0]0l0r1S1r2S2T2V2X2[2_2a2p3Q3W3d3l4T4z5w6T6e6f6i6s6|7[8t9T9_:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>ST$oh$pQ$rhR)u$p%^jOPWXYZstuvw!Z!`!g!o#S#W#Z#d#o#u#x#{$O$P$Q$R$S$T$U$V$W$X$_$a$e%m%t&R&k&n&o&r&t&u&w&{'T'b'r(T(V(](d(x(z)O)}*i+X+]+g,p,s,x-i-q.P.V.g.t.{/n0]0l0r1S1r2S2T2V2X2[2_2a3Q3W3d3l4z6T6e6f6i6|7[8t9T9_!s>Q$Z$n'X)s-U-X/V2p4T5w6s:Z:m<U<X<Y<]<^<_<`<a<b<c<d<e<f<g<h<i<k<n<{=O=P=R=Z=[=e=f>S#glOPXZst!Z!`!o#S#d#o#{$n%m&k&n&o&r&t&u&w&{'T'b)O)s*i+]+g,p,s,x-i.g/V/n0]0l1r2S2T2V2X2[2_2a3d4T4z6T6e6f6i7[8t9T!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^Q+T%aQ/c*Oo4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!U$yi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>YQ*c$zU*l$|*Z*oQ+U%bQ0W*m#f=q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n=r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hQ=w>TQ=x>UQ=y>VR=z>W!U%Ri$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y#f(w#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^o4O<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=hnoOXst!Z#d%m&r&t&u&w,s,x2[2_S*f${*YQ-R'OQ-S'QR4i/y%[%Si#v$b$c$d$x${%O%Q%^%_%c)y*R*T*V*Y*a*g*w*x+f+i,S,V.f/P/d/m/x/y/{0`0b0i0j0o1f1i1q3c4^4_4j4o5Q5[5_6S7W7v8Q8V8[8q9b9p9y:P:`:r;Q;[;d;k<l<m<o<p<q<r<u<v<w<x<y<z=S=T=U=V=X=Y=]=^=_=`=a=b=c=d=g=h>P>X>Y>]>^Q,U&]Q1h,WQ5s1gR8h5tV*n$|*Z*oU*n$|*Z*oT5z1o5{S0P*i/nQ4w0]T8S4z:]Q+j%xQ0V*lQ1O+kQ1u,aQ6W1vQ8v6XQ:c8wR;^:d!U%Oi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Yx*R$v)e*S*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>OS0`*t0a#f<o#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<p<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!d=S(u)c*[*e.j.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[`=T3}7c7f7j9h:t:w;yS=_.l3iT=`7e9k!U%Qi$d%O%Q%^%_%c*R*T*a*w*x/P/x0`0b0i0j0o4_5Q8V9p>P>X>Y|*T$v)e*U*t+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>OS0b*u0c#f<q#v$b$c$x${)y*V*Y*g+f+i,S,V.f/d/m/y/{1f1i1q3c4^4j4o5[5_6S7W7v8Q8[8q9b9y:P:`:r;Q;[;d;k<o<q<u<w<y=S=U=X=]=_=a=c=g>]>^n<r<l<m<p<r<v<x<z=T=V=Y=^=`=b=d=h!h=U(u)c*[*e.k.l.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[d=V3}7d7e7j9h9i:t:u:w;yS=a.m3jT=b7f9lrnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q&f!UR,p&ornOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_R&f!UQ,Y&^R1d,RsnOXst!V!Z#d%m&i&r&t&u&w,s,x2[2_Q1p,_S6R1s1tU8p6P6Q6US:_8r8sS;Y:^:aQ;m;ZR;w;nQ&m!VR,i&iR6_1|R:f8yW&Q|&V&W,OR1Z+vQ&r!WR,s&sR,y&xT2],x2_R,}&yQ,|&yR2f,}Q'y!{R-y'ySsOtQ#dXT%ps#dQ#OTR'{#OQ#RUR'}#RQ){$uR/`){Q#UVR(Q#UQ#XWU(W#X(X.QQ(X#YR.Q(YQ-^'YR2r-^Q.u(yS3m.u3nR3n.vQ-e'`R2v-eY!rQ'`-e1o5{R'j!rQ/Q)eR4S/QU#_W%h*YU(_#_(`.RQ(`#`R.R(ZQ-a']R2t-at`OXst!V!Z#d%m&i&k&r&t&u&w,s,x2[2_S#hZ%eU#r`#h.[R.[(jQ(k#jQ.X(gW.a(k.X3X7RQ3X.YR7R3YQ)n$lR/W)nQ$phR)t$pQ$`cU)a$`-|<jQ-|<WR<j)qQ/q*]W4c/q4d7t9sU4d/r/s/tS7t4e4fR9s7u$e*Q$v(u)c)e*[*e*t*u+Q+R+V.l.m.o.p.q/_/g/i/k/v/|0d0e0v1e3f3g3h3}4R4[4g4h4l4|5O5R5S5W5r7]7^7_7`7e7f7h7i7j7p7w7z8U8X8Z9h9i9j9t9|:R:S:t:u:v:w:x:};R;e;j;v;y=p=}>O>Z>[Q/z*eU4k/z4m7xQ4m/|R7x4lS*o$|*ZR0Y*ox*S$v)e*t*u+V/v0d0e4R4g5R5S5W7p8U:R:x=p=}>O!d.j(u)c*[*e.l.m.q/_/k/|0v1e3h4[4h4l5r7]7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/h*S.j7ca7c3}7e7f7j9h:t:w;yQ0a*tQ3i.lU4}0a3i9kR9k7e|*U$v)e*t*u+V/g/v0d0e4R4g4|5R5S5W7p8U:R:x=p=}>O!h.k(u)c*[*e.l.m.q/_/k/|0v1e3f3h4[4h4l5r7]7^7`7w7z8X8Z9t9|:S:};R;e;j;v>Z>[U/j*U.k7de7d3}7e7f7j9h9i:t:u:w;yQ0c*uQ3j.mU5P0c3j9lR9l7fQ*z%UR0g*zQ5]0vR8Y5]Q+_%kR0u+_Q5v1jS8j5v:[R:[8kQ,[&_R1m,[Q5{1oR8m5{Q1{,fS6]1{8zR8z6_Q1U+rW5h1U5j8a:VQ5j1XQ8a5iR:V8bQ+w&QR1[+wQ2_,xR6m2_YrOXst#dQ&v!ZQ+a%mQ,r&rQ,t&tQ,u&uQ,w&wQ2Y,sS2],x2_R6l2[Q%opQ&z!_Q&}!aQ'P!bQ'R!cQ'q!uQ+`%lQ+l%zQ,Q&XQ,h&mQ-P&|W-p'k's't'wQ-w'oQ0X*nQ1P+mQ1c,PS2O,i,lQ2g-OQ2h-RQ2i-SQ2}-oW3P-r-s-v-xQ5a1QQ5m1_Q5q1eQ6V1uQ6a2QQ6k2ZU6z3O3R3UQ6}3SQ8]5bQ8e5oQ8g5rQ8l5zQ8u6WQ8{6`S9[6{7PQ9^7OQ:W8cQ:b8vQ:g8|Q:n9]Q;U:XQ;]:cQ;a:oQ;l;VR;o;^Q%zyQ'd!iQ'o!uU+m%{%|%}Q-W'VU-k'e'f'gS-o'k'uQ0Q*jS1Q+n+oQ2o-YS2{-l-mQ3S-tS4p0R0UQ5b1RQ6v2uQ6y2|Q7O3TU7{4r4s4vQ9z7}R;O9{S$wi>PR*{%VU%Ui%V>PR0f*yQ$viS(u#v+iS)c$b$cQ)e$dQ*[$xS*e${*YQ*t%OQ*u%QQ+Q%^Q+R%_Q+V%cQ.l<oQ.m<qQ.o<uQ.p<wQ.q<yQ/_)yQ/g*RQ/i*TQ/k*VQ/v*aS/|*g/mQ0d*wQ0e*xl0v+f,V.f1i1q3c6S7W8q9b:`:r;[;dQ1e,SQ3f=SQ3g=UQ3h=XS3}<l<mQ4R/PS4[/d4^Q4g/xQ4h/yQ4l/{Q4|0`Q5O0bQ5R0iQ5S0jQ5W0oQ5r1fQ7]=]Q7^=_Q7_=aQ7`=cQ7e<pQ7f<rQ7h<vQ7i<xQ7j<zQ7p4_Q7w4jQ7z4oQ8U5QQ8X5[Q8Z5_Q9h=YQ9i=TQ9j=VQ9t7vQ9|8QQ:R8VQ:S8[Q:t=^Q:u=`Q:v=bQ:w=dQ:x9pQ:}9yQ;R:PQ;e=gQ;j;QQ;v;kQ;y=hQ=p>PQ=}>XQ>O>YQ>Z>]R>[>^Q+O%]Q.n<sR7g<tnpOXst!Z#d%m&r&t&u&w,s,x2[2_Q!fPS#fZ#oQ&|!`W'h!o*i0]4zQ(P#SQ)Q#{Q)r$nS,l&k&nQ,q&oQ-O&{S-T'T/nQ-g'bQ.x)OQ/[)sQ0s+]Q0y+gQ2W,pQ2y-iQ3a.gQ4W/VQ5U0lQ6Q1rQ6c2SQ6d2TQ6h2VQ6j2XQ6o2aQ7Z3dQ7m4TQ8s6TQ9P6eQ9Q6fQ9S6iQ9f7[Q:a8tR:k9T#[cOPXZst!Z!`!o#d#o#{%m&k&n&o&r&t&u&w&{'T'b)O*i+]+g,p,s,x-i.g/n0]0l1r2S2T2V2X2[2_2a3d4z6T6e6f6i7[8t9TQ#YWQ#eYQ%quQ%svS%uw!gS(S#W(VQ(Y#ZQ(t#uQ(y#xQ)R$OQ)S$PQ)T$QQ)U$RQ)V$SQ)W$TQ)X$UQ)Y$VQ)Z$WQ)[$XQ)^$ZQ)`$_Q)b$aQ)g$eW)q$n)s/V4TQ+d%tQ+x&RS-Z'X2pQ-x'rS-}(T.PQ.S(]Q.U(dQ.s(xQ.v(zQ.z<UQ.|<XQ.}<YQ/O<]Q/b)}Q0p+XQ2k-UQ2n-XQ3O-qQ3V.VQ3k.tQ3p<^Q3q<_Q3r<`Q3s<aQ3t<bQ3u<cQ3v<dQ3w<eQ3x<fQ3y<gQ3z<hQ3{.{Q3|<kQ4P<nQ4Q<{Q4X<iQ5X0rQ5c1SQ6u=OQ6{3QQ7Q3WQ7a3lQ7b=PQ7k=RQ7l=ZQ8k5wQ9X6sQ9]6|Q9g=[Q9m=eQ9n=fQ:o9_Q;W:ZQ;`:mQ<W#SR=v>SR#[WR'Z!el!tQ!r!v!y!z'`'l'm'n-e-u1o5{5}S'V!e-]U*j$|*Z*oS-Y'W'_S0U*k*qQ0^*rQ2u-cQ4v0[R4{0_R({#xQ!fQT-d'`-e]!qQ!r'`-e1o5{Q#p]R'i<VR)f$dY!uQ'`-e1o5{Q'k!rS'u!v!yS'w!z5}S-t'l'mQ-v'nR3T-uT#kZ%eS#jZ%eS%km,oU(g#h#i#lS.Y(h(iQ.^(jQ0t+^Q3Y.ZU3Z.[.]._S7S3[3]R9`7Td#^W#W#Z%h(T(^*Y+Z.T/mr#gZm#h#i#l%e(h(i(j+^.Z.[.]._3[3]7TS*]$x*bQ/t*^Q2U,oQ2l-VQ4`/pQ6q2dQ7s4aQ9W6rT=m'X+[V#aW%h*YU#`W%h*YS(U#W(^U(Z#Z+Z/mS-['X+[T.O(T.TV'^!e%i*ZQ$lfR)x$qT)m$l)nR4V/UT*_$x*bT*h${*YQ0w+fQ1g,VQ3_.fQ5t1iQ6P1qQ7X3cQ8r6SQ9c7WQ:^8qQ:p9bQ;Z:`Q;c:rQ;n;[R;q;dnqOXst!Z#d%m&r&t&u&w,s,x2[2_Q&l!VR,h&itmOXst!U!V!Z#d%m&i&r&t&u&w,s,x2[2_R,o&oT%lm,oR1k,XR,g&gQ&U|S+}&V&WR1^,OR+s&PT&p!W&sT&q!W&sT2^,x2_",nodeNames:" ArithOp ArithOp ?. JSXStartTag LineComment BlockComment Script Hashbang ExportDeclaration export Star as VariableName String Escape from ; default FunctionDeclaration async function VariableDefinition > < TypeParamList in out const TypeDefinition extends ThisType this LiteralType ArithOp Number BooleanLiteral TemplateType InterpolationEnd Interpolation InterpolationStart NullType null VoidType void TypeofType typeof MemberExpression . PropertyName [ TemplateString Escape Interpolation super RegExp ] ArrayExpression Spread , } { ObjectExpression Property async get set PropertyDefinition Block : NewTarget new NewExpression ) ( ArgList UnaryExpression delete LogicOp BitOp YieldExpression yield AwaitExpression await ParenthesizedExpression ClassExpression class ClassBody MethodDeclaration Decorator @ MemberExpression PrivatePropertyName CallExpression TypeArgList CompareOp < declare Privacy static abstract override PrivatePropertyDefinition PropertyDeclaration readonly accessor Optional TypeAnnotation Equals StaticBlock FunctionExpression ArrowFunction ParamList ParamList ArrayPattern ObjectPattern PatternProperty Privacy readonly Arrow MemberExpression BinaryExpression ArithOp ArithOp ArithOp ArithOp BitOp CompareOp instanceof satisfies CompareOp BitOp BitOp BitOp LogicOp LogicOp ConditionalExpression LogicOp LogicOp AssignmentExpression UpdateOp PostfixExpression CallExpression InstantiationExpression TaggedTemplateExpression DynamicImport import ImportMeta JSXElement JSXSelfCloseEndTag JSXSelfClosingTag JSXIdentifier JSXBuiltin JSXIdentifier JSXNamespacedName JSXMemberExpression JSXSpreadAttribute JSXAttribute JSXAttributeValue JSXEscape JSXEndTag JSXOpenTag JSXFragmentTag JSXText JSXEscape JSXStartCloseTag JSXCloseTag PrefixCast < ArrowFunction TypeParamList SequenceExpression InstantiationExpression KeyofType keyof UniqueType unique ImportType InferredType infer TypeName ParenthesizedType FunctionSignature ParamList NewSignature IndexedType TupleType Label ArrayType ReadonlyType ObjectType MethodType PropertyType IndexSignature PropertyDefinition CallSignature TypePredicate asserts is NewSignature new UnionType LogicOp IntersectionType LogicOp ConditionalType ParameterizedType ClassDeclaration abstract implements type VariableDeclaration let var using TypeAliasDeclaration InterfaceDeclaration interface EnumDeclaration enum EnumBody NamespaceDeclaration namespace module AmbientDeclaration declare GlobalDeclaration global ClassDeclaration ClassBody AmbientFunctionDeclaration ExportGroup VariableName VariableName ImportDeclaration defer ImportGroup ForStatement for ForSpec ForInSpec ForOfSpec of WhileStatement while WithStatement with DoStatement do IfStatement if else SwitchStatement switch SwitchBody CaseLabel case DefaultLabel TryStatement try CatchClause catch FinallyClause finally ReturnStatement return ThrowStatement throw BreakStatement break ContinueStatement continue DebuggerStatement debugger LabeledStatement ExpressionStatement SingleExpression SingleClassItem",maxTerm:380,context:trackNewline,nodeProps:[["isolate",-8,5,6,14,37,39,51,53,55,""],["group",-26,9,17,19,68,207,211,215,216,218,221,224,234,237,243,245,247,249,252,258,264,266,268,270,272,274,275,"Statement",-34,13,14,32,35,36,42,51,54,55,57,62,70,72,76,80,82,84,85,110,111,120,121,136,139,141,142,143,144,145,147,148,167,169,171,"Expression",-23,31,33,37,41,43,45,173,175,177,178,180,181,182,184,185,186,188,189,190,201,203,205,206,"Type",-3,88,103,109,"ClassItem"],["openedBy",23,"<",38,"InterpolationStart",56,"[",60,"{",73,"(",160,"JSXStartCloseTag"],["closedBy",-2,24,168,">",40,"InterpolationEnd",50,"]",61,"}",74,")",165,"JSXEndTag"]],propSources:[jsHighlight],skippedNodes:[0,5,6,278],repeatNodeCount:37,tokenData:"$Fq07[R!bOX%ZXY+gYZ-yZ[+g[]%Z]^.c^p%Zpq+gqr/mrs3cst:_tuEruvJSvwLkwx! Yxy!'iyz!(sz{!)}{|!,q|}!.O}!O!,q!O!P!/Y!P!Q!9j!Q!R#:O!R![#<_![!]#I_!]!^#Jk!^!_#Ku!_!`$![!`!a$$v!a!b$*T!b!c$,r!c!}Er!}#O$-|#O#P$/W#P#Q$4o#Q#R$5y#R#SEr#S#T$7W#T#o$8b#o#p$<r#p#q$=h#q#r$>x#r#s$@U#s$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$I|Er$I|$I}$Dk$I}$JO$Dk$JO$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr(n%d_$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z&j&hT$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c&j&zP;=`<%l&c'|'U]$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!b(SU(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!b(iP;=`<%l'}'|(oP;=`<%l&}'[(y]$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(rp)wU(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)rp*^P;=`<%l)r'[*dP;=`<%l(r#S*nX(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g#S+^P;=`<%l*g(n+dP;=`<%l%Z07[+rq$i&j(Wp(Z!b'|0/lOX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p$f%Z$f$g+g$g#BY%Z#BY#BZ+g#BZ$IS%Z$IS$I_+g$I_$JT%Z$JT$JU+g$JU$KV%Z$KV$KW+g$KW&FU%Z&FU&FV+g&FV;'S%Z;'S;=`+a<%l?HT%Z?HT?HU+g?HUO%Z07[.ST(X#S$i&j'}0/lO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c07[.n_$i&j(Wp(Z!b'}0/lOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)3p/x`$i&j!p),Q(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW1V`#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`2X!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW2d_#v(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At3l_(V':f$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k(^4r_$i&j(Z!bOY4kYZ5qZr4krs7nsw4kwx5qx!^4k!^!_8p!_#O4k#O#P5q#P#o4k#o#p8p#p;'S4k;'S;=`:X<%lO4k&z5vX$i&jOr5qrs6cs!^5q!^!_6y!_#o5q#o#p6y#p;'S5q;'S;=`7h<%lO5q&z6jT$d`$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c`6|TOr6yrs7]s;'S6y;'S;=`7b<%lO6y`7bO$d``7eP;=`<%l6y&z7kP;=`<%l5q(^7w]$d`$i&j(Z!bOY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}!r8uZ(Z!bOY8pYZ6yZr8prs9hsw8pwx6yx#O8p#O#P6y#P;'S8p;'S;=`:R<%lO8p!r9oU$d`(Z!bOY'}Zw'}x#O'}#P;'S'};'S;=`(f<%lO'}!r:UP;=`<%l8p(^:[P;=`<%l4k%9[:hh$i&j(Wp(Z!bOY%ZYZ&cZq%Zqr<Srs&}st%ZtuCruw%Zwx(rx!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr(r<__WS$i&j(Wp(Z!bOY<SYZ&cZr<Srs=^sw<Swx@nx!^<S!^!_Bm!_#O<S#O#P>`#P#o<S#o#pBm#p;'S<S;'S;=`Cl<%lO<S(Q=g]WS$i&j(Z!bOY=^YZ&cZw=^wx>`x!^=^!^!_?q!_#O=^#O#P>`#P#o=^#o#p?q#p;'S=^;'S;=`@h<%lO=^&n>gXWS$i&jOY>`YZ&cZ!^>`!^!_?S!_#o>`#o#p?S#p;'S>`;'S;=`?k<%lO>`S?XSWSOY?SZ;'S?S;'S;=`?e<%lO?SS?hP;=`<%l?S&n?nP;=`<%l>`!f?xWWS(Z!bOY?qZw?qwx?Sx#O?q#O#P?S#P;'S?q;'S;=`@b<%lO?q!f@eP;=`<%l?q(Q@kP;=`<%l=^'`@w]WS$i&j(WpOY@nYZ&cZr@nrs>`s!^@n!^!_Ap!_#O@n#O#P>`#P#o@n#o#pAp#p;'S@n;'S;=`Bg<%lO@ntAwWWS(WpOYApZrAprs?Ss#OAp#O#P?S#P;'SAp;'S;=`Ba<%lOAptBdP;=`<%lAp'`BjP;=`<%l@n#WBvYWS(Wp(Z!bOYBmZrBmrs?qswBmwxApx#OBm#O#P?S#P;'SBm;'S;=`Cf<%lOBm#WCiP;=`<%lBm(rCoP;=`<%l<S%9[C}i$i&j(o%1l(Wp(Z!bOY%ZYZ&cZr%Zrs&}st%ZtuCruw%Zwx(rx!Q%Z!Q![Cr![!^%Z!^!_*g!_!c%Z!c!}Cr!}#O%Z#O#P&c#P#R%Z#R#SCr#S#T%Z#T#oCr#o#p*g#p$g%Z$g;'SCr;'S;=`El<%lOCr%9[EoP;=`<%lCr07[FRk$i&j(Wp(Z!b$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr+dHRk$i&j(Wp(Z!b$]#tOY%ZYZ&cZr%Zrs&}st%ZtuGvuw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Gv![!^%Z!^!_*g!_!c%Z!c!}Gv!}#O%Z#O#P&c#P#R%Z#R#SGv#S#T%Z#T#oGv#o#p*g#p$g%Z$g;'SGv;'S;=`Iv<%lOGv+dIyP;=`<%lGv07[JPP;=`<%lEr(KWJ_`$i&j(Wp(Z!b#p(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWKl_$i&j$Q(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,#xLva(z+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sv%ZvwM{wx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KWNW`$i&j#z(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'At! c_(Y';W$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b'l!!i_$i&j(WpOY!!bYZ!#hZr!!brs!#hsw!!bwx!$xx!^!!b!^!_!%z!_#O!!b#O#P!#h#P#o!!b#o#p!%z#p;'S!!b;'S;=`!'c<%lO!!b&z!#mX$i&jOw!#hwx6cx!^!#h!^!_!$Y!_#o!#h#o#p!$Y#p;'S!#h;'S;=`!$r<%lO!#h`!$]TOw!$Ywx7]x;'S!$Y;'S;=`!$l<%lO!$Y`!$oP;=`<%l!$Y&z!$uP;=`<%l!#h'l!%R]$d`$i&j(WpOY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r!Q!&PZ(WpOY!%zYZ!$YZr!%zrs!$Ysw!%zwx!&rx#O!%z#O#P!$Y#P;'S!%z;'S;=`!']<%lO!%z!Q!&yU$d`(WpOY)rZr)rs#O)r#P;'S)r;'S;=`*Z<%lO)r!Q!'`P;=`<%l!%z'l!'fP;=`<%l!!b/5|!'t_!l/.^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#&U!)O_!k!Lf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z-!n!*[b$i&j(Wp(Z!b(U%&f#q(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rxz%Zz{!+d{!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW!+o`$i&j(Wp(Z!b#n(ChOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;x!,|`$i&j(Wp(Z!br+4YOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z,$U!.Z_!]+Jf$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!/ec$i&j(Wp(Z!b!Q.2^OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!0p!P!Q%Z!Q![!3Y![!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!0ya$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!2O!P!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z#%|!2Z_![!L^$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!3eg$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!3Y![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S!3Y#S#X%Z#X#Y!4|#Y#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!5Vg$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx{%Z{|!6n|}%Z}!O!6n!O!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!6wc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad!8_c$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![!8S![!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S!8S#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[!9uf$i&j(Wp(Z!b#o(ChOY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcxz!;Zz{#-}{!P!;Z!P!Q#/d!Q!^!;Z!^!_#(i!_!`#7S!`!a#8i!a!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z?O!;fb$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z>^!<w`$i&j(Z!b!X7`OY!<nYZ&cZw!<nwx!=yx!P!<n!P!Q!Eq!Q!^!<n!^!_!Gr!_!}!<n!}#O!KS#O#P!Dy#P#o!<n#o#p!Gr#p;'S!<n;'S;=`!L]<%lO!<n<z!>Q^$i&j!X7`OY!=yYZ&cZ!P!=y!P!Q!>|!Q!^!=y!^!_!@c!_!}!=y!}#O!CW#O#P!Dy#P#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!?Td$i&j!X7`O!^&c!_#W&c#W#X!>|#X#Z&c#Z#[!>|#[#]&c#]#^!>|#^#a&c#a#b!>|#b#g&c#g#h!>|#h#i&c#i#j!>|#j#k!>|#k#m&c#m#n!>|#n#o&c#p;'S&c;'S;=`&w<%lO&c7`!@hX!X7`OY!@cZ!P!@c!P!Q!AT!Q!}!@c!}#O!Ar#O#P!Bq#P;'S!@c;'S;=`!CQ<%lO!@c7`!AYW!X7`#W#X!AT#Z#[!AT#]#^!AT#a#b!AT#g#h!AT#i#j!AT#j#k!AT#m#n!AT7`!AuVOY!ArZ#O!Ar#O#P!B[#P#Q!@c#Q;'S!Ar;'S;=`!Bk<%lO!Ar7`!B_SOY!ArZ;'S!Ar;'S;=`!Bk<%lO!Ar7`!BnP;=`<%l!Ar7`!BtSOY!@cZ;'S!@c;'S;=`!CQ<%lO!@c7`!CTP;=`<%l!@c<z!C][$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#O!CW#O#P!DR#P#Q!=y#Q#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DWX$i&jOY!CWYZ&cZ!^!CW!^!_!Ar!_#o!CW#o#p!Ar#p;'S!CW;'S;=`!Ds<%lO!CW<z!DvP;=`<%l!CW<z!EOX$i&jOY!=yYZ&cZ!^!=y!^!_!@c!_#o!=y#o#p!@c#p;'S!=y;'S;=`!Ek<%lO!=y<z!EnP;=`<%l!=y>^!Ezl$i&j(Z!b!X7`OY&}YZ&cZw&}wx&cx!^&}!^!_'}!_#O&}#O#P&c#P#W&}#W#X!Eq#X#Z&}#Z#[!Eq#[#]&}#]#^!Eq#^#a&}#a#b!Eq#b#g&}#g#h!Eq#h#i&}#i#j!Eq#j#k!Eq#k#m&}#m#n!Eq#n#o&}#o#p'}#p;'S&};'S;=`(l<%lO&}8r!GyZ(Z!b!X7`OY!GrZw!Grwx!@cx!P!Gr!P!Q!Hl!Q!}!Gr!}#O!JU#O#P!Bq#P;'S!Gr;'S;=`!J|<%lO!Gr8r!Hse(Z!b!X7`OY'}Zw'}x#O'}#P#W'}#W#X!Hl#X#Z'}#Z#[!Hl#[#]'}#]#^!Hl#^#a'}#a#b!Hl#b#g'}#g#h!Hl#h#i'}#i#j!Hl#j#k!Hl#k#m'}#m#n!Hl#n;'S'};'S;=`(f<%lO'}8r!JZX(Z!bOY!JUZw!JUwx!Arx#O!JU#O#P!B[#P#Q!Gr#Q;'S!JU;'S;=`!Jv<%lO!JU8r!JyP;=`<%l!JU8r!KPP;=`<%l!Gr>^!KZ^$i&j(Z!bOY!KSYZ&cZw!KSwx!CWx!^!KS!^!_!JU!_#O!KS#O#P!DR#P#Q!<n#Q#o!KS#o#p!JU#p;'S!KS;'S;=`!LV<%lO!KS>^!LYP;=`<%l!KS>^!L`P;=`<%l!<n=l!Ll`$i&j(Wp!X7`OY!LcYZ&cZr!Lcrs!=ys!P!Lc!P!Q!Mn!Q!^!Lc!^!_# o!_!}!Lc!}#O#%P#O#P!Dy#P#o!Lc#o#p# o#p;'S!Lc;'S;=`#&Y<%lO!Lc=l!Mwl$i&j(Wp!X7`OY(rYZ&cZr(rrs&cs!^(r!^!_)r!_#O(r#O#P&c#P#W(r#W#X!Mn#X#Z(r#Z#[!Mn#[#](r#]#^!Mn#^#a(r#a#b!Mn#b#g(r#g#h!Mn#h#i(r#i#j!Mn#j#k!Mn#k#m(r#m#n!Mn#n#o(r#o#p)r#p;'S(r;'S;=`*a<%lO(r8Q# vZ(Wp!X7`OY# oZr# ors!@cs!P# o!P!Q#!i!Q!}# o!}#O#$R#O#P!Bq#P;'S# o;'S;=`#$y<%lO# o8Q#!pe(Wp!X7`OY)rZr)rs#O)r#P#W)r#W#X#!i#X#Z)r#Z#[#!i#[#])r#]#^#!i#^#a)r#a#b#!i#b#g)r#g#h#!i#h#i)r#i#j#!i#j#k#!i#k#m)r#m#n#!i#n;'S)r;'S;=`*Z<%lO)r8Q#$WX(WpOY#$RZr#$Rrs!Ars#O#$R#O#P!B[#P#Q# o#Q;'S#$R;'S;=`#$s<%lO#$R8Q#$vP;=`<%l#$R8Q#$|P;=`<%l# o=l#%W^$i&j(WpOY#%PYZ&cZr#%Prs!CWs!^#%P!^!_#$R!_#O#%P#O#P!DR#P#Q!Lc#Q#o#%P#o#p#$R#p;'S#%P;'S;=`#&S<%lO#%P=l#&VP;=`<%l#%P=l#&]P;=`<%l!Lc?O#&kn$i&j(Wp(Z!b!X7`OY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#W%Z#W#X#&`#X#Z%Z#Z#[#&`#[#]%Z#]#^#&`#^#a%Z#a#b#&`#b#g%Z#g#h#&`#h#i%Z#i#j#&`#j#k#&`#k#m%Z#m#n#&`#n#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z9d#(r](Wp(Z!b!X7`OY#(iZr#(irs!Grsw#(iwx# ox!P#(i!P!Q#)k!Q!}#(i!}#O#+`#O#P!Bq#P;'S#(i;'S;=`#,`<%lO#(i9d#)th(Wp(Z!b!X7`OY*gZr*grs'}sw*gwx)rx#O*g#P#W*g#W#X#)k#X#Z*g#Z#[#)k#[#]*g#]#^#)k#^#a*g#a#b#)k#b#g*g#g#h#)k#h#i*g#i#j#)k#j#k#)k#k#m*g#m#n#)k#n;'S*g;'S;=`+Z<%lO*g9d#+gZ(Wp(Z!bOY#+`Zr#+`rs!JUsw#+`wx#$Rx#O#+`#O#P!B[#P#Q#(i#Q;'S#+`;'S;=`#,Y<%lO#+`9d#,]P;=`<%l#+`9d#,cP;=`<%l#(i?O#,o`$i&j(Wp(Z!bOY#,fYZ&cZr#,frs!KSsw#,fwx#%Px!^#,f!^!_#+`!_#O#,f#O#P!DR#P#Q!;Z#Q#o#,f#o#p#+`#p;'S#,f;'S;=`#-q<%lO#,f?O#-tP;=`<%l#,f?O#-zP;=`<%l!;Z07[#.[b$i&j(Wp(Z!b(O0/l!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z07[#/o_$i&j(Wp(Z!bT0/lOY#/dYZ&cZr#/drs#0nsw#/dwx#4Ox!^#/d!^!_#5}!_#O#/d#O#P#1p#P#o#/d#o#p#5}#p;'S#/d;'S;=`#6|<%lO#/d06j#0w]$i&j(Z!bT0/lOY#0nYZ&cZw#0nwx#1px!^#0n!^!_#3R!_#O#0n#O#P#1p#P#o#0n#o#p#3R#p;'S#0n;'S;=`#3x<%lO#0n05W#1wX$i&jT0/lOY#1pYZ&cZ!^#1p!^!_#2d!_#o#1p#o#p#2d#p;'S#1p;'S;=`#2{<%lO#1p0/l#2iST0/lOY#2dZ;'S#2d;'S;=`#2u<%lO#2d0/l#2xP;=`<%l#2d05W#3OP;=`<%l#1p01O#3YW(Z!bT0/lOY#3RZw#3Rwx#2dx#O#3R#O#P#2d#P;'S#3R;'S;=`#3r<%lO#3R01O#3uP;=`<%l#3R06j#3{P;=`<%l#0n05x#4X]$i&j(WpT0/lOY#4OYZ&cZr#4Ors#1ps!^#4O!^!_#5Q!_#O#4O#O#P#1p#P#o#4O#o#p#5Q#p;'S#4O;'S;=`#5w<%lO#4O00^#5XW(WpT0/lOY#5QZr#5Qrs#2ds#O#5Q#O#P#2d#P;'S#5Q;'S;=`#5q<%lO#5Q00^#5tP;=`<%l#5Q05x#5zP;=`<%l#4O01p#6WY(Wp(Z!bT0/lOY#5}Zr#5}rs#3Rsw#5}wx#5Qx#O#5}#O#P#2d#P;'S#5};'S;=`#6v<%lO#5}01p#6yP;=`<%l#5}07[#7PP;=`<%l#/d)3h#7ab$i&j$Q(Ch(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;ZAt#8vb$Z#t$i&j(Wp(Z!b!X7`OY!;ZYZ&cZr!;Zrs!<nsw!;Zwx!Lcx!P!;Z!P!Q#&`!Q!^!;Z!^!_#(i!_!}!;Z!}#O#,f#O#P!Dy#P#o!;Z#o#p#(i#p;'S!;Z;'S;=`#-w<%lO!;Z'Ad#:Zp$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#U%Z#U#V#?i#V#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#d#Bq#d#l%Z#l#m#Es#m#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#<jk$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!O%Z!O!P!3Y!P!Q%Z!Q![#<_![!^%Z!^!_*g!_!g%Z!g!h!4|!h#O%Z#O#P&c#P#R%Z#R#S#<_#S#X%Z#X#Y!4|#Y#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#>j_$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#?rd$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#A]f$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!R#AQ!R!S#AQ!S!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#AQ#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Bzc$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Dbe$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q!Y#DV!Y!^%Z!^!_*g!_#O%Z#O#P&c#P#R%Z#R#S#DV#S#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#E|g$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z'Ad#Gpi$i&j(Wp(Z!bs'9tOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!Q%Z!Q![#Ge![!^%Z!^!_*g!_!c%Z!c!i#Ge!i#O%Z#O#P&c#P#R%Z#R#S#Ge#S#T%Z#T#Z#Ge#Z#b%Z#b#c#>_#c#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x#Il_!g$b$i&j$O)Lv(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z)[#Jv_al$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f#LS^h#)`#R-<U(Wp(Z!b$n7`OY*gZr*grs'}sw*gwx)rx!P*g!P!Q#MO!Q!^*g!^!_#Mt!_!`$ f!`#O*g#P;'S*g;'S;=`+Z<%lO*g(n#MXX$k&j(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El#M}Z#r(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx!_*g!_!`#Np!`#O*g#P;'S*g;'S;=`+Z<%lO*g(El#NyX$Q(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g(El$ oX#s(Ch(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g*)x$!ga#`*!Y$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`0z!`!a$#l!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(K[$#w_#k(Cl$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z*)x$%Vag!*r#s(Ch$f#|$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`$&[!`!a$'f!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$&g_#s(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$'qa#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`!a$(v!a#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$)R`#r(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(Kd$*`a(r(Ct$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!a%Z!a!b$+e!b#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$+p`$i&j#{(Ch(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z%#`$,}_!|$Ip$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z04f$.X_!S0,v$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(n$/]Z$i&jO!^$0O!^!_$0f!_#i$0O#i#j$0k#j#l$0O#l#m$2^#m#o$0O#o#p$0f#p;'S$0O;'S;=`$4i<%lO$0O(n$0VT_#S$i&jO!^&c!_#o&c#p;'S&c;'S;=`&w<%lO&c#S$0kO_#S(n$0p[$i&jO!Q&c!Q![$1f![!^&c!_!c&c!c!i$1f!i#T&c#T#Z$1f#Z#o&c#o#p$3|#p;'S&c;'S;=`&w<%lO&c(n$1kZ$i&jO!Q&c!Q![$2^![!^&c!_!c&c!c!i$2^!i#T&c#T#Z$2^#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$2cZ$i&jO!Q&c!Q![$3U![!^&c!_!c&c!c!i$3U!i#T&c#T#Z$3U#Z#o&c#p;'S&c;'S;=`&w<%lO&c(n$3ZZ$i&jO!Q&c!Q![$0O![!^&c!_!c&c!c!i$0O!i#T&c#T#Z$0O#Z#o&c#p;'S&c;'S;=`&w<%lO&c#S$4PR!Q![$4Y!c!i$4Y#T#Z$4Y#S$4]S!Q![$4Y!c!i$4Y#T#Z$4Y#q#r$0f(n$4lP;=`<%l$0O#1[$4z_!Y#)l$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z(KW$6U`#x(Ch$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z+;p$7c_$i&j(Wp(Z!b(a+4QOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$8qk$i&j(Wp(Z!b(T,2j$_#t(e$I[OY%ZYZ&cZr%Zrs&}st%Ztu$8buw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$8b![!^%Z!^!_*g!_!c%Z!c!}$8b!}#O%Z#O#P&c#P#R%Z#R#S$8b#S#T%Z#T#o$8b#o#p*g#p$g%Z$g;'S$8b;'S;=`$<l<%lO$8b+d$:qk$i&j(Wp(Z!b$_#tOY%ZYZ&cZr%Zrs&}st%Ztu$:fuw%Zwx(rx}%Z}!O$:f!O!Q%Z!Q![$:f![!^%Z!^!_*g!_!c%Z!c!}$:f!}#O%Z#O#P&c#P#R%Z#R#S$:f#S#T%Z#T#o$:f#o#p*g#p$g%Z$g;'S$:f;'S;=`$<f<%lO$:f+d$<iP;=`<%l$:f07[$<oP;=`<%l$8b#Jf$<{X!_#Hb(Wp(Z!bOY*gZr*grs'}sw*gwx)rx#O*g#P;'S*g;'S;=`+Z<%lO*g,#x$=sa(y+JY$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_!`Ka!`#O%Z#O#P&c#P#o%Z#o#p*g#p#q$+e#q;'S%Z;'S;=`+a<%lO%Z)>v$?V_!^(CdvBr$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z?O$@a_!q7`$i&j(Wp(Z!bOY%ZYZ&cZr%Zrs&}sw%Zwx(rx!^%Z!^!_*g!_#O%Z#O#P&c#P#o%Z#o#p*g#p;'S%Z;'S;=`+a<%lO%Z07[$Aq|$i&j(Wp(Z!b'|0/l$]#t(T,2j(e$I[OX%ZXY+gYZ&cZ[+g[p%Zpq+gqr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$f%Z$f$g+g$g#BYEr#BY#BZ$A`#BZ$ISEr$IS$I_$A`$I_$JTEr$JT$JU$A`$JU$KVEr$KV$KW$A`$KW&FUEr&FU&FV$A`&FV;'SEr;'S;=`I|<%l?HTEr?HT?HU$A`?HUOEr07[$D|k$i&j(Wp(Z!b'}0/l$]#t(T,2j(e$I[OY%ZYZ&cZr%Zrs&}st%ZtuEruw%Zwx(rx}%Z}!OGv!O!Q%Z!Q![Er![!^%Z!^!_*g!_!c%Z!c!}Er!}#O%Z#O#P&c#P#R%Z#R#SEr#S#T%Z#T#oEr#o#p*g#p$g%Z$g;'SEr;'S;=`I|<%lOEr",tokenizers:[noSemicolon,noSemicolonType,operatorToken,jsx,2,3,4,5,6,7,8,9,10,11,12,13,14,insertSemicolon,new LocalTokenGroup("$S~RRtu[#O#Pg#S#T#|~_P#o#pb~gOx~~jVO#i!P#i#j!U#j#l!P#l#m!q#m;'S!P;'S;=`#v<%lO!P~!UO!U~~!XS!Q![!e!c!i!e#T#Z!e#o#p#Z~!hR!Q![!q!c!i!q#T#Z!q~!tR!Q![!}!c!i!}#T#Z!}~#QR!Q![!P!c!i!P#T#Z!P~#^R!Q![#g!c!i#g#T#Z#g~#jS!Q![#g!c!i#g#T#Z#g#q#r!P~#yP;=`<%l!P~$RO(c~~",141,340),new LocalTokenGroup("j~RQYZXz{^~^O(Q~~aP!P!Qd~iO(R~~",25,323)],topRules:{Script:[0,7],SingleExpression:[1,276],SingleClassItem:[2,277]},dialects:{jsx:0,ts:15175},dynamicPrecedences:{80:1,82:1,94:1,169:1,199:1},specialized:[{term:327,get:s=>spec_identifier[s]||-1},{term:343,get:s=>spec_word[s]||-1},{term:95,get:s=>spec_LessThan[s]||-1}],tokenPrec:15201}),snippets=[snippetCompletion("function ${name}(${params}) {\n	${}\n}",{label:"function",detail:"definition",type:"keyword"}),snippetCompletion("for (let ${index} = 0; ${index} < ${bound}; ${index}++) {\n	${}\n}",{label:"for",detail:"loop",type:"keyword"}),snippetCompletion("for (let ${name} of ${collection}) {\n	${}\n}",{label:"for",detail:"of loop",type:"keyword"}),snippetCompletion("do {\n	${}\n} while (${})",{label:"do",detail:"loop",type:"keyword"}),snippetCompletion("while (${}) {\n	${}\n}",{label:"while",detail:"loop",type:"keyword"}),snippetCompletion(`try {
	\${}
} catch (\${error}) {
	\${}
}`,{label:"try",detail:"/ catch block",type:"keyword"}),snippetCompletion("if (${}) {\n	${}\n}",{label:"if",detail:"block",type:"keyword"}),snippetCompletion(`if (\${}) {
	\${}
} else {
	\${}
}`,{label:"if",detail:"/ else block",type:"keyword"}),snippetCompletion(`class \${name} {
	constructor(\${params}) {
		\${}
	}
}`,{label:"class",detail:"definition",type:"keyword"}),snippetCompletion('import {${names}} from "${module}"\n${}',{label:"import",detail:"named",type:"keyword"}),snippetCompletion('import ${name} from "${module}"\n${}',{label:"import",detail:"default",type:"keyword"})],typescriptSnippets=snippets.concat([snippetCompletion("interface ${name} {\n	${}\n}",{label:"interface",detail:"definition",type:"keyword"}),snippetCompletion("type ${name} = ${type}",{label:"type",detail:"definition",type:"keyword"}),snippetCompletion("enum ${name} {\n	${}\n}",{label:"enum",detail:"definition",type:"keyword"})]),cache=new NodeWeakMap,ScopeNodes=new Set(["Script","Block","FunctionExpression","FunctionDeclaration","ArrowFunction","MethodDeclaration","ForStatement"]);function defID(s){return(r,a)=>{let l=r.node.getChild("VariableDefinition");return l&&a(l,s),!0}}const functionContext=["FunctionDeclaration"],gatherCompletions={FunctionDeclaration:defID("function"),ClassDeclaration:defID("class"),ClassExpression:()=>!0,EnumDeclaration:defID("constant"),TypeAliasDeclaration:defID("type"),NamespaceDeclaration:defID("namespace"),VariableDefinition(s,r){s.matchContext(functionContext)||r(s,"variable")},TypeDefinition(s,r){r(s,"type")},__proto__:null};function getScope(s,r){let a=cache.get(r);if(a)return a;let l=[],o=!0;function f(h,d){let g=s.sliceString(h.from,h.to);l.push({label:g,type:d})}return r.cursor(IterMode.IncludeAnonymous).iterate(h=>{if(o)o=!1;else if(h.name){let d=gatherCompletions[h.name];if(d&&d(h,f)||ScopeNodes.has(h.name))return!1}else if(h.to-h.from>8192){for(let d of getScope(s,h.node))l.push(d);return!1}}),cache.set(r,l),l}const Identifier=/^[\w$\xa1-\uffff][\w$\d\xa1-\uffff]*$/,dontComplete=["TemplateString","String","RegExp","LineComment","BlockComment","VariableDefinition","TypeDefinition","Label","PropertyDefinition","PropertyName","PrivatePropertyDefinition","PrivatePropertyName","JSXText","JSXAttributeValue","JSXOpenTag","JSXCloseTag","JSXSelfClosingTag",".","?."];function localCompletionSource(s){let r=syntaxTree(s.state).resolveInner(s.pos,-1);if(dontComplete.indexOf(r.name)>-1)return null;let a=r.name=="VariableName"||r.to-r.from<20&&Identifier.test(s.state.sliceDoc(r.from,r.to));if(!a&&!s.explicit)return null;let l=[];for(let o=r;o;o=o.parent)ScopeNodes.has(o.name)&&(l=l.concat(getScope(s.state.doc,o)));return{options:l,from:a?r.from:s.pos,validFor:Identifier}}const javascriptLanguage=LRLanguage.define({name:"javascript",parser:parser.configure({props:[indentNodeProp.add({IfStatement:continuedIndent({except:/^\s*({|else\b)/}),TryStatement:continuedIndent({except:/^\s*({|catch\b|finally\b)/}),LabeledStatement:flatIndent,SwitchBody:s=>{let r=s.textAfter,a=/^\s*\}/.test(r),l=/^\s*(case|default)\b/.test(r);return s.baseIndent+(a?0:l?1:2)*s.unit},Block:delimitedIndent({closing:"}"}),ArrowFunction:s=>s.baseIndent+s.unit,"TemplateString BlockComment":()=>null,"Statement Property":continuedIndent({except:/^\s*{/}),JSXElement(s){let r=/^\s*<\//.test(s.textAfter);return s.lineIndent(s.node.from)+(r?0:s.unit)},JSXEscape(s){let r=/\s*\}/.test(s.textAfter);return s.lineIndent(s.node.from)+(r?0:s.unit)},"JSXOpenTag JSXSelfClosingTag"(s){return s.column(s.node.from)+s.unit}}),foldNodeProp.add({"Block ClassBody SwitchBody EnumBody ObjectExpression ArrayExpression ObjectType":foldInside,BlockComment(s){return{from:s.from+2,to:s.to-2}}})]}),languageData:{closeBrackets:{brackets:["(","[","{","'",'"',"`"]},commentTokens:{line:"//",block:{open:"/*",close:"*/"}},indentOnInput:/^\s*(?:case |default:|\{|\}|<\/)$/,wordChars:"$"}}),jsxSublanguage={test:s=>/^JSX/.test(s.name),facet:defineLanguageFacet({commentTokens:{block:{open:"{/*",close:"*/}"}}})},typescriptLanguage=javascriptLanguage.configure({dialect:"ts"},"typescript"),jsxLanguage=javascriptLanguage.configure({dialect:"jsx",props:[sublanguageProp.add(s=>s.isTop?[jsxSublanguage]:void 0)]}),tsxLanguage=javascriptLanguage.configure({dialect:"jsx ts",props:[sublanguageProp.add(s=>s.isTop?[jsxSublanguage]:void 0)]},"typescript");let kwCompletion=s=>({label:s,type:"keyword"});const keywords="break case const continue default delete export extends false finally in instanceof let new return static super switch this throw true typeof var yield".split(" ").map(kwCompletion),typescriptKeywords=keywords.concat(["declare","implements","private","protected","public"].map(kwCompletion));function javascript(s={}){let r=s.jsx?s.typescript?tsxLanguage:jsxLanguage:s.typescript?typescriptLanguage:javascriptLanguage,a=s.typescript?typescriptSnippets.concat(typescriptKeywords):snippets.concat(keywords);return new LanguageSupport(r,[javascriptLanguage.data.of({autocomplete:ifNotIn(dontComplete,completeFromList(a))}),javascriptLanguage.data.of({autocomplete:localCompletionSource}),s.jsx?autoCloseTags:[]])}function findOpenTag(s){for(;;){if(s.name=="JSXOpenTag"||s.name=="JSXSelfClosingTag"||s.name=="JSXFragmentTag")return s;if(s.name=="JSXEscape"||!s.parent)return null;s=s.parent}}function elementName(s,r,a=s.length){for(let l=r?.firstChild;l;l=l.nextSibling)if(l.name=="JSXIdentifier"||l.name=="JSXBuiltin"||l.name=="JSXNamespacedName"||l.name=="JSXMemberExpression")return s.sliceString(l.from,Math.min(l.to,a));return""}const android=typeof navigator=="object"&&/Android\b/.test(navigator.userAgent),autoCloseTags=EditorView.inputHandler.of((s,r,a,l,o)=>{if((android?s.composing:s.compositionStarted)||s.state.readOnly||r!=a||l!=">"&&l!="/"||!javascriptLanguage.isActiveAt(s.state,r,-1))return!1;let f=o(),{state:h}=f,d=h.changeByRange(g=>{var m;let{head:y}=g,S=syntaxTree(h).resolveInner(y-1,-1),x;if(S.name=="JSXStartTag"&&(S=S.parent),!(h.doc.sliceString(y-1,y)!=l||S.name=="JSXAttributeValue"&&S.to>y)){if(l==">"&&S.name=="JSXFragmentTag")return{range:g,changes:{from:y,insert:"</>"}};if(l=="/"&&S.name=="JSXStartCloseTag"){let w=S.parent,Q=w.parent;if(Q&&w.from==y-2&&((x=elementName(h.doc,Q.firstChild,y))||((m=Q.firstChild)===null||m===void 0?void 0:m.name)=="JSXFragmentTag")){let A=`${x}>`;return{range:EditorSelection.cursor(y+A.length,-1),changes:{from:y,insert:A}}}}else if(l==">"){let w=findOpenTag(S);if(w&&w.name=="JSXOpenTag"&&!/^\/?>|^<\//.test(h.doc.sliceString(y,y+2))&&(x=elementName(h.doc,w,y)))return{range:g,changes:{from:y,insert:`</${x}>`}}}}return{range:g}});return d.changes.empty?!1:(s.dispatch([f,h.update(d,{userEvent:"input.complete",scrollIntoView:!0})]),!0)});const mergeClasses=(...s)=>s.filter((r,a,l)=>!!r&&r.trim()!==""&&l.indexOf(r)===a).join(" ").trim();const toKebabCase=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const toCamelCase=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,a,l)=>l?l.toUpperCase():a.toLowerCase());const toPascalCase=s=>{const r=toCamelCase(s);return r.charAt(0).toUpperCase()+r.slice(1)};var defaultAttributes={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const hasA11yProp=s=>{for(const r in s)if(r.startsWith("aria-")||r==="role"||r==="title")return!0;return!1};const Icon=reactExports.forwardRef(({color:s="currentColor",size:r=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:o="",children:f,iconNode:h,...d},g)=>reactExports.createElement("svg",{ref:g,...defaultAttributes,width:r,height:r,stroke:s,strokeWidth:l?Number(a)*24/Number(r):a,className:mergeClasses("lucide",o),...!f&&!hasA11yProp(d)&&{"aria-hidden":"true"},...d},[...h.map(([m,y])=>reactExports.createElement(m,y)),...Array.isArray(f)?f:[f]]));const createLucideIcon=(s,r)=>{const a=reactExports.forwardRef(({className:l,...o},f)=>reactExports.createElement(Icon,{ref:f,iconNode:r,className:mergeClasses(`lucide-${toKebabCase(toPascalCase(s))}`,`lucide-${s}`,l),...o}));return a.displayName=toPascalCase(s),a};const __iconNode$c=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],ChevronDown=createLucideIcon("chevron-down",__iconNode$c);const __iconNode$b=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ChevronRight=createLucideIcon("chevron-right",__iconNode$b);const __iconNode$a=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],CircleAlert=createLucideIcon("circle-alert",__iconNode$a);const __iconNode$9=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],CircleCheckBig=createLucideIcon("circle-check-big",__iconNode$9);const __iconNode$8=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],CircleX=createLucideIcon("circle-x",__iconNode$8);const __iconNode$7=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Code=createLucideIcon("code",__iconNode$7);const __iconNode$6=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Download=createLucideIcon("download",__iconNode$6);const __iconNode$5=[["path",{d:"M6 22a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h8a2.4 2.4 0 0 1 1.704.706l3.588 3.588A2.4 2.4 0 0 1 20 8v12a2 2 0 0 1-2 2z",key:"1oefj6"}],["path",{d:"M14 2v5a1 1 0 0 0 1 1h5",key:"wfsgrz"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],FileText=createLucideIcon("file-text",__iconNode$5);const __iconNode$4=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Info=createLucideIcon("info",__iconNode$4);const __iconNode$3=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Play=createLucideIcon("play",__iconNode$3);const __iconNode$2=[["path",{d:"m17 14 3 3.3a1 1 0 0 1-.7 1.7H4.7a1 1 0 0 1-.7-1.7L7 14h-.3a1 1 0 0 1-.7-1.7L9 9h-.2A1 1 0 0 1 8 7.3L12 3l4 4.3a1 1 0 0 1-.8 1.7H15l3 3.3a1 1 0 0 1-.7 1.7H17Z",key:"cpyugq"}],["path",{d:"M12 22v-3",key:"kmzjlo"}]],TreePine=createLucideIcon("tree-pine",__iconNode$2);const __iconNode$1=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Upload=createLucideIcon("upload",__iconNode$1);const __iconNode=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Zap=createLucideIcon("zap",__iconNode);var peggy_min$1={exports:{}},peggy_min=peggy_min$1.exports,hasRequiredPeggy_min;function requirePeggy_min(){return hasRequiredPeggy_min||(hasRequiredPeggy_min=1,(function(module,exports$1){function _array_like_to_array(s,r){(r==null||r>s.length)&&(r=s.length);for(var a=0,l=new Array(r);a<r;a++)l[a]=s[a];return l}function _array_with_holes(s){if(Array.isArray(s))return s}function _array_without_holes(s){if(Array.isArray(s))return _array_like_to_array(s)}function _assert_this_initialized(s){if(s===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function _call_super(s,r,a){return r=_get_prototype_of(r),_possible_constructor_return(s,_is_native_reflect_construct()?Reflect.construct(r,a||[],_get_prototype_of(s).constructor):r.apply(s,a))}function _class_call_check(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}function _construct(s,r,a){return _is_native_reflect_construct()?_construct=Reflect.construct:_construct=function(l,o,f){var h=[null];h.push.apply(h,o);var d=Function.bind.apply(l,h),g=new d;return f&&_set_prototype_of(g,f.prototype),g},_construct.apply(null,arguments)}function _defineProperties(s,r){for(var a=0;a<r.length;a++){var l=r[a];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}function _create_class(s,r,a){return r&&_defineProperties(s.prototype,r),a&&_defineProperties(s,a),s}function _define_property(s,r,a){return r in s?Object.defineProperty(s,r,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[r]=a,s}function _get(s,r,a){return typeof Reflect<"u"&&Reflect.get?_get=Reflect.get:_get=function(l,o,f){var h=_super_prop_base(l,o);if(h){var d=Object.getOwnPropertyDescriptor(h,o);return d.get?d.get.call(f||l):d.value}},_get(s,r,a||s)}function _get_prototype_of(s){return _get_prototype_of=Object.setPrototypeOf?Object.getPrototypeOf:function(r){return r.__proto__||Object.getPrototypeOf(r)},_get_prototype_of(s)}function _inherits(s,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),r&&_set_prototype_of(s,r)}function _instanceof(s,r){return r!=null&&typeof Symbol<"u"&&r[Symbol.hasInstance]?!!r[Symbol.hasInstance](s):s instanceof r}function _is_native_function(s){return Function.toString.call(s).indexOf("[native code]")!==-1}function _iterable_to_array(s){if(typeof Symbol<"u"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}function _iterable_to_array_limit(s,r){var a=s==null?null:typeof Symbol<"u"&&s[Symbol.iterator]||s["@@iterator"];if(a!=null){var l=[],o=!0,f=!1,h,d;try{for(a=a.call(s);!(o=(h=a.next()).done)&&(l.push(h.value),!(r&&l.length===r));o=!0);}catch(g){f=!0,d=g}finally{try{!o&&a.return!=null&&a.return()}finally{if(f)throw d}}return l}}function _non_iterable_rest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _non_iterable_spread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _object_spread(s){for(var r=1;r<arguments.length;r++){var a=arguments[r]!=null?arguments[r]:{},l=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(l=l.concat(Object.getOwnPropertySymbols(a).filter(function(o){return Object.getOwnPropertyDescriptor(a,o).enumerable}))),l.forEach(function(o){_define_property(s,o,a[o])})}return s}function ownKeys(s,r){var a=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);a.push.apply(a,l)}return a}function _object_spread_props(s,r){return r=r??{},Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(a){Object.defineProperty(s,a,Object.getOwnPropertyDescriptor(r,a))}),s}function _possible_constructor_return(s,r){return r&&(_type_of(r)==="object"||typeof r=="function")?r:_assert_this_initialized(s)}function _set_prototype_of(s,r){return _set_prototype_of=Object.setPrototypeOf||function(a,l){return a.__proto__=l,a},_set_prototype_of(s,r)}function _sliced_to_array(s,r){return _array_with_holes(s)||_iterable_to_array_limit(s,r)||_unsupported_iterable_to_array(s,r)||_non_iterable_rest()}function _super_prop_base(s,r){for(;!Object.prototype.hasOwnProperty.call(s,r)&&(s=_get_prototype_of(s),s!==null););return s}function _to_consumable_array(s){return _array_without_holes(s)||_iterable_to_array(s)||_unsupported_iterable_to_array(s)||_non_iterable_spread()}function _type_of(s){"@swc/helpers - typeof";return s&&typeof Symbol<"u"&&s.constructor===Symbol?"symbol":typeof s}function _unsupported_iterable_to_array(s,r){if(s){if(typeof s=="string")return _array_like_to_array(s,r);var a=Object.prototype.toString.call(s).slice(8,-1);if(a==="Object"&&s.constructor&&(a=s.constructor.name),a==="Map"||a==="Set")return Array.from(a);if(a==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a))return _array_like_to_array(s,r)}}function _wrap_native_super(s){var r=typeof Map=="function"?new Map:void 0;return _wrap_native_super=function(a){if(a===null||!_is_native_function(a))return a;if(typeof a!="function")throw new TypeError("Super expression must either be null or a function");if(typeof r<"u"){if(r.has(a))return r.get(a);r.set(a,l)}function l(){return _construct(a,arguments,_get_prototype_of(this).constructor)}return l.prototype=Object.create(a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),_set_prototype_of(l,a)},_wrap_native_super(s)}function _is_native_reflect_construct(){try{var s=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(_is_native_reflect_construct=function(){return!!s})()}(function(s,r){_type_of(exports$1)=="object"&&_type_of(module)<"u"?module.exports=r():s.peggy=r()})((typeof globalThis>"u"?"undefined":_type_of(globalThis))<"u"?globalThis:(typeof self>"u"?"undefined":_type_of(self))<"u"?self:peggy_min,function(){var exports$1={},__exports=exports$1,module={exports:exports$1},U=function(s,r){return function(){return r||s((r={exports:{}}).exports,r),r.exports}},Ve=U(function(s,r){var a=(function(){function l(o,f){_class_call_check(this,l),this.source=o,this.start=f}return _create_class(l,[{key:"toString",value:function(){return String(this.source)}},{key:"offset",value:function(o){return{line:o.line+this.start.line-1,column:o.line===1?o.column+this.start.column-1:o.column,offset:o.offset+this.start.offset}}}],[{key:"offsetStart",value:function(o){return o.source&&typeof o.source.offset=="function"?o.source.offset(o.start):o.start}},{key:"offsetEnd",value:function(o){return o.source&&typeof o.source.offset=="function"?o.source.offset(o.end):o.end}}]),l})();r.exports=a}),ft=U(function(s,r){var a=Ve(),l=(function(o){_inherits(f,o);function f(h,d,g){_class_call_check(this,f);var m;return m=_call_super(this,f,[h]),m.name="GrammarError",m.location=d,g===void 0&&(g=[]),m.diagnostics=g,m.stage=null,m.problems=[["error",h,d,g]],m}return _create_class(f,[{key:"toString",value:function(){var d=_get(_get_prototype_of(f.prototype),"toString",this).call(this);this.location&&(d+=`
 at `,this.location.source!==void 0&&this.location.source!==null&&(d+="".concat(this.location.source,":")),d+="".concat(this.location.start.line,":").concat(this.location.start.column));var g=!0,m=!1,y=void 0;try{for(var S=this.diagnostics[Symbol.iterator](),x;!(g=(x=S.next()).done);g=!0){var w=x.value;d+=`
 from `,w.location.source!==void 0&&w.location.source!==null&&(d+="".concat(w.location.source,":")),d+="".concat(w.location.start.line,":").concat(w.location.start.column,": ").concat(w.message)}}catch(Q){m=!0,y=Q}finally{try{!g&&S.return!=null&&S.return()}finally{if(m)throw y}}return d}},{key:"format",value:function(h){var d=h.map(function(y){var S=y.source,x=y.text;return{source:S,text:x!=null?String(x).split(/\r\n|\n|\r/g):[]}});function g(y,S){var x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"",w="",Q=d.find(function(j){var B=j.source;return B===y.source}),A=y.start,M=a.offsetStart(y);if(Q){var L=y.end,Z=Q.text[A.line-1],z=(A.line===L.line?L.column:Z.length+1)-A.column||1;x&&(w+=`
note: `.concat(x)),w+=`
 --> `.concat(y.source,":").concat(M.line,":").concat(M.column,`
`).concat("".padEnd(S),` |
`).concat(M.line.toString().padStart(S)," | ").concat(Z,`
`).concat("".padEnd(S)," | ").concat("".padEnd(A.column-1)).concat("".padEnd(z,"^"))}else w+=`
 at `.concat(y.source,":").concat(M.line,":").concat(M.column),x&&(w+=": ".concat(x));return w}function m(y,S,x){var w=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],Q=-1/0;x?Q=w.reduce(function(G,D){var I=D.location;return Math.max(G,a.offsetStart(I).line)},x.start.line):Q=Math.max.apply(null,w.map(function(G){return G.location.start.line})),Q=Q.toString().length;var A="".concat(y,": ").concat(S);x&&(A+=g(x,Q));var M=!0,L=!1,Z=void 0;try{for(var z=w[Symbol.iterator](),j;!(M=(j=z.next()).done);M=!0){var B=j.value;A+=g(B.location,Q,B.message)}}catch(G){L=!0,Z=G}finally{try{!M&&z.return!=null&&z.return()}finally{if(L)throw Z}}return A}return this.problems.filter(function(y){return y[0]!=="info"}).map(function(y){return m.apply(void 0,_to_consumable_array(y))}).join(`

`)}}]),f})(_wrap_native_super(SyntaxError));r.exports=l}),K=U(function(s,r){var a={build:function(l){function o(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),x=1;x<y;x++)S[x-1]=arguments[x];var w;return(w=l)[m.type].apply(w,[m].concat(_to_consumable_array(S)))}function f(){}function h(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),x=1;x<y;x++)S[x-1]=arguments[x];return o.apply(void 0,[m.expression].concat(_to_consumable_array(S)))}function d(m){return function(y){for(var S=arguments.length,x=new Array(S>1?S-1:0),w=1;w<S;w++)x[w-1]=arguments[w];y[m].forEach(function(Q){return o.apply(void 0,[Q].concat(_to_consumable_array(x)))})}}var g={grammar:function(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),x=1;x<y;x++)S[x-1]=arguments[x];var w=!0,Q=!1,A=void 0;try{for(var M=m.imports[Symbol.iterator](),L;!(w=(L=M.next()).done);w=!0){var Z=L.value;o.apply(void 0,[Z].concat(_to_consumable_array(S)))}}catch(Re){Q=!0,A=Re}finally{try{!w&&M.return!=null&&M.return()}finally{if(Q)throw A}}var z=!0,j=!1,B=void 0;if(m.topLevelInitializer)if(Array.isArray(m.topLevelInitializer))try{for(var G=m.topLevelInitializer[Symbol.iterator](),D;!(z=(D=G.next()).done);z=!0){var I=D.value;o.apply(void 0,[I].concat(_to_consumable_array(S)))}}catch(Re){j=!0,B=Re}finally{try{!z&&G.return!=null&&G.return()}finally{if(j)throw B}}else o.apply(void 0,[m.topLevelInitializer].concat(_to_consumable_array(S)));var W=!0,se=!1,ce=void 0;if(m.initializer)if(Array.isArray(m.initializer))try{for(var Se=m.initializer[Symbol.iterator](),ve;!(W=(ve=Se.next()).done);W=!0){var $e=ve.value;o.apply(void 0,[$e].concat(_to_consumable_array(S)))}}catch(Re){se=!0,ce=Re}finally{try{!W&&Se.return!=null&&Se.return()}finally{if(se)throw ce}}else o.apply(void 0,[m.initializer].concat(_to_consumable_array(S)));m.rules.forEach(function(Re){return o.apply(void 0,[Re].concat(_to_consumable_array(S)))})},grammar_import:f,top_level_initializer:f,initializer:f,rule:h,named:h,choice:d("alternatives"),action:h,sequence:d("elements"),labeled:h,text:h,simple_and:h,simple_not:h,optional:h,zero_or_more:h,one_or_more:h,repeated:function(m){for(var y=arguments.length,S=new Array(y>1?y-1:0),x=1;x<y;x++)S[x-1]=arguments[x];return m.delimiter&&o.apply(void 0,[m.delimiter].concat(_to_consumable_array(S))),o.apply(void 0,[m.expression].concat(_to_consumable_array(S)))},group:h,semantic_and:f,semantic_not:f,rule_ref:f,library_ref:f,literal:f,class:f,any:f};return Object.keys(g).forEach(function(m){Object.prototype.hasOwnProperty.call(l,m)||(l[m]=g[m])}),o}};r.exports=a}),he=U(function(s,r){var a=function(f,h){if(!(f&&h))return f||h;var d=Array.isArray(f)?f:[f];return d.push(h),d},l=K(),o={findRule:function(f,h){for(var d=0;d<f.rules.length;d++)if(f.rules[d].name===h)return f.rules[d]},indexOfRule:function(f,h){for(var d=0;d<f.rules.length;d++)if(f.rules[d].name===h)return d;return-1},alwaysConsumesOnSuccess:function(f,h){function d(){return!0}function g(){return!1}var m=l.build({choice:function(y){return y.alternatives.every(m)},sequence:function(y){return y.elements.some(m)},simple_and:g,simple_not:g,optional:g,zero_or_more:g,repeated:function(y){var S=y.min?y.min:y.max;return S.type!=="constant"||S.value===0?!1:!!(m(y.expression)||S.value>1&&y.delimiter&&m(y.delimiter))},semantic_and:g,semantic_not:g,rule_ref:function(y){var S=o.findRule(f,y.name);return S?m(S):void 0},library_ref:g,literal:function(y){return y.value!==""},class:d,any:d});return m(h)},combine:function(f){return f.reduce(function(h,d){return h.topLevelInitializer=a(h.topLevelInitializer,d.topLevelInitializer),h.initializer=a(h.initializer,d.initializer),h.rules=h.rules.concat(d.rules),h})}};r.exports=o}),Xs=U(function(s,r){var a=function(l){var o=0,f=!0,h=!1,d=void 0;try{for(var g=l.imports[Symbol.iterator](),m;!(f=(m=g.next()).done);f=!0){var y=m.value,S=!0,x=!1,w=void 0;try{for(var Q=y.what[Symbol.iterator](),A;!(S=(A=Q.next()).done);S=!0){var M=A.value,L=void 0;switch(M.type){case"import_binding_all":continue;case"import_binding_default":break;case"import_binding":L=M.binding;break;case"import_binding_rename":L=M.rename;break;default:throw new TypeError("Unknown binding type")}l.rules.push({type:"rule",name:M.binding,nameLocation:M.location,expression:{type:"library_ref",name:L,library:y.from.module,libraryNumber:o,location:M.location},location:y.from.location})}}catch(Z){x=!0,w=Z}finally{try{!S&&Q.return!=null&&Q.return()}finally{if(x)throw w}}o++}}catch(Z){h=!0,d=Z}finally{try{!f&&g.return!=null&&g.return()}finally{if(h)throw d}}};r.exports=a}),Ks=U(function(s,r){var a=function(f,h){var d=0,g=!0,m=!1,y=void 0;try{for(var S=f.imports[Symbol.iterator](),x;!(g=(x=S.next()).done);g=!0){var w=x.value,Q=!0,A=!1,M=void 0;try{for(var L=w.what[Symbol.iterator](),Z;!(Q=(Z=L.next()).done);Q=!0){var z=Z.value;if(z.type==="import_binding_all"&&z.binding===h)return d}}catch(j){A=!0,M=j}finally{try{!Q&&L.return!=null&&L.return()}finally{if(A)throw M}}d++}}catch(j){m=!0,y=j}finally{try{!g&&S.return!=null&&S.return()}finally{if(m)throw y}}return-1},l=function(f,h,d){o.build({library_ref:function(g){g.libraryNumber===-1&&(g.libraryNumber=a(f,g.library),g.libraryNumber===-1&&d.error('Unknown module "'.concat(g.library,'"'),g.location))}})(f)},o=K();r.exports=l}),Ht=U(function(s,r){var a={PUSH:0,PUSH_EMPTY_STRING:35,PUSH_UNDEFINED:1,PUSH_NULL:2,PUSH_FAILED:3,PUSH_EMPTY_ARRAY:4,PUSH_CURR_POS:5,POP:6,POP_CURR_POS:7,POP_N:8,NIP:9,APPEND:10,WRAP:11,TEXT:12,PLUCK:36,IF:13,IF_ERROR:14,IF_NOT_ERROR:15,IF_LT:30,IF_GE:31,IF_LT_DYNAMIC:32,IF_GE_DYNAMIC:33,WHILE_NOT_ERROR:16,MATCH_ANY:17,MATCH_STRING:18,MATCH_STRING_IC:19,MATCH_CHAR_CLASS:20,MATCH_UNICODE_CLASS:42,MATCH_REGEXP:20,ACCEPT_N:21,ACCEPT_STRING:22,FAIL:23,LOAD_SAVED_POS:24,UPDATE_SAVED_POS:25,CALL:26,RULE:27,LIBRARY_RULE:41,SILENT_FAILS_ON:28,SILENT_FAILS_OFF:29,SOURCE_MAP_PUSH:37,SOURCE_MAP_POP:38,SOURCE_MAP_LABEL_PUSH:39,SOURCE_MAP_LABEL_POP:40};r.exports=a}),tr=U(function(s,r){var a=(function(){function l(o){_class_call_check(this,l),this.options=_object_spread({stringify:String,convert:function(f){return f}},o),this.items=[],this.offsets=Object.create(null)}return _create_class(l,[{key:"add",value:function(o){var f=this.options.convert(o);if(!f)return-1;var h=this.options.stringify(f),d=this.offsets[h];return d===void 0&&(d=this.items.push(f)-1,this.offsets[h]=d),d}},{key:"get",value:function(o){return this.items[o]}},{key:"map",value:function(o){return this.items.map(o)}}]),l})();r.exports=a}),ht=U(function(s,r){var a=function(m){function y(A){return A.match=d}function S(A){return Q(A.expression),A.match=h}function x(A){return A.match=Q(A.expression)}function w(A,M){for(var L=A.length,Z=0,z=0,j=0;j<L;++j){var B=Q(A[j]);B===h&&++Z,B===g&&++z}return Z===L?h:M?z===L?g:d:z>0?g:d}var Q=l.build({rule:function(A){var M,L=0;if(_type_of(A.match)>"u"){A.match=d;do if(M=A.match,A.match=Q(A.expression),++L>6)throw new f("Infinity cycle detected when trying to evaluate node match result",A.location);while(M!==A.match)}return A.match},named:x,choice:function(A){return A.match=w(A.alternatives,!0)},action:x,sequence:function(A){return A.match=w(A.elements,!1)},labeled:x,text:x,simple_and:x,simple_not:function(A){return A.match=-Q(A.expression)},optional:S,zero_or_more:S,one_or_more:x,repeated:function(A){var M=Q(A.expression),L=A.delimiter?Q(A.delimiter):g,Z=A.min?A.min:A.max;return Z.type!=="constant"||A.max.type!=="constant"?A.match=d:A.max.value===0||A.max.value!==null&&Z.value>A.max.value?A.match=g:M===g?A.match=Z.value===0?h:g:M===h?A.delimiter&&Z.value>=2?A.match=L:A.match=h:A.delimiter&&Z.value>=2?A.match=L===g?g:d:A.match=Z.value===0?h:d},group:x,semantic_and:y,semantic_not:y,rule_ref:function(A){var M=o.findRule(m,A.name);return M?A.match=Q(M):d},library_ref:function(){return 0},literal:function(A){var M=A.value.length===0?h:d;return A.match=M},class:function(A){var M=A.parts.length===0?g:d;return A.match=M},any:y});Q(m)},l=K(),o=he(),f=ft(),h=1,d=0,g=-1;a.ALWAYS_MATCH=h,a.SOMETIMES_MATCH=d,a.NEVER_MATCH=g,r.exports=a}),ir=U(function(s,r){var a=function(S,x){var w=new h,Q=new h({stringify:JSON.stringify,convert:function(X){return{value:X.parts,inverted:X.inverted,ignoreCase:X.ignoreCase,unicode:X.unicode}}}),A=new h({stringify:JSON.stringify}),M=new h,L=[],Z=[];function z(X,N,Y){var ae={predicate:X,params:N,body:Y.code,location:Y.codeLocation},ue=JSON.stringify(ae),we=L.findIndex(function(_e){return JSON.stringify(_e)===ue});return we===-1?L.push(ae)-1:we}function j(X){return Z.push(X)-1}function B(X){var N={};return Object.keys(X).forEach(function(Y){N[Y]=X[Y]}),N}function G(X){for(var N=arguments.length,Y=new Array(N>1?N-1:0),ae=1;ae<N;ae++)Y[ae-1]=arguments[ae];var ue;return(ue=X).concat.apply(ue,_to_consumable_array(Y))}function D(X,N,Y,ae){return X===g?Y:X===y?ae:N.concat([Y.length,ae.length],Y,ae)}function I(X,N){return X.concat([N.length],N)}function W(X,N,Y,ae){var ue=Object.keys(Y).map(function(we){return ae-Y[we]});return[o.CALL,X,N,ue.length].concat(ue)}function se(X,N,Y){var ae=X.match||0;return G([o.PUSH_CURR_POS],[o.SILENT_FAILS_ON],be(X,{sp:Y.sp+1,env:B(Y.env),action:null}),[o.SILENT_FAILS_OFF],D(N?-ae:ae,[N?o.IF_ERROR:o.IF_NOT_ERROR],G([o.POP],[N?o.POP:o.POP_CURR_POS],[o.PUSH_UNDEFINED]),G([o.POP],[N?o.POP_CURR_POS:o.POP],[o.PUSH_FAILED])))}function ce(X,N,Y){var ae=z(!0,Object.keys(Y.env),X);return G([o.UPDATE_SAVED_POS],W(ae,0,Y.env,Y.sp),D(X.match||0,[o.IF],G([o.POP],N?[o.PUSH_FAILED]:[o.PUSH_UNDEFINED]),G([o.POP],N?[o.PUSH_UNDEFINED]:[o.PUSH_FAILED])))}function Se(X){return I([o.WHILE_NOT_ERROR],G([o.APPEND],X))}function ve(X){var N=X;return new Error('Unknown boundary type "'.concat(N.type,'" for the "repeated" node'))}function $e(X,N,Y,ae){switch(X.type){case"constant":return{pre:[],post:[],sp:Y};case"variable":return X.sp=ae+Y-N[X.value],{pre:[],post:[],sp:Y};case"function":{X.sp=ae;var ue=z(!0,Object.keys(N),{code:X.value,codeLocation:X.codeLocation});return{pre:W(ue,0,N,Y),post:[o.NIP],sp:Y+1}}default:throw ve(X)}}function Re(X,N){if(N.value!==null){var Y=N.type==="constant"?[o.IF_GE,N.value]:[o.IF_GE_DYNAMIC,N.sp||0];return D(m,Y,[o.PUSH_FAILED],X)}return X}function re(X,N){var Y=N.type==="constant"?[o.IF_LT,N.value]:[o.IF_LT_DYNAMIC,N.sp||0];return G(X,D(m,Y,[o.POP,o.POP_CURR_POS,o.PUSH_FAILED],[o.NIP]))}function Oe(X,N,Y,ae,ue){return X?G([o.PUSH_CURR_POS],be(X,{sp:ae.sp+ue+1,env:B(ae.env),action:null}),D(X.match||0,[o.IF_NOT_ERROR],G([o.POP],Y,D(-N,[o.IF_ERROR],[o.POP,o.POP_CURR_POS,o.PUSH_FAILED],[o.NIP])),[o.NIP])):Y}function Ee(X){return x&&x.output==="source-and-map"&&Object.keys(X).forEach(function(N){var Y=X[N];X[N]=function(ae){for(var ue=arguments.length,we=new Array(ue>1?ue-1:0),_e=1;_e<ue;_e++)we[_e-1]=arguments[_e];var me=Y.apply(void 0,[ae].concat(_to_consumable_array(we)));return me===void 0||!ae.location?me:G([o.SOURCE_MAP_PUSH,j(ae.location)],me,[o.SOURCE_MAP_POP])}}),f.build(X)}var be=Ee({grammar:function(X){X.rules.forEach(be),X.literals=w.items,X.classes=Q.items,X.expectations=A.items,X.importedNames=M.items,X.functions=L,X.locations=Z},rule:function(X){X.bytecode=be(X.expression,{sp:-1,env:{},pluck:[],action:null})},named:function(X,N){var Y=X.match||0,ae=Y===g?-1:A.add({type:"rule",value:X.name});return G([o.SILENT_FAILS_ON],be(X.expression,N),[o.SILENT_FAILS_OFF],D(-Y,[o.IF_ERROR],[o.FAIL,ae],[]))},choice:function(X,N){function Y(ae,ue){var we=ae[0].match||0,_e=be(ae[0],{sp:ue.sp,env:B(ue.env),action:null});return we===g?_e:G(_e,ae.length>1?D(m,[o.IF_ERROR],G([o.POP],Y(ae.slice(1),ue)),[]):[])}return Y(X.alternatives,N)},action:function(X,N){var Y=B(N.env),ae=X.expression.type!=="sequence"||X.expression.elements.length===0,ue=be(X.expression,{sp:N.sp+(ae?1:0),env:Y,action:X}),we=X.expression.match||0,_e=ae&&we!==y?z(!1,Object.keys(Y),X):-1;return ae?G([o.PUSH_CURR_POS],ue,D(we,[o.IF_NOT_ERROR],G([o.LOAD_SAVED_POS,1],W(_e,1,Y,N.sp+2)),[]),[o.NIP]):ue},sequence:function(X,N){function Y(ae,ue){if(ae.length>0){var we=X.elements.length-ae.length+1;return G(be(ae[0],{sp:ue.sp,env:ue.env,pluck:ue.pluck,action:null}),D(ae[0].match||0,[o.IF_NOT_ERROR],Y(ae.slice(1),{sp:ue.sp+1,env:ue.env,pluck:ue.pluck,action:ue.action}),G(we>1?[o.POP_N,we]:[o.POP],[o.POP_CURR_POS],[o.PUSH_FAILED])))}else{if(ue.pluck&&ue.pluck.length>0)return G([o.PLUCK,X.elements.length+1,ue.pluck.length],ue.pluck.map(function(me){return ue.sp-me}));if(ue.action){var _e=z(!1,Object.keys(ue.env),ue.action);return G([o.LOAD_SAVED_POS,X.elements.length],W(_e,X.elements.length+1,ue.env,ue.sp))}else return G([o.WRAP,X.elements.length],[o.NIP])}}return G([o.PUSH_CURR_POS],Y(X.elements,{sp:N.sp+1,env:N.env,pluck:[],action:N.action}))},labeled:function(X,N){var Y=N.env,ae=X.label,ue=N.sp+1;ae&&(Y=B(N.env),N.env[ae]=ue),X.pick&&N.pluck.push(ue);var we=be(X.expression,{sp:N.sp,env:Y,action:null});return ae&&X.labelLocation&&x&&x.output==="source-and-map"?G([o.SOURCE_MAP_LABEL_PUSH,ue,w.add(ae),j(X.labelLocation)],we,[o.SOURCE_MAP_LABEL_POP,ue]):we},text:function(X,N){return G([o.PUSH_CURR_POS],be(X.expression,{sp:N.sp+1,env:B(N.env),action:null}),D(X.match||0,[o.IF_NOT_ERROR],G([o.POP],[o.TEXT]),[o.NIP]))},simple_and:function(X,N){return se(X.expression,!1,N)},simple_not:function(X,N){return se(X.expression,!0,N)},optional:function(X,N){return G(be(X.expression,{sp:N.sp,env:B(N.env),action:null}),D(-(X.expression.match||0),[o.IF_ERROR],G([o.POP],[o.PUSH_NULL]),[]))},zero_or_more:function(X,N){var Y=be(X.expression,{sp:N.sp+1,env:B(N.env),action:null});return G([o.PUSH_EMPTY_ARRAY],Y,Se(Y),[o.POP])},one_or_more:function(X,N){var Y=be(X.expression,{sp:N.sp+1,env:B(N.env),action:null});return G([o.PUSH_EMPTY_ARRAY],Y,D(X.expression.match||0,[o.IF_NOT_ERROR],G(Se(Y),[o.POP]),G([o.POP],[o.POP],[o.PUSH_FAILED])))},repeated:function(X,N){var Y=X.min?X.min:X.max,ae=Y.type!=="constant"||Y.value>0,ue=X.max.type!=="constant"&&X.max.value!==null,we=ae?2:1,_e=X.min?$e(X.min,N.env,N.sp,2+(X.max.type==="function"?1:0)):{pre:[],post:[],sp:N.sp},me=$e(X.max,N.env,_e.sp,we),Ne=be(X.expression,{sp:me.sp+we,env:B(N.env),action:null}),De=X.delimiter!==null?be(X.expression,{sp:me.sp+we+1,env:B(N.env),action:null}):Ne,yt=Oe(X.delimiter,X.expression.match||0,De,N,we),Te=Re(yt,X.max),je=ue?Re(Ne,X.max):Ne,xe=G(ae?[o.PUSH_CURR_POS]:[],[o.PUSH_EMPTY_ARRAY],je,Se(Te),[o.POP]);return G(_e.pre,me.pre,ae?re(xe,Y):xe,me.post,_e.post)},group:function(X,N){return be(X.expression,{sp:N.sp,env:B(N.env),action:null})},semantic_and:function(X,N){return ce(X,!1,N)},semantic_not:function(X,N){return ce(X,!0,N)},rule_ref:function(X){return[o.RULE,l.indexOfRule(S,X.name)]},library_ref:function(X){return[o.LIBRARY_RULE,X.libraryNumber,M.add(X.name)]},literal:function(X){if(X.value.length>0){var N=X.match||0,Y=N===m||N===g&&!X.ignoreCase?w.add(X.ignoreCase?X.value.toLowerCase():X.value):-1,ae=N!==g?A.add({type:"literal",value:X.value,ignoreCase:X.ignoreCase}):-1;return D(N,X.ignoreCase?[o.MATCH_STRING_IC,Y]:[o.MATCH_STRING,Y],X.ignoreCase?[o.ACCEPT_N,X.value.length]:[o.ACCEPT_STRING,Y],[o.FAIL,ae])}return[o.PUSH_EMPTY_STRING]},class:function(X){var N=X.match||0,Y=N===m?Q.add(X):-1,ae=N!==g?A.add({type:"class",value:X.parts,inverted:X.inverted,ignoreCase:X.ignoreCase,unicode:X.unicode}):-1;return D(N,[X.unicode?o.MATCH_UNICODE_CLASS:o.MATCH_CHAR_CLASS,Y],[o.ACCEPT_N,X.unicode?-1:1],[o.FAIL,ae])},any:function(X){var N=X.match||0,Y=N!==g?A.add({type:"any"}):-1;return D(N,[o.MATCH_ANY],[o.ACCEPT_N,1],[o.FAIL,Y])}});be(S)},l=he(),o=Ht(),f=K(),h=tr(),d=ht(),g=d.ALWAYS_MATCH,m=d.SOMETIMES_MATCH,y=d.NEVER_MATCH;r.exports=a}),lr=U(function(s){var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");s.encode=function(a){if(0<=a&&a<r.length)return r[a];throw new TypeError("Must be between 0 and 63: "+a)}}),pr=U(function(s){var r=function(d){return d<0?(-d<<1)+1:(d<<1)+0},a=lr(),l=5,o=1<<l,f=o-1,h=o;s.encode=function(d){var g="",m,y=r(d);do m=y&f,y>>>=l,y>0&&(m|=h),g+=a.encode(m);while(y>0);return g}}),mt=U(function(s){var r=function(D,I,W){if(I in D)return D[I];if(arguments.length===3)return W;throw new Error('"'+I+'" is a required argument.')},a=function(D){return D},l=function(D){return f(D)?"$"+D:D},o=function(D){return f(D)?D.slice(1):D},f=function(D){if(!D)return!1;var I=D.length;if(I<9||D.charCodeAt(I-1)!==95||D.charCodeAt(I-2)!==95||D.charCodeAt(I-3)!==111||D.charCodeAt(I-4)!==116||D.charCodeAt(I-5)!==111||D.charCodeAt(I-6)!==114||D.charCodeAt(I-7)!==112||D.charCodeAt(I-8)!==95||D.charCodeAt(I-9)!==95)return!1;for(var W=I-10;W>=0;W--)if(D.charCodeAt(W)!==36)return!1;return!0},h=function(D,I){return D===I?0:D===null?1:I===null?-1:D>I?1:-1},d=function(D,I){var W=D.generatedLine-I.generatedLine;return W!==0||(W=D.generatedColumn-I.generatedColumn,W!==0)||(W=h(D.source,I.source),W!==0)||(W=D.originalLine-I.originalLine,W!==0)||(W=D.originalColumn-I.originalColumn,W!==0)?W:h(D.name,I.name)},g=function(D){return function(I){var W=x(I),se=S(I),ce=new URL(I,se);D(ce);var Se=ce.toString();return W==="absolute"?Se:W==="scheme-relative"?Se.slice(Z.length):W==="path-absolute"?Se.slice(z.length):w(se,Se)}},m=function(D,I){return new URL(D,I).toString()},y=function(D,I){var W=0;do{var se=D+W++;if(I.indexOf(se)===-1)return se}while(!0)},S=function(D){for(var I=D.split("..").length-1,W=y("p",D),se="".concat(z,"/"),ce=0;ce<I;ce++)se+="".concat(W,"/");return se},x=function(D){return D[0]==="/"?D[1]==="/"?"scheme-relative":"path-absolute":j.test(D)?"absolute":"path-relative"},w=function(D,I){typeof D=="string"&&(D=new URL(D)),typeof I=="string"&&(I=new URL(I));var W=I.pathname.split("/"),se=D.pathname.split("/");for(se.length>0&&!se[se.length-1]&&se.pop();W.length>0&&se.length>0&&W[0]===se[0];)W.shift(),se.shift();return se.map(function(){return".."}).concat(W).join("/")+I.search+I.hash},Q=function(D,I){var W=x(I),se=x(D);if(D=B(D),W==="absolute")return m(I,void 0);if(se==="absolute")return m(I,D);if(W==="scheme-relative")return G(I);if(se==="scheme-relative")return m(I,m(D,z)).slice(Z.length);if(W==="path-absolute")return G(I);if(se==="path-absolute")return m(I,m(D,z)).slice(z.length);var ce=S(I+D),Se=m(I,m(D,ce));return w(ce,Se)},A=function(D,I){var W=M(D,I);return typeof W=="string"?W:G(I)},M=function(D,I){if(x(D)!==x(I))return null;var W=S(D+I),se=new URL(D,W),ce=new URL(I,W);try{new URL("",ce.toString())}catch{return null}return ce.protocol!==se.protocol||ce.user!==se.user||ce.password!==se.password||ce.hostname!==se.hostname||ce.port!==se.port?null:w(se,ce)};s.getArg=r;var L=(function(){return!("__proto__"in Object.create(null))})();s.toSetString=L?a:l,s.fromSetString=L?a:o,s.compareByGeneratedPositionsInflated=d;var Z="http:",z="".concat(Z,"//host"),j=/^[A-Za-z0-9\+\-\.]+:/,B=g(function(D){D.pathname=D.pathname.replace(/\/?$/,"/")}),G=g(function(D){});s.normalize=G,s.join=Q,s.relative=A}),yr=U(function(s){var r=(function(){function a(){_class_call_check(this,a),this._array=[],this._set=new Map}return _create_class(a,[{key:"size",value:function(){return this._set.size}},{key:"add",value:function(l,o){var f=this.has(l),h=this._array.length;(!f||o)&&this._array.push(l),f||this._set.set(l,h)}},{key:"has",value:function(l){return this._set.has(l)}},{key:"indexOf",value:function(l){var o=this._set.get(l);if(o>=0)return o;throw new Error('"'+l+'" is not in the set.')}},{key:"at",value:function(l){if(l>=0&&l<this._array.length)return this._array[l];throw new Error("No element indexed by "+l)}},{key:"toArray",value:function(){return this._array.slice()}}],[{key:"fromArray",value:function(l,o){for(var f=new a,h=0,d=l.length;h<d;h++)f.add(l[h],o);return f}}]),a})();s.ArraySet=r}),xr=U(function(s){var r=function(o,f){var h=o.generatedLine,d=f.generatedLine,g=o.generatedColumn,m=f.generatedColumn;return d>h||d==h&&m>=g||a.compareByGeneratedPositionsInflated(o,f)<=0},a=mt(),l=(function(){function o(){_class_call_check(this,o),this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}return _create_class(o,[{key:"unsortedForEach",value:function(f,h){this._array.forEach(f,h)}},{key:"add",value:function(f){r(this._last,f)?(this._last=f,this._array.push(f)):(this._sorted=!1,this._array.push(f))}},{key:"toArray",value:function(){return this._sorted||(this._array.sort(a.compareByGeneratedPositionsInflated),this._sorted=!0),this._array}}]),o})();s.MappingList=l}),Jt=U(function(s){var r=pr(),a=mt(),l=yr().ArraySet,o=xr().MappingList,f=(function(){function h(d){_class_call_check(this,h),d||(d={}),this._file=a.getArg(d,"file",null),this._sourceRoot=a.getArg(d,"sourceRoot",null),this._skipValidation=a.getArg(d,"skipValidation",!1),this._sources=new l,this._names=new l,this._mappings=new o,this._sourcesContents=null}return _create_class(h,[{key:"addMapping",value:function(d){var g=a.getArg(d,"generated"),m=a.getArg(d,"original",null),y=a.getArg(d,"source",null),S=a.getArg(d,"name",null);this._skipValidation||this._validateMapping(g,m,y,S),y!=null&&(y=String(y),this._sources.has(y)||this._sources.add(y)),S!=null&&(S=String(S),this._names.has(S)||this._names.add(S)),this._mappings.add({generatedLine:g.line,generatedColumn:g.column,originalLine:m&&m.line,originalColumn:m&&m.column,source:y,name:S})}},{key:"setSourceContent",value:function(d,g){var m=d;this._sourceRoot!=null&&(m=a.relative(this._sourceRoot,m)),g!=null?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[a.toSetString(m)]=g):this._sourcesContents&&(delete this._sourcesContents[a.toSetString(m)],Object.keys(this._sourcesContents).length===0&&(this._sourcesContents=null))}},{key:"applySourceMap",value:function(d,g,m){var y=g;if(g==null){if(d.file==null)throw new Error(`SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map's "file" property. Both were omitted.`);y=d.file}var S=this._sourceRoot;S!=null&&(y=a.relative(S,y));var x=this._mappings.toArray().length>0?new l:this._sources,w=new l;this._mappings.unsortedForEach(function(Q){if(Q.source===y&&Q.originalLine!=null){var A=d.originalPositionFor({line:Q.originalLine,column:Q.originalColumn});A.source!=null&&(Q.source=A.source,m!=null&&(Q.source=a.join(m,Q.source)),S!=null&&(Q.source=a.relative(S,Q.source)),Q.originalLine=A.line,Q.originalColumn=A.column,A.name!=null&&(Q.name=A.name))}var M=Q.source;M!=null&&!x.has(M)&&x.add(M);var L=Q.name;L!=null&&!w.has(L)&&w.add(L)},this),this._sources=x,this._names=w,d.sources.forEach(function(Q){var A=d.sourceContentFor(Q);A!=null&&(m!=null&&(Q=a.join(m,Q)),S!=null&&(Q=a.relative(S,Q)),this.setSourceContent(Q,A))},this)}},{key:"_validateMapping",value:function(d,g,m,y){if(g&&typeof g.line!="number"&&typeof g.column!="number")throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if(!(d&&"line"in d&&"column"in d&&d.line>0&&d.column>=0&&!g&&!m&&!y)&&!(d&&"line"in d&&"column"in d&&g&&"line"in g&&"column"in g&&d.line>0&&d.column>=0&&g.line>0&&g.column>=0&&m))throw new Error("Invalid mapping: "+JSON.stringify({generated:d,source:m,original:g,name:y}))}},{key:"_serializeMappings",value:function(){for(var g=0,m=1,y=0,S=0,x=0,w=0,Q="",A,M,L,Z,z=this._mappings.toArray(),j=0,B=z.length;j<B;j++){if(M=z[j],A="",M.generatedLine!==m)for(g=0;M.generatedLine!==m;)A+=";",m++;else if(j>0){if(!a.compareByGeneratedPositionsInflated(M,z[j-1]))continue;A+=","}A+=r.encode(M.generatedColumn-g),g=M.generatedColumn,M.source!=null&&(Z=this._sources.indexOf(M.source),A+=r.encode(Z-w),w=Z,A+=r.encode(M.originalLine-1-S),S=M.originalLine-1,A+=r.encode(M.originalColumn-y),y=M.originalColumn,M.name!=null&&(L=this._names.indexOf(M.name),A+=r.encode(L-x),x=L)),Q+=A}return Q}},{key:"_generateSourcesContent",value:function(d,g){return d.map(function(m){if(!this._sourcesContents)return null;g!=null&&(m=a.relative(g,m));var y=a.toSetString(m);return Object.prototype.hasOwnProperty.call(this._sourcesContents,y)?this._sourcesContents[y]:null},this)}},{key:"toJSON",value:function(){var g={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return this._file!=null&&(g.file=this._file),this._sourceRoot!=null&&(g.sourceRoot=this._sourceRoot),this._sourcesContents&&(g.sourcesContent=this._generateSourcesContent(g.sources,g.sourceRoot)),g}},{key:"toString",value:function(){return JSON.stringify(this.toJSON())}}],[{key:"fromSourceMap",value:function(d){var g=d.sourceRoot,m=new h({file:d.file,sourceRoot:g});return d.eachMapping(function(y){var S={generated:{line:y.generatedLine,column:y.generatedColumn}};y.source!=null&&(S.source=y.source,g!=null&&(S.source=a.relative(g,S.source)),S.original={line:y.originalLine,column:y.originalColumn},y.name!=null&&(S.name=y.name)),m.addMapping(S)}),d.sources.forEach(function(y){var S=y;g!=null&&(S=a.relative(g,y)),m._sources.has(S)||m._sources.add(S);var x=d.sourceContentFor(y);x!=null&&m.setSourceContent(y,x)}),m}}]),h})();f.prototype._version=3,s.SourceMapGenerator=f}),Ar=U(function(s){var r=Jt().SourceMapGenerator,a=mt(),l=/(\r?\n)/,o=10,f="$$$isSourceNode$$$",h=(function(){function d(g,m,y,S,x){_class_call_check(this,d),this.children=[],this.sourceContents={},this.line=g??null,this.column=m??null,this.source=y??null,this.name=x??null,this[f]=!0,S!=null&&this.add(S)}return _create_class(d,[{key:"add",value:function(g){if(Array.isArray(g))g.forEach(function(m){this.add(m)},this);else if(g[f]||typeof g=="string")g&&this.children.push(g);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+g);return this}},{key:"prepend",value:function(g){if(Array.isArray(g))for(var m=g.length-1;m>=0;m--)this.prepend(g[m]);else if(g[f]||typeof g=="string")this.children.unshift(g);else throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+g);return this}},{key:"walk",value:function(g){for(var m,y=0,S=this.children.length;y<S;y++)m=this.children[y],m[f]?m.walk(g):m!==""&&g(m,{source:this.source,line:this.line,column:this.column,name:this.name})}},{key:"join",value:function(g){var m,y,S=this.children.length;if(S>0){for(m=[],y=0;y<S-1;y++)m.push(this.children[y]),m.push(g);m.push(this.children[y]),this.children=m}return this}},{key:"replaceRight",value:function(g,m){var y=this.children[this.children.length-1];return y[f]?y.replaceRight(g,m):typeof y=="string"?this.children[this.children.length-1]=y.replace(g,m):this.children.push("".replace(g,m)),this}},{key:"setSourceContent",value:function(g,m){this.sourceContents[a.toSetString(g)]=m}},{key:"walkSourceContents",value:function(g){for(var m=0,y=this.children.length;m<y;m++)this.children[m][f]&&this.children[m].walkSourceContents(g);for(var S=Object.keys(this.sourceContents),x=0,w=S.length;x<w;x++)g(a.fromSetString(S[x]),this.sourceContents[S[x]])}},{key:"toString",value:function(){var m="";return this.walk(function(y){m+=y}),m}},{key:"toStringWithSourceMap",value:function(g){var m={code:"",line:1,column:0},y=new r(g),S=!1,x=null,w=null,Q=null,A=null;return this.walk(function(M,L){m.code+=M,L.source!==null&&L.line!==null&&L.column!==null?((x!==L.source||w!==L.line||Q!==L.column||A!==L.name)&&y.addMapping({source:L.source,original:{line:L.line,column:L.column},generated:{line:m.line,column:m.column},name:L.name}),x=L.source,w=L.line,Q=L.column,A=L.name,S=!0):S&&(y.addMapping({generated:{line:m.line,column:m.column}}),x=null,S=!1);for(var Z=0,z=M.length;Z<z;Z++)M.charCodeAt(Z)===o?(m.line++,m.column=0,Z+1===z?(x=null,S=!1):S&&y.addMapping({source:L.source,original:{line:L.line,column:L.column},generated:{line:m.line,column:m.column},name:L.name})):m.column++}),this.walkSourceContents(function(M,L){y.setSourceContent(M,L)}),{code:m.code,map:y}}}],[{key:"fromStringWithSourceMap",value:function(g,m,y){var S=new d,x=g.split(l),w=0,Q=function(){var B=D(),G=D()||"";return B+G;function D(){return w<x.length?x[w++]:void 0}},A=1,M=0,L=null,Z;return m.eachMapping(function(j){if(L!==null)if(A<j.generatedLine)z(L,Q()),A++,M=0;else{Z=x[w]||"";var B=Z.substr(0,j.generatedColumn-M);x[w]=Z.substr(j.generatedColumn-M),M=j.generatedColumn,z(L,B),L=j;return}for(;A<j.generatedLine;)S.add(Q()),A++;M<j.generatedColumn&&(Z=x[w]||"",S.add(Z.substr(0,j.generatedColumn)),x[w]=Z.substr(j.generatedColumn),M=j.generatedColumn),L=j},this),w<x.length&&(L&&z(L,Q()),S.add(x.splice(w).join(""))),m.sources.forEach(function(j){var B=m.sourceContentFor(j);B!=null&&(y!=null&&(j=a.join(y,j)),S.setSourceContent(j,B))}),S;function z(j,B){if(j===null||j.source===void 0)S.add(B);else{var G=y?a.join(y,j.source):j.source;S.add(new d(j.originalLine,j.originalColumn,G,B,j.name))}}}}]),d})();s.SourceNode=h}),Kt=U(function(s){s.SourceMapGenerator=Jt().SourceMapGenerator,s.SourceNode=Ar().SourceNode}),Rr=U(function(s,r){var a=Kt(),l=a.SourceNode,o=Ve(),f=(function(){function h(d,g,m,y){_class_call_check(this,h),this.sp=-1,this.maxSp=-1,this.varName=g,this.ruleName=d,this.type=m,this.bytecode=y,this.labels={},this.sourceMapStack=[]}return _create_class(h,[{key:"name",value:function(d){if(d<0)throw new RangeError("Rule '".concat(this.ruleName,"': The variable stack underflow: attempt to use a variable '").concat(this.varName,"<x>' at an index ").concat(d,`.
Bytecode: `).concat(this.bytecode));return this.varName+d}},{key:"push",value:function(d){++this.sp>this.maxSp&&(this.maxSp=this.sp);var g=this.labels[this.sp],m=[this.name(this.sp)," = ",d,";"];if(g)if(this.sourceMapStack.length){var y=h.sourceNode(g.location,m.splice(0,2),g.label),S=this.sourceMapPopInternal(),x=S.parts,w=S.location,Q=w.start.offset<g.location.end.offset?{start:g.location.end,end:w.end,source:w.source}:w,A=h.sourceNode(Q,m.concat(`
`));return this.sourceMapStack.push([x,x.length+1,w]),new l(null,null,g.location.source,[y,A])}else return h.sourceNode(g.location,m.concat(`
`));return m.join("")}},{key:"pop",value:function(d){var g=this;return d!==void 0?(this.sp-=d,Array.from({length:d},function(m,y){return g.name(g.sp+1+y)})):this.name(this.sp--)}},{key:"top",value:function(){return this.name(this.sp)}},{key:"index",value:function(d){if(d<0)throw new RangeError("Rule '".concat(this.ruleName,"': The variable stack overflow: attempt to get a variable at a negative index ").concat(d,`.
Bytecode: `).concat(this.bytecode));return this.name(this.sp-d)}},{key:"result",value:function(){if(this.maxSp<0)throw new RangeError("Rule '".concat(this.ruleName,`': The variable stack is empty, can't get the result.
Bytecode: `).concat(this.bytecode));return this.name(0)}},{key:"defines",value:function(){var g=this;return this.maxSp<0?"":this.type+" "+Array.from({length:this.maxSp+1},function(m,y){return g.name(y)}).join(", ")+";"}},{key:"checkedIf",value:function(d,g,m){var y=this.sp,S=g();if(!m)return[S];var x=this.sp;this.sp=y;var w=m();if(x!==this.sp)throw new Error("Rule '"+this.ruleName+"', position "+d+": Branches of a condition can't move the stack pointer differently (before: "+y+", after then: "+x+", after else: "+this.sp+"). Bytecode: "+this.bytecode);return[S,w]}},{key:"checkedLoop",value:function(d,g){var m=this.sp,y=g();if(m!==this.sp)throw new Error("Rule '"+this.ruleName+"', position "+d+": Body of a loop can't move the stack pointer (before: "+m+", after: "+this.sp+"). Bytecode: "+this.bytecode);return y}},{key:"sourceMapPush",value:function(d,g){if(this.sourceMapStack.length){var m=this.sourceMapStack[this.sourceMapStack.length-1];m[2].start.offset===g.start.offset&&m[2].end.offset>g.end.offset&&(m[2]={start:g.end,end:m[2].end,source:m[2].source})}this.sourceMapStack.push([d,d.length,g])}},{key:"sourceMapPopInternal",value:function(){var g=this.sourceMapStack.pop();if(!g)throw new RangeError("Rule '".concat(this.ruleName,`': Attempting to pop an empty source map stack.
Bytecode: `).concat(this.bytecode));var m=_sliced_to_array(g,3),y=m[0],S=m[1],x=m[2],w=y.splice(S).map(function(A){return _instanceof(A,l)?A:A+`
`});if(w.length){var Q=o.offsetStart(x);y.push(new l(Q.line,Q.column-1,String(x.source),w))}return{parts:y,location:x}}},{key:"sourceMapPop",value:function(d){var g=this.sourceMapPopInternal(),m=g.location;if(this.sourceMapStack.length&&m.end.offset<this.sourceMapStack[this.sourceMapStack.length-1][2].end.offset){var y=this.sourceMapPopInternal(),S=y.parts,x=y.location,w=x.start.offset<m.end.offset?{start:m.end,end:x.end,source:x.source}:x;this.sourceMapStack.push([S,S.length+(d||0),w])}}}],[{key:"sourceNode",value:function(d,g,m){var y=o.offsetStart(d);return new l(y.line,y.column?y.column-1:null,String(d.source),g,m)}}]),h})();r.exports=f}),es=U(function(s){s.version="5.0.6"}),Qe=U(function(s){var r=function(h){return h.codePointAt(0).toString(16).toUpperCase()},a=function(h){return(typeof h>"u"?"undefined":_type_of(h))=="object"?"\\\\".concat(h.value):h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\v").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(RegExp("[\\u{10000}-\\u{10FFFF}]","gu"),function(d){return"\\u{".concat(r(d),"}")}).replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(d){return"\\x"+r(d)}).replace(/[\u0100-\u0FFF]/g,function(d){return"\\u0"+r(d)}).replace(/[\u1000-\uFFFF]/g,function(d){return"\\u"+r(d)})},l=function(h){return(typeof h>"u"?"undefined":_type_of(h))=="object"?"\\".concat(h.value):h.replace(/\\/g,"\\\\").replace(/\//g,"\\/").replace(/]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\v/g,"\\v").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(d){return"\\x0"+r(d)}).replace(/[\x10-\x1F\x7F-\xFF]/g,function(d){return"\\x"+r(d)}).replace(RegExp("[\\u{10000}-\\u{10FFFF}]","gu"),function(d){return"\\u{"+r(d)+"}"}).replace(/[\u0100-\u0FFF]/g,function(d){return"\\u0"+r(d)}).replace(/[\u1000-\uFFFF]/g,function(d){return"\\u"+r(d)})},o=function(h){for(var d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=h.length%3,m=h.length-g,y="",S=0;S<m;S+=3)y+=d[h[S]>>2],y+=d[(h[S]&3)<<4|h[S+1]>>4],y+=d[(h[S+1]&15)<<2|h[S+2]>>6],y+=d[h[S+2]&63];return g===1?(y+=d[h[m]>>2],y+=d[(h[m]&3)<<4],y+="=="):g===2&&(y+=d[h[m]>>2],y+=d[(h[m]&3)<<4|h[m+1]>>4],y+=d[(h[m+1]&15)<<2],y+="="),y},f=function(h){var d=h[Symbol.iterator](),g=d.next();return g.done||!d.next().done?-1:g.value.codePointAt(0)};s.hex=r,s.stringEscape=a,s.regexpClassEscape=l,s.base64=o,s.codePointLen1=f}),ts=U(function(s,r){var a=function(d,g){g=g!==void 0?g:{};var m={},y=g.grammarSource,S={Grammar:sn,ImportsAndSource:Kr},x=sn,w="import",Q=";",A=",",M="*",L="as",Z="{",z="}",j="from",B="=",G="/",D="@",I=":",W="|",se="..",ce="(",Se=")",ve=".",$e=`
`,Re=`\r
`,re="/*",Oe="*/",Ee="//",be="\\",X="i",N='"',Y="'",ae="[",ue="^",we="]",_e="p",me="_",Ne="u",De="-",yt="0",Te="b",je="f",xe="n",ke="r",Le="t",Ce="v",pt="x",ye=/^[!$&]/,Ft=/^[*-+?]/,Xe=/^[!&]/,wt=/^[\0-\uD7FF\uE000-\uFFFF]/,en=/^[\uD800-\uDBFF]/,gi=/^[\uDC00-\uDFFF]/,Ct=/^[\uD800-\uDFFF]/,Un=RegExp("^[\\t\\v-\\f \\p{Zs}\\xA0\\uFEFF]","u"),Bi=/^[\n\r\u2028\u2029]/,zi=/^[\r\u2028-\u2029]/,gt=RegExp("^[\\p{ID_Start}_]","u"),Et=RegExp("^[$\\p{ID_Continue}]","u"),At=/^[\n\r"\\\u2028-\u2029]/,Ut=/^[\n\r'\\\u2028-\u2029]/,Vt=/^[a-z]/i,Dt=/^[\n\r\\-\]\u2028-\u2029]/,bt=/^["'\\]/,Je=/^[0-9pux]/,Tt=/^[0-9]/,qt=/^[0-9a-f]/i,ri=/^[{}]/,tl=Is(),Pr=qe("import",!1),Oi=qe(";",!1),yi=qe(",",!1),Si=qe("*",!1),Mr=qe("as",!1),dn=qe("{",!1),ai=qe("}",!1),Ss=qe("from",!1),Dr=qe("=",!1),ji=qe("/",!1),ic=qe("@",!1),vs=qe(":",!1),bs=St(["!","$","&"],!1,!1,!1),xs=St([["*","+"],"?"],!1,!1,!1),ya=qe("|",!1),nl=qe("..",!1),ks=qe("(",!1),ws=qe(")",!1),Vn=qe(".",!1),zt=St(["!","&"],!1,!1,!1),nn=St([["\0",""],["",""]],!1,!1,!1),Xi=St([["\uD800","\uDBFF"]],!1,!1,!1),il=St([["\uDC00","\uDFFF"]],!1,!1,!1),rc=St([["\uD800","\uDFFF"]],!1,!1,!1),ac=In("whitespace"),Ts=St(["	",["\v","\f"]," ","\\p{Zs}","","\uFEFF"],!1,!1,!0),Lr=St([`
`,"\r","\u2028","\u2029"],!1,!1,!1),rl=In("end of line"),Ui=qe(`
`,!1),Vi=qe(`\r
`,!1),zr=St(["\r",["\u2028","\u2029"]],!1,!1,!1),qi=In("comment"),$t=qe("/*",!1),vi=qe("*/",!1),Cs=qe("//",!1),bi=In("identifier"),Yi=St(["\\p{ID_Start}","_"],!1,!1,!0),Gi=qe("\\",!1),Es=St(["$","\\p{ID_Continue}"],!1,!1,!0),Qs=In("literal"),_s=qe("i",!1),Sa=In("string"),Xr=qe('"',!1),Mn=qe("'",!1),pn=St([`
`,"\r",'"',"\\",["\u2028","\u2029"]],!1,!1,!1),As=St([`
`,"\r","'","\\",["\u2028","\u2029"]],!1,!1,!1),lc=In("character class"),al=qe("[",!1),$s=qe("^",!1),va=qe("]",!1),sc=qe("p",!0),mn=qe("_",!1),ll=St([["a","z"]],!1,!0,!1),ba=qe("u",!1),sl=qe("-",!1),Hi=St([`
`,"\r",["\\","]"],["\u2028","\u2029"]],!1,!1,!1),Ps=qe("0",!1),Rs=St(['"',"'","\\"],!1,!1,!1),Ii=qe("b",!1),oc=qe("f",!1),Ms=qe("n",!1),Ds=qe("r",!1),ol=qe("t",!1),cc=qe("v",!1),uc=St([["0","9"],"p","u","x"],!1,!1,!1),xa=qe("x",!1),qn=St([["0","9"]],!1,!1,!1),cl=St([["0","9"],["a","f"]],!1,!0,!1),ul=In("code block"),Yn=St(["{","}"],!1,!1,!1);function Wi(b,E,$,P){return{type:"grammar",imports:b,topLevelInitializer:E,initializer:$,rules:P,location:He()}}function Ns(b,E){return[b,E]}function fl(b){return{type:"top_level_initializer",code:b,codeLocation:He()}}function Ls(b){return{type:"top_level_initializer",code:b,codeLocation:He()}}function Ur(b,E){return{type:"grammar_import",what:b,from:E,location:He()}}function Gn(b){return{type:"grammar_import",what:[],from:b,location:He()}}function hl(b,E){return E?(E.unshift(b),E):[b]}function Vr(b){return{type:"import_binding_default",binding:b[0],location:b[1]}}function li(b){return[{type:"import_binding_all",binding:b[0],location:b[1]}]}function dl(){return[]}function ka(b,E){return{type:"import_binding_rename",rename:b[0],renameLocation:b[1],binding:E[0],location:E[1]}}function Zs(b){return{type:"import_binding",binding:b[0],location:b[1]}}function wa(b){return{type:"import_module_specifier",module:b,location:He()}}function Ta(b){return[b,He()]}function Bs(b){return[b,He()]}function ln(b){return di.has(b[0])&&si(`Binding identifier can't be a reserved word "`.concat(b[0],'"'),b[1]),b[0]}function xi(b){return{type:"top_level_initializer",code:b[0],codeLocation:b[1],location:He()}}function Ca(b){return{type:"initializer",code:b[0],codeLocation:b[1],location:He()}}function qr(b,E,$){return{type:"rule",name:b[0],nameLocation:b[1],expression:E!==null?{type:"named",name:E,expression:$,location:He()}:$,location:He()}}function fc(b,E){return E.length>0?{type:"choice",alternatives:[b].concat(E),location:He()}:b}function pl(b,E){return E!==null?{type:"action",expression:b,code:E[0],codeLocation:E[1],location:He()}:b}function ml(b,E){return E.length>0||b.type==="labeled"&&b.pick?{type:"sequence",elements:[b].concat(E),location:He()}:b}function Hr(b,E,$){return $.type.startsWith("semantic_")&&si('"@" cannot be used on a semantic predicate',b),{type:"labeled",label:E!==null?E[0]:null,labelLocation:E!==null?E[1]:b,pick:!0,expression:$,location:He()}}function Ea(b,E){return{type:"labeled",label:b[0],labelLocation:b[1],expression:E,location:He()}}function zs(){return He()}function hc(b){return di.has(b[0])&&si(`Label can't be a reserved word "`.concat(b[0],'"'),b[1]),b}function dc(b,E){return{type:l[b],expression:E,location:He()}}function pc(b,E){return{type:o[E],expression:b,location:He()}}function gl(b,E,$){var P=E[0],V=E[1];return V.type==="constant"&&V.value===0&&si("The maximum count of repetitions of the rule must be > 0",V.location),{type:"repeated",min:P,max:V,expression:b,delimiter:$,location:He()}}function mc(b,E){return[b!==null?b:{type:"constant",value:0},E!==null?E:{type:"constant",value:null}]}function gc(b){return[null,b]}function Oc(b){return{type:"constant",value:b,location:He()}}function yc(b){return{type:"variable",value:b[0],location:He()}}function Sc(b){return{type:"function",value:b[0],codeLocation:b[1],location:He()}}function js(b){return b.type==="labeled"||b.type==="sequence"?{type:"group",expression:b,location:He()}:b}function vc(b,E){return{type:"library_ref",name:E[0],library:b[0],libraryNumber:-1,location:He()}}function bc(b){return{type:"rule_ref",name:b[0],location:He()}}function xc(b,E){return{type:f[b],code:E[0],codeLocation:E[1],location:He()}}function kc(b,E){return[b+E.join(""),He()]}function Ol(b,E){return{type:"literal",value:b,ignoreCase:E!==null,location:He()}}function wc(b){return b.join("")}function Tc(b){return b.join("")}function Cc(b,E,$){if(b&&E.length===0)if($.unicode)E=[["\uD800","\uDFFF"]];else return{type:"any",location:He()};return{type:"class",parts:E.filter(function(P){return P!==""}),inverted:!!b,ignoreCase:!!$.ignoreCase,location:He(),unicode:!!$.unicode||E.flat().some(function(P){return(typeof P>"u"?"undefined":_type_of(P))=="object"&&P.unicode||P.codePointAt(0)>65535})}}function Us(b){try{new RegExp("[\\".concat(b,"]"),"u")}catch{si("Invalid Unicode property escape")}return{type:"classEscape",value:b,unicode:!0,location:He()}}function Ec(b){var E=Object.fromEntries(b);return Object.keys(E).length!==b.length&&si("Invalid flags"),E}function Qc(){return["ignoreCase",!0]}function _c(){return["unicode",!0]}function Ac(b,E){return b.codePointAt(0)>E.codePointAt(0)&&si("Invalid character range: "+Lc()+"."),[b,E]}function $c(){return""}function Pc(){return"\0"}function Rc(){return"\b"}function Mc(){return"\f"}function Dc(){return`
`}function yl(){return"\r"}function Ir(){return"	"}function Nc(){return"\v"}function Vs(b){return String.fromCharCode(parseInt(b,16))}function qs(b){return String.fromCharCode(parseInt(b,16))}function Ys(b){return String.fromCodePoint(parseInt(b,16))}function Gs(){return{type:"any",location:He()}}function Hs(b){return[b,He()]}function Fi(b){return parseInt(b,10)}var T=g.peg$currPos|0,Ae=T,Ki=[{line:1,column:1}],gn=T,Wr=g.peg$maxFailExpected||[],J=g.peg$silentFails|0,Hn;if(g.startRule){if(!(g.startRule in S))throw new Error(`Can't start parsing from rule "`+g.startRule+'".');x=S[g.startRule]}function Lc(){return d.substring(Ae,T)}function He(){return Qa(Ae,T)}function si(b,E){throw E=E!==void 0?E:Qa(Ae,T),Zc(b,E)}function Fr(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:T,E=d.codePointAt(b);return E===void 0?"":String.fromCodePoint(E)}function qe(b,E){return{type:"literal",text:b,ignoreCase:E}}function St(b,E,$,P){return{type:"class",parts:b,inverted:E,ignoreCase:$,unicode:P}}function Is(){return{type:"any"}}function Ws(){return{type:"end"}}function In(b){return{type:"other",description:b}}function Fs(b){var E=Ki[b],$;if(E)return E;if(b>=Ki.length)$=Ki.length-1;else for($=b;!Ki[--$];);for(E=Ki[$],E={line:E.line,column:E.column};$<b;)d.charCodeAt($)===10?(E.line++,E.column=1):E.column++,$++;return Ki[b]=E,E}function Qa(b,E,$){var P=Fs(b),V=Fs(E),ne={source:y,start:{offset:b,line:P.line,column:P.column},end:{offset:E,line:V.line,column:V.column}};return ne}function de(b){T<gn||(T>gn&&(gn=T,Wr=[]),Wr.push(b))}function Zc(b,E){return new h(b,null,null,E)}function Bc(b,E,$){return new h(h.buildMessage(b,E),b,E,$)}function sn(){var b,E,$,P,V,ne,Ue,xt;if(b=T,E=Sl(),$=T,P=Ze(),V=wi(),V!==m?$=V:(T=$,$=m),$===m&&($=null),P=T,V=Ze(),ne=no(),ne!==m?P=ne:(T=P,P=m),P===m&&(P=null),V=Ze(),ne=[],Ue=T,xt=Tl(),xt!==m?(Ze(),Ue=xt):(T=Ue,Ue=m),Ue!==m)for(;Ue!==m;)ne.push(Ue),Ue=T,xt=Tl(),xt!==m?(Ze(),Ue=xt):(T=Ue,Ue=m);else ne=m;return ne!==m?(Ae=b,b=Wi(E,$,P,ne)):(T=b,b=m),b}function Kr(){var b,E,$;return b=T,E=eo(),$=Js(),Ae=b,b=Ns(E,$),b}function Js(){var b,E,$,P;for(b=T,E=T,$=[],d.length>T?(P=d.charAt(T),T++):(P=m,J===0&&de(tl));P!==m;)$.push(P),d.length>T?(P=d.charAt(T),T++):(P=m,J===0&&de(tl));return E=d.substring(E,T),Ae=b,E=fl(E),b=E,b}function eo(){var b,E;return b=T,E=T,Sl(),E=d.substring(E,T),Ae=b,E=Ls(E),b=E,b}function Sl(){var b,E;for(b=[],E=vl();E!==m;)b.push(E),E=vl();return b}function vl(){var b,E,$,P,V,ne,Ue,xt;return b=T,Ze(),d.substr(T,6)===w?(E=w,T+=6):(E=m,J===0&&de(Pr)),E!==m?(Ze(),$=bl(),$!==m?(P=Ze(),V=na(),V!==m?(ne=T,Ue=Ze(),d.charCodeAt(T)===59?(xt=Q,T++):(xt=m,J===0&&de(Oi)),xt!==m?(Ue=[Ue,xt],ne=Ue):(T=ne,ne=m),ne===m&&(ne=null),Ae=b,b=Ur($,V)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,Ze(),d.substr(T,6)===w?(E=w,T+=6):(E=m,J===0&&de(Pr)),E!==m?(Ze(),$=oi(),$!==m?(P=T,V=Ze(),d.charCodeAt(T)===59?(ne=Q,T++):(ne=m,J===0&&de(Oi)),ne!==m?(V=[V,ne],P=V):(T=P,P=m),P===m&&(P=null),Ae=b,b=Gn($)):(T=b,b=m)):(T=b,b=m)),b}function bl(){var b,E,$,P,V;return b=ki(),b===m&&(b=Aa(),b===m&&(b=T,E=zc(),E!==m?($=T,Ze(),d.charCodeAt(T)===44?(P=A,T++):(P=m,J===0&&de(yi)),P!==m?(Ze(),V=ki(),V===m&&(V=Aa()),V!==m?$=V:(T=$,$=m)):(T=$,$=m),$===m&&($=null),Ae=b,b=hl(E,$)):(T=b,b=m))),b}function zc(){var b,E;return b=T,E=Wn(),E!==m&&(Ae=b,E=Vr(E)),b=E,b}function ki(){var b,E,$,P;return b=T,d.charCodeAt(T)===42?(E=M,T++):(E=m,J===0&&de(Si)),E!==m?(Ze(),d.substr(T,2)===L?($=L,T+=2):($=m,J===0&&de(Mr)),$!==m?(Ze(),P=Wn(),P!==m?(Ae=b,b=li(P)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function Aa(){var b,E,$,P,V,ne;return b=T,d.charCodeAt(T)===123?(E=Z,T++):(E=m,J===0&&de(dn)),E!==m?(Ze(),d.charCodeAt(T)===125?($=z,T++):($=m,J===0&&de(ai)),$!==m?(Ae=b,b=dl()):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,d.charCodeAt(T)===123?(E=Z,T++):(E=m,J===0&&de(dn)),E!==m?(Ze(),$=xl(),$!==m?(Ze(),P=T,d.charCodeAt(T)===44?(V=A,T++):(V=m,J===0&&de(yi)),V!==m?(ne=Ze(),V=[V,ne],P=V):(T=P,P=m),P===m&&(P=null),d.charCodeAt(T)===125?(V=z,T++):(V=m,J===0&&de(ai)),V!==m?b=$:(T=b,b=m)):(T=b,b=m)):(T=b,b=m)),b}function na(){var b,E,$;return b=T,d.substr(T,4)===j?(E=j,T+=4):(E=m,J===0&&de(Ss)),E!==m?(Ze(),$=oi(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b}function xl(){var b,E,$,P,V,ne,Ue;for(b=T,E=[],$=kl();$!==m;)E.push($),$=T,P=T,V=Ze(),d.charCodeAt(T)===44?(ne=A,T++):(ne=m,J===0&&de(yi)),ne!==m?(Ue=Ze(),V=[V,ne,Ue],P=V):(T=P,P=m),P!==m?(P=kl(),P===m?(T=$,$=m):$=P):$=P;return E.length<1?(T=b,b=m):b=E,b}function kl(){var b,E,$,P;return b=T,E=wl(),E!==m?(Ze(),d.substr(T,2)===L?($=L,T+=2):($=m,J===0&&de(Mr)),$!==m?(Ze(),P=Wn(),P!==m?(Ae=b,b=ka(E,P)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=Wn(),E!==m&&(Ae=b,E=Zs(E)),b=E),b}function oi(){var b,E;return b=T,E=Dn(),E!==m&&(Ae=b,E=wa(E)),b=E,b}function Wn(){var b,E;return b=T,E=to(),E!==m&&(Ae=b,E=Ta(E)),b=E,b}function wl(){var b,E;return b=Fn(),b===m&&(b=T,E=Dn(),E!==m&&(Ae=b,E=Bs(E)),b=E),b}function to(){var b,E;return b=T,E=Fn(),E!==m&&(Ae=b,E=ln(E)),b=E,b}function wi(){var b,E,$,P,V;return b=T,d.charCodeAt(T)===123?(E=Z,T++):(E=m,J===0&&de(dn)),E!==m?($=Qn(),$!==m?(d.charCodeAt(T)===125?(P=z,T++):(P=m,J===0&&de(ai)),P!==m?(V=hi(),V!==m?(Ae=b,b=xi($)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function no(){var b,E,$;return b=T,E=Qn(),E!==m?($=hi(),$!==m?(Ae=b,b=Ca(E)):(T=b,b=m)):(T=b,b=m),b}function Tl(){var b,E,$,P,V,ne;return b=T,E=Fn(),E!==m?(Ze(),$=T,P=Dn(),P!==m?(Ze(),$=P):(T=$,$=m),$===m&&($=null),d.charCodeAt(T)===61?(P=B,T++):(P=m,J===0&&de(Dr)),P!==m?(Ze(),V=$a(),V!==m?(ne=hi(),ne!==m?(Ae=b,b=qr(E,$,V)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function $a(){var b,E,$,P,V,ne;if(b=T,E=Cl(),E!==m){for($=[],P=T,Ze(),d.charCodeAt(T)===47?(V=G,T++):(V=m,J===0&&de(ji)),V!==m?(Ze(),ne=Cl(),ne!==m?P=ne:(T=P,P=m)):(T=P,P=m);P!==m;)$.push(P),P=T,Ze(),d.charCodeAt(T)===47?(V=G,T++):(V=m,J===0&&de(ji)),V!==m?(Ze(),ne=Cl(),ne!==m?P=ne:(T=P,P=m)):(T=P,P=m);Ae=b,b=fc(E,$)}else T=b,b=m;return b}function Cl(){var b,E,$,P;return b=T,E=jc(),E!==m?($=T,Ze(),P=Qn(),P!==m?$=P:(T=$,$=m),$===m&&($=null),Ae=b,b=pl(E,$)):(T=b,b=m),b}function jc(){var b,E,$,P,V;if(b=T,E=El(),E!==m){for($=[],P=T,Ze(),V=El(),V!==m?P=V:(T=P,P=m);P!==m;)$.push(P),P=T,Ze(),V=El(),V!==m?P=V:(T=P,P=m);Ae=b,b=ml(E,$)}else T=b,b=m;return b}function El(){var b,E,$,P;return b=T,E=io(),E!==m?($=_l(),$===m&&($=null),P=ia(),P!==m?(Ae=b,b=Hr(E,$,P)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=_l(),E!==m?($=ia(),$!==m?(Ae=b,b=Ea(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=ia())),b}function io(){var b,E;return b=T,d.charCodeAt(T)===64?(E=D,T++):(E=m,J===0&&de(ic)),E!==m&&(Ae=b,E=zs()),b=E,b}function _l(){var b,E,$;return b=T,E=Fn(),E!==m?(Ze(),d.charCodeAt(T)===58?($=I,T++):($=m,J===0&&de(vs)),$!==m?(Ze(),Ae=b,b=hc(E)):(T=b,b=m)):(T=b,b=m),b}function ia(){var b,E,$;return b=T,E=En(),E!==m?(Ze(),$=ra(),$!==m?(Ae=b,b=dc(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=ra()),b}function En(){var b;return b=d.charAt(T),ye.test(b)?T++:(b=m,J===0&&de(bs)),b}function ra(){var b,E,$;return b=T,E=nr(),E!==m?(Ze(),$=On(),$!==m?(Ae=b,b=pc(E,$)):(T=b,b=m)):(T=b,b=m),b===m&&(b=Ji(),b===m&&(b=nr())),b}function On(){var b;return b=d.charAt(T),Ft.test(b)?T++:(b=m,J===0&&de(xs)),b}function Ji(){var b,E,$,P,V,ne,Ue;return b=T,E=nr(),E!==m?(Ze(),d.charCodeAt(T)===124?($=W,T++):($=m,J===0&&de(ya)),$!==m?(Ze(),P=Al(),P!==m?(Ze(),V=T,d.charCodeAt(T)===44?(ne=A,T++):(ne=m,J===0&&de(yi)),ne!==m?(Ze(),Ue=$a(),Ue!==m?(Ze(),V=Ue):(T=V,V=m)):(T=V,V=m),V===m&&(V=null),d.charCodeAt(T)===124?(ne=W,T++):(ne=m,J===0&&de(ya)),ne!==m?(Ae=b,b=gl(E,P,V)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function Al(){var b,E,$,P;return b=T,E=er(),E===m&&(E=null),Ze(),d.substr(T,2)===se?($=se,T+=2):($=m,J===0&&de(nl)),$!==m?(Ze(),P=er(),P===m&&(P=null),Ae=b,b=mc(E,P)):(T=b,b=m),b===m&&(b=T,E=er(),E!==m&&(Ae=b,E=gc(E)),b=E),b}function er(){var b,E;return b=T,E=ti(),E!==m&&(Ae=b,E=Oc(E)),b=E,b===m&&(b=T,E=Fn(),E!==m&&(Ae=b,E=yc(E)),b=E,b===m&&(b=T,E=Qn(),E!==m&&(Ae=b,E=Sc(E)),b=E)),b}function nr(){var b,E,$,P;return b=Sn(),b===m&&(b=la(),b===m&&(b=Ll(),b===m&&(b=$l(),b===m&&(b=Ti(),b===m&&(b=T,d.charCodeAt(T)===40?(E=ce,T++):(E=m,J===0&&de(ks)),E!==m?(Ze(),$=$a(),$!==m?(Ze(),d.charCodeAt(T)===41?(P=Se,T++):(P=m,J===0&&de(ws)),P!==m?(Ae=b,b=js($)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m)))))),b}function $l(){var b,E,$,P,V,ne,Ue,xt;return b=T,E=Fn(),E!==m?(d.charCodeAt(T)===46?($=ve,T++):($=m,J===0&&de(Vn)),$!==m?(P=Fn(),P!==m?(Ae=b,b=vc(E,P)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=T,E=Fn(),E!==m?($=T,J++,P=T,V=Ze(),ne=T,Ue=Dn(),Ue!==m?(xt=Ze(),Ue=[Ue,xt],ne=Ue):(T=ne,ne=m),ne===m&&(ne=null),d.charCodeAt(T)===61?(Ue=B,T++):(Ue=m,J===0&&de(Dr)),Ue!==m?(V=[V,ne,Ue],P=V):(T=P,P=m),J--,P===m?$=void 0:(T=$,$=m),$!==m?(Ae=b,b=bc(E)):(T=b,b=m)):(T=b,b=m)),b}function Ti(){var b,E,$;return b=T,E=ro(),E!==m?(Ze(),$=Qn(),$!==m?(Ae=b,b=xc(E,$)):(T=b,b=m)):(T=b,b=m),b}function ro(){var b;return b=d.charAt(T),Xe.test(b)?T++:(b=m,J===0&&de(zt)),b}function jt(){var b;return b=rr(),b===m&&(b=Xc()),b}function rr(){var b;return b=d.charAt(T),wt.test(b)?T++:(b=m,J===0&&de(nn)),b}function Xc(){var b,E,$,P;return b=T,E=T,$=d.charAt(T),en.test($)?T++:($=m,J===0&&de(Xi)),$!==m?(P=d.charAt(T),gi.test(P)?T++:(P=m,J===0&&de(il)),P!==m?($=[$,P],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=d.charAt(T),Ct.test(b)?T++:(b=m,J===0&&de(rc))),b}function Yt(){var b;return J++,b=Fr(),Un.test(b)?T+=b.length:(b=m,J===0&&de(Ts)),J--,b===m&&J===0&&de(ac),b}function Ci(){var b;return b=d.charAt(T),Bi.test(b)?T++:(b=m,J===0&&de(Lr)),b}function yn(){var b;return J++,d.charCodeAt(T)===10?(b=$e,T++):(b=m,J===0&&de(Ui)),b===m&&(d.substr(T,2)===Re?(b=Re,T+=2):(b=m,J===0&&de(Vi)),b===m&&(b=d.charAt(T),zi.test(b)?T++:(b=m,J===0&&de(zr)))),J--,b===m&&J===0&&de(rl),b}function Pl(){var b;return J++,b=Pa(),b===m&&(b=Ra()),J--,b===m&&J===0&&de(qi),b}function Pa(){var b,E,$,P,V,ne;if(b=T,d.substr(T,2)===re?(E=re,T+=2):(E=m,J===0&&de($t)),E!==m){for($=[],P=T,V=T,J++,d.substr(T,2)===Oe?(ne=Oe,T+=2):(ne=m,J===0&&de(vi)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);P!==m;)$.push(P),P=T,V=T,J++,d.substr(T,2)===Oe?(ne=Oe,T+=2):(ne=m,J===0&&de(vi)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);d.substr(T,2)===Oe?(P=Oe,T+=2):(P=m,J===0&&de(vi)),P!==m?(E=[E,$,P],b=E):(T=b,b=m)}else T=b,b=m;return b}function ci(){var b,E,$,P,V,ne;if(b=T,d.substr(T,2)===re?(E=re,T+=2):(E=m,J===0&&de($t)),E!==m){for($=[],P=T,V=T,J++,d.substr(T,2)===Oe?(ne=Oe,T+=2):(ne=m,J===0&&de(vi)),ne===m&&(ne=Ci()),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);P!==m;)$.push(P),P=T,V=T,J++,d.substr(T,2)===Oe?(ne=Oe,T+=2):(ne=m,J===0&&de(vi)),ne===m&&(ne=Ci()),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);d.substr(T,2)===Oe?(P=Oe,T+=2):(P=m,J===0&&de(vi)),P!==m?(E=[E,$,P],b=E):(T=b,b=m)}else T=b,b=m;return b}function Ra(){var b,E,$,P,V,ne;if(b=T,d.substr(T,2)===Ee?(E=Ee,T+=2):(E=m,J===0&&de(Cs)),E!==m){for($=[],P=T,V=T,J++,ne=Ci(),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);P!==m;)$.push(P),P=T,V=T,J++,ne=Ci(),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);E=[E,$],b=E}else T=b,b=m;return b}function Fn(){var b,E,$,P;if(J++,b=T,E=Rl(),E!==m){for($=[],P=Ml();P!==m;)$.push(P),P=Ml();Ae=b,b=kc(E,$)}else T=b,b=m;return J--,b===m&&(E=m,J===0&&de(bi)),b}function Rl(){var b,E,$;return b=Fr(),gt.test(b)?T+=b.length:(b=m,J===0&&de(Yi)),b===m&&(b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=fi(),$!==m?b=$:(T=b,b=m)):(T=b,b=m)),b}function Ml(){var b;return b=Fr(),Et.test(b)?T+=b.length:(b=m,J===0&&de(Es)),b}function Sn(){var b,E,$;return J++,b=T,E=Dn(),E!==m?(d.charCodeAt(T)===105?($=X,T++):($=m,J===0&&de(_s)),$===m&&($=null),Ae=b,b=Ol(E,$)):(T=b,b=m),J--,b===m&&(E=m,J===0&&de(Qs)),b}function Dn(){var b,E,$,P;if(J++,b=T,d.charCodeAt(T)===34?(E=N,T++):(E=m,J===0&&de(Xr)),E!==m){for($=[],P=Ei();P!==m;)$.push(P),P=Ei();d.charCodeAt(T)===34?(P=N,T++):(P=m,J===0&&de(Xr)),P!==m?(Ae=b,b=wc($)):(T=b,b=m)}else T=b,b=m;if(b===m)if(b=T,d.charCodeAt(T)===39?(E=Y,T++):(E=m,J===0&&de(Mn)),E!==m){for($=[],P=aa();P!==m;)$.push(P),P=aa();d.charCodeAt(T)===39?(P=Y,T++):(P=m,J===0&&de(Mn)),P!==m?(Ae=b,b=Tc($)):(T=b,b=m)}else T=b,b=m;return J--,b===m&&(E=m,J===0&&de(Sa)),b}function Ei(){var b,E,$,P;return b=T,E=T,$=T,J++,P=d.charAt(T),At.test(P)?T++:(P=m,J===0&&de(pn)),J--,P===m?$=void 0:(T=$,$=m),$!==m?(P=jt(),P!==m?($=[$,P],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Zn())),b}function aa(){var b,E,$,P;return b=T,E=T,$=T,J++,P=d.charAt(T),Ut.test(P)?T++:(P=m,J===0&&de(As)),J--,P===m?$=void 0:(T=$,$=m),$!==m?(P=jt(),P!==m?($=[$,P],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Zn())),b}function la(){var b,E,$,P,V,ne;if(J++,b=T,d.charCodeAt(T)===91?(E=ae,T++):(E=m,J===0&&de(al)),E!==m){for(d.charCodeAt(T)===94?($=ue,T++):($=m,J===0&&de($s)),$===m&&($=null),P=[],V=fn(),V===m&&(V=ot(),V===m&&(V=Ie()));V!==m;)P.push(V),V=fn(),V===m&&(V=ot(),V===m&&(V=Ie()));d.charCodeAt(T)===93?(V=we,T++):(V=m,J===0&&de(va)),V!==m?(ne=ao(),Ae=b,b=Cc($,P,ne)):(T=b,b=m)}else T=b,b=m;return J--,b===m&&(E=m,J===0&&de(lc)),b}function fn(){var b,E,$;return b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=vn(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b}function vn(){var b,E,$,P,V,ne,Ue;return b=T,E=T,$=T,P=d.charAt(T),P.toLowerCase()===_e?T++:(P=m,J===0&&de(sc)),P!==m?(d.charCodeAt(T)===123?(V=Z,T++):(V=m,J===0&&de(dn)),V!==m?(ne=ui(),ne!==m?(d.charCodeAt(T)===125?(Ue=z,T++):(Ue=m,J===0&&de(ai)),Ue!==m?(P=[P,V,ne,Ue],$=P):(T=$,$=m)):(T=$,$=m)):(T=$,$=m)):(T=$,$=m),$!==m?E=d.substring(E,T):E=$,E!==m&&(Ae=b,E=Us(E)),b=E,b}function ui(){var b,E,$,P;return b=T,E=Nn(),E!==m?(d.charCodeAt(T)===61?($=B,T++):($=m,J===0&&de(Dr)),$!==m?(P=Ln(),P!==m?(E=[E,$,P],b=E):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b===m&&(b=Kn()),b}function Nn(){var b,E,$;if(b=T,E=[],$=oa(),$!==m)for(;$!==m;)E.push($),$=oa();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function Ln(){var b,E,$;if(b=T,E=[],$=sa(),$!==m)for(;$!==m;)E.push($),$=sa();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function Kn(){var b,E,$;if(b=T,E=[],$=sa(),$!==m)for(;$!==m;)E.push($),$=sa();else E=m;return E!==m?b=d.substring(b,T):b=E,b}function sa(){var b;return b=oa(),b===m&&(b=sr()),b}function oa(){var b;return b=Dl(),b===m&&(d.charCodeAt(T)===95?(b=me,T++):(b=m,J===0&&de(mn))),b}function Dl(){var b;return b=d.charAt(T),Vt.test(b)?T++:(b=m,J===0&&de(ll)),b}function ao(){var b,E,$;for(b=T,E=[],$=Nt();$!==m;)E.push($),$=Nt();return Ae=b,E=Ec(E),b=E,b}function Nt(){var b,E;return b=T,d.charCodeAt(T)===105?(E=X,T++):(E=m,J===0&&de(_s)),E!==m&&(Ae=b,E=Qc()),b=E,b===m&&(b=T,d.charCodeAt(T)===117?(E=Ne,T++):(E=m,J===0&&de(ba)),E!==m&&(Ae=b,E=_c()),b=E),b}function ot(){var b,E,$,P;return b=T,E=Ie(),E!==m?(d.charCodeAt(T)===45?($=De,T++):($=m,J===0&&de(sl)),$!==m?(P=Ie(),P!==m?(Ae=b,b=Ac(E,P)):(T=b,b=m)):(T=b,b=m)):(T=b,b=m),b}function Ie(){var b,E,$,P;return b=T,E=T,$=T,J++,P=d.charAt(T),Dt.test(P)?T++:(P=m,J===0&&de(Hi)),J--,P===m?$=void 0:(T=$,$=m),$!==m?(P=jt(),P!==m?($=[$,P],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b===m&&(b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=on(),$!==m?b=$:(T=b,b=m)):(T=b,b=m),b===m&&(b=Zn())),b}function Zn(){var b,E,$;return b=T,d.charCodeAt(T)===92?(E=be,T++):(E=m,J===0&&de(Gi)),E!==m?($=yn(),$!==m?(Ae=b,b=$c()):(T=b,b=m)):(T=b,b=m),b}function on(){var b,E,$,P;return b=Nl(),b===m&&(b=T,d.charCodeAt(T)===48?(E=yt,T++):(E=m,J===0&&de(Ps)),E!==m?($=T,J++,P=sr(),J--,P===m?$=void 0:(T=$,$=m),$!==m?(Ae=b,b=Pc()):(T=b,b=m)):(T=b,b=m),b===m&&(b=ar(),b===m&&(b=fi()))),b}function Nl(){var b;return b=Jn(),b===m&&(b=lo()),b}function Jn(){var b,E;return b=d.charAt(T),bt.test(b)?T++:(b=m,J===0&&de(Rs)),b===m&&(b=T,d.charCodeAt(T)===98?(E=Te,T++):(E=m,J===0&&de(Ii)),E!==m&&(Ae=b,E=Rc()),b=E,b===m&&(b=T,d.charCodeAt(T)===102?(E=je,T++):(E=m,J===0&&de(oc)),E!==m&&(Ae=b,E=Mc()),b=E,b===m&&(b=T,d.charCodeAt(T)===110?(E=xe,T++):(E=m,J===0&&de(Ms)),E!==m&&(Ae=b,E=Dc()),b=E,b===m&&(b=T,d.charCodeAt(T)===114?(E=ke,T++):(E=m,J===0&&de(Ds)),E!==m&&(Ae=b,E=yl()),b=E,b===m&&(b=T,d.charCodeAt(T)===116?(E=Le,T++):(E=m,J===0&&de(ol)),E!==m&&(Ae=b,E=Ir()),b=E,b===m&&(b=T,d.charCodeAt(T)===118?(E=Ce,T++):(E=m,J===0&&de(cc)),E!==m&&(Ae=b,E=Nc()),b=E)))))),b}function lo(){var b,E,$,P;return b=T,E=T,$=T,J++,P=so(),P===m&&(P=Ci()),J--,P===m?$=void 0:(T=$,$=m),$!==m?(P=jt(),P!==m?($=[$,P],E=$):(T=E,E=m)):(T=E,E=m),E!==m?b=d.substring(b,T):b=E,b}function so(){var b;return b=Jn(),b===m&&(b=d.charAt(T),Je.test(b)?T++:(b=m,J===0&&de(uc))),b}function ar(){var b,E,$,P,V,ne;return b=T,d.charCodeAt(T)===120?(E=pt,T++):(E=m,J===0&&de(xa)),E!==m?($=T,P=T,V=bn(),V!==m?(ne=bn(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m),P!==m?$=d.substring($,T):$=P,$!==m?(Ae=b,b=Vs($)):(T=b,b=m)):(T=b,b=m),b}function fi(){var b,E,$,P,V,ne,Ue,xt;if(b=T,d.charCodeAt(T)===117?(E=Ne,T++):(E=m,J===0&&de(ba)),E!==m?($=T,P=T,V=bn(),V!==m?(ne=bn(),ne!==m?(Ue=bn(),Ue!==m?(xt=bn(),xt!==m?(V=[V,ne,Ue,xt],P=V):(T=P,P=m)):(T=P,P=m)):(T=P,P=m)):(T=P,P=m),P!==m?$=d.substring($,T):$=P,$!==m?(Ae=b,b=qs($)):(T=b,b=m)):(T=b,b=m),b===m)if(b=T,d.charCodeAt(T)===117?(E=Ne,T++):(E=m,J===0&&de(ba)),E!==m)if(d.charCodeAt(T)===123?($=Z,T++):($=m,J===0&&de(dn)),$!==m){if(P=T,V=[],ne=bn(),ne!==m)for(;ne!==m;)V.push(ne),ne=bn();else V=m;V!==m?P=d.substring(P,T):P=V,P!==m?(d.charCodeAt(T)===125?(V=z,T++):(V=m,J===0&&de(ai)),V!==m?(Ae=b,b=Ys(P)):(T=b,b=m)):(T=b,b=m)}else T=b,b=m;else T=b,b=m;return b}function sr(){var b;return b=d.charAt(T),Tt.test(b)?T++:(b=m,J===0&&de(qn)),b}function bn(){var b;return b=d.charAt(T),qt.test(b)?T++:(b=m,J===0&&de(cl)),b}function Ll(){var b,E;return b=T,d.charCodeAt(T)===46?(E=ve,T++):(E=m,J===0&&de(Vn)),E!==m&&(Ae=b,E=Gs()),b=E,b}function Qn(){var b,E,$,P;return J++,b=T,d.charCodeAt(T)===123?(E=Z,T++):(E=m,J===0&&de(dn)),E!==m?($=ei(),d.charCodeAt(T)===125?(P=z,T++):(P=m,J===0&&de(ai)),P!==m?b=$:(T=b,b=m)):(T=b,b=m),J--,b===m&&(E=m,J===0&&de(ul)),b}function ei(){var b,E;return b=T,E=Bn(),Ae=b,E=Hs(E),b=E,b}function Bn(){var b,E,$,P,V,ne;if(b=T,E=[],$=[],P=T,V=T,J++,ne=d.charAt(T),ri.test(ne)?T++:(ne=m,J===0&&de(Yn)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m),P!==m)for(;P!==m;)$.push(P),P=T,V=T,J++,ne=d.charAt(T),ri.test(ne)?T++:(ne=m,J===0&&de(Yn)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);else $=m;for($===m&&($=T,d.charCodeAt(T)===123?(P=Z,T++):(P=m,J===0&&de(dn)),P!==m?(V=Bn(),d.charCodeAt(T)===125?(ne=z,T++):(ne=m,J===0&&de(ai)),ne!==m?(P=[P,V,ne],$=P):(T=$,$=m)):(T=$,$=m));$!==m;){if(E.push($),$=[],P=T,V=T,J++,ne=d.charAt(T),ri.test(ne)?T++:(ne=m,J===0&&de(Yn)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m),P!==m)for(;P!==m;)$.push(P),P=T,V=T,J++,ne=d.charAt(T),ri.test(ne)?T++:(ne=m,J===0&&de(Yn)),J--,ne===m?V=void 0:(T=V,V=m),V!==m?(ne=jt(),ne!==m?(V=[V,ne],P=V):(T=P,P=m)):(T=P,P=m);else $=m;$===m&&($=T,d.charCodeAt(T)===123?(P=Z,T++):(P=m,J===0&&de(dn)),P!==m?(V=Bn(),d.charCodeAt(T)===125?(ne=z,T++):(ne=m,J===0&&de(ai)),ne!==m?(P=[P,V,ne],$=P):(T=$,$=m)):(T=$,$=m))}return b=d.substring(b,T),b}function ti(){var b,E,$,P;if(b=T,E=T,$=[],P=sr(),P!==m)for(;P!==m;)$.push(P),P=sr();else $=m;return $!==m?E=d.substring(E,T):E=$,E!==m&&(Ae=b,E=Fi(E)),b=E,b}function Ze(){var b,E;for(b=[],E=Yt(),E===m&&(E=yn(),E===m&&(E=Pl()));E!==m;)b.push(E),E=Yt(),E===m&&(E=yn(),E===m&&(E=Pl()));return b}function Bl(){var b,E;for(b=[],E=Yt(),E===m&&(E=ci());E!==m;)b.push(E),E=Yt(),E===m&&(E=ci());return b}function hi(){var b,E,$,P;if(b=[],E=T,$=Ze(),d.charCodeAt(T)===59?(P=Q,T++):(P=m,J===0&&de(Oi)),P!==m?($=[$,P],E=$):(T=E,E=m),E!==m)for(;E!==m;)b.push(E),E=T,$=Ze(),d.charCodeAt(T)===59?(P=Q,T++):(P=m,J===0&&de(Oi)),P!==m?($=[$,P],E=$):(T=E,E=m);else b=m;return b===m&&(b=T,E=Bl(),$=Ra(),$===m&&($=null),P=yn(),P!==m?(E=[E,$,P],b=E):(T=b,b=m),b===m&&(b=T,E=Ze(),$=Ma(),$!==m?(E=[E,$],b=E):(T=b,b=m))),b}function Ma(){var b,E;return b=T,J++,d.length>T?(E=d.charAt(T),T++):(E=m,J===0&&de(tl)),J--,E===m?b=void 0:(T=b,b=m),b}var di=new Set(g.reservedWords);Hn=x();var Pt=Hn!==m&&T===d.length;function ca(){throw Hn!==m&&T<d.length&&de(Ws()),Bc(Wr,gn<d.length?Fr(gn):null,gn<d.length?Qa(gn,gn+1):Qa(gn,gn))}if(g.peg$library)return{peg$result:Hn,peg$currPos:T,peg$FAILED:m,peg$maxFailExpected:Wr,peg$maxFailPos:gn,peg$success:Pt,peg$throw:Pt?void 0:ca};if(Pt)return Hn;ca()},l={$:"text","&":"simple_and","!":"simple_not"},o={"?":"optional","*":"zero_or_more","+":"one_or_more"},f={"&":"semantic_and","!":"semantic_not"},h=(function(d){_inherits(g,d);function g(m,y,S,x){_class_call_check(this,g);var w;return w=_call_super(this,g,[m]),w.expected=y,w.found=S,w.location=x,w.name="SyntaxError",w}return _create_class(g,[{key:"format",value:function(m){var y=this,S="Error: "+this.message;if(this.location){var x=null,w=m.find(function(B){return B.source===y.location.source});w&&(x=w.text.split(/\r\n|\n|\r/g));var Q=this.location.start,A=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(Q):Q,M=this.location.source+":"+A.line+":"+A.column;if(x){var L=this.location.end,Z="".padEnd(A.line.toString().length," "),z=x[Q.line-1],j=(Q.line===L.line?L.column:z.length+1)-Q.column||1;S+=`
 --> `+M+`
`+Z+` |
`+A.line+" | "+z+`
`+Z+" | "+"".padEnd(Q.column-1," ")+"".padEnd(j,"^")}else S+=`
 at `+M}return S}}],[{key:"buildMessage",value:function(m,y){function S(j){return j.codePointAt(0).toString(16).toUpperCase()}var x=Object.prototype.hasOwnProperty.call(RegExp.prototype,"unicode")?new RegExp("[\\p{C}\\p{Mn}\\p{Mc}]","gu"):null;function w(j){return x?j.replace(x,function(B){return"\\u{"+S(B)+"}"}):j}function Q(j){return w(j.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(B){return"\\x0"+S(B)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(B){return"\\x"+S(B)}))}function A(j){return w(j.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(B){return"\\x0"+S(B)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(B){return"\\x"+S(B)}))}var M={literal:function(j){return'"'+Q(j.text)+'"'},class:function(j){var B=j.parts.map(function(G){return Array.isArray(G)?A(G[0])+"-"+A(G[1]):A(G)});return"["+(j.inverted?"^":"")+B.join("")+"]"+(j.unicode?"u":"")},any:function(){return"any character"},end:function(){return"end of input"},other:function(j){return j.description}};function L(j){return M[j.type](j)}function Z(j){var B=j.map(L);if(B.sort(),B.length>0){for(var G=1,D=1;D<B.length;D++)B[D-1]!==B[D]&&(B[G]=B[D],G++);B.length=G}switch(B.length){case 1:return B[0];case 2:return B[0]+" or "+B[1];default:return B.slice(0,-1).join(", ")+", or "+B[B.length-1]}}function z(j){return j?'"'+Q(j)+'"':"end of input"}return"Expected "+Z(m)+" but "+z(y)+" found."}}]),g})(_wrap_native_super(SyntaxError));r.exports={StartRules:["Grammar","ImportsAndSource"],SyntaxError:h,parse:a}}),Nr=U(function(s,r){var a=function(Z,z,j){var B=A.offsetStart(z),G=B.line,D=B.column-1,I=Z.split(`
`);return I.length===1?new Q(G,D,String(z.source),Z,j):new Q(null,null,String(z.source),I.map(function(W,se){return new Q(G+se,se===0?D:0,String(z.source),se===I.length-1?W:[W,`
`],j)}))},l=function(Z,z,j,B,G){if(j){var D=A.offsetEnd(j);return new Q(null,null,String(j.source),[Z,a(z,j,G),new Q(D.line,D.column-1,String(j.source),B)])}return new Q(null,null,null,[Z,z,B])},o=function(Z,z){if(!Z.literals||!Z.locations||!Z.classes||!Z.expectations||!Z.functions||!Z.importedNames)throw new Error("generateJS: generate bytecode was not called.");var j=Z.literals,B=Z.locations,G=Z.classes,D=Z.expectations,I=Z.functions,W=Z.importedNames;if(!z.allowedStartRules)throw new Error("generateJS: options.allowedStartRules was not set.");var se=z.allowedStartRules,ce=z.dependencies||{};function Se(me){var Ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",De=me.match(/^\n*([ \t]+)/);return(De?me.replace(new RegExp("^".concat(De[1]),"gm"),Ne):me).replace(/[ \t]+$/,"")}function ve(me){var Ne=!0,De=0;function yt(Te){return Array.isArray(Te)?Te.map(function(je){return yt(je)}):_instanceof(Te,Q)?(De++,Te.children=yt(Te.children),De--,Te):(Ne?Te=Te.replace(/^(.+)$/gm,"  $1"):Te=Te.replace(/\n(\s*\S)/g,`
  $1`),Ne=!De||Te.endsWith(`
`),Te)}return yt(me)}function $e(me){return"peg$c"+me}function Re(me){return"peg$r"+me}function re(me){return"peg$e"+me}function Oe(me){return"peg$f"+me}function Ee(me){return"peg$import"+me}function be(me){return"peg$parse"+me}function X(){function me(Te){return'"'+S(Te)+'"'}function Ne(Te){return"/^["+(Te.inverted?"^":"")+Te.value.map(function(je){return Array.isArray(je)?x(je[0])+"-"+x(je[1]):x(je)}).join("")+"]/"+(Te.ignoreCase?"i":"")+(Te.unicode?"u":"")}function De(Te){switch(Te.type){case"rule":return'peg$otherExpectation("'+S(Te.value)+'")';case"literal":return'peg$literalExpectation("'+S(Te.value)+'", '+Te.ignoreCase+")";case"class":return"peg$classExpectation(["+Te.value.map(function(je){return Array.isArray(je)?'["'+S(je[0])+'", "'+S(je[1])+'"]':'"'+S(je)+'"'}).join(", ")+"], "+Te.inverted+", "+Te.ignoreCase+", "+Te.unicode+")";case"any":return"peg$anyExpectation()";default:throw new Error("Unknown expectation type ("+JSON.stringify(Te)+")")}}function yt(Te,je){return l(`
  function `.concat(Oe(je),"(").concat(Te.params.join(", "),") {"),Se(Te.body,"    "),Te.location,"  }")}return new Q(null,null,z.grammarSource,[j.map(function(Te,je){return"  const "+$e(je)+" = "+me(Te)+";"}).concat("",G.map(function(Te,je){return"  const "+Re(je)+" = "+Ne(Te)+";"})).concat("",D.map(function(Te,je){return"  const "+re(je)+" = "+De(Te)+";"})).concat("").join(`
`)].concat(_to_consumable_array(I.map(yt))))}function N(me,Ne){var De=[];return De.push(""),z.trace&&De.push("peg$tracer.trace({",'  type: "rule.enter",',"  rule: "+me+",","  location: peg$computeLocation(startPos, startPos, true)","});",""),z.cache&&(De.push("const key = peg$currPos * "+Z.rules.length+" + "+Ne+";","const cached = peg$resultsCache[key];","","if (cached) {","  peg$currPos = cached.nextPos;",""),z.trace&&De.push("if (cached.result !== peg$FAILED) {","  peg$tracer.trace({",'    type: "rule.match",',"    rule: "+me+",","    result: cached.result,","    location: peg$computeLocation(startPos, peg$currPos, true)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+me+",","    location: peg$computeLocation(startPos, startPos, true)","  });","}",""),De.push("  return cached.result;","}","")),De}function Y(me,Ne){var De=[];return z.cache&&De.push("","peg$resultsCache[key] = { nextPos: peg$currPos, result: "+Ne+" };"),z.trace&&De.push("","if ("+Ne+" !== peg$FAILED) {","  peg$tracer.trace({",'    type: "rule.match",',"    rule: "+me+",","    result: "+Ne+",","    location: peg$computeLocation(startPos, peg$currPos, true)","  });","} else {","  peg$tracer.trace({",'    type: "rule.fail",',"    rule: "+me+",","    location: peg$computeLocation(startPos, startPos, true)","  });","}"),De.push("","return "+Ne+";"),De}function ae(me){var Ne,De,yt,Te=[],je=me.bytecode,xe=new d(me.name,"s","let",je);function ke(Ce){var pt=function(){switch(Ce[ye]){case h.PUSH_EMPTY_STRING:Xe.push(xe.push("''")),ye++;break;case h.PUSH_CURR_POS:Xe.push(xe.push("peg$currPos")),ye++;break;case h.PUSH_UNDEFINED:Xe.push(xe.push("undefined")),ye++;break;case h.PUSH_NULL:Xe.push(xe.push("null")),ye++;break;case h.PUSH_FAILED:Xe.push(xe.push("peg$FAILED")),ye++;break;case h.PUSH_EMPTY_ARRAY:Xe.push(xe.push("[]")),ye++;break;case h.POP:xe.pop(),ye++;break;case h.POP_CURR_POS:Xe.push("peg$currPos = "+xe.pop()+";"),ye++;break;case h.POP_N:xe.pop(Ce[ye+1]),ye+=2;break;case h.NIP:wt=xe.pop(),xe.pop(),Xe.push(xe.push(wt)),ye++;break;case h.APPEND:wt=xe.pop(),Xe.push(xe.top()+".push("+wt+");"),ye++;break;case h.WRAP:Xe.push(xe.push("["+xe.pop(Ce[ye+1]).join(", ")+"]")),ye+=2;break;case h.TEXT:Xe.push(xe.push("input.substring("+xe.pop()+", peg$currPos)")),ye++;break;case h.PLUCK:{var gt=Ce[ye+3-1],Et=3+gt;wt=Ce.slice(ye+3,ye+Et),wt=gt===1?xe.index(wt[0]):"[ ".concat(wt.map(function(qt){return xe.index(qt)}).join(", ")," ]"),xe.pop(Ce[ye+1]),Xe.push(xe.push(wt)),ye+=Et;break}case h.IF:en(xe.top(),0);break;case h.IF_ERROR:en(xe.top()+" === peg$FAILED",0);break;case h.IF_NOT_ERROR:en(xe.top()+" !== peg$FAILED",0);break;case h.IF_LT:en(xe.top()+".length < "+Ce[ye+1],1);break;case h.IF_GE:en(xe.top()+".length >= "+Ce[ye+1],1);break;case h.IF_LT_DYNAMIC:en(xe.top()+".length < ("+xe.index(Ce[ye+1])+"|0)",1);break;case h.IF_GE_DYNAMIC:en(xe.top()+".length >= ("+xe.index(Ce[ye+1])+"|0)",1);break;case h.WHILE_NOT_ERROR:Bi(xe.top()+" !== peg$FAILED");break;case h.MATCH_ANY:en("input.length > peg$currPos",0);break;case h.MATCH_STRING:{var At=Ce[ye+1],Ut=j[At];Un(function(qt,ri){return Ut.length>1?"".concat(qt," === ").concat($e(At)):(qt=ri?"".concat(qt,".charCodeAt(0)"):"input.charCodeAt(peg$currPos)","".concat(qt," === ").concat(Ut.charCodeAt(0)))},1,Ut.length);break}case h.MATCH_STRING_IC:{var Vt=Ce[ye+1];Un(function(qt){return"".concat(qt,".toLowerCase() === ").concat($e(Vt))},1,j[Vt].length);break}case h.MATCH_CHAR_CLASS:{var Dt=Ce[ye+1];Un(function(qt){return"".concat(Re(Dt),".test(").concat(qt,")")},1,1);break}case h.MATCH_UNICODE_CLASS:{var bt=Ce[ye+1];Un(function(qt){return"".concat(Re(bt),".test(").concat(qt,")")},1,-1);break}case h.ACCEPT_N:Xe.push(xe.push(gi(Ce[ye+1]))),Xe.push(Ct(Ce[ye+1],xe.top())),ye+=2;break;case h.ACCEPT_STRING:Xe.push(xe.push($e(Ce[ye+1]))),Xe.push(j[Ce[ye+1]].length>1?"peg$currPos += "+j[Ce[ye+1]].length+";":"peg$currPos++;"),ye+=2;break;case h.FAIL:Xe.push(xe.push("peg$FAILED")),Xe.push("if (peg$silentFails === 0) { peg$fail("+re(Ce[ye+1])+"); }"),ye+=2;break;case h.LOAD_SAVED_POS:Xe.push("peg$savedPos = "+xe.index(Ce[ye+1])+";"),ye+=2;break;case h.UPDATE_SAVED_POS:Xe.push("peg$savedPos = peg$currPos;"),ye++;break;case h.CALL:wt=zi(4),xe.pop(Ce[ye+2]),Xe.push(xe.push(wt)),ye+=4+Ce[ye+3];break;case h.RULE:Xe.push(xe.push(be(Z.rules[Ce[ye+1]].name)+"()")),ye+=2;break;case h.LIBRARY_RULE:{var Je=Ce[ye+2],Tt=Je===-1?"":', "'+W[Je]+'"';Xe.push(xe.push("peg$callLibrary("+Ee(Ce[ye+1])+Tt+")")),ye+=3;break}case h.SILENT_FAILS_ON:Xe.push("peg$silentFails++;"),ye++;break;case h.SILENT_FAILS_OFF:Xe.push("peg$silentFails--;"),ye++;break;case h.SOURCE_MAP_PUSH:xe.sourceMapPush(Xe,B[Ce[ye+1]]),ye+=2;break;case h.SOURCE_MAP_POP:{xe.sourceMapPop(),ye++;break}case h.SOURCE_MAP_LABEL_PUSH:xe.labels[Ce[ye+1]]={label:j[Ce[ye+2]],location:B[Ce[ye+3]]},ye+=4;break;case h.SOURCE_MAP_LABEL_POP:delete xe.labels[Ce[ye+1]],ye+=2;break;default:throw new Error("Invalid opcode: "+Ce[ye]+".")}},ye=0,Ft=Ce.length,Xe=[],wt;function en(gt,Et,At){var Ut,Vt,Dt=Et+3,bt=Ce[ye+Dt-2],Je=Ce[ye+Dt-1],Tt=_sliced_to_array(xe.checkedIf(ye,function(){return ye+=Dt+bt,(At||ke)(Ce.slice(ye-bt,ye))},Je>0?function(){return ye+=Je,ke(Ce.slice(ye-Je,ye))}:null),2),qt=Tt[0],ri=Tt[1];Xe.push("if ("+gt+") {"),(Ut=Xe).push.apply(Ut,_to_consumable_array(ve(qt))),Je>0&&(Xe.push("} else {"),(Vt=Xe).push.apply(Vt,_to_consumable_array(ve(ri)))),Xe.push("}")}function gi(gt){switch(gt){case-1:return"peg$getUnicode()";case 1:return"input.charAt(peg$currPos)";default:return"input.substr(peg$currPos, ".concat(gt,")")}}function Ct(gt,Et){switch(gt){case-1:return"peg$currPos += ".concat(Et,".length;");case 1:return"peg$currPos++;";default:return"peg$currPos += ("+gt+");"}}function Un(gt,Et,At){var Ut=Et+3,Vt=gi(At),Dt=null;Ce[ye+Ut]===h.ACCEPT_N&&Ce[ye+Ut+1]===At&&(Xe.push(xe.push(Vt)),Vt=xe.pop(),Dt=function(bt){xe.sp++;var Je=ke(bt.slice(2));return Je.unshift(Ct(At,Vt)),Je}),en(gt(Vt,Dt!==null),Et,Dt)}function Bi(gt){var Et,At=Ce[ye+2-1],Ut=xe.checkedLoop(ye,function(){return ye+=2+At,ke(Ce.slice(ye-At,ye))});Xe.push("while ("+gt+") {"),(Et=Xe).push.apply(Et,_to_consumable_array(ve(Ut))),Xe.push("}")}function zi(gt){var Et=Ce[ye+gt-1];return Oe(Ce[ye+1])+"("+Ce.slice(ye+gt,ye+gt+Et).map(function(At){return xe.index(At)}).join(", ")+")"}for(;ye<Ft;)pt();return Xe}var Le=ke(je);return Te.push(l("function ",be(me.name),me.nameLocation,`() {
`,me.name)),z.trace&&Te.push("  var startPos = peg$currPos;"),Te.push(ve(xe.defines())),(Ne=Te).push.apply(Ne,_to_consumable_array(ve(N('"'+S(me.name)+'"',f.indexOfRule(Z,me.name))))),(De=Te).push.apply(De,_to_consumable_array(ve(Le))),(yt=Te).push.apply(yt,_to_consumable_array(ve(Y('"'+S(me.name)+'"',xe.result())))),Te.push("}"),Te.push(""),Te}function ue(me){return me.codeLocation?a(me.code,me.codeLocation,"$"+me.type):me.code}function we(){var me=[],Ne=Z.topLevelInitializer;if(Ne)if(Array.isArray(Ne)){if(z.format==="es"){var De=[],yt=[],Te=!0,je=!1,xe=void 0;try{for(var ke=Ne[Symbol.iterator](),Le;!(Te=(Le=ke.next()).done);Te=!0){var Ce=Le.value,pt=_sliced_to_array(L(Ce.code,{startRule:"ImportsAndSource",grammarSource:new A(Ce.codeLocation.source,Ce.codeLocation.start)}),2),ye=pt[0],Ft=pt[1];ye.code?(De.push(ye),yt.push(Ft)):yt.push(Ce)}}catch(Je){je=!0,xe=Je}finally{try{!Te&&ke.return!=null&&ke.return()}finally{if(je)throw xe}}Ne=yt.concat(De)}var Xe=Ne.slice(0).reverse(),wt=!0,en=!1,gi=void 0;try{for(var Ct=Xe[Symbol.iterator](),Un;!(wt=(Un=Ct.next()).done);wt=!0){var Bi=Un.value;me.push(ue(Bi)),me.push("")}}catch(Je){en=!0,gi=Je}finally{try{!wt&&Ct.return!=null&&Ct.return()}finally{if(en)throw gi}}}else me.push(ue(Ne)),me.push("");me.push("class peg$SyntaxError extends SyntaxError {","  constructor(message, expected, found, location) {","    super(message);","    this.expected = expected;","    this.found = found;","    this.location = location;",'    this.name = "SyntaxError";',"  }","","  format(sources) {",'    let str = "Error: " + this.message;',"    if (this.location) {","      let src = null;","      const st = sources.find(s => s.source === this.location.source);","      if (st) {","        src = st.text.split(/\\r\\n|\\n|\\r/g);","      }","      const s = this.location.start;",'      const offset_s = (this.location.source && (typeof this.location.source.offset === "function"))',"        ? this.location.source.offset(s)","        : s;",'      const loc = this.location.source + ":" + offset_s.line + ":" + offset_s.column;',"      if (src) {","        const e = this.location.end;",'        const filler = "".padEnd(offset_s.line.toString().length, " ");',"        const line = src[s.line - 1];","        const last = s.line === e.line ? e.column : line.length + 1;","        const hatLen = (last - s.column) || 1;",'        str += "\\n --> " + loc + "\\n"','            + filler + " |\\n"','            + offset_s.line + " | " + line + "\\n"','            + filler + " | " + "".padEnd(s.column - 1, " ")','            + "".padEnd(hatLen, "^");',"      } else {",'        str += "\\n at " + loc;',"      }","    }","    return str;","  }","","  static buildMessage(expected, found) {","    function hex(ch) {","      return ch.codePointAt(0).toString(16).toUpperCase();","    }","",'    const nonPrintable = Object.prototype.hasOwnProperty.call(RegExp.prototype, "unicode")','      ? new RegExp("[\\\\p{C}\\\\p{Mn}\\\\p{Mc}]", "gu")',"      : null;","    function unicodeEscape(s) {","      if (nonPrintable) {",'        return s.replace(nonPrintable,  ch => "\\\\u{" + hex(ch) + "}");',"      }","      return s;","    }","","    function literalEscape(s) {","      return unicodeEscape(s",'        .replace(/\\\\/g, "\\\\\\\\")','        .replace(/"/g,  "\\\\\\"")','        .replace(/\\0/g, "\\\\0")','        .replace(/\\t/g, "\\\\t")','        .replace(/\\n/g, "\\\\n")','        .replace(/\\r/g, "\\\\r")','        .replace(/[\\x00-\\x0F]/g,          ch => "\\\\x0" + hex(ch))','        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, ch => "\\\\x"  + hex(ch)));',"    }","","    function classEscape(s) {","      return unicodeEscape(s",'        .replace(/\\\\/g, "\\\\\\\\")','        .replace(/\\]/g, "\\\\]")','        .replace(/\\^/g, "\\\\^")','        .replace(/-/g,  "\\\\-")','        .replace(/\\0/g, "\\\\0")','        .replace(/\\t/g, "\\\\t")','        .replace(/\\n/g, "\\\\n")','        .replace(/\\r/g, "\\\\r")','        .replace(/[\\x00-\\x0F]/g,          ch => "\\\\x0" + hex(ch))','        .replace(/[\\x10-\\x1F\\x7F-\\x9F]/g, ch => "\\\\x"  + hex(ch)));',"    }","","    const DESCRIBE_EXPECTATION_FNS = {","      literal(expectation) {",'        return "\\"" + literalEscape(expectation.text) + "\\"";',"      },","","      class(expectation) {","        const escapedParts = expectation.parts.map(","          part => (Array.isArray(part)",'            ? classEscape(part[0]) + "-" + classEscape(part[1])',"            : classEscape(part))","        );","",'        return "[" + (expectation.inverted ? "^" : "") + escapedParts.join("") + "]" + (expectation.unicode ? "u" : "");',"      },","","      any() {",'        return "any character";',"      },","","      end() {",'        return "end of input";',"      },","","      other(expectation) {","        return expectation.description;","      },","    };","","    function describeExpectation(expectation) {","      return DESCRIBE_EXPECTATION_FNS[expectation.type](expectation);","    }","","    function describeExpected(expected) {","      const descriptions = expected.map(describeExpectation);","      descriptions.sort();","","      if (descriptions.length > 0) {","        let j = 1;","        for (let i = 1; i < descriptions.length; i++) {","          if (descriptions[i - 1] !== descriptions[i]) {","            descriptions[j] = descriptions[i];","            j++;","          }","        }","        descriptions.length = j;","      }","","      switch (descriptions.length) {","        case 1:","          return descriptions[0];","","        case 2:",'          return descriptions[0] + " or " + descriptions[1];',"","        default:",'          return descriptions.slice(0, -1).join(", ")','            + ", or "',"            + descriptions[descriptions.length - 1];","      }","    }","","    function describeFound(found) {",'      return found ? "\\"" + literalEscape(found) + "\\"" : "end of input";',"    }","",'    return "Expected " + describeExpected(expected) + " but " + describeFound(found) + " found.";',"  }","}",""),z.trace&&me.push("class peg$DefaultTracer {","  constructor() {","    this.indentLevel = 0;","  }","","  trace(event) {","    const that = this;","","    function log(event) {","      console?.log?.(",'        event.location.start.line + ":" + event.location.start.column + "-"','          + event.location.end.line + ":" + event.location.end.column + " "','          + event.type.padEnd(10, " ")','          + "".padEnd((that.indentLevel * 2) + 1, " ") + event.rule',"       );","    }","","    switch (event.type) {",'      case "rule.enter":',"        log(event);","        this.indentLevel++;","        break;","",'      case "rule.match":',"        this.indentLevel--;","        log(event);","        break;","",'      case "rule.fail":',"        this.indentLevel--;","        log(event);","        break;","","      default:",'        throw new Error("Invalid event type: " + event.type + ".");',"    }","  }","}","");var zi=`{
`+se.map(function(Je){return"    ".concat(Je,": ").concat(be(Je),`,
`)}).join("")+"  }",gt=be(se[0]),Et=!0,At=!1,Ut=void 0;if(me.push("function peg$parse(input, options) {","  options = options !== undefined ? options : {};","","  const peg$FAILED = {};","  const peg$source = options.grammarSource;","","  const peg$startRuleFunctions = "+zi+";","  let peg$startRuleFunction = "+gt+";","",X(),"","  let peg$currPos = options.peg$currPos | 0;","  let peg$savedPos = peg$currPos;","  const peg$posDetailsCache = [{ line: 1, column: 1 }];","  let peg$maxFailPos = peg$currPos;","  let peg$maxFailExpected = options.peg$maxFailExpected || [];","  let peg$silentFails = options.peg$silentFails | 0;",""),z.cache&&me.push("  let peg$resultsCache = {};",""),z.trace&&me.push('  let peg$tracer = "tracer" in options ? options.tracer : new peg$DefaultTracer();',""),me.push("  let peg$result;","","  if (options.startRule) {","    if (!(options.startRule in peg$startRuleFunctions)) {",`      throw new Error("Can't start parsing from rule \\"" + options.startRule + "\\".");`,"    }","","    peg$startRuleFunction = peg$startRuleFunctions[options.startRule];","  }","","  function text() {","    return input.substring(peg$savedPos, peg$currPos);","  }","","  function offset() {","    return peg$savedPos;","  }","","  function range() {","    return {","      source: peg$source,","      start: peg$savedPos,","      end: peg$currPos,","    };","  }","","  function location() {","    return peg$computeLocation(peg$savedPos, peg$currPos);","  }","","  function expected(description, location) {","    location = location !== undefined","      ? location","      : peg$computeLocation(peg$savedPos, peg$currPos);","","    throw peg$buildStructuredError(","      [peg$otherExpectation(description)],","      input.substring(peg$savedPos, peg$currPos),","      location","    );","  }","","  function error(message, location) {","    location = location !== undefined","      ? location","      : peg$computeLocation(peg$savedPos, peg$currPos);","","    throw peg$buildSimpleError(message, location);","  }","","  function peg$getUnicode(pos = peg$currPos) {","    const cp = input.codePointAt(pos);","    if (cp === undefined) {",'      return "";',"    }","    return String.fromCodePoint(cp);","  }","","  function peg$literalExpectation(text, ignoreCase) {",'    return { type: "literal", text, ignoreCase };',"  }","","  function peg$classExpectation(parts, inverted, ignoreCase, unicode) {",'    return { type: "class", parts, inverted, ignoreCase, unicode };',"  }","","  function peg$anyExpectation() {",'    return { type: "any" };',"  }","","  function peg$endExpectation() {",'    return { type: "end" };',"  }","","  function peg$otherExpectation(description) {",'    return { type: "other", description };',"  }","","  function peg$computePosDetails(pos) {","    let details = peg$posDetailsCache[pos];","    let p;","","    if (details) {","      return details;","    } else {","      if (pos >= peg$posDetailsCache.length) {","        p = peg$posDetailsCache.length - 1;","      } else {","        p = pos;","        while (!peg$posDetailsCache[--p]) {}","      }","","      details = peg$posDetailsCache[p];","      details = {","        line: details.line,","        column: details.column,","      };","","      while (p < pos) {","        if (input.charCodeAt(p) === 10) {","          details.line++;","          details.column = 1;","        } else {","          details.column++;","        }","","        p++;","      }","","      peg$posDetailsCache[pos] = details;","","      return details;","    }","  }","","  function peg$computeLocation(startPos, endPos, offset) {","    const startPosDetails = peg$computePosDetails(startPos);","    const endPosDetails = peg$computePosDetails(endPos);","","    const res = {","      source: peg$source,","      start: {","        offset: startPos,","        line: startPosDetails.line,","        column: startPosDetails.column,","      },","      end: {","        offset: endPos,","        line: endPosDetails.line,","        column: endPosDetails.column,","      },","    };",'    if (offset && peg$source && (typeof peg$source.offset === "function")) {',"      res.start = peg$source.offset(res.start);","      res.end = peg$source.offset(res.end);","    }","    return res;","  }","","  function peg$fail(expected) {","    if (peg$currPos < peg$maxFailPos) { return; }","","    if (peg$currPos > peg$maxFailPos) {","      peg$maxFailPos = peg$currPos;","      peg$maxFailExpected = [];","    }","","    peg$maxFailExpected.push(expected);","  }","","  function peg$buildSimpleError(message, location) {","    return new peg$SyntaxError(message, null, null, location);","  }","","  function peg$buildStructuredError(expected, found, location) {","    return new peg$SyntaxError(","      peg$SyntaxError.buildMessage(expected, found),","      expected,","      found,","      location","    );","  }",""),Z.imports.length>0&&me.push("  function peg$callLibrary(lib, startRule) {","    const opts = Object.assign({}, options, {","      startRule: startRule,","      peg$currPos: peg$currPos,","      peg$silentFails: peg$silentFails,","      peg$library: true,","      peg$maxFailExpected: peg$maxFailExpected","    });","    const res = lib.parse(input, opts);","    peg$currPos = res.peg$currPos;","    peg$maxFailPos = res.peg$maxFailPos;","    peg$maxFailExpected = res.peg$maxFailExpected;","    return (res.peg$result === res.peg$FAILED) ? peg$FAILED : res.peg$result;","  }",""),Z.rules.forEach(function(Je){var Tt;(Tt=me).push.apply(Tt,_to_consumable_array(ve(ae(Je))))}),Z.initializer)if(Array.isArray(Z.initializer))try{for(var Vt=Z.initializer[Symbol.iterator](),Dt;!(Et=(Dt=Vt.next()).done);Et=!0){var bt=Dt.value;me.push(ue(bt)),me.push("")}}catch(Je){At=!0,Ut=Je}finally{try{!Et&&Vt.return!=null&&Vt.return()}finally{if(At)throw Ut}}else me.push(ue(Z.initializer)),me.push("");return me.push("  peg$result = peg$startRuleFunction();","","  const peg$success = (peg$result !== peg$FAILED && peg$currPos === input.length);","  function peg$throw() {","    if (peg$result !== peg$FAILED && peg$currPos < input.length) {","      peg$fail(peg$endExpectation());","    }","","    throw peg$buildStructuredError(","      peg$maxFailExpected,","      peg$maxFailPos < input.length ? peg$getUnicode(peg$maxFailPos) : null,","      peg$maxFailPos < input.length","        ? peg$computeLocation(peg$maxFailPos, peg$maxFailPos + 1)","        : peg$computeLocation(peg$maxFailPos, peg$maxFailPos)","    );","  }","  if (options.peg$library) {","    return /** @type {any} */ ({","      peg$result,","      peg$currPos,","      peg$FAILED,","      peg$maxFailExpected,","      peg$maxFailPos,","      peg$success,","      peg$throw: peg$success ? undefined : peg$throw,","    });","  }","  if (peg$success) {","    return peg$result;","  } else {","    peg$throw();","  }","}"),new Q(null,null,z.grammarSource,me.map(function(Je){return _instanceof(Je,Q)?Je:Je+`
`}))}function _e(me){function Ne(){return["// @generated by Peggy ".concat(m,"."),"//","// https://peggyjs.org/"]}function De(){var Te=["{"];return z.trace&&Te.push("  DefaultTracer: peg$DefaultTracer,"),z.allowedStartRules&&Te.push("  StartRules: ["+z.allowedStartRules.map(function(je){return'"'+je+'"'}).join(", ")+"],"),Te.push("  SyntaxError: peg$SyntaxError,","  parse: peg$parse,"),Te.push("}"),Te.join(`
`)}var yt={bare:function(){if(Object.keys(ce).length>0||Z.imports.length>0)throw new Error("Dependencies not supported in format 'bare'.");return _to_consumable_array(Ne()).concat(["(function() {",'  "use strict";',me,ve("return "+De()+";"),"})()"])},commonjs:function(){var je=Object.keys(ce),xe=Ne();xe.push("",'"use strict";'),je.length>0&&(je.forEach(function(Ce){xe.push("const "+Ce+' = require("'+S(ce[Ce])+'");')}),xe.push(""));for(var ke=Z.imports.length,Le=0;Le<ke;Le++)xe.push("const "+Ee(Le)+' = require("'+S(Z.imports[Le].from.module)+'");');return xe.push("",me,"","module.exports = "+De()+";"),xe},es:function(){var je=Object.keys(ce),xe=Ne();xe.push(""),je.length>0&&(je.forEach(function(Le){xe.push("import "+Le+' from "'+S(ce[Le])+'";')}),xe.push(""));for(var ke=0;ke<Z.imports.length;ke++)xe.push("import * as "+Ee(ke)+' from "'+S(Z.imports[ke].from.module)+'";');return xe.push("",me,""),xe.push("const peg$allowedStartRules = [","  "+(z.allowedStartRules?z.allowedStartRules.map(function(Le){return'"'+Le+'"'}).join(`,
  `):""),"];",""),xe.push("export {"),z.trace&&xe.push("  peg$DefaultTracer as DefaultTracer,"),xe.push("  peg$allowedStartRules as StartRules,","  peg$SyntaxError as SyntaxError,","  peg$parse as parse","};"),xe},amd:function(){if(Z.imports.length>0)throw new Error("Imports are not supported in format 'amd'.");var je=Object.keys(ce),xe="["+je.map(function(Le){return ce[Le]}).map(function(Le){return'"'+S(Le)+'"'}).join(", ")+"]",ke=je.join(", ");return _to_consumable_array(Ne()).concat(["define("+xe+", function("+ke+") {",'  "use strict";',me,"",ve("return "+De()+";"),"});"])},globals:function(){if(Object.keys(ce).length>0||Z.imports.length>0)throw new Error("Dependencies not supported in format 'globals'.");if(!z.exportVar)throw new Error("No export variable defined for format 'globals'.");return _to_consumable_array(Ne()).concat(["(function(root) {",'  "use strict";',me,"",ve("root."+z.exportVar+" = "+De()+";"),"})(this);"])},umd:function(){if(Z.imports.length>0)throw new Error("Imports are not supported in format 'umd'.");var je=Object.keys(ce),xe=je.map(function(ye){return ce[ye]}),ke="["+xe.map(function(ye){return'"'+S(ye)+'"'}).join(", ")+"]",Le=xe.map(function(ye){return'require("'+S(ye)+'")'}).join(", "),Ce=je.join(", "),pt=Ne();return pt.push("(function(root, factory) {",'  if (typeof define === "function" && define.amd) {',"    define("+ke+", factory);",'  } else if (typeof module === "object" && module.exports) {',"    module.exports = factory("+Le+");"),z.exportVar&&pt.push("  } else {","    root."+z.exportVar+" = factory();"),pt.push("  }","})(this, function("+Ce+") {",'  "use strict";',me,"",ve("return "+De()+";"),"});"),pt}}[z.format||"bare"]();return new Q(null,null,z.grammarSource,yt.map(function(Te){return _instanceof(Te,Q)?Te:Te+`
`}))}Z.code=_e(we())},f=he(),h=Ht(),d=Rr(),g=es(),m=g.version,y=Qe(),S=y.stringEscape,x=y.regexpClassEscape,w=Kt(),Q=w.SourceNode,A=Ve(),M=ts(),L=M.parse;r.exports=o}),kr=U(function(s,r){var a=function(f,h,d){function g(y){return y.type==="rule"&&y.expression.type==="rule_ref"}function m(y,S,x){o.build({rule_ref:function(w){w.name===S&&(w.name=x,d.info('Proxy rule "'.concat(S,'" replaced by the rule "').concat(x,'"'),w.location,[{message:"This rule will be used",location:l.findRule(y,x).nameLocation}]))}})(y)}f.rules.forEach(function(y){g(y)&&m(f,y.name,y.expression.name)})},l=he(),o=K();r.exports=a}),jr=U(function(s,r){var a=function(A,M){var L=A,Z=M;Object.keys(L).forEach(function(z){return delete L[z]}),Object.keys(Z).forEach(function(z){L[z]=Z[z]})},l=function(A){A.sort(function(D,I){var W=_sliced_to_array(Array.isArray(D)?D:[D,D],2),se=W[0],ce=W[1],Se=_sliced_to_array(Array.isArray(I)?I:[I,I],2),ve=Se[0],$e=Se[1];return se!==ve?se<ve?-1:1:ce!==$e?ce>$e?-1:1:0});for(var M="",L="",Z=0;Z<A.length;Z++){var z=A[Z],j=_sliced_to_array(Array.isArray(z)?z:[z,z],2),B=j[0],G=j[1];if(typeof B=="string"&&typeof G=="string"&&typeof M=="string"&&typeof L=="string"){if(G<=L){A.splice(Z--,1);continue}if(L.charCodeAt(0)+1>=B.charCodeAt(0)){A.splice(Z--,1),A[Z]=[M,L=G];continue}}M=B,L=G}return A},o=function(A,M){g.build({class:function(L){var Z;if(L.unicode){var z=[],j=!0,B=!1,G=void 0;try{for(var D=L.parts[Symbol.iterator](),I;!(j=(I=D.next()).done);j=!0){var W=I.value;if(Array.isArray(W)){var se=_sliced_to_array(W.map(function(ve){return ve.codePointAt(0)}),2),ce=se[0],Se=se[1];ce<x&&Se>w&&(M.info("Removing surrogate range from [".concat(d(W[0]),"-").concat(d(W[1]),"]"),L.location),z.push([Q,W[1]]),W[1]=S)}}}catch(ve){B=!0,G=ve}finally{try{!j&&D.return!=null&&D.return()}finally{if(B)throw G}}(Z=L.parts).push.apply(Z,_to_consumable_array(z))}}})(A)},f=function(A,M,L){var Z=Object.create(null);A.rules.forEach(function(D){return Z[D.name]=D.expression});var z=new Set;o(A,L);var j=[function(D){var I=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;switch(D.type){case"class":if(D.inverted)break;return I?_object_spread_props(_object_spread({},D),{parts:_to_consumable_array(D.parts)}):D;case"literal":{var W=y(D.value);if(W<0)break;return{type:"class",parts:[D.value],inverted:!1,ignoreCase:D.ignoreCase,location:D.location,unicode:W>65535}}case"rule_ref":{var se=Z[D.name];if(!se)break;z.has(D.name)||(z.add(D.name),G(se));var ce=B(se,!0);return ce&&(ce.location=D.location),ce}}return null},g.build({choice:function(D){var I=null,W=!1;D.alternatives.forEach(function(se,ce){var Se;G(se);var ve=B(se);if(!ve){I=null;return}I&&I.ignoreCase===ve.ignoreCase?((Se=I.parts).push.apply(Se,_to_consumable_array(ve.parts)),D.alternatives[ce-1]=I,D.alternatives[ce]=I,I.unicode=I.unicode||ve.unicode,I.location={source:I.location.source,start:I.location.start,end:ve.location.end},W=!0):I=ve}),W&&(D.alternatives=D.alternatives.filter(function(se,ce,Se){return!ce||se!==Se[ce-1]}),D.alternatives.forEach(function(se,ce){se.type==="class"&&(se.parts=l(se.parts),se.parts.length===1&&!Array.isArray(se.parts[0])&&typeof se.parts[0]=="string"&&!se.inverted&&(D.alternatives[ce]={type:"literal",value:se.parts[0],ignoreCase:se.ignoreCase,location:se.location}))}),D.alternatives.length===1&&a(D,D.alternatives[0]))},text:function(D){if(G(D.expression),D.expression.type==="class"||D.expression.type==="literal"){var I=D.location;a(D,D.expression),D.location=I}}})],B=j[0],G=j[1];A.rules.forEach(function(D){z.add(D.name),G(D.expression)})},h=Qe(),d=h.stringEscape,g=K(),m=Qe(),y=m.codePointLen1,S=String.fromCodePoint(55295),x=55296,w=57343,Q=String.fromCodePoint(57344);r.exports=f}),Br=U(function(s,r){var a=function(o,f,h){var d=Object.create(null);o.rules.forEach(function(x){d[x.name]=x});for(var g=_to_consumable_array(f.allowedStartRules),m=new Set,y=l.build({rule_ref:function(x){g.push(x.name)}});g.length;){var S=g.shift();m.has(S)||(m.add(S),y(d[S]))}o.rules=o.rules.filter(function(x){return m.has(x.name)?!0:(h.info('Removing unused rule: "'.concat(x.name,'"'),x.location),!1)})},l=K();r.exports=a}),Gr=U(function(s,r){var a=function(l,o,f){var h={},d=!0,g=!1,m=void 0,y=!0,S=!1,x=void 0;try{for(var w=l.imports[Symbol.iterator](),Q;!(y=(Q=w.next()).done);y=!0){var A=Q.value;try{for(var M=A.what[Symbol.iterator](),L;!(d=(L=M.next()).done);d=!0){var Z=L.value;Z.type==="import_binding_all"&&(Object.prototype.hasOwnProperty.call(h,Z.binding)&&f.error('Module "'.concat(Z.binding,'" is already imported'),Z.location,[{message:"Original module location",location:h[Z.binding]}]),h[Z.binding]=Z.location)}}catch(z){g=!0,m=z}finally{try{!d&&M.return!=null&&M.return()}finally{if(g)throw m}}}}catch(z){S=!0,x=z}finally{try{!y&&w.return!=null&&w.return()}finally{if(S)throw x}}};r.exports=a}),Yr=U(function(s,r){var a=function(o,f,h){function d(y){var S={};return Object.keys(y).forEach(function(x){S[x]=y[x]}),S}function g(y,S){m(y.expression,d(S))}var m=l.build({rule:function(y){m(y.expression,{})},choice:function(y,S){y.alternatives.forEach(function(x){m(x,d(S))})},action:g,labeled:function(y,S){var x=y.label;x&&Object.prototype.hasOwnProperty.call(S,x)&&h.error('Label "'.concat(y.label,'" is already defined'),y.labelLocation,[{message:"Original label location",location:S[x]}]),m(y.expression,S),S[y.label]=y.labelLocation},text:g,simple_and:g,simple_not:g,optional:g,zero_or_more:g,one_or_more:g,repeated:function(y,S){y.delimiter&&m(y.delimiter,d(S)),m(y.expression,d(S))},group:g});m(o)},l=K();r.exports=a}),Jr=U(function(s,r){var a=function(o,f,h){var d={};l.build({rule:function(g){if(Object.prototype.hasOwnProperty.call(d,g.name)){h.error('Rule "'.concat(g.name,'" is already defined'),g.nameLocation,[{message:"Original rule location",location:d[g.name]}]);return}d[g.name]=g.nameLocation}})(o)},l=K();r.exports=a}),Qr=U(function(s,r){var a=function(f,h,d){var g=[],m=[],y=new Set,S=o.build({rule:function(x){d.errors>0||y.has(x.name)||(y.add(x.name),g.push(x.name),S(x.expression),g.pop())},sequence:function(x){d.errors>0||x.elements.every(function(w){return S(w),d.errors>0?!1:!l.alwaysConsumesOnSuccess(f,w)})},repeated:function(x){d.errors>0||(S(x.expression),x.delimiter&&!l.alwaysConsumesOnSuccess(f,x.expression)&&S(x.delimiter))},rule_ref:function(x){if(!(d.errors>0)){m.push(x);var w=l.findRule(f,x.name);if(g.indexOf(x.name)!==-1){g.push(x.name),d.error("Possible infinite loop when parsing (left recursion: "+g.join(" -> ")+")",w.nameLocation,m.map(function(Q,A,M){return{message:A+1!==M.length?"Step ".concat(A+1,': call of the rule "').concat(Q.name,'" without input consumption'):"Step ".concat(A+1,": calls itself without input consumption - left recursion"),location:Q.location}}));return}w&&S(w),m.pop()}}});S(f)},l=he(),o=K();r.exports=a}),Zr=U(function(s,r){var a=function(f,h,d){var g=o.build({zero_or_more:function(m){l.alwaysConsumesOnSuccess(f,m.expression)||d.error("Possible infinite loop when parsing (repetition used with an expression that may not consume any input)",m.location)},one_or_more:function(m){l.alwaysConsumesOnSuccess(f,m.expression)||d.error("Possible infinite loop when parsing (repetition used with an expression that may not consume any input)",m.location)},repeated:function(m){if(m.delimiter&&g(m.delimiter),!(l.alwaysConsumesOnSuccess(f,m.expression)||m.delimiter&&l.alwaysConsumesOnSuccess(f,m.delimiter)))if(m.max.value===null)d.error("Possible infinite loop when parsing (unbounded range repetition used with an expression that may not consume any input)",m.location);else{var y=m.min?m.min:m.max;d.warning(y.type==="constant"&&m.max.type==="constant"?"An expression may not consume any input and may always match ".concat(m.max.value," times"):"An expression may not consume any input and may always match with a maximum repetition count",m.location)}}});g(f)},l=he(),o=K();r.exports=a}),tn=U(function(s,r){var a=function(f,h,d){o.build({rule_ref:function(g){l.findRule(f,g.name)||d.error('Rule "'.concat(g.name,'" is not defined'),g.location)}})(f)},l=he(),o=K();r.exports=a}),rn=U(function(s,r){var a=function(o,f,h){var d=l.build({action:function(g){d(g.expression,g)},labeled:function(g,m){g.pick&&m&&h.error('"@" cannot be used with an action block',g.labelLocation,[{message:"Action block location",location:m.codeLocation}]),d(g.expression)}});d(o)},l=K();r.exports=a}),cn=U(function(s,r){var a=function(d,g,m){var y=l.build({choice:function(S){S.alternatives.forEach(function(Q){return y(Q)});for(var x=0;x<S.alternatives.length-1;x++){var w=S.alternatives[x];w.match===f&&m.warning("Always matches.  Following alternatives may not be reachable.",w.location)}},simple_and:function(S){y(S.expression),S.expression.match===f?m.warning("Always matches, making the & predicate redundant.",S.expression.location):S.expression.match===h&&m.warning("Never matches, making the & predicate always fail.",S.expression.location)},simple_not:function(S){y(S.expression),S.expression.match===f?m.warning("Always matches, making the ! predicate always fail.",S.expression.location):S.expression.match===h&&m.warning("Never matches, making the ! predicate redundant.",S.expression.location)}});y(d)},l=K(),o=ht(),f=o.ALWAYS_MATCH,h=o.NEVER_MATCH;r.exports=a}),an=U(function(s,r){var a=ft(),l=(function(){function f(h){_class_call_check(this,f),h=(typeof h>"u"?"undefined":_type_of(h))<"u"?h:{},typeof h.error=="function"&&(this.error=h.error),typeof h.warning=="function"&&(this.warning=h.warning),typeof h.info=="function"&&(this.info=h.info)}return _create_class(f,[{key:"error",value:function(){}},{key:"warning",value:function(){}},{key:"info",value:function(){}}]),f})(),o=(function(){function f(h){_class_call_check(this,f),this._callbacks=new l(h),this._firstError=null,this.errors=0,this.problems=[],this.stage=null}return _create_class(f,[{key:"error",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;++this.errors,this._firstError===null&&(this._firstError=_construct(a,_to_consumable_array(g)),this._firstError.stage=this.stage,this._firstError.problems=this.problems),this.problems.push(["error"].concat(_to_consumable_array(g))),(y=this._callbacks).error.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"warning",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;this.problems.push(["warning"].concat(_to_consumable_array(g))),(y=this._callbacks).warning.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"info",value:function(){for(var d=arguments.length,g=new Array(d),m=0;m<d;m++)g[m]=arguments[m];var y;this.problems.push(["info"].concat(_to_consumable_array(g))),(y=this._callbacks).info.apply(y,[this.stage].concat(_to_consumable_array(g)))}},{key:"checkErrors",value:function(){if(this.errors!==0)throw this._firstError}}]),f})();r.exports=o}),un=U(function(exports$1,module){var processOptions=function(s,r){var a={};return Object.keys(s).forEach(function(l){a[l]=s[l]}),Object.keys(r).forEach(function(l){Object.prototype.hasOwnProperty.call(a,l)||(a[l]=r[l])}),a},isSourceMapCapable=function(s){return typeof s=="string"?s.length>0:s&&typeof s.offset=="function"},addImportedRules=Xs(),fixLibraryNumbers=Ks(),generateBytecode=ir(),generateJS=Nr(),inferenceMatchResult=ht(),removeProxyRules=kr(),mergeCharacterClasses=jr(),removeUnusedRules=Br(),reportDuplicateImports=Gr(),reportDuplicateLabels=Yr(),reportDuplicateRules=Jr(),reportInfiniteRecursion=Qr(),reportInfiniteRepetition=Zr(),reportUndefinedRules=tn(),reportIncorrectPlucking=rn(),reportUnreachable=cn(),Session=an(),visitor=K(),base64=Qe().base64,compiler={visitor,passes:{prepare:[addImportedRules,reportInfiniteRecursion],check:[reportUndefinedRules,reportDuplicateRules,reportDuplicateLabels,reportInfiniteRepetition,reportIncorrectPlucking,reportDuplicateImports],transform:[fixLibraryNumbers,removeProxyRules,mergeCharacterClasses,removeUnusedRules,inferenceMatchResult],semantic:[reportUnreachable],generate:[generateBytecode,generateJS]},compile:function compile(ast,passes,options){options=options!==void 0?options:{};var defaultStartRules=[ast.rules[0].name];if(options=processOptions(options,{allowedStartRules:defaultStartRules,cache:!1,dependencies:{},exportVar:null,format:"bare",output:"parser",trace:!1}),(options.allowedStartRules===null||options.allowedStartRules===void 0)&&(options.allowedStartRules=defaultStartRules),!Array.isArray(options.allowedStartRules))throw new Error("allowedStartRules must be an array");options.allowedStartRules.length===0&&(options.allowedStartRules=defaultStartRules);var allRules=ast.rules.map(function(s){return s.name}),_iteratorNormalCompletion=!0,_didIteratorError=!1,_iteratorError=void 0;if(options.allowedStartRules.some(function(s){return s==="*"}))options.allowedStartRules=allRules;else try{for(var _iterator=options.allowedStartRules[Symbol.iterator](),_step;!(_iteratorNormalCompletion=(_step=_iterator.next()).done);_iteratorNormalCompletion=!0){var i=_step.value;if(allRules.indexOf(i)===-1)throw new Error('Unknown start rule "'.concat(i,'"'))}}catch(s){_didIteratorError=!0,_iteratorError=s}finally{try{!_iteratorNormalCompletion&&_iterator.return!=null&&_iterator.return()}finally{if(_didIteratorError)throw _iteratorError}}if((options.output==="source-and-map"||options.output==="source-with-inline-map")&&!isSourceMapCapable(options.grammarSource))throw new Error("Must provide grammarSource (as a string or GrammarLocation) in order to generate source maps");var session=new Session(options);switch(Object.keys(passes).forEach(function(s){session.stage=s,session.info("Process stage ".concat(s)),passes[s].forEach(function(r){session.info("Process pass ".concat(s,".").concat(r.name)),r(ast,options,session)}),session.checkErrors()}),options.output){case"parser":return eval(ast.code.toString());case"source":return ast.code.toString();case"source-and-map":return ast.code;case"source-with-inline-map":{if((typeof TextEncoder>"u"?"undefined":_type_of(TextEncoder))>"u")throw new Error("TextEncoder is not supported by this platform");var i=ast.code.toStringWithSourceMap(),n=new TextEncoder,e=base64(n.encode(JSON.stringify(i.map.toJSON())));return i.code+"//# sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e,`
`)}case"ast":return ast;default:throw new Error("Invalid output format: "+options.output+".")}}};module.exports=compiler}),Jl=ft(),Xl=Ve(),Ql=he(),Kl=un(),Zl=ts(),_es=es(),ea=_es.version,ta=["break","case","catch","class","const","continue","debugger","default","delete","do","else","export","extends","finally","for","function","if","import","in","instanceof","new","return","super","switch","this","throw","try","typeof","var","void","while","with","null","true","false","enum","implements","interface","let","package","private","protected","public","static","yield","await","arguments","eval"],Ke={VERSION:ea,RESERVED_WORDS:ta,GrammarError:Jl,GrammarLocation:Xl,parser:Zl,compiler:Kl,generate:function s(s,r){r=r!==void 0?r:{};function a(h){var d={};return Object.keys(h).forEach(function(g){d[g]=h[g].slice()}),d}var l="plugins"in r?r.plugins:[],o={parser:Ke.parser,passes:a(Ke.compiler.passes),reservedWords:Ke.RESERVED_WORDS.slice()};l.forEach(function(h){h.use(o,r)}),Array.isArray(s)||(s=[{source:r.grammarSource,text:s}]);var f=Ql.combine(s.map(function(h){var d=h.source,g=h.text;return o.parser.parse(g,{grammarSource:d,reservedWords:o.reservedWords})}));return Ke.compiler.compile(f,o.passes,r)}};return module.exports=Ke,__exports!=exports$1&&(module.exports=exports$1),module.exports})})(peggy_min$1,peggy_min$1.exports)),peggy_min$1.exports}var peggy_minExports=requirePeggy_min();const PEG=getDefaultExportFromCjs(peggy_minExports),luminaGrammarRaw=`{
  function expectedStatementTokens() {
    return [
      "fn", "struct", "enum", "type", "extern", "import", "pub",
      "let", "if", "while", "match", "return",
      "identifier", "number", "string", "true", "false",
      "{", "}"
    ];
  }
}
Start
  = _ statements:StatementList _ { return { type: "Program", body: statements, location: location() }; }

StatementList
  = head:RecoverableStatement tail:(_ RecoverableStatement)* { return [head].concat(tail.map(t => t[1])); }
  / "" { return []; }

RecoverableStatement
  = stmt:Statement { return stmt; }
  / error:InvalidStatement { return error; }

SyncKeyword
  = "fn" / "struct" / "enum" / "type" / "extern" / "import" / "pub"

InvalidStatement
  = tokens:(!(";" / "}" / SyncKeyword) .)+ (";" / &"}" / &SyncKeyword / !.) {
      return {
        type: "ErrorNode",
        message: "Invalid syntax",
        expected: expectedStatementTokens(),
        location: location()
      };
    }

Statement
  = Import
  / StructDecl
  / EnumDecl
  / TypeDecl
  / ExternTypeDecl
  / FnDecl
  / ExternFnDecl
  / LetStmt
  / AssignStmt
  / IfStmt
  / WhileStmt
  / ReturnStmt
  / MatchStmt
  / ExprStmt
  / Block

Import
  = "import" _ spec:ImportSpec _ "from" _ source:String _ ";"? {
      return { type: "Import", spec, source, location: location() };
    }

ImportSpec
  = "{" _ list:ImportList _ "}" { return list; }
  / Identifier

ImportList
  = head:Identifier tail:(_ "," _ Identifier)* { return [head].concat(tail.map(t => t[3])); }

TypeDecl
  = visibility:Visibility? _ "type" _ node:IdName _ tparams:TypeParams? _ "=" _ body:TypeBody _ ";"? {
      return { type: "TypeDecl", name: node.name, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location };
    }

StructDecl
  = visibility:Visibility? _ "struct" _ node:IdName _ tparams:TypeParams? _ "{" _ fields:TypeFieldList? _ "}" _ ";"? {
      return { type: "StructDecl", name: node.name, body: fields || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location };
    }

EnumDecl
  = visibility:Visibility? _ "enum" _ node:IdName _ tparams:TypeParams? _ "{" _ variants:EnumVariantList? _ "}" _ ";"? {
      return { type: "EnumDecl", name: node.name, variants: variants || [], typeParams: tparams || [], visibility: visibility ?? "private", location: node.location };
    }

ExternTypeDecl
  = visibility:Visibility? _ "extern" _ "type" _ node:IdName _ tparams:TypeParams? _ source:FromClause? _ ";"? {
      return { type: "TypeDecl", name: node.name, body: [], typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location };
    }

TypeBody
  = "{" _ fields:TypeFieldList? _ "}" { return fields || []; }

TypeFieldList
  = head:TypeField tail:(_ "," _ TypeField)* { return [head].concat(tail.map(t => t[3])); }

TypeField
  = node:IdName _ ":" _ typeName:TypeName { return { name: node.name, typeName, location: node.location }; }

TypeName
  = base:IdName _ args:TypeArgs? {
      return args ? \`\${base.name}<\${args.join(",")}>\` : base.name;
    }

FnDecl
  = visibility:Visibility? _ "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ body:Block {
      return { type: "FnDecl", name: node.name, params: params || [], returnType: ret || null, body, typeParams: tparams || [], visibility: visibility ?? "private", extern: false, location: node.location };
    }

ExternFnDecl
  = visibility:Visibility? _ "extern" _ "fn" _ node:IdName _ tparams:TypeParams? _ "(" _ params:ParamList? _ ")" _ ret:ReturnType? _ source:FromClause? _ ";"? {
      return { type: "FnDecl", name: node.name, params: params || [], returnType: ret || "any", body: { type: "Block", body: [] }, typeParams: tparams || [], visibility: visibility ?? "public", extern: true, externModule: source ?? null, location: node.location };
    }

FromClause
  = _ "from" _ source:String { return source.value; }

ReturnType
  = "->" _ type:TypeName { return type; }

TypeArgs
  = "<" _ head:TypeName tail:(_ "," _ TypeName)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParams
  = "<" _ head:TypeParam tail:(_ "," _ TypeParam)* _ ">" { return [head].concat(tail.map(t => t[3])); }

TypeParam
  = name:IdName _ ":" _ bound:TypeBounds { return { name: name.name, bound }; }
  / name:IdName { return { name: name.name }; }

TypeBounds
  = head:TypeName tail:(_ "&" _ TypeName)* { return [head].concat(tail.map(t => t[3])); }

EnumVariantList
  = head:EnumVariant tail:(_ "," _ EnumVariant)* _ ","? { return [head].concat(tail.map(t => t[3])); }

EnumVariant
  = node:IdName _ params:EnumVariantParams? { return { name: node.name, params: params || [], location: node.location }; }

EnumVariantParams
  = "(" _ head:TypeName tail:(_ "," _ TypeName)* _ ")" { return [head].concat(tail.map(t => t[3])); }

ParamList
  = head:Param tail:(_ "," _ Param)* { return [head].concat(tail.map(t => t[3])); }

Param
  = ref:("ref" __)? node:IdName _ ":" _ typeName:TypeName { return { name: node.name, typeName, ref: !!ref, location: node.location }; }

Block
  = "{" _ statements:StatementList _ "}" { return { type: "Block", body: statements, location: location() }; }

LetStmt
  = "let" _ mut:("mut" __)? node:IdName _ typeAnn:(_ ":" _ typeName:TypeName { return typeName; })? _ "=" _ value:Expr _ ";"? {
      return { type: "Let", name: node.name, typeName: typeAnn || null, value, mutable: !!mut, location: node.location };
    }

ReturnStmt
  = "return" _ value:Expr _ ";"? { return { type: "Return", value, location: location() }; }

MatchStmt
  = "match" _ value:Expr _ "{" _ arms:MatchArmList? _ "}" {
      return { type: "MatchStmt", value, arms: arms || [], location: location() };
    }

WhileStmt
  = "while" _ "(" _ condition:Expr _ ")" _ body:Block {
      return { type: "While", condition, body, location: location() };
    }

AssignStmt
  = target:Identifier _ "=" _ value:Expr _ ";"? { return { type: "Assign", target, value, location: location() }; }

IfStmt
  = "if" _ "(" _ condition:Expr _ ")" _ thenBlock:Block _ elsePart:(_ "else" _ elseBlock:Block)? {
      return { type: "If", condition, thenBlock, elseBlock: elsePart ? elsePart[3] : null, location: location() };
    }

ExprStmt
  = expr:Expr _ ";"? { return { type: "ExprStmt", expr, location: location() }; }

Expr
  = LogicOr

LogicOr
  = head:LogicAnd tail:(_ "||" _ LogicAnd)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

LogicAnd
  = head:Pipe tail:(_ "&&" _ Pipe)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

Pipe
  = head:Equality tail:(_ "|>" _ PipeTarget)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: "|>", left: acc, right: t[3], location: location() }), head);
    }

PipeTarget
  = callee:IdName _ "(" _ args:ArgList? _ ")" {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: args || [], typeArgs: [], location: location() };
    }
  / callee:IdName {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: [], typeArgs: [], location: location() };
    }

Equality
  = head:IsExpr tail:(_ ("==" / "!=") _ IsExpr)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

IsExpr
  = head:Relational _ "is" _ qual:QualifiedVariant {
      return { type: "IsExpr", value: head, variant: qual.variant, enumName: qual.enumName, location: location() };
    }
  / Relational

Relational
  = head:Add tail:(_ ("<=" / ">=" / "<" / ">") _ Add)* {
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: location() }), head);
    }

Add
  = head:Mul tail:(_ ("+" / "-") _ Mul)* {
      const loc = location();
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: loc }), head);
    }

Mul
  = head:Primary tail:(_ ("*" / "/") _ Primary)* {
      const loc = location();
      return tail.reduce((acc, t) => ({ type: "Binary", op: t[1], left: acc, right: t[3], location: loc }), head);
    }

Primary
  = MatchExpr
  / StructLiteral
  / Call
  / Member
  / Number
  / String
  / Boolean
  / Identifier
  / "(" _ expr:Expr _ ")" { return expr; }

StructLiteral
  = name:IdName _ targs:TypeArgs? _ "{" _ fields:StructLiteralFieldList? _ "}" {
      return { type: "StructLiteral", name: name.name, typeArgs: targs || [], fields: fields || [], location: location() };
    }

StructLiteralFieldList
  = head:StructLiteralField tail:(_ "," _ StructLiteralField)* _ ","? { return [head].concat(tail.map(t => t[3])); }

StructLiteralField
  = field:IdName _ ":" _ value:Expr { return { name: field.name, value, location: field.location }; }

IdName
  = name:$([a-zA-Z_][a-zA-Z0-9_]*) { return { name, location: location() }; }

Identifier
  = node:IdName { return { type: "Identifier", name: node.name, location: node.location }; }

Number
  = "0x" digits:$([0-9a-fA-F] [0-9a-fA-F_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 16), location: location() };
    }
  / "0b" digits:$([01] [01_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 2), location: location() };
    }
  / digits:$([0-9] [0-9_]*) {
      const cleaned = digits.replace(/_/g, "");
      return { type: "Number", value: parseInt(cleaned, 10), location: location() };
    }

Boolean
  = "true" { return { type: "Boolean", value: true, location: location() }; }
  / "false" { return { type: "Boolean", value: false, location: location() }; }

String
  = "\\"" chars:Char* "\\"" { return { type: "String", value: chars.join(""), location: location() }; }

Char
  = "\\\\\\\\" c:. { return c; }
  / !'"' .

_ = (WS / Comment)*
__ = (WS / Comment)+
WS = [ \\t\\r\\n]+
Comment = "//" [^\\n]* "\\n"?
  / "/*" (!"*/" .)* "*/"

MatchArmList
  = head:MatchArm tail:(_ "," _ MatchArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchArm
  = pattern:MatchPattern _ "=>" _ body:Block { return { pattern, body, location: location() }; }

MatchPattern
  = "_" { return { type: "WildcardPattern", location: location() }; }
  / qual:QualifiedVariant _ binds:MatchBindingList? { return { type: "EnumPattern", variant: qual.variant, enumName: qual.enumName, bindings: binds || [], location: qual.location }; }

QualifiedVariant
  = enumName:IdName _ "." _ variant:IdName { return { enumName: enumName.name, variant: variant.name, location: enumName.location }; }
  / variant:IdName { return { enumName: null, variant: variant.name, location: variant.location }; }

MatchBindingList
  = "(" _ head:MatchBinding tail:(_ "," _ MatchBinding)* _ ")" { return [head].concat(tail.map(t => t[3])); }

MatchBinding
  = name:IdName { return name.name; }
  / "_" { return "_"; }

MatchExpr
  = "match" _ value:Expr _ "{" _ arms:MatchExprArmList? _ "}" {
      return { type: "MatchExpr", value, arms: arms || [], location: location() };
    }

MatchExprArmList
  = head:MatchExprArm tail:(_ "," _ MatchExprArm)* _ ","? { return [head].concat(tail.map(t => t[3])); }

MatchExprArm
  = pattern:MatchPattern _ "=>" _ body:Expr { return { pattern, body, location: location() }; }

Member
  = base:Identifier tail:(_ "." _ IdName)+ {
      return tail.reduce((acc, t) => ({ type: "Member", object: acc, property: t[3].name, location: location() }), base);
    }
Call
  = callee:IdName _ targs:TypeArgs? _ "(" _ args:ArgList? _ ")" {
      return { type: "Call", callee: { type: "Identifier", name: callee.name, location: callee.location }, args: args || [], typeArgs: targs || [], location: location() };
    }

ArgList
  = head:Expr tail:(_ "," _ Expr)* { return [head].concat(tail.map(t => t[3])); }
Visibility
  = "pub" { return "public"; }
`;class SymbolTable{constructor(){this.symbols=new Map}define(r){this.symbols.set(r.name,r)}has(r){return this.symbols.has(r)}get(r){return this.symbols.get(r)}list(){return Array.from(this.symbols.values())}}const builtinTypes=new Set(["int","string","bool","void","any"]),defaultLocation={start:{line:1,column:1,offset:0},end:{line:1,column:1,offset:0}},diagAt=(s,r,a="error",l,o)=>({severity:a,message:s,location:r??defaultLocation,code:l??(a==="warning"?"LINT":"TYPE_ERROR"),source:"lumina",relatedInformation:o}),getLValueBaseName=s=>{if(s.type==="Identifier")return s.name;if(s.type!=="Member")return null;let r=s.object;for(;r.type==="Member";)r=r.object;return r.type==="Identifier"?r.name:null};function analyzeLumina(s,r){const a=[],l=new SymbolTable,o=new Map,f=new Map;for(const S of builtinTypes)l.define({name:S,kind:"type",type:S});for(const S of s.body)if(S.type!=="ErrorNode")if(S.type==="TypeDecl")l.define({name:S.name,kind:"type",type:S.name,location:S.location,visibility:S.visibility??"private",uri:r?.currentUri,typeParams:S.typeParams??[],extern:S.extern??!1,externModule:S.externModule??null});else if(S.type==="StructDecl"){const x=new Map;for(const w of S.body)x.set(w.name,w.typeName);l.define({name:S.name,kind:"type",type:S.name,location:S.location,visibility:S.visibility??"private",uri:r?.currentUri,typeParams:S.typeParams??[],structFields:x})}else S.type==="EnumDecl"?l.define({name:S.name,kind:"type",type:S.name,location:S.location,visibility:S.visibility??"private",uri:r?.currentUri,typeParams:S.typeParams??[],enumVariants:S.variants.map(x=>({name:x.name,params:x.params??[]}))}):S.type==="FnDecl"&&l.define({name:S.name,kind:"function",type:S.returnType??void 0,pendingReturn:S.returnType==null,location:S.location,visibility:S.visibility??"private",extern:S.extern??!1,uri:r?.currentUri,typeParams:S.typeParams??[],paramTypes:S.params.map(x=>x.typeName),paramRefs:S.params.map(x=>!!x.ref),externModule:S.externModule??null});const h=new Scope,d=new Set;for(const S of s.body)S.type!=="FnDecl"&&typeCheckStatement(S,l,a,null,h,r,void 0,d,o,void 0,void 0);const g=5;let m=!0,y=0;for(;m&&y<g;){m=!1,y+=1;for(const x of s.body){if(x.type!=="FnDecl")continue;const w=l.get(x.name);if(!w||!w.pendingReturn||d.has(x.name))continue;d.add(x.name),o.set(x.name,new Set);const Q=resolveFunctionBody(x,l,a,r,d,o,h,f);d.delete(x.name),Q?(l.define({...w,type:Q,pendingReturn:!1}),m=!0):Q==="void"&&(l.define({...w,type:"void",pendingReturn:!1}),m=!0)}const S=detectPendingCycles(o);if(S.length>0){for(const x of S){a.push(diagAt(`Recursive inference detected for '${x}'`,s.location));const w=l.get(x);w&&l.define({...w,type:"any",pendingReturn:!1})}m=!1}}for(const S of s.body)S.type!=="ErrorNode"&&S.type==="FnDecl"&&resolveFunctionBody(S,l,a,r,d,o,h,f);return collectUnusedBindingsLocal(h,a,s.location),{symbols:l,diagnostics:a,diGraphs:void 0}}function resolveFunctionBody(s,r,a,l,o,f,h,d){if(s.type!=="FnDecl")return null;const g=s.returnType??null,m=new SymbolTable;for(const Q of r.list())m.define(Q);const y=new Map;for(const Q of s.typeParams??[])y.set(Q.name,Q.bound?.[0]);const S=new Scope(h);for(const Q of s.params){if(ensureKnownType(Q.typeName,r,new Set(y.keys()),a,Q.location??s.location)==="unknown"){const M=suggestName(Q.typeName,collectVisibleTypeSymbols(r,l)),L=M?[{location:Q.location??s.location??defaultLocation,message:`Did you mean '${M}'?`}]:void 0;a.push(diagAt(`Unknown type '${Q.typeName}' for parameter '${Q.name}'`,Q.location??s.location,"error","UNKNOWN_TYPE",L))}m.define({name:Q.name,kind:"variable",type:Q.typeName,location:Q.location??s.location}),S.define(Q.name,Q.location??s.location)}if(s.extern)return g??null;l?.diDebug&&d&&d.set(s.name,buildCfgDot(s.name,s.body.body));const x=g?void 0:{types:[]},w=new DefiniteAssignment;for(const Q of s.params)w.define(S,Q.name,!0);for(const Q of s.body.body)typeCheckStatement(Q,m,a,g,S,{...l,typeParams:y},x,o,f,s.name,w);if(collectUnusedBindings(S,a,s.location),g)return g;if(f.get(s.name)?.size)return null;if(x&&x.types.length>0){const[Q,...A]=x.types;return A.some(L=>L!==Q)?(a.push(diagAt(`Inconsistent return types for '${s.name}'`,s.location)),null):Q}return"void"}function detectPendingCycles(s){const r=new Set,a=new Set,l=new Set,o=f=>{if(a.has(f)){l.add(f);return}if(r.has(f))return;r.add(f),a.add(f);const h=s.get(f);if(h)for(const d of h)o(d);a.delete(f)};for(const f of s.keys())o(f);return Array.from(l)}function collectVisibleSymbols(s,r){const a=s.list(),l=[];for(const o of a)o.uri&&r?.currentUri&&o.uri!==r.currentUri&&o.visibility==="private"||l.push(o.name);return l}function collectVisibleTypeSymbols(s,r){const a=s.list(),l=[];for(const o of a)o.kind==="type"&&(o.uri&&r?.currentUri&&o.uri!==r.currentUri&&o.visibility==="private"||l.push(o.name));return l}function findEnumVariant(s,r,a){for(const l of s.list()){if(!l.enumVariants||l.uri&&a?.currentUri&&l.uri!==a.currentUri&&l.visibility==="private")continue;const o=l.enumVariants.find(f=>f.name===r);if(o)return{enumName:l.name,params:o.params}}return null}function findEnumVariantQualified(s,r,a,l){const o=s.get(r);if(!o||!o.enumVariants||o.uri&&l?.currentUri&&o.uri!==l.currentUri&&o.visibility==="private")return null;const f=o.enumVariants.find(h=>h.name===a);return f?{enumName:o.name,params:f.params}:null}function getEnumPayloadType(s,r,a){const l=findEnumVariant(s,r,a);return!l||l.params.length!==1?null:l.params[0]}function getEnumPayloadTypeQualified(s,r,a,l){const o=findEnumVariantQualified(s,r,a,l);return!o||o.params.length!==1?null:o.params[0]}function getNarrowingFromCondition(s,r,a){if(s.type==="IsExpr"){if(s.value.type!=="Identifier")return null;const f=s.enumName?getEnumPayloadTypeQualified(r,s.enumName,s.variant,a):getEnumPayloadType(r,s.variant,a);return f?{name:s.value.name,type:f,when:"then"}:null}if(s.type!=="Binary"||s.op!=="=="&&s.op!=="!=")return null;const l=(f,h,d)=>{if(f.type!=="Identifier"||h.type!=="Call")return null;const g=getEnumPayloadType(r,h.callee.name,a);return g?{name:f.name,type:g,when:d}:null},o=s.op==="=="?"then":"else";return l(s.left,s.right,o)??l(s.right,s.left,o)}function resolveEnumFromType(s,r){if(!r)return null;const l=parseTypeName(r)?.base??r,o=s.get(l);return!o||!o.enumVariants?null:{name:l,variants:o.enumVariants}}function levenshtein(s,r){const a=Array.from({length:s.length+1},()=>new Array(r.length+1).fill(0));for(let l=0;l<=s.length;l++)a[l][0]=l;for(let l=0;l<=r.length;l++)a[0][l]=l;for(let l=1;l<=s.length;l++)for(let o=1;o<=r.length;o++){const f=s[l-1]===r[o-1]?0:1;a[l][o]=Math.min(a[l-1][o]+1,a[l][o-1]+1,a[l-1][o-1]+f)}return a[s.length][r.length]}function suggestName(s,r){let a=null;for(const l of r){const o=levenshtein(s,l);(a===null||o<a.dist)&&(a={name:l,dist:o})}return a&&a.dist<=2?a.name:null}function typeCheckStatement(s,r,a,l,o,f,h,d,g,m,y){switch(s.type){case"ErrorNode":a.push(diagAt(s.message??"Invalid syntax",s.location));return;case"TypeDecl":if(s.extern)return;if(s.typeParams&&s.typeParams.length>0){for(const S of s.typeParams)if(isValidTypeParam(S.name)||a.push(diagAt(`Invalid type parameter '${S.name}'`,s.location)),S.bound)for(const x of S.bound)isKnownType(x,r,new Set(s.typeParams.map(w=>w.name)))||a.push(diagAt(`Unknown bound '${x}' for type parameter '${S.name}'`,s.location))}{const S=new Map;for(const x of s.typeParams??[])S.set(x.name,x.bound?.[0]);for(const x of s.body)if(ensureKnownType(x.typeName,r,new Set(S.keys()),a,s.location)==="unknown"){const Q=suggestName(x.typeName,collectVisibleTypeSymbols(r,f)),A=Q?[{location:s.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;a.push(diagAt(`Unknown type '${x.typeName}' for field '${x.name}'`,s.location,"error","UNKNOWN_TYPE",A))}}return;case"StructDecl":{if(s.typeParams&&s.typeParams.length>0){for(const S of s.typeParams)if(isValidTypeParam(S.name)||a.push(diagAt(`Invalid type parameter '${S.name}'`,s.location)),S.bound)for(const x of S.bound)isKnownType(x,r,new Set(s.typeParams.map(w=>w.name)))||a.push(diagAt(`Unknown bound '${x}' for type parameter '${S.name}'`,s.location))}{const S=new Map;for(const x of s.typeParams??[])S.set(x.name,x.bound?.[0]);for(const x of s.body)if(ensureKnownType(x.typeName,r,new Set(S.keys()),a,s.location)==="unknown"){const Q=suggestName(x.typeName,collectVisibleTypeSymbols(r,f)),A=Q?[{location:s.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;a.push(diagAt(`Unknown type '${x.typeName}' for field '${x.name}'`,s.location,"error","UNKNOWN_TYPE",A))}}return}case"EnumDecl":{for(const S of s.variants)for(const x of S.params??[])isKnownType(x,r,new Set(s.typeParams?.map(w=>w.name)??[]))||a.push(diagAt(`Unknown type '${x}' for enum variant '${S.name}'`,S.location??s.location));return}case"FnDecl":{resolveFunctionBody(s,r,a,f,d??new Set,g??new Map,o);return}case"Let":{const S=f?.typeParams??new Map,x=s.typeName??null;if(o){const A=o.parent,M=A?findDefScope(A,s.name):null;if(M){const L=M.locals.get(s.name),Z=L?[{location:L,message:`Previous '${s.name}' declared here`}]:void 0;a.push(diagAt(`Binding '${s.name}' shadows a variable from an outer scope`,s.location,"warning","SHADOWED_BINDING",Z))}}if(x&&ensureKnownType(x,r,new Set(S.keys()),a,s.location)==="unknown"){const M=suggestName(x,collectVisibleTypeSymbols(r,f)),L=M?[{location:s.location??defaultLocation,message:`Did you mean '${M}'?`}]:void 0;a.push(diagAt(`Unknown type '${x}' for variable '${s.name}'`,s.location,"error","UNKNOWN_TYPE",L))}o&&y&&y.define(o,s.name,!1),o&&o.define(s.name,s.location),r.define({name:s.name,kind:"variable",type:x??"any",location:s.location,mutable:s.mutable??!1});const w=typeCheckExpr(s.value,r,a,o,f,x??void 0,d,g,m,y);x&&w&&w!==x&&a.push(diagAt(`Type mismatch: '${s.name}' is '${x}' but value is '${w}'`,s.location));const Q=x??w;if(!Q){if(s.value.type==="Call"&&!x&&(()=>{const A=s.value.callee.name,M=r.get(A)??f?.externSymbols?.(A);return!!(M&&M.kind==="function"&&M.pendingReturn)})()){r.define({name:s.name,kind:"variable",type:"any",location:s.location}),o?.define(s.name,s.location);return}a.push(diagAt(`Could not infer type for '${s.name}'`,s.location))}r.define({name:s.name,kind:"variable",type:Q??"any",location:s.location,mutable:s.mutable??!1}),o&&y&&y.assign(o,s.name);return}case"If":{const S=typeCheckExpr(s.condition,r,a,o,f,void 0,d,g,m,y);S&&S!=="bool"&&a.push(diagAt("If condition must be 'bool'",s.location));const x=getNarrowingFromCondition(s.condition,r,f);let w=null;if(s.condition.type==="IsExpr"&&s.condition.value.type==="Identifier"){const Q=typeCheckExpr(s.condition.value,r,a,o,f,void 0,d,g,m,y),A=resolveEnumFromType(r,Q);if(A){const M=s.condition.variant,L=A.variants.filter(Z=>Z.name!==M);L.length===1&&L[0].params.length===1&&(w={name:s.condition.value.name,type:L[0].params[0]})}}if(y){const Q=y.clone(),A=y.clone(),M=new Scope(o),L=new Scope(o);x&&(x.when==="then"?M.narrow(x.name,x.type):L.narrow(x.name,x.type)),w&&L.narrow(w.name,w.type),typeCheckStatement(s.thenBlock,r,a,l,M,f,h,d,g,m,Q),s.elseBlock&&typeCheckStatement(s.elseBlock,r,a,l,L,f,h,d,g,m,A),y.mergeFromBranches([Q,A])}else{const Q=new Scope(o),A=new Scope(o);x&&(x.when==="then"?Q.narrow(x.name,x.type):A.narrow(x.name,x.type)),w&&A.narrow(w.name,w.type),typeCheckStatement(s.thenBlock,r,a,l,Q,f,h,d,g,m),s.elseBlock&&typeCheckStatement(s.elseBlock,r,a,l,A,f,h,d,g,m)}return}case"While":{const S=typeCheckExpr(s.condition,r,a,o,f,void 0,d,g,m,y);if(S&&S!=="bool"&&a.push(diagAt("While condition must be 'bool'",s.location)),y){const x=y.clone();typeCheckStatement(s.body,r,a,l,o,f,h,d,g,m,x)}else typeCheckStatement(s.body,r,a,l,o,f,h,d,g,m);return}case"Assign":{const S=s.target.name,x=r.get(S)??f?.externSymbols?.(S);if(!x){a.push(diagAt(`Unknown identifier '${S}'`,s.location));return}if(x.kind==="variable"&&x.mutable===!1){a.push(diagAt(`Cannot assign to immutable variable '${S}'`,s.location));return}o?.write(S);const w=typeCheckExpr(s.value,r,a,o,f,x.type,d,g,m,y);if(o&&y){const Q=findDefScope(o,S);Q&&y.assign(Q,S)}w&&x.type&&w!==x.type&&a.push(diagAt(`Type mismatch: '${S}' is '${x.type}' but value is '${w}'`,s.location));return}case"Return":{const S=typeCheckExpr(s.value,r,a,o,f,l??void 0,d,g,m,y);l&&S&&S!==l&&a.push(diagAt(`Return type '${S}' does not match '${l}'`,s.location)),!l&&S&&h&&h.types.push(S);return}case"ExprStmt":typeCheckExpr(s.expr,r,a,o,f,void 0,d,g,m,y);return;case"Block":{const S=new Scope(o),x=y??void 0;for(const w of s.body)typeCheckStatement(w,r,a,l,S,f,h,d,g,m,x);collectUnusedBindings(S,a,s.location);return}case"MatchStmt":{const S=typeCheckExpr(s.value,r,a,o,f,void 0,d,g,m,y),w=(S?parseTypeName(S):null)?.base??S??null,Q=w?r.get(w):void 0,A=Q?.enumVariants??[],M=new Set;let L=!1;const Z=[],z=s.value.type==="Identifier"?s.value.name:null;for(const j of s.arms){const B=new Scope(o),G=new SymbolTable,D=y?y.clone():void 0;for(const W of r.list())G.define(W);const I=j.pattern;if(I.type==="WildcardPattern")L=!0;else if(I.type==="EnumPattern"){I.enumName&&w&&I.enumName!==w&&a.push(diagAt(`Match value is '${w}', not '${I.enumName}'`,j.location??s.location));const W=I.enumName?findEnumVariantQualified(r,I.enumName,I.variant,f):A.find(se=>se.name===I.variant)?{params:A.find(se=>se.name===I.variant)?.params??[]}:null;if(!W)a.push(diagAt(`Unknown enum variant '${I.variant}'`,j.location??s.location));else{const se=I.variant;M.has(se)&&a.push(diagAt(`Duplicate match arm for '${se}'`,j.location??s.location)),M.add(se),z&&W.params.length===1&&B.narrow(z,W.params[0]),I.bindings.length>0&&(W.params.length===0?a.push(diagAt(`Variant '${se}' has no payload`,j.location??s.location)):I.bindings.length!==W.params.length&&a.push(diagAt(`Variant '${se}' expects ${W.params.length} bindings`,j.location??s.location)),I.bindings.forEach((ce,Se)=>{if(ce==="_")return;const ve=W.params[Se];ve&&(B.define(ce,j.location??s.location),G.define({name:ce,kind:"variable",type:ve,location:j.location??s.location}),D&&D.define(B,ce,!0))}))}}typeCheckStatement(j.body,G,a,l,B,f,h,d,g,m,D),collectUnusedBindings(B,a,j.location??s.location),D&&Z.push(D)}if(y&&Z.length>0&&y.mergeFromBranches(Z),S&&(!Q||!Q.enumVariants))a.push(diagAt("Match expression must be an enum",s.location));else if(!L&&Q?.enumVariants){const j=Q.enumVariants.map(B=>B.name).filter(B=>!M.has(B));if(j.length>0){const B=[{location:s.location??defaultLocation,message:`Covered variants: ${Array.from(M).join(", ")||"none"}`},{location:s.location??defaultLocation,message:`Missing variants: ${j.join(", ")}`}];a.push(diagAt(`Missing case${j.length>1?"s":""}: ${j.join(", ")}`,s.location,"error","MATCH_NOT_EXHAUSTIVE",B))}}return}case"Import":return}}function typeCheckExpr(s,r,a,l,o,f,h,d,g,m,y){if(s.type==="Number")return"int";if(s.type==="Boolean")return"bool";if(s.type==="String")return"string";if(s.type==="Binary"){if(s.op==="|>"){if(s.right.type!=="Call")return a.push(diagAt("Pipe target must be a function call",s.location)),null;const w=s.right,Q=typeCheckExpr(s.left,r,a,l,o,void 0,h,d,g,m),A=r.get(w.callee.name)??o?.externSymbols?.(w.callee.name);if(A?.kind==="function"&&A.paramRefs?.[0])if(!(Z=>Z.type==="Identifier"||Z.type==="Member")(s.left))a.push(diagAt(`'${w.callee.name}' expects a reference for parameter 1`,s.left.location??s.location,"error","REF_LVALUE_REQUIRED"));else{const Z=getLValueBaseName(s.left);if(Z){const z=r.get(Z)??o?.externSymbols?.(Z);z?.kind==="variable"&&z.mutable===!1&&a.push(diagAt(`'${Z}' should be mutable when passed by reference`,s.left.location??s.location,"warning","REF_MUT_REQUIRED"))}}return typeCheckExpr(w,r,a,l,o,void 0,h,d,g,m,Q??void 0)}const S=typeCheckExpr(s.left,r,a,l,o,void 0,h,d,g,m),x=typeCheckExpr(s.right,r,a,l,o,void 0,h,d,g,m);return!S||!x?null:s.op==="+"&&S==="string"&&x==="string"?"string":s.op==="&&"||s.op==="||"?S!=="bool"||x!=="bool"?(a.push(diagAt(`Operator '${s.op}' requires bool operands`,s.location)),null):"bool":s.op==="=="||s.op==="!="?S!==x?(a.push(diagAt(`Operator '${s.op}' requires matching operand types`,s.location)),null):"bool":s.op==="<"||s.op===">"||s.op==="<="||s.op===">="?S!=="int"||x!=="int"?(a.push(diagAt(`Operator '${s.op}' requires int operands`,s.location)),null):"bool":S!=="int"||x!=="int"?(a.push(diagAt(`Operator '${s.op}' requires int operands`,s.location)),null):"int"}if(s.type==="Identifier"){const S=s.name;l?.read(S);const x=l?.lookupNarrowed(S),w=r.get(S)??o?.externSymbols?.(S);if(!w){const Q=suggestName(S,collectVisibleSymbols(r,o)),A=Q?[{location:s.location??defaultLocation,message:`Did you mean '${Q}'?`}]:void 0;return a.push(diagAt(`Unknown identifier '${S}'`,s.location,"error","UNKNOWN_IDENTIFIER",A)),null}if(w.uri&&o?.currentUri&&w.uri!==o.currentUri&&w.visibility==="private")return a.push(diagAt(`'${S}' is private to ${w.uri}`,s.location)),null;if(l&&m){const Q=findDefScope(l,S);Q&&!m.isAssigned(Q,S)&&a.push(diagAt(`Variable '${S}' used before assignment`,s.location))}return x??w.type??null}if(s.type==="IsExpr"){const S=typeCheckExpr(s.value,r,a,l,o,void 0,h,d,g,m);if(!S)return"bool";const w=parseTypeName(S)?.base??S;if(s.enumName){const A=r.get(s.enumName);if(!A||!A.enumVariants){const L=suggestName(s.enumName,collectVisibleTypeSymbols(r,o)),Z=L?[{location:s.location??defaultLocation,message:`Did you mean '${L}'?`}]:void 0;return a.push(diagAt(`Unknown enum '${s.enumName}'`,s.location,"error","UNKNOWN_QUALIFIER",Z)),"bool"}return s.enumName!==w?(a.push(diagAt(`'${s.enumName}' does not match '${w}'`,s.location,"error","QUALIFIER_MISMATCH")),"bool"):(findEnumVariantQualified(r,s.enumName,s.variant,o)||a.push(diagAt(`Unknown enum variant '${s.variant}'`,s.location)),"bool")}return findEnumVariant(r,s.variant,o)||a.push(diagAt(`Unknown enum variant '${s.variant}'`,s.location)),"bool"}if(s.type==="Call"){const S=s.callee.name;l?.read(S);const x=r.get(S)??o?.externSymbols?.(S),w=B=>B.type==="Identifier"||B.type==="Member";if(!x||x.kind!=="function"){const B=findEnumVariant(r,S,o);if(B){const I=s.args.length+(y?1:0);if(B.params.length!==I)return a.push(diagAt(`Argument count mismatch for '${S}'`,s.location)),B.enumName;for(let W=0;W<I;W++){const se=y&&W===0?y:typeCheckExpr(s.args[y?W-1:W],r,a,l,o,void 0,h,d,g,m),ce=B.params[W];se&&ce&&se!==ce&&a.push(diagAt(`Type mismatch: expected '${ce}' for '${S}'`,s.location))}return B.enumName}const G=suggestName(S,collectVisibleSymbols(r,o)),D=G?[{location:s.location??defaultLocation,message:`Did you mean '${G}'?`}]:void 0;return a.push(diagAt(`Unknown function '${S}'`,s.location,"error","UNKNOWN_FUNCTION",D)),null}if(x.uri&&o?.currentUri&&x.uri!==o.currentUri&&x.visibility==="private")return a.push(diagAt(`'${S}' is private to ${x.uri}`,s.location)),null;if(x.pendingReturn){if(h?.has(S)&&a.push(diagAt(`Recursive inference detected for '${S}'`,s.location)),g&&d){const B=d.get(g)??new Set;B.add(S),d.set(g,B)}return null}const Q=x.typeParams??[],A=new Map;if(s.typeArgs&&s.typeArgs.length>0){if(s.typeArgs.length!==Q.length)return a.push(diagAt(`Type argument count mismatch for '${S}'`,s.location)),x.type??null;Q.forEach((B,G)=>{A.set(B.name,s.typeArgs[G])})}const M=x.paramTypes??[],L=x.paramRefs??[],Z=s.args.length+(y?1:0);if(M.length!==Z)return a.push(diagAt(`Argument count mismatch for '${S}'`,s.location)),x.type??null;for(let B=0;B<Z;B++){if(L[B]??!1){const W=y&&B===0?void 0:s.args[y?B-1:B];if(W&&!w(W))a.push(diagAt(`'${S}' expects a reference for parameter ${B+1}`,W.location??s.location,"error","REF_LVALUE_REQUIRED"));else if(W){const se=getLValueBaseName(W);if(se){const ce=r.get(se)??o?.externSymbols?.(se);ce?.kind==="variable"&&ce.mutable===!1&&a.push(diagAt(`'${se}' should be mutable when passed by reference`,W.location??s.location,"warning","REF_MUT_REQUIRED"))}}}const D=y&&B===0?y:typeCheckExpr(s.args[y?B-1:B],r,a,l,o,void 0,h,d,g,m),I=M[B];D&&unifyTypes(I,D,A)}if(f){const B=x.type??"any";unifyTypes(B,f,A)}Q.map(B=>B.name).filter(B=>!A.has(B)).length>0&&a.push(diagAt(`Could not infer type parameters for '${S}'`,s.location));for(const B of Q)if(B.bound&&A.has(B.name)){const G=A.get(B.name);for(const D of B.bound)isTypeAssignable(G,D,r,o?.typeParams)||a.push(diagAt(`Type argument '${G}' does not satisfy bound '${D}' for '${B.name}'`,s.location,"error","BOUND_MISMATCH",[{location:s.location??defaultLocation,message:`Expected: ${D}, Actual: ${G}`}]))}return substituteTypeParams(x.type??"any",A)}if(s.type==="StructLiteral"){const S=r.get(s.name);if(!S||!S.structFields)return a.push(diagAt(`Unknown struct '${s.name}'`,s.location)),null;const x=S.typeParams??[],w=new Map;s.typeArgs&&s.typeArgs.length>0&&(s.typeArgs.length!==x.length?a.push(diagAt(`Type argument count mismatch for '${s.name}'`,s.location)):x.forEach((L,Z)=>{w.set(L.name,s.typeArgs[Z])}));const Q=new Set;for(const L of s.fields){Q.add(L.name);const Z=S.structFields.get(L.name);if(!Z){a.push(diagAt(`Unknown field '${L.name}' on '${s.name}'`,L.location??s.location));continue}const z=typeCheckExpr(L.value,r,a,l,o,Z,h,d,g,m);z&&unifyTypes(Z,z,w);const j=substituteTypeParams(Z,w);z&&!isTypeAssignable(z,j,r,o?.typeParams)&&a.push(diagAt(`Type mismatch for '${L.name}': expected '${j}', got '${z}'`,L.location??s.location))}for(const L of S.structFields.keys())Q.has(L)||a.push(diagAt(`Missing field '${L}' for '${s.name}'`,s.location));if(x.map(L=>L.name).filter(L=>!w.has(L)).length>0&&a.push(diagAt(`Could not infer type parameters for '${s.name}'`,s.location)),x.length===0)return s.name;const M=x.map(L=>w.get(L.name)??"any");return`${s.name}<${M.join(",")}>`}if(s.type==="Member"){const S=typeCheckExpr(s.object,r,a,l,o,void 0,h,d,g,m);if(!S)return null;const x=parseTypeName(S),w=x?.base??S,Q=r.get(w);if(!Q||!Q.structFields)return a.push(diagAt(`'${S}' has no fields`,s.location)),null;const A=Q.structFields.get(s.property);if(!A)return a.push(diagAt(`Unknown field '${s.property}' on '${S}'`,s.location)),null;if(!x||(Q.typeParams?.length??0)===0)return A;if((Q.typeParams?.length??0)!==x.args.length)return a.push(diagAt(`Type argument count mismatch for '${w}'`,s.location)),A;const M=new Map;return Q.typeParams?.forEach((L,Z)=>{M.set(L.name,x.args[Z])}),substituteTypeParams(A,M)}if(s.type==="MatchExpr"){const S=typeCheckExpr(s.value,r,a,l,o,void 0,h,d,g,m),w=(S?parseTypeName(S):null)?.base??S??null,Q=w?r.get(w):void 0,A=Q?.enumVariants??[],M=new Set;let L=!1,Z=null;const z=s.value.type==="Identifier"?s.value.name:null;for(const j of s.arms){const B=new Scope(l),G=new SymbolTable;for(const W of r.list())G.define(W);const D=j.pattern;if(D.type==="WildcardPattern")L=!0;else if(D.type==="EnumPattern"){D.enumName&&w&&D.enumName!==w&&a.push(diagAt(`Match value is '${w}', not '${D.enumName}'`,j.location??s.location));const W=D.enumName?findEnumVariantQualified(r,D.enumName,D.variant,o):A.find(se=>se.name===D.variant)?{params:A.find(se=>se.name===D.variant)?.params??[]}:null;if(!W)a.push(diagAt(`Unknown enum variant '${D.variant}'`,j.location??s.location));else{const se=D.variant;M.has(se)&&a.push(diagAt(`Duplicate match arm for '${se}'`,j.location??s.location)),M.add(se),z&&W.params.length===1&&B.narrow(z,W.params[0]),D.bindings.length>0&&(W.params.length===0?a.push(diagAt(`Variant '${se}' has no payload`,j.location??s.location)):D.bindings.length!==W.params.length&&a.push(diagAt(`Variant '${se}' expects ${W.params.length} bindings`,j.location??s.location)),D.bindings.forEach((ce,Se)=>{if(ce==="_")return;const ve=W.params[Se];ve&&(B.define(ce,j.location??s.location),G.define({name:ce,kind:"variable",type:ve,location:j.location??s.location}),m&&m.define(B,ce,!0))}))}}const I=typeCheckExpr(j.body,G,a,B,o,void 0,h,d,g,m);I&&(Z?Z!==I&&a.push(diagAt("Match arms must return the same type",j.location??s.location)):Z=I),collectUnusedBindings(B,a,j.location??s.location)}if(S&&(!Q||!Q.enumVariants))a.push(diagAt("Match expression must be an enum",s.location));else if(!L&&Q?.enumVariants){const j=Q.enumVariants.map(B=>B.name).filter(B=>!M.has(B));if(j.length>0){const B=[{location:s.location??defaultLocation,message:`Covered variants: ${Array.from(M).join(", ")||"none"}`},{location:s.location??defaultLocation,message:`Missing variants: ${j.join(", ")}`}];a.push(diagAt(`Missing case${j.length>1?"s":""}: ${j.join(", ")}`,s.location,"error","MATCH_NOT_EXHAUSTIVE",B))}}return Z??null}return null}class Scope{constructor(r){this.locals=new Map,this.reads=new Set,this.writes=new Set,this.narrowed=new Map,this.children=[],this.parent=r,r&&r.children.push(this)}define(r,a){this.locals.set(r,a)}read(r){if(this.locals.has(r)){this.reads.add(r);return}this.parent?.read(r)}write(r){if(this.locals.has(r)){this.writes.add(r);return}this.parent?.write(r)}narrow(r,a){this.narrowed.set(r,a)}lookupNarrowed(r){return this.narrowed.has(r)?this.narrowed.get(r):this.parent?.lookupNarrowed(r)}}class DefiniteAssignment{constructor(){this.assigned=new Map}clone(){const r=new DefiniteAssignment;for(const[a,l]of this.entries())r.assigned.set(a,new Set(l));return r}define(r,a,l){const o=this.assigned.get(r)??new Set;l&&o.add(a),this.assigned.set(r,o)}assign(r,a){const l=this.assigned.get(r)??new Set;l.add(a),this.assigned.set(r,l)}isAssigned(r,a){const l=this.assigned.get(r);return!!l&&l.has(a)}mergeFromBranches(r){for(const[a,l]of this.entries()){const o=new Set;for(const f of l)r.every(h=>h.isAssigned(a,f))&&o.add(f);this.assigned.set(a,o)}}*entries(){for(const[r,a]of this.assigned.entries())yield[r,a]}}function findDefScope(s,r){let a=s;for(;a;){if(a.locals.has(r))return a;a=a.parent}return null}function collectUnusedBindings(s,r,a){for(const[l,o]of s.locals.entries())if(!l.startsWith("_")&&!s.reads.has(l)){const f=s.writes.has(l)?" (assigned but never read)":"";r.push(diagAt(`Unused binding '${l}'${f}`,o??a,"warning"))}for(const l of s.children)collectUnusedBindings(l,r,a)}function collectUnusedBindingsLocal(s,r,a){for(const[l,o]of s.locals.entries())if(!l.startsWith("_")&&!s.reads.has(l)){const f=s.writes.has(l)?" (assigned but never read)":"";r.push(diagAt(`Unused binding '${l}'${f}`,o??a,"warning"))}}function ensureKnownType(s,r,a,l,o){const f=parseTypeName(s);if(f&&f.args.length===0&&!a.has(f.base)){const h=r.get(f.base);if(h?.kind==="type"&&h.typeParams&&h.typeParams.length>0)return l.push(diagAt(`Missing type arguments for generic type '${f.base}'`,o)),"missingTypeArgs"}return isKnownType(s,r,a)?"ok":"unknown"}function isKnownType(s,r,a){if(builtinTypes.has(s)||a.has(s))return!0;const l=parseTypeName(s);if(!l)return!1;if(a.has(l.base))return!0;const o=r.get(l.base);if(o?.kind!=="type"||o.typeParams&&o.typeParams.length>0&&l.args.length===0)return!1;if(o.typeParams&&l.args.length>0){if(o.typeParams.length!==l.args.length)return!1;for(let f=0;f<o.typeParams.length;f++){const h=o.typeParams[f].bound??[];for(const d of h)if(!isTypeAssignable(l.args[f],d,r))return!1}}for(const f of l.args)if(!isKnownType(f,r,a))return!1;return!0}function parseTypeName(s){const r=s.indexOf("<");if(r===-1)return{base:s,args:[]};if(!s.endsWith(">"))return null;const a=s.slice(0,r),l=s.slice(r+1,-1),o=splitTypeArgs(l);return{base:a,args:o}}function splitTypeArgs(s){const r=[];let a=0,l="";for(const o of s){if(o==="<"&&a++,o===">"&&a--,o===","&&a===0){r.push(l.trim()),l="";continue}l+=o}return l.trim()&&r.push(l.trim()),r}function isValidTypeParam(s){return/^[A-Z][A-Za-z0-9_]*$/.test(s)}function isTypeAssignable(s,r,a,l){if(s===r||r==="any"||l&&l.has(r))return!0;const o=parseTypeName(s),f=parseTypeName(r);if(!o||!f||o.base!==f.base||o.args.length!==f.args.length)return!1;for(let h=0;h<o.args.length;h++)if(!isTypeAssignable(o.args[h],f.args[h],a,l))return!1;return!0}function unifyTypes(s,r,a){const l=parseTypeName(s),o=parseTypeName(r);if(!(!l||!o)&&!a.has(l.base)){if(isValidTypeParam(l.base)&&l.args.length===0){a.set(l.base,r);return}if(l.base===o.base)for(let f=0;f<Math.min(l.args.length,o.args.length);f++)unifyTypes(l.args[f],o.args[f],a)}}function substituteTypeParams(s,r){const a=parseTypeName(s);if(!a)return s;if(r.has(a.base)&&a.args.length===0)return r.get(a.base);if(a.args.length===0)return a.base;const l=a.args.map(o=>substituteTypeParams(o,r));return`${a.base}<${l.join(",")}>`}function buildCfgDot(s,r){const a=[],l=[];let o=0;const f=S=>{const x=o++;return a.push({id:x,label:S}),x},h=(S,x)=>{S===null||x===null||l.push([S,x])},d=S=>{let x=null,w=null;for(const Q of S){const{entry:A,exit:M}=g(Q);x===null&&(x=A),w!==null&&A!==null&&h(w,A),w=M??w}return{entry:x,exit:w}},g=S=>{switch(S.type){case"If":{const x=f("If"),w=d(S.thenBlock.body),Q=S.elseBlock?d(S.elseBlock.body):{entry:null,exit:null};h(x,w.entry??x),h(x,Q.entry??x);const A=f("IfEnd");return h(w.exit??x,A),h(Q.exit??x,A),{entry:x,exit:A}}case"While":{const x=f("While"),w=d(S.body.body);h(x,w.entry??x),h(w.exit??x,x);const Q=f("WhileEnd");return h(x,Q),{entry:x,exit:Q}}case"MatchStmt":{const x=f("Match"),w=[];for(const A of S.arms){const M=d(A.body.body);h(x,M.entry??x),M.exit!==null&&w.push(M.exit)}const Q=f("MatchEnd");for(const A of w)h(A,Q);return w.length===0&&h(x,Q),{entry:x,exit:Q}}case"Block":return d(S.body);case"ErrorNode":return{entry:null,exit:null};default:{const x=f(S.type);return{entry:x,exit:x}}}},m=d(r);if(m.entry===null){const S=f("Empty");m.entry=S,m.exit=S}const y=[`digraph ${s}_cfg {`];for(const S of a)y.push(`  n${S.id} [label="${S.label}"];`);for(const[S,x]of l)y.push(`  n${S} -> n${x};`);return y.push("}"),y.join(`
`)}function lowerLumina(s){const r=createLowerContext(s);return{kind:"Program",body:s.body.map(a=>lowerStatement(a,r)),location:s.location}}function createLowerContext(s){const r=new Map;for(const a of s.body)if(a.type==="EnumDecl")for(const l of a.variants)r.set(l.name,{enumName:a.name,name:l.name,hasPayload:(l.params??[]).length>0});return{variants:r,matchCounter:0}}function lowerStatement(s,r){switch(s.type){case"FnDecl":return{kind:"Function",name:s.name,params:s.params.map(l=>l.name),body:s.body.body.map(l=>lowerStatement(l,r)),location:s.location};case"Let":return{kind:"Let",name:s.name,value:lowerExpr(s.value,r),location:s.location};case"Return":return{kind:"Return",value:lowerExpr(s.value,r),location:s.location};case"ExprStmt":return{kind:"ExprStmt",expr:lowerExpr(s.expr,r),location:s.location};case"If":return{kind:"If",condition:lowerExpr(s.condition,r),thenBody:s.thenBlock.body.map(l=>lowerStatement(l,r)),elseBody:s.elseBlock?s.elseBlock.body.map(l=>lowerStatement(l,r)):void 0,location:s.location};case"While":return{kind:"While",condition:lowerExpr(s.condition,r),body:s.body.body.map(l=>lowerStatement(l,r)),location:s.location};case"Assign":return{kind:"Assign",target:s.target.name,value:lowerExpr(s.value,r),location:s.location};case"Block":return{kind:"Program",body:s.body.map(a=>lowerStatement(a,r)),location:s.location};case"MatchStmt":{const a=`__match${r.matchCounter++}`,l={kind:"Let",name:a,value:lowerExpr(s.value,r),location:s.location};let o=null,f=null,h=null;for(const g of s.arms){const m=[];if(g.pattern.type==="EnumPattern"&&r.variants.get(g.pattern.variant)?.hasPayload&&g.pattern.bindings.length>0&&g.pattern.bindings.forEach((w,Q)=>{w!=="_"&&m.push({kind:"Let",name:w,value:{kind:"Index",target:{kind:"Member",object:{kind:"Identifier",name:a},property:"values"},index:Q}})}),g.body.body.map(x=>lowerStatement(x,r)).forEach(x=>m.push(x)),g.pattern.type==="WildcardPattern"){h=m;continue}const S={kind:"If",condition:{kind:"Binary",op:"==",left:{kind:"Member",object:{kind:"Identifier",name:a},property:"tag"},right:{kind:"String",value:g.pattern.variant}},thenBody:m,elseBody:void 0};o?f&&(f.elseBody=[S],f=S):(o=S,f=S)}f&&h&&(f.elseBody=h);const d=[l];return o&&d.push(o),{kind:"Program",body:d,location:s.location}}case"Import":case"TypeDecl":case"StructDecl":case"EnumDecl":case"ErrorNode":return{kind:"Noop"};default:return{kind:"Noop"}}}function lowerExpr(s,r){switch(s.type){case"Binary":return s.op==="|>"?s.right.type==="Call"?{kind:"Call",callee:s.right.callee.name,args:[lowerExpr(s.left,r),...s.right.args.map(o=>lowerExpr(o,r))],location:s.location}:lowerExpr(s.left,r):{kind:"Binary",op:s.op,left:lowerExpr(s.left,r),right:lowerExpr(s.right,r),location:s.location};case"Call":{const a=r.variants.get(s.callee.name);return a?{kind:"Enum",tag:a.name,values:s.args.map(f=>lowerExpr(f,r)),location:s.location}:{kind:"Call",callee:s.callee.name,args:s.args.map(o=>lowerExpr(o,r)),location:s.location}}case"Number":return{kind:"Number",value:s.value,location:s.location};case"Boolean":return{kind:"Boolean",value:s.value,location:s.location};case"String":return{kind:"String",value:s.value,location:s.location};case"Identifier":return{kind:"Identifier",name:s.name,location:s.location};case"Member":return{kind:"Member",object:lowerExpr(s.object,r),property:s.property,location:s.location};case"StructLiteral":return{kind:"StructLiteral",name:s.name,fields:s.fields.map(l=>({name:l.name,value:lowerExpr(l.value,r)})),location:s.location};case"MatchExpr":return{kind:"MatchExpr",value:lowerExpr(s.value,r),arms:s.arms.map(l=>({variant:l.pattern.type==="WildcardPattern"?null:l.pattern.variant,bindings:l.pattern.type==="WildcardPattern"?[]:l.pattern.bindings,body:lowerExpr(l.body,r)})),location:s.location};default:return{kind:"Identifier",name:"__unknown__"}}}function optimizeIR(s){const r=new Map,a=convertToSSA(s);let l=optimizeWithConstants(a,r);return l&&l.kind==="Program"&&(l=removeUnusedFunctions(l)),l&&validateIR(l),l}function convertToSSA(s){switch(s.kind){case"Program":return{...s,body:s.body.map(r=>convertToSSA(r))};case"Function":return functionHasControlFlow(s)?s:convertFunctionToSSA(s);default:return s}}function functionHasControlFlow(s){const r=a=>{switch(a.kind){case"MatchExpr":case"Program":return!0;case"If":return r(a.condition)||a.thenBody.some(r)||(a.elseBody?a.elseBody.some(r):!1);case"While":return r(a.condition)||a.body.some(r);case"Let":return r(a.value);case"Phi":return r(a.condition)||r(a.thenValue)||r(a.elseValue);case"Assign":return r(a.value);case"Return":return r(a.value);case"ExprStmt":return r(a.expr);case"Binary":return r(a.left)||r(a.right);case"Call":return a.args.some(r);case"StructLiteral":return a.fields.some(l=>r(l.value));case"Member":return r(a.object);case"Index":return r(a.target);case"Enum":return a.values.some(r);default:return!1}};return s.body.some(r)}function convertFunctionToSSA(s){const r=new Map,a=new Map,l=d=>{if(!r.has(d))return r.set(d,0),a.set(d,d),d;const g=(r.get(d)??0)+1;r.set(d,g);const m=`${d}_${g}`;return a.set(d,m),m};s.params.forEach(d=>{r.set(d,0),a.set(d,d)});const o=d=>{switch(d.kind){case"Identifier":{const g=a.get(d.name)??d.name;return g===d.name?d:{...d,name:g}}case"Binary":return{...d,left:o(d.left),right:o(d.right)};case"Call":return{...d,args:d.args.map(o)};case"StructLiteral":return{...d,fields:d.fields.map(g=>({...g,value:o(g.value)}))};case"Member":return{...d,object:o(d.object)};case"Index":return{...d,target:o(d.target)};case"Enum":return{...d,values:d.values.map(o)};case"MatchExpr":return{...d,value:o(d.value),arms:d.arms.map(g=>({...g,body:o(g.body)}))};case"Phi":return{...d,condition:o(d.condition),thenValue:o(d.thenValue),elseValue:o(d.elseValue)};default:return d}},f=(d,g)=>{const m=new Map(a);a.clear();for(const[x,w]of g.entries())a.set(x,w);const y=[];for(const x of d)switch(x.kind){case"Let":{const w=o(x.value),Q=l(x.name);y.push({...x,name:Q,value:w});break}case"Assign":{const w=o(x.value),Q=l(x.target);y.push({kind:"Let",name:Q,value:w,location:x.location});break}case"Return":y.push({...x,value:o(x.value)});break;case"ExprStmt":y.push({...x,expr:o(x.expr)});break;case"If":{const w=o(x.condition),Q=f(x.thenBody,new Map(a)),A=x.elseBody?f(x.elseBody,new Map(a)):{body:[],mapping:new Map(a)},M={kind:"If",condition:w,thenBody:Q.body,elseBody:A.body,location:x.location};y.push(M);const L=new Set([...Q.mapping.keys(),...A.mapping.keys()]);for(const Z of L){const z=Q.mapping.get(Z)??a.get(Z)??Z,j=A.mapping.get(Z)??a.get(Z)??Z;if(z===j){a.set(Z,z);continue}const G={kind:"Phi",name:l(Z),condition:w,thenValue:{kind:"Identifier",name:z},elseValue:{kind:"Identifier",name:j}};y.push(G)}break}case"While":{const w=o(x.condition),Q=f(x.body,new Map(a)),A={kind:"While",condition:w,body:Q.body,location:x.location};y.push(A);const M=new Set([...a.keys(),...Q.mapping.keys()]);for(const L of M){const Z=a.get(L)??L,z=Q.mapping.get(L)??Z;if(Z===z){a.set(L,Z);continue}const B={kind:"Phi",name:l(L),condition:w,thenValue:{kind:"Identifier",name:z},elseValue:{kind:"Identifier",name:Z}};y.push(B)}break}default:y.push(x);break}const S=new Map(a);a.clear();for(const[x,w]of m.entries())a.set(x,w);return{body:y,mapping:S}},h=f(s.body,new Map(a));return{...s,body:h.body}}function optimizeWithConstants(s,r){switch(s.kind){case"Program":{const a=[];for(const o of s.body){const f=optimizeWithConstants(o,r);if(f&&f.kind!=="Noop"&&(a.push(f),f.kind==="Return"))break}const l={kind:"Program",body:a,location:s.location};return removeDeadStores(l,!0)}case"Function":{const a=[],l=new Map;for(const h of s.body){const d=optimizeWithConstants(h,l);if(d&&d.kind!=="Noop"&&(a.push(d),d.kind==="Return"))break}const o={...s,body:a,location:s.location},f=removeDeadStores({kind:"Program",body:o.body,location:o.location},!1);return{...o,body:f.body}}case"ExprStmt":{const a=optimizeWithConstants(s.expr,r);return!a||a.kind==="Noop"?null:{kind:"ExprStmt",expr:a,location:s.location}}case"Let":{const l=optimizeWithConstants(s.value,r)??s.value;return isLiteral(l)?r.set(s.name,l):r.delete(s.name),{kind:"Let",name:s.name,value:l,location:s.location}}case"Phi":{const a=optimizeWithConstants(s.condition,r)??s.condition,l=optimizeWithConstants(s.thenValue,r)??s.thenValue,o=optimizeWithConstants(s.elseValue,r)??s.elseValue;if(a.kind==="Boolean"){const h=a.value?l:o,d={kind:"Let",name:s.name,value:h,location:s.location};return isLiteral(h)?r.set(s.name,h):r.delete(s.name),d}return{kind:"Phi",name:s.name,condition:a,thenValue:l,elseValue:o,location:s.location}}case"Return":return{kind:"Return",value:optimizeWithConstants(s.value,r)??s.value,location:s.location};case"Binary":{const a=optimizeWithConstants(s.left,r)??s.left,l=optimizeWithConstants(s.right,r)??s.right;if(a.kind==="Number"&&l.kind==="Number"){const d=foldNumeric(s.op,a,l);if(d)return{...d,location:s.location}}if(a.kind==="String"&&l.kind==="String"&&s.op==="+")return{kind:"String",value:a.value+l.value,location:s.location};const o=foldBoolean(s.op,a,l);if(o)return{...o,location:s.location};const f=simplifyAlgebra(s.op,a,l);return f?{...f,location:s.location}:{kind:"Binary",op:s.op,left:a,right:l,location:s.location}}case"Call":{const a=s.args.map(o=>optimizeWithConstants(o,r)??o);return{kind:"Call",callee:s.callee,args:a,location:s.location}}case"StructLiteral":{const a=s.fields.map(o=>({...o,value:optimizeWithConstants(o.value,r)??o.value}));return{kind:"StructLiteral",name:s.name,fields:a,location:s.location}}case"Member":return{kind:"Member",object:optimizeWithConstants(s.object,r)??s.object,property:s.property,location:s.location};case"Index":return{kind:"Index",target:optimizeWithConstants(s.target,r)??s.target,index:s.index,location:s.location};case"Enum":{const a=s.values.map(o=>optimizeWithConstants(o,r)??o);return{kind:"Enum",tag:s.tag,values:a,location:s.location}}case"MatchExpr":{const a=optimizeWithConstants(s.value,r)??s.value,l=s.arms.map(f=>({...f,body:optimizeWithConstants(f.body,new Map(r))??f.body}));return{kind:"MatchExpr",value:a,arms:l,location:s.location}}case"If":{const a=optimizeWithConstants(s.condition,r)??s.condition,l=s.thenBody.map(h=>optimizeWithConstants(h,new Map(r))).filter(h=>h!==null&&h.kind!=="Noop"),o=s.elseBody?s.elseBody.map(h=>optimizeWithConstants(h,new Map(r))).filter(h=>h!==null&&h.kind!=="Noop"):void 0;return a.kind==="Boolean"?a.value?{kind:"Program",body:l,location:s.location}:{kind:"Program",body:o??[],location:s.location}:{kind:"If",condition:a,thenBody:l,elseBody:o,location:s.location}}case"While":{const a=optimizeWithConstants(s.condition,r)??s.condition,l=s.body.map(f=>optimizeWithConstants(f,new Map(r))).filter(f=>f!==null&&f.kind!=="Noop");return a.kind==="Boolean"&&a.value===!1?null:{kind:"While",condition:a,body:l,location:s.location}}case"Assign":{const a=optimizeWithConstants(s.value,r)??s.value;return isLiteral(a)?r.set(s.target,a):r.delete(s.target),{kind:"Assign",target:s.target,value:a,location:s.location}}case"Number":case"Boolean":case"String":return s;case"Identifier":if(s.name==="__noop__")return null;if(r.has(s.name)){const a=r.get(s.name);if(a)return a}return s;case"Noop":return null;default:return s}}function foldNumeric(s,r,a){switch(s){case"+":return{kind:"Number",value:r.value+a.value};case"-":return{kind:"Number",value:r.value-a.value};case"*":return{kind:"Number",value:r.value*a.value};case"/":return{kind:"Number",value:r.value/a.value};default:return null}}function foldBoolean(s,r,a){if(r.kind==="Boolean"&&a.kind==="Boolean")switch(s){case"&&":return{kind:"Boolean",value:r.value&&a.value};case"||":return{kind:"Boolean",value:r.value||a.value};case"==":return{kind:"Boolean",value:r.value===a.value};case"!=":return{kind:"Boolean",value:r.value!==a.value};default:return null}if(r.kind==="Number"&&a.kind==="Number")switch(s){case"==":return{kind:"Boolean",value:r.value===a.value};case"!=":return{kind:"Boolean",value:r.value!==a.value};case"<":return{kind:"Boolean",value:r.value<a.value};case"<=":return{kind:"Boolean",value:r.value<=a.value};case">":return{kind:"Boolean",value:r.value>a.value};case">=":return{kind:"Boolean",value:r.value>=a.value};default:return null}return null}function simplifyAlgebra(s,r,a){if(r.kind==="Number"&&a.kind==="Number")return null;if(s==="+"){if(a.kind==="Number"&&a.value===0)return r;if(r.kind==="Number"&&r.value===0)return a}if(s==="-"&&a.kind==="Number"&&a.value===0)return r;if(s==="*"){if(a.kind==="Number"&&a.value===1)return r;if(r.kind==="Number"&&r.value===1)return a;if(a.kind==="Number"&&a.value===0)return{kind:"Number",value:0};if(r.kind==="Number"&&r.value===0)return{kind:"Number",value:0}}return s==="/"&&a.kind==="Number"&&a.value===1?r:null}function isLiteral(s){return s.kind==="Number"||s.kind==="Boolean"||s.kind==="String"}function validateIR(s){const r=a=>{switch(a.kind){case"Program":a.body.forEach(r);return;case"Function":a.body.forEach(r);return;case"Let":r(a.value);return;case"Phi":r(a.condition),r(a.thenValue),r(a.elseValue);return;case"Assign":if(!a.target)throw new Error("IR validation: Assign target missing");r(a.value);return;case"Return":r(a.value);return;case"ExprStmt":r(a.expr);return;case"If":r(a.condition),a.thenBody.forEach(r),a.elseBody?.forEach(r);return;case"While":r(a.condition),a.body.forEach(r);return;case"Binary":if(!a.op)throw new Error("IR validation: Binary op missing");r(a.left),r(a.right);return;case"Call":if(!a.callee)throw new Error("IR validation: Call callee missing");a.args.forEach(r);return;case"Member":if(!a.property)throw new Error("IR validation: Member property missing");r(a.object);return;case"Index":if(a.index===void 0)throw new Error("IR validation: Index missing");r(a.target);return;case"Enum":if(!a.tag)throw new Error("IR validation: Enum tag missing");a.values.forEach(r);return;case"StructLiteral":a.fields.forEach(l=>r(l.value));return;case"MatchExpr":r(a.value),a.arms.forEach(l=>r(l.body));return;case"Identifier":if(!a.name)throw new Error("IR validation: Identifier name missing");return;case"Number":case"Boolean":case"String":case"Noop":return;default:return a}};r(s)}function removeDeadStores(s,r){const a=new Set,l=[...s.body].reverse(),o=[],f=d=>{switch(d.kind){case"Identifier":a.add(d.name);return;case"Binary":f(d.left),f(d.right);return;case"Call":d.args.forEach(f);return;case"Member":f(d.object);return;case"Index":f(d.target);return;case"Enum":d.values.forEach(f);return;case"StructLiteral":d.fields.forEach(g=>f(g.value));return;case"MatchExpr":f(d.value),d.arms.forEach(g=>f(g.body));return;case"If":f(d.condition),d.thenBody.forEach(h),d.elseBody?.forEach(h);return;case"While":f(d.condition),d.body.forEach(h);return;case"Assign":f(d.value),a.add(d.target);return;case"ExprStmt":f(d.expr);return;case"Return":f(d.value);return;case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;default:return}},h=d=>{switch(d.kind){case"Let":f(d.value);return;case"Phi":f(d.condition),f(d.thenValue),f(d.elseValue);return;case"Assign":f(d.value),a.add(d.target);return;case"Return":f(d.value);return;case"ExprStmt":f(d.expr);return;case"If":f(d.condition),d.thenBody.forEach(h),d.elseBody?.forEach(h);return;case"While":f(d.condition),d.body.forEach(h);return;case"Program":d.body.forEach(h);return;default:return}};for(const d of l){if(d.kind==="Let"){if(r){o.push(d),f(d.value);continue}a.has(d.name)?(o.push(d),f(d.value),a.delete(d.name)):f(d.value);continue}if(d.kind==="Phi"){a.has(d.name)?(o.push(d),f(d.thenValue),f(d.elseValue),f(d.condition),a.delete(d.name)):(f(d.thenValue),f(d.elseValue),f(d.condition));continue}if(d.kind==="Assign"){a.has(d.target)?(o.push(d),f(d.value),a.delete(d.target)):f(d.value);continue}o.push(d),h(d)}return o.reverse(),{...s,body:o}}function removeUnusedFunctions(s){const r=new Map,a=[];for(const g of s.body)g.kind==="Function"?r.set(g.name,g):a.push(g);if(r.size===0)return s;const l=new Set,o=[],f=g=>{r.has(g)&&(l.has(g)||(l.add(g),o.push(g)))},h=g=>{switch(g.kind){case"Call":f(g.callee),g.args.forEach(h);return;case"Binary":h(g.left),h(g.right);return;case"Member":h(g.object);return;case"Index":h(g.target);return;case"Enum":g.values.forEach(h);return;case"StructLiteral":g.fields.forEach(m=>h(m.value));return;case"MatchExpr":h(g.value),g.arms.forEach(m=>h(m.body));return;case"If":h(g.condition),g.thenBody.forEach(h),g.elseBody?.forEach(h);return;case"While":h(g.condition),g.body.forEach(h);return;case"Assign":h(g.value);return;case"Let":h(g.value);return;case"Phi":h(g.condition),h(g.thenValue),h(g.elseValue);return;case"Return":h(g.value);return;case"ExprStmt":h(g.expr);return;case"Program":g.body.forEach(h);return;default:return}};for(const g of a)h(g);for(f("main");o.length>0;){const g=o.pop();if(!g)break;const m=r.get(g);m&&m.body.forEach(h)}if(l.size===0)return s;const d=s.body.filter(g=>g.kind!=="Function"?!0:l.has(g.name));return{...s,body:d}}function generateJS(s,r={}){const a=r.target??"esm",l=r.includeRuntime!==!1,o=new CodeBuilder(r.sourceMap===!0);l&&o.push("function print(...args) { console.log(...args); }","Runtime"),emit(s,0,o);let f=o.toString().trimEnd()+`
`;return a==="cjs"?f+=`module.exports = { print };
`:f+=`export { print };
`,{code:f,map:o.map}}function emit(s,r,a){const l="  ".repeat(r);switch(s.kind){case"Program":s.body.forEach(o=>emit(o,r,a));return;case"Function":{const o=s.params.join(", ");a.push(`${l}function ${s.name}(${o}) {`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0),s.body.forEach(f=>emit(f,r+1,a)),a.push(`${l}}`,s.kind,s.location?{line:s.location.end.line,column:s.location.end.column}:void 0);return}case"Let":a.push(`${l}let ${s.name} = ${emitExpr(s.value)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;case"Phi":a.push(`${l}let ${s.name} = (${emitExpr(s.condition)}) ? ${emitExpr(s.thenValue)} : ${emitExpr(s.elseValue)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;case"Return":a.push(`${l}return ${emitExpr(s.value)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;case"ExprStmt":a.push(`${l}${emitExpr(s.expr)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;case"If":{a.push(`${l}if (${emitExpr(s.condition)}) {`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0),s.thenBody.forEach(o=>emit(o,r+1,a)),s.elseBody&&s.elseBody.length>0&&(a.push(`${l}} else {`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0),s.elseBody.forEach(o=>emit(o,r+1,a))),a.push(`${l}}`,s.kind,s.location?{line:s.location.end.line,column:s.location.end.column}:void 0);return}case"While":{a.push(`${l}while (${emitExpr(s.condition)}) {`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0),s.body.forEach(o=>emit(o,r+1,a)),a.push(`${l}}`,s.kind,s.location?{line:s.location.end.line,column:s.location.end.column}:void 0);return}case"Assign":a.push(`${l}${s.target} = ${emitExpr(s.value)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;case"Binary":case"StructLiteral":case"Number":case"Boolean":case"String":case"Identifier":case"Call":case"Member":case"Index":case"Enum":case"MatchExpr":a.push(`${l}${emitExpr(s)};`,s.kind,s.location?{line:s.location.start.line,column:s.location.start.column}:void 0);return;default:a.push(`${l}// unsupported`,"Unsupported");return}}function emitExpr(s){switch(s.kind){case"Binary":return s.op==="+"&&(s.left.kind==="String"||s.right.kind==="String")?`(${emitExpr(s.left)} + ${emitExpr(s.right)})`:`(${emitExpr(s.left)} ${s.op} ${emitExpr(s.right)})`;case"Call":return`${s.callee}(${s.args.map(emitExpr).join(", ")})`;case"Member":return`${emitExpr(s.object)}.${s.property}`;case"Index":return`${emitExpr(s.target)}[${s.index}]`;case"Enum":return`{ tag: ${JSON.stringify(s.tag)}, values: [${s.values.map(emitExpr).join(", ")}] }`;case"StructLiteral":return`{ ${s.fields.map(a=>`${a.name}: ${emitExpr(a.value)}`).join(", ")} }`;case"MatchExpr":{const r=`__match_expr_${Math.random().toString(36).slice(2,8)}`;let a=`const ${r} = ${emitExpr(s.value)};
`;const l=h=>h.map((d,g)=>`const ${d} = ${r}.values[${g}];`).join(`
`),o=s.arms.map(h=>{if(h.variant===null)return`{
${h.bindings.length>0?l(h.bindings)+`
`:""}return ${emitExpr(h.body)};
}`;const d=h.bindings.length>0?l(h.bindings)+`
`:"";return`if (${r}.tag === ${JSON.stringify(h.variant)}) {
${d}return ${emitExpr(h.body)};
}`});let f="";for(let h=0;h<o.length;h++)h===0?f+=o[h]:f+=` else ${o[h]}`;return`(() => {
${a}${f}
})()`}case"Number":return String(s.value);case"Boolean":return s.value?"true":"false";case"String":return JSON.stringify(s.value);case"Identifier":return s.name;default:return"undefined"}}class CodeBuilder{constructor(r){this.lines=[],r&&(this.map={mappings:[]})}push(r,a,l){this.lines.push(r),this.map&&this.map.mappings.push({line:this.lines.length,kind:a,source:l})}toString(){return this.lines.join(`
`)+(this.lines.length?`
`:"")}}const defaultGrammar=`Expression
  = left:Term _ operator:("+" / "-") _ right:Expression {
      return { type: 'Expression', operator, left, right };
    }
  / Term

Term
  = left:Factor _ operator:("*" / "/") _ right:Term {
      return { type: 'Expression', operator, left, right };
    }
  / Factor

Factor
  = "(" _ expr:Expression _ ")" { return expr; }
  / Number

Number
  = _ [0-9]+ {
      return { type: 'Number', value: parseInt(text(), 10) };
    }

_ = [ \\t\\n\\r]*`,examples=[{name:"Simple Math",code:"3 + 4 * (2 - 1)",description:"Basic arithmetic expression"},{name:"Complex Expression",code:"((5 + 3) * 2) / (4 - 1)",description:"Nested parentheses"},{name:"Single Number",code:"42",description:"Just a number"},{name:"Error Case",code:"3 + error",description:"Demonstrates error handling"}],presets=[{name:"Math Calculator",grammar:defaultGrammar},{name:"JSON Parser",grammar:`Object
  = "{" pairs:Pair* "}" { return Object.fromEntries(pairs); }

Pair
  = key:String ":" value:Value { return [key, value]; }`},{name:"Simple Language",grammar:`Program
  = Statement*

Statement
  = Assignment / Expression`}],luminaSample=`import { io } from "@std";

struct User { id: int, name: string }
enum Result { Ok(int), Err(string) }

fn total(cost: int, tax: int) {
  return cost + tax;
}

fn main() {
  let cost = 400;
  let tax = 20;
  let answer = total(cost, tax);
  return answer;
}`,pegLanguage=StreamLanguage.define({token(s){return s.match(/\/\/.*/)?"comment":s.match(/"(?:\\.|[^"])*"/)||s.match(/'(?:\\.|[^'])*'/)||s.match(/\[[^\]]*\]/)?"string":s.match(/[_a-zA-Z][_a-zA-Z0-9]*/)?"variableName":s.match(/[:=(){}/*+?]|\/+/)?"operator":(s.next(),null)}}),transformToTree=(s,r=0)=>{if(typeof s!="object"||s===null)return{name:String(s),type:"literal"};if(Array.isArray(s))return{name:`Array[${s.length}]`,type:"array",children:s.map((o,f)=>({name:`[${f}]`,children:[transformToTree(o,r+1)]}))};const a=s,l=Object.entries(a).filter(([o])=>o!=="type").map(([o,f])=>({name:o,children:[transformToTree(f,r+1)]}));return{name:a.type||"Object",type:"object",children:l.length>0?l:void 0}},TreeVisualization=({data:s,onNodeClick:r})=>{const[a,l]=reactExports.useState(new Set),o=h=>{const d=new Set(a);d.has(h)?d.delete(h):d.add(h),l(d)},f=(h,d="",g=0)=>{const m=h.children&&h.children.length>0,y=a.has(d);return jsxRuntimeExports.jsxs("div",{className:"tree-node",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center py-1 px-2 hover:bg-gray-600 rounded cursor-pointer transition-colors",style:{marginLeft:`${g*20}px`},onClick:()=>{m&&o(d),r?.(h,d)},children:[m?y?jsxRuntimeExports.jsx(ChevronDown,{size:16}):jsxRuntimeExports.jsx(ChevronRight,{size:16}):jsxRuntimeExports.jsx("div",{className:"w-4"}),jsxRuntimeExports.jsx("span",{className:`ml-2 font-mono text-sm ${h.type==="literal"?"text-green-400":h.type==="array"?"text-blue-400":"text-yellow-400"}`,children:h.name})]}),m&&y&&jsxRuntimeExports.jsx("div",{className:"tree-children",children:h.children.map((S,x)=>f(S,`${d}/${x}`,g+1))})]},d)};return reactExports.useEffect(()=>{s&&l(new Set(["0"]))},[s]),jsxRuntimeExports.jsx("div",{className:"tree-container h-full overflow-auto text-sm",children:s?f(s):jsxRuntimeExports.jsx("p",{className:"text-gray-400 p-4",children:"No AST data"})})},PerformanceSparkline=({data:s})=>{if(s.length<2)return jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"No history"});const r=120,a=24,l=Math.max(...s,1),o=s.map((f,h)=>{const d=h/(s.length-1)*r,g=a-f/l*a;return`${d},${g}`}).join(" ");return jsxRuntimeExports.jsx("svg",{width:r,height:a,className:"block",children:jsxRuntimeExports.jsx("polyline",{fill:"none",stroke:"#60A5FA",strokeWidth:"2",points:o})})},compileGrammar=s=>PEG.generate(s,{output:"parser",format:"bare",optimize:"speed"}),parseInput=(s,r)=>{try{return{result:s.parse(r)}}catch(a){if(typeof a=="object"&&a!==null&&"message"in a){const l=a;return{error:l.message,location:l.location,expected:l.expected,found:l.found??null,input:r}}return{error:"Unknown parse error",input:r}}},formatError=s=>{const r=[`Parse Error: ${s.error}`];if(s.location){const{start:a,end:l}=s.location;r.push(`At ${a.line}:${a.column}  ${l.line}:${l.column}`)}return s.expected&&s.expected.length>0&&r.push(`Expected: ${s.expected.join(", ")}`),s.found!==void 0&&s.found!==null&&r.push(`Found: "${s.found}"`),r.join(`
`)},getRouteFromHash=()=>{if(typeof window>"u")return"home";const s=window.location.hash.replace(/^#\/?/,"").trim();return s==="playground"||s==="lumina"?s:"home"};function App(){const[s,r]=reactExports.useState(()=>getRouteFromHash()),[a,l]=reactExports.useState("3 + 4 * (2 - 1)"),[o,f]=reactExports.useState(defaultGrammar),[h,d]=reactExports.useState(""),[g,m]=reactExports.useState(null),[y,S]=reactExports.useState("output"),[x,w]=reactExports.useState("examples"),[Q,A]=reactExports.useState("idle"),[M,L]=reactExports.useState(null),[Z,z]=reactExports.useState(null),[j,B]=reactExports.useState(!1),[G,D]=reactExports.useState(!1),[I,W]=reactExports.useState(null),[se,ce]=reactExports.useState([]),Se=reactExports.useRef(null),[ve,$e]=reactExports.useState(luminaSample),[Re,re]=reactExports.useState(null),[Oe,Ee]=reactExports.useState([]),[be,X]=reactExports.useState(""),[N,Y]=reactExports.useState("idle"),[ae,ue]=reactExports.useState("diagnostics");reactExports.useEffect(()=>{const ke=()=>r(getRouteFromHash());return window.addEventListener("hashchange",ke),()=>window.removeEventListener("hashchange",ke)},[]);const we=ke=>{ke==="home"?window.location.hash="":window.location.hash=ke,r(ke)},_e=()=>{const ke=window.performance.now();A("parsing"),L(null);try{const Le=compileGrammar(o),Ce=parseInput(Le,a),pt=window.performance.now();if("result"in Ce){const ye=JSON.stringify(Ce.result,null,2);d(ye);const Ft=transformToTree(Ce.result);m(Ft),A("success");const Xe=pt-ke;W({time:Xe,nodes:Ne(Ce.result)}),ce(wt=>[...wt,Xe].slice(-30))}else{d(formatError(Ce)),m(null),A("error");const ye=pt-ke;W({time:ye,nodes:0}),ce(Ft=>[...Ft,ye].slice(-30))}}catch(Le){Le instanceof Error?(d(`Error: ${Le.message}`),L(Le.message)):d("Unknown error occurred"),m(null),A("error");const Ce=window.performance.now()-ke;W({time:Ce,nodes:0}),ce(pt=>[...pt,Ce].slice(-30))}},me=()=>{Y("parsing"),Ee([]),X("");try{const ke=compileGrammar(luminaGrammarRaw),Le=parseInput(ke,ve);if("result"in Le){re(Le.result);const pt=analyzeLumina(Le.result).diagnostics||[];Ee(pt);const ye=lowerLumina(Le.result),Ft=optimizeIR(ye),Xe=Ft?generateJS(Ft).code:"// IR optimized away";X(Xe),Y(pt.length>0?"error":"ok")}else re(null),Ee([{severity:"error",message:Le.error,location:Le.location}]),Y("error")}catch(ke){const Le=ke instanceof Error?ke.message:"Unknown error";Ee([{severity:"error",message:Le}]),Y("error")}},Ne=ke=>typeof ke!="object"||ke===null?1:Array.isArray(ke)?ke.reduce((Le,Ce)=>Le+Ne(Ce),0):1+Object.values(ke).reduce((Le,Ce)=>Le+Ne(Ce),0),De=ke=>{l(ke.code),j&&setTimeout(_e,100)},yt=ke=>{f(ke.grammar),j&&setTimeout(_e,100)},Te=()=>{const ke={grammar:o,code:a,output:h,timestamp:new Date().toISOString()},Le=new Blob([JSON.stringify(ke,null,2)],{type:"application/json"}),Ce=URL.createObjectURL(Le),pt=document.createElement("a");pt.href=Ce,pt.download="parser-session.json",pt.click(),URL.revokeObjectURL(Ce)},je=ke=>{const Le=ke.target.files?.[0];if(Le){const Ce=new FileReader;Ce.onload=pt=>{try{const ye=JSON.parse(pt.target?.result);ye.grammar&&f(ye.grammar),ye.code&&l(ye.code),ye.output&&d(ye.output)}catch(ye){console.error("Error importing data:",ye),alert("Invalid file format")}},Ce.readAsText(Le)}},xe=()=>{switch(Q){case"success":return jsxRuntimeExports.jsx(CircleCheckBig,{className:"text-green-400",size:16});case"error":return jsxRuntimeExports.jsx(CircleX,{className:"text-red-400",size:16});case"parsing":return jsxRuntimeExports.jsx("div",{className:"animate-spin w-4 h-4 border-2 border-blue-400 border-t-transparent rounded-full"});default:return jsxRuntimeExports.jsx(CircleAlert,{className:"text-gray-400",size:16})}};return reactExports.useEffect(()=>{if(j){const ke=setTimeout(_e,500);return()=>clearTimeout(ke)}},[a,o,j]),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900 text-white min-h-screen flex flex-col",children:[jsxRuntimeExports.jsx("header",{className:"border-b border-gray-800 bg-gray-900/90 backdrop-blur",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-4 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-3",children:[jsxRuntimeExports.jsx(TreePine,{className:"text-blue-400"}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("div",{className:"text-lg font-semibold",children:"Lumina Parser Studio"}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"Interactive demo for the parser + tooling pipeline"})]})]}),jsxRuntimeExports.jsxs("nav",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("button",{onClick:()=>we("home"),className:`px-3 py-1.5 rounded text-sm ${s==="home"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Home"}),jsxRuntimeExports.jsx("button",{onClick:()=>we("playground"),className:`px-3 py-1.5 rounded text-sm ${s==="playground"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Playground"}),jsxRuntimeExports.jsx("button",{onClick:()=>we("lumina"),className:`px-3 py-1.5 rounded text-sm ${s==="lumina"?"bg-gray-700":"bg-gray-800 hover:bg-gray-700"}`,children:"Lumina"})]})]})}),s==="home"&&jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-12",children:[jsxRuntimeExports.jsxs("section",{className:"grid gap-8 lg:grid-cols-2 items-center",children:[jsxRuntimeExports.jsxs("div",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Parsergen + Lumina"}),jsxRuntimeExports.jsx("h1",{className:"text-4xl font-semibold leading-tight",children:"Build grammars, explore ASTs, and ship a compiler toolchain."}),jsxRuntimeExports.jsx("p",{className:"text-gray-300 leading-relaxed",children:"This demo showcases the Lumina pipeline: lexer, PEG parser, semantic analysis, IR, and codegen. Use the playground to experiment with grammars, then switch to Lumina to see the language tooling stack."}),jsxRuntimeExports.jsxs("div",{className:"flex flex-wrap gap-3",children:[jsxRuntimeExports.jsx("button",{onClick:()=>we("playground"),className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm font-medium",children:"Open Playground"}),jsxRuntimeExports.jsx("button",{onClick:()=>we("lumina"),className:"bg-gray-800 hover:bg-gray-700 px-4 py-2 rounded text-sm",children:"Lumina Overview"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-300",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Pipeline Snapshot"]}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`Lexer  Parser  Semantic  IR  Codegen

Features:
- Panic recovery
- Match exhaustiveness
- CFG + SSA utilities
- LSP diagnostics + rename`}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"PEG + Moo"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"Lumina CLI"}),jsxRuntimeExports.jsx("span",{className:"px-2 py-1 bg-gray-900 rounded",children:"LSP"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-3",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(Code,{size:16})," Grammar Studio"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Load PEG grammars, parse samples, inspect JSON output or AST trees."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(TreePine,{size:16})," Semantic Layer"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"Track types, match exhaustiveness, DI, and SSA-ready IR."})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-2",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300",children:[jsxRuntimeExports.jsx(FileText,{size:16})," Tooling DX"]}),jsxRuntimeExports.jsx("p",{className:"text-sm text-gray-300",children:"CLI pipeline, LSP diagnostics, rename, references, and watch mode."})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-6",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2 text-blue-300 text-sm mb-3",children:[jsxRuntimeExports.jsx(Play,{size:14})," Try It Quickly"]}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina repl
lumina compile examples/hello.lm --out dist/hello.js
lumina check examples/hello.lm`})]})]})}),s==="lumina"&&jsxRuntimeExports.jsx("main",{className:"flex-1",children:jsxRuntimeExports.jsxs("div",{className:"max-w-6xl mx-auto px-6 py-12 space-y-10",children:[jsxRuntimeExports.jsxs("section",{className:"space-y-4",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase tracking-[0.2em] text-blue-300",children:"Lumina Toolchain"}),jsxRuntimeExports.jsx("h2",{className:"text-3xl font-semibold",children:"Language pipeline and IDE features"}),jsxRuntimeExports.jsx("p",{className:"text-gray-300",children:"Lumina ships a full compiler pipeline with panic recovery, SSA-ready IR, and diagnostics designed for LSP integrations."})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Compiler Pipeline"]}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Lexer with modern literals and comment support"}),jsxRuntimeExports.jsx("li",{children:"PEG parser with panic-mode recovery"}),jsxRuntimeExports.jsx("li",{children:"Semantic analysis with inference + DI checks"}),jsxRuntimeExports.jsx("li",{children:"IR passes with SSA + DCE hooks"})]})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-5 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{size:14})," IDE + LSP"]}),jsxRuntimeExports.jsxs("ul",{className:"text-sm text-gray-300 space-y-2",children:[jsxRuntimeExports.jsx("li",{children:"Diagnostics with multi-error reporting"}),jsxRuntimeExports.jsx("li",{children:"Go-to-definition and references"}),jsxRuntimeExports.jsx("li",{children:"Rename with conflict checks"}),jsxRuntimeExports.jsx("li",{children:"Semantic tokens + completion"})]})]})]}),jsxRuntimeExports.jsxs("section",{className:"grid gap-6 md:grid-cols-2",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"CLI"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`lumina compile src/main.lm --out dist/main.js
lumina compile src/main.lm --sourcemap --debug-ir
lumina check src/main.lm
lumina watch examples`})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-800/60 border border-gray-700 rounded-lg p-5",children:[jsxRuntimeExports.jsx("div",{className:"text-sm text-blue-300 mb-3",children:"Project Flow"}),jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:`ProjectContext
   std/prelude.lm
   user sources
   dependency graph
   diagnostics + IR`})]})]}),jsxRuntimeExports.jsxs("section",{className:"bg-gray-800/70 border border-gray-700 rounded-lg p-6 space-y-4",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsxs("div",{className:"text-sm text-blue-300 flex items-center gap-2",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Lumina Playground"]}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400",children:"Runs the Lumina grammar + semantic analysis directly in the browser."})]}),jsxRuntimeExports.jsx("button",{onClick:me,className:"bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-sm",children:"Analyze"})]}),jsxRuntimeExports.jsx(ReactCodeMirror,{value:ve,height:"12rem",theme:oneDark,extensions:[javascript()],onChange:ke=>$e(ke),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-400",children:[jsxRuntimeExports.jsx("span",{children:"Status:"}),jsxRuntimeExports.jsx("span",{className:N==="ok"?"text-green-400":N==="error"?"text-red-400":"text-gray-400",children:N})]}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-900/60 border border-gray-700 rounded",children:[jsxRuntimeExports.jsx("button",{onClick:()=>ue("diagnostics"),className:`px-4 py-2 text-sm ${ae==="diagnostics"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"Diagnostics"}),jsxRuntimeExports.jsx("button",{onClick:()=>ue("ast"),className:`px-4 py-2 text-sm ${ae==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"AST"}),jsxRuntimeExports.jsx("button",{onClick:()=>ue("js"),className:`px-4 py-2 text-sm ${ae==="js"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:"JS Output"})]}),jsxRuntimeExports.jsxs("div",{className:"bg-gray-900/60 border border-gray-700 rounded p-4",children:[ae==="diagnostics"&&jsxRuntimeExports.jsxs("div",{className:"space-y-2 text-sm",children:[Oe.length===0&&jsxRuntimeExports.jsx("div",{className:"text-gray-400",children:"No diagnostics yet."}),Oe.map((ke,Le)=>jsxRuntimeExports.jsxs("div",{className:"border border-gray-700 rounded p-3",children:[jsxRuntimeExports.jsx("div",{className:"text-xs uppercase text-gray-400",children:ke.severity}),jsxRuntimeExports.jsx("div",{className:"text-sm",children:ke.message}),ke.location&&jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1",children:[ke.location.start.line,":",ke.location.start.column]})]},Le))]}),ae==="ast"&&jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:Re?JSON.stringify(Re,null,2):"No AST yet."}),ae==="js"&&jsxRuntimeExports.jsx("pre",{className:"text-xs text-gray-200 font-mono whitespace-pre-wrap",children:be||"No JS output yet."})]})]})]})}),s==="playground"&&jsxRuntimeExports.jsxs("main",{className:"flex-1 flex",children:[jsxRuntimeExports.jsxs("div",{className:"w-80 bg-gray-800 flex flex-col border-r border-gray-700",children:[jsxRuntimeExports.jsx("div",{className:"p-4 border-b border-gray-700",children:jsxRuntimeExports.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[jsxRuntimeExports.jsx(TreePine,{className:"text-blue-400"}),"Parser Studio"]})}),jsxRuntimeExports.jsxs("div",{className:"flex border-b border-gray-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>w("examples"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${x==="examples"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(Play,{size:14})," Examples"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>w("presets"),className:`flex-1 px-4 py-2 text-sm flex items-center gap-2 ${x==="presets"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(FileText,{size:14})," Grammars"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 overflow-auto p-4",children:[x==="examples"&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:examples.map((ke,Le)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>De(ke),children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:ke.name}),jsxRuntimeExports.jsx("div",{className:"text-xs text-gray-400 mt-1",children:ke.description}),jsxRuntimeExports.jsx("div",{className:"text-xs text-blue-300 mt-1 font-mono",children:ke.code})]},Le))}),x==="presets"&&jsxRuntimeExports.jsx("div",{className:"space-y-2",children:presets.map((ke,Le)=>jsxRuntimeExports.jsxs("div",{className:"bg-gray-700 rounded p-3 cursor-pointer hover:bg-gray-600 transition-colors",onClick:()=>yt(ke),children:[jsxRuntimeExports.jsx("div",{className:"font-medium text-sm",children:ke.name}),jsxRuntimeExports.jsxs("div",{className:"text-xs text-gray-400 mt-1 font-mono overflow-hidden",children:[ke.grammar.substring(0,60),"..."]})]},Le))})]}),jsxRuntimeExports.jsxs("div",{className:"p-4 border-t border-gray-700 space-y-3",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("input",{type:"checkbox",checked:j,onChange:ke=>B(ke.target.checked),className:"rounded"}),jsxRuntimeExports.jsx("label",{className:"text-sm",children:"Auto-parse"})]}),jsxRuntimeExports.jsxs("div",{className:"flex gap-2",children:[jsxRuntimeExports.jsxs("button",{onClick:Te,className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[jsxRuntimeExports.jsx(Download,{size:12})," Export"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>Se.current?.click(),className:"flex-1 bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-1",children:[jsxRuntimeExports.jsx(Upload,{size:12})," Import"]})]}),jsxRuntimeExports.jsx("input",{ref:Se,type:"file",accept:".json",onChange:je,className:"hidden"})]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 p-4 border-b border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-4",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>D(!G),className:"bg-gray-700 hover:bg-gray-600 px-3 py-1 rounded text-sm flex items-center gap-2",children:[jsxRuntimeExports.jsx(Code,{size:14})," ",G?"Hide":"Show"," Grammar"]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[xe(),jsxRuntimeExports.jsx("span",{className:"text-sm capitalize",children:Q}),I&&jsxRuntimeExports.jsxs("span",{className:"text-xs text-gray-400",children:["(",I.time.toFixed(1),"ms, ",I.nodes," nodes)"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex items-center gap-2",children:[jsxRuntimeExports.jsx("span",{className:"text-xs text-gray-400",children:"History"}),jsxRuntimeExports.jsx(PerformanceSparkline,{data:se})]})]}),jsxRuntimeExports.jsxs("button",{onClick:_e,disabled:Q==="parsing",className:"bg-blue-600 hover:bg-blue-700 disabled:opacity-50 px-4 py-2 rounded flex items-center gap-2 transition-colors",children:[jsxRuntimeExports.jsx(Zap,{size:14})," Parse"]})]}),G&&jsxRuntimeExports.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 p-4",children:[jsxRuntimeExports.jsx(ReactCodeMirror,{value:o,height:"8rem",theme:oneDark,extensions:[pegLanguage],onChange:ke=>f(ke),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"}),M&&jsxRuntimeExports.jsxs("div",{className:"mt-3 text-sm text-red-300 bg-red-900/30 border border-red-700 rounded p-2",children:["Grammar error: ",M]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 flex",children:[jsxRuntimeExports.jsxs("div",{className:"flex-1 flex flex-col",children:[jsxRuntimeExports.jsx("div",{className:"bg-gray-800 p-4",children:jsxRuntimeExports.jsx(ReactCodeMirror,{value:a,height:"10rem",theme:oneDark,extensions:[javascript()],onChange:ke=>l(ke),basicSetup:{lineNumbers:!0,foldGutter:!1},className:"rounded overflow-hidden"})}),jsxRuntimeExports.jsxs("div",{className:"flex bg-gray-800 border-t border-gray-700",children:[jsxRuntimeExports.jsxs("button",{onClick:()=>S("output"),className:`px-6 py-3 text-sm flex items-center gap-2 ${y==="output"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(FileText,{size:14})," JSON Output"]}),jsxRuntimeExports.jsxs("button",{onClick:()=>S("ast"),className:`px-6 py-3 text-sm flex items-center gap-2 ${y==="ast"?"bg-gray-700 border-b-2 border-blue-500":""}`,children:[jsxRuntimeExports.jsx(TreePine,{size:14})," AST Tree"]})]}),jsxRuntimeExports.jsxs("div",{className:"flex-1 bg-gray-700 overflow-auto",children:[y==="output"&&jsxRuntimeExports.jsx("pre",{className:"p-4 text-sm font-mono h-full overflow-auto whitespace-pre-wrap",children:h||"No output yet - click Parse to generate"}),y==="ast"&&jsxRuntimeExports.jsx(TreeVisualization,{data:g,onNodeClick:(ke,Le)=>z({node:ke,path:Le})})]})]}),Z&&jsxRuntimeExports.jsxs("div",{className:"w-80 bg-gray-800 border-l border-gray-700 flex flex-col",children:[jsxRuntimeExports.jsxs("div",{className:"p-4 border-b border-gray-700 flex items-center justify-between",children:[jsxRuntimeExports.jsxs("h3",{className:"font-medium flex items-center gap-2",children:[jsxRuntimeExports.jsx(Info,{size:14})," Node Inspector"]}),jsxRuntimeExports.jsx("button",{onClick:()=>z(null),className:"text-gray-400 hover:text-white",children:jsxRuntimeExports.jsx(CircleX,{size:16})})]}),jsxRuntimeExports.jsx("div",{className:"flex-1 p-4 overflow-auto",children:jsxRuntimeExports.jsxs("div",{className:"space-y-3",children:[jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Name"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:Z.node.name})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Type"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:Z.node.type||"unknown"})]}),jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Path"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm text-blue-300",children:Z.path})]}),Z.node.children&&jsxRuntimeExports.jsxs("div",{children:[jsxRuntimeExports.jsx("label",{className:"text-xs text-gray-400 uppercase tracking-wide",children:"Children"}),jsxRuntimeExports.jsx("div",{className:"font-mono text-sm",children:Z.node.children.length})]})]})})]})]})]})]})]})}clientExports.createRoot(document.getElementById("root")).render(jsxRuntimeExports.jsx(App,{}));
//# sourceMappingURL=index-SjVMsgkr.js.map
